{
    "version": "https://jsonfeed.org/version/1",
    "title": "逐梦 • All posts by \"安装\" tag",
    "description": "Welcome to my blog",
    "home_page_url": "https://0xdadream.github.io",
    "items": [
        {
            "id": "https://0xdadream.github.io/2022/05/24/cobalt-strike-an-zhuang-he-po-jie/",
            "url": "https://0xdadream.github.io/2022/05/24/cobalt-strike-an-zhuang-he-po-jie/",
            "title": "Cobalt Strike安装和破解",
            "date_published": "2022-05-24T11:11:00.000Z",
            "content_html": "<h1 id=\"Cobalt-Strike安装和破解\"><a href=\"#Cobalt-Strike安装和破解\" class=\"headerlink\" title=\"Cobalt Strike安装和破解\"></a>Cobalt Strike安装和破解</h1><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><p>首先CS分客户端和服务端，服务端我选择架设在kali中，客户端在windows11</p>\n<p>首先必须有Java环境，kali内置Java环境，windows自行查找</p>\n<h3 id=\"CS下载\"><a href=\"#CS下载\" class=\"headerlink\" title=\"CS下载\"></a>CS下载</h3><p>地址</p>\n<p>验证版本</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">certutil <span class=\"token parameter variable\">-hashfile</span> cobaltstrike.jar SHA256<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"破解-汉化\"><a href=\"#破解-汉化\" class=\"headerlink\" title=\"破解+汉化\"></a>破解+汉化</h2><p>下载CSAgent<a href=\"https://github.com/Twi1ight/CSAgent\">Twi1ight/CSAgent: CobaltStrike 4.x通用白嫖及汉化加载器 (github.com)</a></p>\n<p>将文件解压到与CS相同的目录下</p>\n<p>替换cobaltstrike、teamserver、agscript、c2lint、cobaltstrike.bat文件中的解密key，目前内置的key为4.4版本</p>\n<p>各个版本的官方解密key：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">4.0</span> 1be5be52c6255c33558e8a1cb667cb06\n<span class=\"token number\">4.1</span> 80e32a742060b884419ba0c171c9aa76\n<span class=\"token number\">4.2</span> b20d487addd4713418f2d5a3ae02a7a0\n<span class=\"token number\">4.3</span> 3a4425490f389aeec312bdd758ad2b99\n<span class=\"token number\">4.4</span> 5e98194a01c6b48fa582a6a9fcbb92d6<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>接下就能正常使用了</p>\n<h2 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h2><h3 id=\"kali启动服务端\"><a href=\"#kali启动服务端\" class=\"headerlink\" title=\"kali启动服务端\"></a>kali启动服务端</h3><p>在存放文件的主目录打开终端</p>\n<p>运行命令，当然你要先保证<code>teamserver</code>文件有执行权限</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./teamserver kali_IP password<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>password为你想设置的连接密码，待会客户端连接会使用</p>\n<h3 id=\"kali里启动客户端\"><a href=\"#kali里启动客户端\" class=\"headerlink\" title=\"kali里启动客户端\"></a>kali里启动客户端</h3><p>可以同时在kali运行</p>\n<p>可以运行命令</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">java</span> <span class=\"token parameter variable\">-XX:ParallelGCThreads</span><span class=\"token operator\">=</span><span class=\"token number\">4</span> <span class=\"token parameter variable\">-XX:+AggressiveHeap</span> <span class=\"token parameter variable\">-XX:+UseParallelGC</span> <span class=\"token parameter variable\">-javaagent:CSAgent.jar</span><span class=\"token operator\">=</span>5e98194a01c6b48fa582a6a9fcbb92d6 <span class=\"token parameter variable\">-Duser.language</span><span class=\"token operator\">=</span>en <span class=\"token parameter variable\">-jar</span> cobaltstrike.jar<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>为方便可以写入sh文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> clients.sh\n<span class=\"token comment\">#复制进入</span>\n<span class=\"token function\">java</span> <span class=\"token parameter variable\">-XX:ParallelGCThreads</span><span class=\"token operator\">=</span><span class=\"token number\">4</span> <span class=\"token parameter variable\">-XX:+AggressiveHeap</span> <span class=\"token parameter variable\">-XX:+UseParallelGC</span> <span class=\"token parameter variable\">-javaagent:CSAgent.jar</span><span class=\"token operator\">=</span>5e98194a01c6b48fa582a6a9fcbb92d6 <span class=\"token parameter variable\">-Duser.language</span><span class=\"token operator\">=</span>en <span class=\"token parameter variable\">-jar</span> cobaltstrike.jar\n<span class=\"token function\">chmod</span> <span class=\"token number\">777</span> clients.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"windows中运行客户端\"><a href=\"#windows中运行客户端\" class=\"headerlink\" title=\"windows中运行客户端\"></a>windows中运行客户端</h3><p>执行运行cobaltstrike.bat</p>\n<p>若想隐藏弹框，创建cobaltstrike.vbs的内容为</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">CreateObject<span class=\"token punctuation\">(</span><span class=\"token string\">\"WScript.Shell\"</span><span class=\"token punctuation\">)</span>.Run <span class=\"token string\">\"java -XX:ParallelGCThreads=4 -XX:+AggressiveHeap -XX:+UseParallelGC -javaagent:CSAgent.jar=5e98194a01c6b48fa582a6a9fcbb92d6 -jar cobaltstrike.jar\"</span>,0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "安装"
            ]
        }
    ]
}