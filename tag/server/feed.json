{
    "version": "https://jsonfeed.org/version/1",
    "title": "逐梦 • All posts by \"server\" tag",
    "description": "Welcome to my blog",
    "home_page_url": "https://0xdadream.github.io",
    "items": [
        {
            "id": "https://0xdadream.github.io/2021/08/12/jiang-hexo-bu-shu-dao-fu-wu-qi/",
            "url": "https://0xdadream.github.io/2021/08/12/jiang-hexo-bu-shu-dao-fu-wu-qi/",
            "title": "将hexo部署到服务器",
            "date_published": "2021-08-12T12:11:00.000Z",
            "content_html": "<h1 id=\"将hexo部署到服务器\"><a href=\"#将hexo部署到服务器\" class=\"headerlink\" title=\"将hexo部署到服务器\"></a>将hexo部署到服务器</h1><p>我以前是部署在github上的，本机的部署都是完成了的，本机部署请看其他教程</p>\n<h2 id=\"安装git\"><a href=\"#安装git\" class=\"headerlink\" title=\"安装git\"></a>安装git</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token function\">git</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"创建git用户\"><a href=\"#创建git用户\" class=\"headerlink\" title=\"创建git用户\"></a>创建git用户</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">adduser <span class=\"token function\">git</span> <span class=\"token comment\">#/home 目录下生成一个git目录</span>\n<span class=\"token function\">passwd</span> <span class=\"token function\">git</span> <span class=\"token comment\">#设置密码</span>\n<span class=\"token function\">chmod</span> a+w /etc/sudoers\n<span class=\"token function\">vim</span> /etc/sudoers <span class=\"token comment\">#添加git ALL=(ALL) ALL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"配置SSH密钥\"><a href=\"#配置SSH密钥\" class=\"headerlink\" title=\"配置SSH密钥\"></a>配置SSH密钥</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> ~/.ssh/authorized_keys\n<span class=\"token comment\">#在物理机中复制C:\\Users\\youruser\\.ssh\\id_rsa.pub中的公钥到上面的文件中</span>\n保存退出<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"创建仓库\"><a href=\"#创建仓库\" class=\"headerlink\" title=\"创建仓库\"></a>创建仓库</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> <span class=\"token function\">git</span>\n<span class=\"token builtin class-name\">cd</span> /home/git\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> projects/hexo <span class=\"token comment\"># 建立项目目录</span>\n<span class=\"token function\">mkdir</span> repos <span class=\"token comment\">#创建仓库目录</span>\n<span class=\"token builtin class-name\">cd</span> repos\n<span class=\"token function\">git</span> init <span class=\"token parameter variable\">--bare</span> hexo.git <span class=\"token comment\">#创建仓库</span>\n<span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> git:git /home/git/repos/hexo.git <span class=\"token comment\"># 给git用户添加权限</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"创建一个钩子\"><a href=\"#创建一个钩子\" class=\"headerlink\" title=\"创建一个钩子\"></a>创建一个钩子</h2><p>接上面继续操作</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> hexo.git/hooks\n<span class=\"token function\">vim</span> post-receive <span class=\"token comment\"># 创建一个钩子</span>\n<span class=\"token comment\">#添加如下文件</span>\n<span class=\"token comment\">#!/bin/sh</span>\n<span class=\"token function\">git</span> --work-tree<span class=\"token operator\">=</span>/var/www/blog --git-dir<span class=\"token operator\">=</span>/home/git/repos/hexo.git checkout <span class=\"token parameter variable\">-f</span>\n<span class=\"token function\">chmod</span> +x post-receive <span class=\"token comment\"># 添加可执行权限</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"本地建立SSH信任关系\"><a href=\"#本地建立SSH信任关系\" class=\"headerlink\" title=\"本地建立SSH信任关系\"></a>本地建立SSH信任关系</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ssh-copy-id <span class=\"token parameter variable\">-i</span> ~/.ssh/id_rsa.pub git@server_ip <span class=\"token comment\"># 建立信任关系</span>\n<span class=\"token function\">ssh</span> git@server_ip <span class=\"token comment\"># 试一下能不能登录</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"更改git用户默认的shell\"><a href=\"#更改git用户默认的shell\" class=\"headerlink\" title=\"更改git用户默认的shell\"></a>更改git用户默认的shell</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> /etc/shells <span class=\"token comment\"># 查看 git-shell 是否在登录方式里面</span>\n<span class=\"token function\">which</span> git-shell <span class=\"token comment\"># 找到git-shell的路径，记下来</span>\n<span class=\"token function\">vim</span> /etc/shells\n然后把刚才记下来的路径添加进去\n\n<span class=\"token function\">vim</span> /etc/passwd\n<span class=\"token comment\">#把git:x:1000:1000::/home/git:/bin/bash修改为git:x:1000:1000:,,,:/home/git:/usr/bin/git-shell</span>\n<span class=\"token comment\">#没有就算了</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"BUG\"><a href=\"#BUG\" class=\"headerlink\" title=\"BUG\"></a>BUG</h2><p>报错<code>remote: fatal: cannot create directory at '2019': Permission denied</code></p>\n<p>部署目录没有写的权限，改法</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> go+w /home/git/projects/hexo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "server"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/11/apache-bu-shu-ssl/",
            "url": "https://0xdadream.github.io/2021/08/11/apache-bu-shu-ssl/",
            "title": "apache部署ssl",
            "date_published": "2021-08-10T20:11:00.000Z",
            "content_html": "<h1 id=\"apache部署ssl\"><a href=\"#apache部署ssl\" class=\"headerlink\" title=\"apache部署ssl\"></a>apache部署ssl</h1><h2 id=\"开启mod-ssl模块\"><a href=\"#开启mod-ssl模块\" class=\"headerlink\" title=\"开启mod_ssl模块\"></a>开启mod_ssl模块</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">LoadModule socache_shmcb_module modules/mod_socache_shmcb.so\nLoadModule ssl_module modules/mod_ssl.so<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"加载配置文件\"><a href=\"#加载配置文件\" class=\"headerlink\" title=\"加载配置文件\"></a>加载配置文件</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">includeOptionalconf.d/*.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"保存证书\"><a href=\"#保存证书\" class=\"headerlink\" title=\"保存证书\"></a>保存证书</h2><p>在apache安装目录中新建cert目录，将证书解压至此</p>\n<h2 id=\"修改ssl-conf配置文件\"><a href=\"#修改ssl-conf配置文件\" class=\"headerlink\" title=\"修改ssl.conf配置文件\"></a>修改ssl.conf配置文件</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>VirtualHost *:44<span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&gt;</span>     \n    ServerName   <span class=\"token comment\">#修改为申请证书时绑定的域名www.YourDomainName1.com。                    </span>\n    DocumentRoot  /data/www/hbappserver/public          \n    SSLEngine on   \n    SSLProtocol all <span class=\"token parameter variable\">-SSLv2</span> <span class=\"token parameter variable\">-SSLv3</span> <span class=\"token comment\"># 添加SSL协议支持协议，去掉不安全的协议。</span>\n    SSLCipherSuite HIGH:<span class=\"token operator\">!</span>RC4:<span class=\"token operator\">!</span>MD5:<span class=\"token operator\">!</span>aNULL:<span class=\"token operator\">!</span>eNULL:<span class=\"token operator\">!</span>NULL:<span class=\"token operator\">!</span>DH:<span class=\"token operator\">!</span>EDH:<span class=\"token operator\">!</span>EXP:+MEDIUM   <span class=\"token comment\"># 修改加密套件。</span>\n    SSLHonorCipherOrder on\n    SSLCertificateFile cert/domain name1_public.crt   <span class=\"token comment\"># 将domain name1_public.crt替换成您证书文件名。</span>\n    SSLCertificateKeyFile cert/domain name1.key   <span class=\"token comment\"># 将domain name1.key替换成您证书的密钥文件名。</span>\n    SSLCertificateChainFile cert/domain name1_chain.crt  <span class=\"token comment\"># 将domain name1_chain.crt替换成您证书的密钥文件名；证书链开头如果有#字符，请删除。</span>\n<span class=\"token operator\">&lt;</span>/VirtualHost<span class=\"token operator\">&gt;</span>\n\n<span class=\"token comment\">#如果证书包含多个域名，复制以上参数，并将ServerName替换成第二个域名。 </span>\n<span class=\"token operator\">&lt;</span>VirtualHost *:44<span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&gt;</span>     \n    ServerName   <span class=\"token comment\">#修改为申请证书时绑定的第二个域名www.YourDomainName2.com。                    </span>\n    DocumentRoot  /data/www/hbappserver/public          \n    SSLEngine on   \n    SSLProtocol all <span class=\"token parameter variable\">-SSLv2</span> <span class=\"token parameter variable\">-SSLv3</span> <span class=\"token comment\"># 添加SSL协议支持协议，去掉不安全的协议。</span>\n    SSLCipherSuite HIGH:<span class=\"token operator\">!</span>RC4:<span class=\"token operator\">!</span>MD5:<span class=\"token operator\">!</span>aNULL:<span class=\"token operator\">!</span>eNULL:<span class=\"token operator\">!</span>NULL:<span class=\"token operator\">!</span>DH:<span class=\"token operator\">!</span>EDH:<span class=\"token operator\">!</span>EXP:+MEDIUM   <span class=\"token comment\"># 修改加密套件。</span>\n    SSLHonorCipherOrder on\n    SSLCertificateFile cert/domain name2_public.crt   <span class=\"token comment\"># 将domain name2替换成您申请证书时的第二个域名。</span>\n    SSLCertificateKeyFile cert/domain name2.key   <span class=\"token comment\"># 将domain name2替换成您申请证书时的第二个域名。</span>\n    SSLCertificateChainFile cert/domain name2_chain.crt  <span class=\"token comment\"># 将domain name2替换成您申请证书时的第二个域名；证书链开头如果有#字符，请删除。</span>\n<span class=\"token operator\">&lt;</span>/VirtualHost<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"重启生效\"><a href=\"#重启生效\" class=\"headerlink\" title=\"重启生效\"></a>重启生效</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">service</span> httpd restart<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"HTTP请求自动跳转HTTPS\"><a href=\"#HTTP请求自动跳转HTTPS\" class=\"headerlink\" title=\"HTTP请求自动跳转HTTPS\"></a>HTTP请求自动跳转HTTPS</h2><p>httpd.conf文件中的<code>&lt;VirtualHost *:80&gt; &lt;/VirtualHost&gt;</code>中间，添加以下重定向代码。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">RewriteEngine on\nRewriteCond %<span class=\"token punctuation\">{</span>SERVER_PORT<span class=\"token punctuation\">}</span> <span class=\"token operator\">!</span>^443$\nRewriteRule ^<span class=\"token punctuation\">(</span>.*<span class=\"token punctuation\">)</span>$ https://%<span class=\"token punctuation\">{</span>SERVER_NAME<span class=\"token punctuation\">}</span><span class=\"token variable\">$1</span> <span class=\"token punctuation\">[</span>L,R<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "server"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/11/apache-an-zhuang/",
            "url": "https://0xdadream.github.io/2021/08/11/apache-an-zhuang/",
            "title": "Apache安装",
            "date_published": "2021-08-10T18:11:00.000Z",
            "content_html": "<h1 id=\"Apache安装\"><a href=\"#Apache安装\" class=\"headerlink\" title=\"Apache安装\"></a>Apache安装</h1><p>首先安装apr，apr-util，apr-iconv，prce，这几个依赖包能提高生产力</p>\n<h2 id=\"apr\"><a href=\"#apr\" class=\"headerlink\" title=\"apr\"></a>apr</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://downloads.apache.org//apr/apr-1.7.0.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> apr-1.7.0.tar.gz\n<span class=\"token builtin class-name\">cd</span> apr-1.7.0\n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr/local/apr\n<span class=\"token function\">make</span> \n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"apr-util\"><a href=\"#apr-util\" class=\"headerlink\" title=\"apr-util\"></a>apr-util</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://downloads.apache.org/apr/apr-util-1.6.1.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> apr-util-1.6.1.tar.gz\n<span class=\"token builtin class-name\">cd</span> apr-util-1.6.1\n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr/local/apr-util --with-apr<span class=\"token operator\">=</span>/usr/local/apr\n<span class=\"token function\">make</span> \n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"apr-iconv\"><a href=\"#apr-iconv\" class=\"headerlink\" title=\"apr-iconv\"></a>apr-iconv</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://downloads.apache.org/apr/apr-iconv-1.2.2.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> apr-iconv-1.2.2.tar.gz\n<span class=\"token builtin class-name\">cd</span> apr-iconv-1.2.2\n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr/local/apr-iconv --with-apr<span class=\"token operator\">=</span>/usr/local/apr\n<span class=\"token function\">make</span> \n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"prce\"><a href=\"#prce\" class=\"headerlink\" title=\"prce\"></a>prce</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://sourceforge.net/projects/pcre/files/pcre/8.44/pcre-8.44.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> pcre-8.44.tar.gz\n<span class=\"token builtin class-name\">cd</span> pcre-8.44\n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr/local/pcre\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"apache\"><a href=\"#apache\" class=\"headerlink\" title=\"apache\"></a>apache</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://apache.mirror.digitalpacific.com.au//httpd/httpd-2.4.48.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> httpd-2.4.48.tar.gz\n<span class=\"token builtin class-name\">cd</span> httpd-2.4.48\n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/usr/local/httpd --with-apr<span class=\"token operator\">=</span>/usr/local/apr/apr --with-apr-util<span class=\"token operator\">=</span>/usr/local/apr/util --with-pcre<span class=\"token operator\">=</span>/usr/local/pcre\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "server"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/10/a-li-yun-bu-shu-apache-er-ji-yu-ming/",
            "url": "https://0xdadream.github.io/2021/08/10/a-li-yun-bu-shu-apache-er-ji-yu-ming/",
            "title": "阿里云部署apache二级域名",
            "date_published": "2021-08-09T18:25:00.000Z",
            "content_html": "<h1 id=\"阿里云部署apache二级域名\"><a href=\"#阿里云部署apache二级域名\" class=\"headerlink\" title=\"阿里云部署apache二级域名\"></a>阿里云部署apache二级域名</h1><h2 id=\"添加DNS解析记录\"><a href=\"#添加DNS解析记录\" class=\"headerlink\" title=\"添加DNS解析记录\"></a>添加DNS解析记录</h2><p>到阿里云控制台-&gt;云解析DNS-&gt;域名解析-&gt;解析设置-&gt;添加记录</p>\n<p>主机记录就是你的二级域名</p>\n<p>记录类型为A——指向IPV4</p>\n<p>解析路线默认</p>\n<p>记录值为你的外网IP</p>\n<h2 id=\"配置Apache\"><a href=\"#配置Apache\" class=\"headerlink\" title=\"配置Apache\"></a>配置Apache</h2><p>编辑<code>httpd.conf</code></p>\n<p>注释掉虚拟目录外的<code>DocumentRoot</code></p>\n<p>添加</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">NameVirtualHost *:80\n<span class=\"token operator\">&lt;</span>VirtualHost *:8<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>&gt;</span>\n\tServerAdmin root@localhost\n\tDocumentRoot <span class=\"token string\">\"/var/www/your1\"</span>\n\tServerName two1.yourname\n\t<span class=\"token operator\">&lt;</span>Directory <span class=\"token string\">\"/var/www/your1\"</span><span class=\"token operator\">&gt;</span>\n\t\tOptions Indexes FollowSymLinks\n\t\tAllowOverride None\n\t\tRequire all granted\n\t<span class=\"token operator\">&lt;</span>/Directory<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>/VirtualHost<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>VirtualHost *:8<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>&gt;</span>\n\tServerAdmin root@localhost\n\tDocumentRoot <span class=\"token string\">\"/var/www/your2\"</span>\n\tServerName two2.yourname\n\t<span class=\"token operator\">&lt;</span>Directory <span class=\"token string\">\"/var/www/your2\"</span><span class=\"token operator\">&gt;</span>\n\t\tOptions Indexes FollowSymLinks\n\t\tAllowOverride None\n\t\tRequire all granted\n\t<span class=\"token operator\">&lt;</span>/Directory<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>/VirtualHost<span class=\"token operator\">&gt;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"重启\"><a href=\"#重启\" class=\"headerlink\" title=\"重启\"></a>重启</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">service</span> httpd restart<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n",
            "tags": [
                "server"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/01/apache/",
            "url": "https://0xdadream.github.io/2021/08/01/apache/",
            "title": "Apache教程",
            "date_published": "2021-07-31T18:25:00.000Z",
            "content_html": "<h1 id=\"Apache教程\"><a href=\"#Apache教程\" class=\"headerlink\" title=\"Apache教程\"></a>Apache教程</h1><h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#安装Apache及其扩展包</span>\nyum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> httpd httpd-manual mod_ssl mod_perl mod_auth_mysql<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"启动、停止、重启\"><a href=\"#启动、停止、重启\" class=\"headerlink\" title=\"启动、停止、重启\"></a>启动、停止、重启</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#centos</span>\n<span class=\"token function\">service</span> httpd start\n<span class=\"token function\">service</span> httpd stop\n<span class=\"token function\">service</span> httpd restart<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"主要的配置文件\"><a href=\"#主要的配置文件\" class=\"headerlink\" title=\"主要的配置文件\"></a>主要的配置文件</h2><p>配置文件在<code>\\etc\\httpd</code>下面，主要的配置文件<code>\\etc\\httpd\\conf\\httpd.conf</code></p>\n<h3 id=\"基本配置\"><a href=\"#基本配置\" class=\"headerlink\" title=\"基本配置\"></a>基本配置</h3><table>\n<thead>\n<tr>\n<th>属性名+值</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>ServerRoot \"/your/index\"</code></td>\n<td>Apache安装的目录</td>\n</tr>\n<tr>\n<td><code>Listen 80</code></td>\n<td>监听的端口，可以开启多个端口</td>\n</tr>\n<tr>\n<td><code>Include conf.modules.d/*.conf</code></td>\n<td>加载文件中的所有模块</td>\n</tr>\n<tr>\n<td><code>LoadModule foo_module modules/mod_foo.so</code></td>\n<td>加载单独模块</td>\n</tr>\n<tr>\n<td><code>LoadFile</code></td>\n<td>和<code>LoadModule</code>类似，但使用绝对路径</td>\n</tr>\n<tr>\n<td><code>User username</code></td>\n<td>运行时的用户名</td>\n</tr>\n<tr>\n<td><code>Group groupname</code></td>\n<td>运行时的用户组</td>\n</tr>\n<tr>\n<td><code>ServerAdmin root@localhost</code></td>\n<td>管理员的邮件地址</td>\n</tr>\n<tr>\n<td><code>ServerName www.example.com:80</code></td>\n<td>主站点名称，可以是域名也能是IP，不写时自动配置</td>\n</tr>\n<tr>\n<td><code>DocumentRoot \"/var/www/html\"</code></td>\n<td>主站点的网页存储位置</td>\n</tr>\n<tr>\n<td><code>DirectoryIndex index</code></td>\n<td>默认索引目录</td>\n</tr>\n<tr>\n<td><code>RequestReadTimeout</code></td>\n<td>允许限制客户端发送请求所花费的时间</td>\n</tr>\n<tr>\n<td><code>TimeOut</code></td>\n<td>传输或接收的延时，大于这个时间SERVER 会断开这个链接</td>\n</tr>\n<tr>\n<td><code>KeepAliveTimeout</code></td>\n<td>等待下一个请求的时间</td>\n</tr>\n<tr>\n<td><code>MaxClients</code></td>\n<td>允许的最大客户个数</td>\n</tr>\n<tr>\n<td><code>KeepAlive</code></td>\n<td>是否允许一个链接同时发出多的请求</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"目录访问权限控制\"><a href=\"#目录访问权限控制\" class=\"headerlink\" title=\"目录访问权限控制\"></a>目录访问权限控制</h3><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltDirectory \"/yourindex\"&gt; \n&amp;ltFiles \"private.html\"&gt;\n        Require all denied\n    &amp;lt/Files&gt;\nOptions FollowSymLinks \nAllowOverride None \nOrder allow,deny \nAllow from all \n#Require all granted #Apache2.2后替换Order\n&amp;lt/Directory&gt; <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>Directory</code></td>\n<td>权限配置的容器名（文件系统容器），路径能正则匹配</td>\n</tr>\n<tr>\n<td><code>/yourindex</code></td>\n<td>需要配置权限的目录</td>\n</tr>\n<tr>\n<td><code>Files</code></td>\n<td>指定文件权限，路径能正则匹配</td>\n</tr>\n<tr>\n<td><code>Options</code></td>\n<td>配置在特定目录使用的特性</td>\n</tr>\n<tr>\n<td><code>None</code></td>\n<td>不启用任何额外功能</td>\n</tr>\n<tr>\n<td><code>ExecCGI</code></td>\n<td>在该目录下允许执行CGI脚本</td>\n</tr>\n<tr>\n<td><code>FollowSymlinks</code></td>\n<td>允许指定目录下的文件连接到目录外的文件或目录（在该目录下允许文件系统使用符号连接）</td>\n</tr>\n<tr>\n<td><code>Indexes</code></td>\n<td>当用户访问该目录时，如果用户找不到<code>DirectoryIndex</code>指定的主页文件(例如<code>index.html</code>)，则返回该目录下的文件列表给用户</td>\n</tr>\n<tr>\n<td><code>SymLinksIfOwnerMatch</code></td>\n<td>当使用符号连接时，只有当符号连接的文件拥有者与实际文件的拥有者相同时才可以访问。</td>\n</tr>\n<tr>\n<td><code>All</code></td>\n<td>开启除 <code>MultiViews</code> 之外的所有选项</td>\n</tr>\n<tr>\n<td><code>AllowOverride</code></td>\n<td>允许存在于<code>.htaccess</code>文件中的指令类型</td>\n</tr>\n<tr>\n<td><code>None</code></td>\n<td>不搜索该目录下的<code>.htaccess</code>文件</td>\n</tr>\n<tr>\n<td><code>All</code></td>\n<td>在<code>.htaccess</code>文件中可以使用所有的指令</td>\n</tr>\n<tr>\n<td><code>Order</code></td>\n<td>控制在访问时<code>Allow</code>和<code>Deny</code>两个访问规则哪个优先</td>\n</tr>\n<tr>\n<td><code>Allow</code></td>\n<td>允许访问的主机列表(可用域名或子网，例如：<code>Allow from 192.168.0.0/16</code>)</td>\n</tr>\n<tr>\n<td><code>Deny</code></td>\n<td>拒绝访问的主机列表</td>\n</tr>\n<tr>\n<td><code>Order deny,allow</code></td>\n<td>先检查拒绝，再检查允许，当拒绝与允许有冲突时，允许优先，默认规则为允许</td>\n</tr>\n<tr>\n<td><code>Order allow,deny</code></td>\n<td>先检查允许，再检查拒绝，当允许与拒绝有冲突时，拒绝优先。默认规则为拒绝</td>\n</tr>\n<tr>\n<td><code>Require</code></td>\n<td>测试经过身份验证的用户是否由授权提供者授权，Apache2.2后替换Order</td>\n</tr>\n<tr>\n<td><code>Require all granted</code></td>\n<td>允许所有访问请求</td>\n</tr>\n<tr>\n<td><code>Require all denied</code></td>\n<td>拒绝所有访问请求</td>\n</tr>\n<tr>\n<td><code>Require ip ip1 ip2</code></td>\n<td>只允许来自特定IP或IP段的访问请求，其他请求将被拒绝</td>\n</tr>\n<tr>\n<td><code>Require host x.com</code></td>\n<td>只允许来自特定域名主机的访问请求，其他请求将被拒绝</td>\n</tr>\n<tr>\n<td><code>Require not ip ip1</code></td>\n<td>拒绝ip1</td>\n</tr>\n<tr>\n<td><code>Require not host gov</code></td>\n<td>拒绝gov</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"虚拟主机容器\"><a href=\"#虚拟主机容器\" class=\"headerlink\" title=\"虚拟主机容器\"></a>虚拟主机容器</h3><h4 id=\"VirtualHost\"><a href=\"#VirtualHost\" class=\"headerlink\" title=\"VirtualHost\"></a>VirtualHost</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltVirtualHost 10.1.2.3:80&gt;\n  ServerAdmin webmaster@host.example.com\n  DocumentRoot \"/www/docs/host.example.com\"\n  ServerName host.example.com\n  ServerAlias server server2.example.com server2\n  ServerAlias *.example.com\n  UseCanonicalName Off\n  ErrorLog \"logs/host.example.com-error_log\"\n  TransferLog \"logs/host.example.com-access_log\"\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>VirtualHost</code></td>\n<td>包含一组仅适用于特定虚拟主机的指令</td>\n</tr>\n<tr>\n<td><code>ServerAlias</code></td>\n<td>为主机名创建一个别名</td>\n</tr>\n<tr>\n<td><code>ProxyPreserveHost On     </code></td>\n<td>使用传入的主机 HTTP 请求标头进行代理请求</td>\n</tr>\n<tr>\n<td><code> ProxyPass \"/\" \"http://192.168.111.2/\"</code></td>\n<td>将远程服务器映射到本地服务器 URL 空间</td>\n</tr>\n<tr>\n<td><code>ProxyPassReverse \"/\" \"http://192.168.111.2/\"</code></td>\n<td>调整从反向代理服务器发送的 HTTP 响应标头中的 URL</td>\n</tr>\n<tr>\n<td><code>ServerPath</code></td>\n<td>由不兼容的浏览器访问的基于名称的虚拟主机的旧 URL 路径名</td>\n</tr>\n<tr>\n<td><code>RewriteRule</code></td>\n<td>定义重写引擎的规则</td>\n</tr>\n<tr>\n<td>….</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"在单个-IP-地址上运行多个基于名称的网站\"><a href=\"#在单个-IP-地址上运行多个基于名称的网站\" class=\"headerlink\" title=\"在单个 IP 地址上运行多个基于名称的网站\"></a>在单个 IP 地址上运行多个基于名称的网站</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\"># Ensure that Apache listens on port 80\nListen 80\n&amp;ltVirtualHost *:80&gt;\n    DocumentRoot \"/www/example1\"\n    ServerName www.example.com\n\n    # Other directives here\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost *:80&gt;\n    DocumentRoot \"/www/example2\"\n    ServerName www.example.org\n\n    # Other directives here\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"多个-IP-地址上的基于名称的主机\"><a href=\"#多个-IP-地址上的基于名称的主机\" class=\"headerlink\" title=\"多个 IP 地址上的基于名称的主机\"></a>多个 IP 地址上的基于名称的主机</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Listen 80\n\n# This is the \"main\" server running on 172.20.30.40\nServerName server.example.com\nDocumentRoot \"/www/mainserver\"\n\n&amp;ltVirtualHost 172.20.30.50&gt;\n    DocumentRoot \"/www/example1\"\n    ServerName www.example.com\n\n    # Other directives here ...\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.50&gt;\n    DocumentRoot \"/www/example2\"\n    ServerName www.example.org\n\n    # Other directives here ...\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"在不同的-IP-地址（例如内部和外部地址）上提供相同的内容\"><a href=\"#在不同的-IP-地址（例如内部和外部地址）上提供相同的内容\" class=\"headerlink\" title=\"在不同的 IP 地址（例如内部和外部地址）上提供相同的内容\"></a>在不同的 IP 地址（例如内部和外部地址）上提供相同的内容</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltVirtualHost 192.168.1.1 172.20.30.40&gt;\n    DocumentRoot \"/www/server1\"\n    ServerName server.example.com\n    ServerAlias server\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"在不同的端口上运行不同的站点\"><a href=\"#在不同的端口上运行不同的站点\" class=\"headerlink\" title=\"在不同的端口上运行不同的站点\"></a>在不同的端口上运行不同的站点</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Listen 80\nListen 8080\n\n&amp;ltVirtualHost 172.20.30.40:80&gt;\n    ServerName www.example.com\n    DocumentRoot \"/www/domain-80\"\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40:8080&gt;\n    ServerName www.example.com\n    DocumentRoot \"/www/domain-8080\"\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40:80&gt;\n    ServerName www.example.org\n    DocumentRoot \"/www/otherdomain-80\"\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40:8080&gt;\n    ServerName www.example.org\n    DocumentRoot \"/www/otherdomain-8080\"\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"基于IP的虚拟主机\"><a href=\"#基于IP的虚拟主机\" class=\"headerlink\" title=\"基于IP的虚拟主机\"></a>基于IP的虚拟主机</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Listen 80\n\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/example1\"\n    ServerName www.example.com\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.50&gt;\n    DocumentRoot \"/www/example2\"\n    ServerName www.example.org\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"基于端口和基于-ip-的混合虚拟主机\"><a href=\"#基于端口和基于-ip-的混合虚拟主机\" class=\"headerlink\" title=\"基于端口和基于 ip 的混合虚拟主机\"></a>基于端口和基于 ip 的混合虚拟主机</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Listen 172.20.30.40:80\nListen 172.20.30.40:8080\nListen 172.20.30.50:80\nListen 172.20.30.50:8080\n\n&amp;ltVirtualHost 172.20.30.40:80&gt;\n    DocumentRoot \"/www/example1-80\"\n    ServerName www.example.com\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40:8080&gt;\n    DocumentRoot \"/www/example1-8080\"\n    ServerName www.example.com\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.50:80&gt;\n    DocumentRoot \"/www/example2-80\"\n    ServerName www.example.org\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.50:8080&gt;\n    DocumentRoot \"/www/example2-8080\"\n    ServerName www.example.org\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"混合基于名称和基于-IP-的虚拟主机\"><a href=\"#混合基于名称和基于-IP-的虚拟主机\" class=\"headerlink\" title=\"混合基于名称和基于 IP 的虚拟主机\"></a>混合基于名称和基于 IP 的虚拟主机</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Listen 80\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/example1\"\n    ServerName www.example.com\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/example2\"\n    ServerName www.example.org\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/example3\"\n    ServerName www.example.net\n&amp;lt/VirtualHost&gt;\n\n# IP-based\n&amp;ltVirtualHost 172.20.30.50&gt;\n    DocumentRoot \"/www/example4\"\n    ServerName www.example.edu\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.60&gt;\n    DocumentRoot \"/www/example5\"\n    ServerName www.example.gov\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"一起使用-Virtual-host-和-mod-proxy\"><a href=\"#一起使用-Virtual-host-和-mod-proxy\" class=\"headerlink\" title=\"一起使用 Virtual_host 和 mod_proxy\"></a>一起使用 Virtual_host 和 mod_proxy</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltVirtualHost *:*&gt;\n    ProxyPreserveHost On\n    ProxyPass        \"/\" \"http://192.168.111.2/\"\n    ProxyPassReverse \"/\" \"http://192.168.111.2/\"\n    ServerName hostname.example.com\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"使用-default-vhosts\"><a href=\"#使用-default-vhosts\" class=\"headerlink\" title=\"使用_default_vhosts\"></a>使用<code>_default_</code>vhosts</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltVirtualHost _default_:80&gt;\n    DocumentRoot \"/www/default80\"\n    # ...\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost _default_:*&gt;\n    DocumentRoot \"/www/default\"\n    # ...\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"将基于名称的虚拟主机迁移到基于-IP-的虚拟主机\"><a href=\"#将基于名称的虚拟主机迁移到基于-IP-的虚拟主机\" class=\"headerlink\" title=\"将基于名称的虚拟主机迁移到基于 IP 的虚拟主机\"></a>将基于名称的虚拟主机迁移到基于 IP 的虚拟主机</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Listen 80\nServerName www.example.com\nDocumentRoot \"/www/example1\"\n\n&amp;ltVirtualHost 172.20.30.40 172.20.30.50&gt;\n    DocumentRoot \"/www/example2\"\n    ServerName www.example.org\n    # ...\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/example3\"\n    ServerName www.example.net\n    ServerAlias *.example.net\n    # ...\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"使用-ServerPath-指令\"><a href=\"#使用-ServerPath-指令\" class=\"headerlink\" title=\"使用 ServerPath 指令\"></a>使用 ServerPath 指令</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltVirtualHost 172.20.30.40&gt;\n    # primary vhost\n    DocumentRoot \"/www/subdomain\"\n    RewriteEngine On\n    RewriteRule \".\" \"/www/subdomain/index.html\"\n    # ...\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/subdomain/sub1\"\n    ServerName www.sub1.domain.tld\n    ServerPath \"/sub1/\"\n    RewriteEngine On\n    RewriteRule \"^(/sub1/.*)\" \"/www/subdomain$1\"\n    # ...\n&amp;lt/VirtualHost&gt;\n\n&amp;ltVirtualHost 172.20.30.40&gt;\n    DocumentRoot \"/www/subdomain/sub2\"\n    ServerName www.sub2.domain.tld\n    ServerPath \"/sub2/\"\n    RewriteEngine On\n    RewriteRule \"^(/sub2/.*)\" \"/www/subdomain$1\"\n    # ...\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"条件判断容器\"><a href=\"#条件判断容器\" class=\"headerlink\" title=\"条件判断容器\"></a>条件判断容器</h3><h4 id=\"If\"><a href=\"#If\" class=\"headerlink\" title=\"If\"></a>If</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltIf \"!(%{HTTP_REFERER} -strmatch 'http://www.example.com/*')\"&gt;\n    Require all denied\n&amp;lt/If&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>If</code></td>\n<td>条件满足则执行内部语句</td>\n</tr>\n<tr>\n<td><code>!(%{HTTP_REFERER} -strmatch 'http://www.example.com/*')</code></td>\n<td>条件</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"IfDefine\"><a href=\"#IfDefine\" class=\"headerlink\" title=\"IfDefine\"></a>IfDefine</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltIfDefine ClosedForNow&gt;\n    Redirect / http://otherserver.example.com/\n&amp;lt/IfDefine&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>IfDefine</code></td>\n<td>若使用<code>httpd -D ClosedForNow</code>指令执行的操作就会执行里面的内容（可镶嵌）</td>\n</tr>\n<tr>\n<td><code>ClosedForNow</code></td>\n<td>使用<code>httpd -D ClosedForNow</code>指令执行，前面加！表示相反</td>\n</tr>\n<tr>\n<td><code>Redirect</code></td>\n<td>跳转到另一站点</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"IfModule\"><a href=\"#IfModule\" class=\"headerlink\" title=\"IfModule\"></a>IfModule</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltIfModule mod_mime_magic.c&gt;\n    MimeMagicFile conf/magic\n&amp;lt/IfModule&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>IfModule</code></td>\n<td>若使用了<code>mod_mime_magic</code>模块就执行里面内容（可镶嵌）</td>\n</tr>\n<tr>\n<td><code>mod_mime_magic.c</code></td>\n<td>模块名</td>\n</tr>\n<tr>\n<td><code>MimeMagicFile</code></td>\n<td>执行的指令</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"IfVersion\"><a href=\"#IfVersion\" class=\"headerlink\" title=\"IfVersion\"></a>IfVersion</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltIfVersion &gt;= 2.1&gt;\n    # this happens only in versions greater or\n    # equal 2.1.0.\n&amp;lt/IfVersion&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>IfVersion</code></td>\n<td>版本满足就会执行</td>\n</tr>\n<tr>\n<td>….</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"网站空间容器\"><a href=\"#网站空间容器\" class=\"headerlink\" title=\"网站空间容器\"></a>网站空间容器</h3><h4 id=\"Location\"><a href=\"#Location\" class=\"headerlink\" title=\"Location\"></a>Location</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltLocation \"/status\"&gt;\n  SetHandler server-status\n  Require host example.com\n&amp;lt/Location&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>Location</code></td>\n<td>Location 容器内定义的指令仅对特定的 URL 有效</td>\n</tr>\n<tr>\n<td><code>/status</code></td>\n<td>将特定URL映射到<code>mod_status</code>提供的内部<code>Apache HTTP Server</code>处理程序</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"Proxy容器\"><a href=\"#Proxy容器\" class=\"headerlink\" title=\"Proxy容器\"></a>Proxy容器</h3><h4 id=\"Proxy\"><a href=\"#Proxy\" class=\"headerlink\" title=\"Proxy\"></a>Proxy</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltProxy \"http://example.com/foo/*\"&gt;\n  SetOutputFilter INCLUDES\n&amp;lt/Proxy&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"更灵活的匹配容器\"><a href=\"#更灵活的匹配容器\" class=\"headerlink\" title=\"更灵活的匹配容器\"></a>更灵活的匹配容器</h3><h4 id=\"DirectoryMatch\"><a href=\"#DirectoryMatch\" class=\"headerlink\" title=\"DirectoryMatch\"></a>DirectoryMatch</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltDirectoryMatch \"^/www/(.+/)?[0-9]{3}/\"&gt;\n    # ...\n&amp;lt/DirectoryMatch&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"FilesMatch\"><a href=\"#FilesMatch\" class=\"headerlink\" title=\"FilesMatch\"></a>FilesMatch</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltFilesMatch \".+\\.(gif|jpe?g|png)$\"&gt;\n    # ...\n&amp;lt/FilesMatch&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"LocationMatch\"><a href=\"#LocationMatch\" class=\"headerlink\" title=\"LocationMatch\"></a>LocationMatch</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltLocationMatch \"^/combined/(?&amp;ltsitename&gt;[^/]+)\"&gt;\n    Require ldap-group cn=%{env:MATCH_SITENAME},ou=combined,o=Example\n&amp;lt/LocationMatch&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"ProxyMatch\"><a href=\"#ProxyMatch\" class=\"headerlink\" title=\"ProxyMatch\"></a>ProxyMatch</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltProxyMatch \"^http://(?&amp;ltsitename&gt;[^/]+)\"&gt;\n    Require ldap-group cn=%{env:MATCH_SITENAME},ou=combined,o=Example\n&amp;lt/ProxyMatch&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"日志模块\"><a href=\"#日志模块\" class=\"headerlink\" title=\"日志模块\"></a>日志模块</h3><h4 id=\"通用日志格式\"><a href=\"#通用日志格式\" class=\"headerlink\" title=\"通用日志格式\"></a>通用日志格式</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">LogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b\" common\nCustomLog logs/access_log.log common<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"组合日志格式\"><a href=\"#组合日志格式\" class=\"headerlink\" title=\"组合日志格式\"></a>组合日志格式</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">LogFormat \"%h %l %u %t \\\"%r\\\" %&gt;s %b \\\"%{Referer}i\\\" \\\"%{User-agent}i\\\"\" combined\nCustomLog log/access_log.log combined<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li><code>%h</code>是远程主机</li>\n<li><code>%l</code>是由identd确定的用户的身份</li>\n<li><code>%u</code>是HTTP身份验证确定的用户名</li>\n<li><code>%t</code>是服务器处理完请求的时间</li>\n<li><code>%r</code>是来自客户端的请求行GET、HTTP</li>\n<li><code>%&gt; s</code>是从服务器发送到客户端的状态代码</li>\n<li><code>%b</code>是客户端响应的大小(以字节为单位)</li>\n<li><code>\"%{Referer}i</code>是链接到此URL的页面</li>\n<li><code>%{User-Agent}i</code> 是客户浏览器提供的浏览器识别信息</li>\n</ul>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">LogFormat \"%400,501{User-agent}i\" browserlog\nLogFormat \"%!200,304,302{Referer}i\" refererlog\n#前面的状态码是用来判断的<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>ErrorLog</code> “xxx”</td>\n<td>定位服务器错误日志的位置，默认使用相对路径</td>\n</tr>\n<tr>\n<td><code>LogLevel warn</code></td>\n<td>日志级别</td>\n</tr>\n<tr>\n<td><code>ErrorLogFormat</code></td>\n<td>设置错误日志的格式</td>\n</tr>\n<tr>\n<td><code>CustomLog logs/access_log common</code></td>\n<td>创建和格式化日志文件<code>common</code></td>\n</tr>\n<tr>\n<td><code>LogFormat \"%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-agent}i\"\" common</code></td>\n<td><code>common</code>为用户日志别名，中间为具体格式</td>\n</tr>\n<tr>\n<td><code>TransferLog \"logs/host.example.com-access_log\"</code></td>\n<td>创建日志文件</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"附加的配置文件\"><a href=\"#附加的配置文件\" class=\"headerlink\" title=\"附加的配置文件\"></a>附加的配置文件</h2><h3 id=\"环境变量\"><a href=\"#环境变量\" class=\"headerlink\" title=\"环境变量\"></a>环境变量</h3><h4 id=\"设置环境变量\"><a href=\"#设置环境变量\" class=\"headerlink\" title=\"设置环境变量\"></a>设置环境变量</h4><table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>unique_id_module</code></td>\n<td>为每个请求提供一个具有唯一标识符的环境变量</td>\n</tr>\n<tr>\n<td><code>PassEnv LD_LIBRARY_PATH</code></td>\n<td>从 shell 传递环境变量</td>\n</tr>\n<tr>\n<td><code>SetEnv SPECIAL_PATH /foo/bin</code></td>\n<td>设置环境变量</td>\n</tr>\n<tr>\n<td><code>UnsetEnv LD_LIBRARY_PATH</code></td>\n<td>从环境中删除变量</td>\n</tr>\n<tr>\n<td><code>SetEnvIf Request_URI \"\\.(.*)$\" EXTENSION=$1</code></td>\n<td>根据请求的属性设置环境变量</td>\n</tr>\n<tr>\n<td><code>SetEnvIfExpr expr [!]env-variable[=value] [[!]env-variable[=value]] ...</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>BrowserMatch Robot is_a_robot </code>&amp;ltbr&gt;<code>SetEnvIf User-Agent Robot is_a_robot</code></td>\n<td>以 HTTP 用户代理为条件设置环境变量</td>\n</tr>\n<tr>\n<td><code>SetEnvIfNoCase</code></td>\n<td>根据请求的属性设置环境变量而不考虑大小写</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"使用环境变量\"><a href=\"#使用环境变量\" class=\"headerlink\" title=\"使用环境变量\"></a>使用环境变量</h4><table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>Require all granted</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>CustomLog</code></td>\n<td>设置日志文件的文件名和格式</td>\n</tr>\n<tr>\n<td><code>Allow</code></td>\n<td>控制哪些主机可以访问服务器的某个区域</td>\n</tr>\n<tr>\n<td><code>Deny</code></td>\n<td>控制哪些主机被拒绝访问服务器</td>\n</tr>\n<tr>\n<td><code>ExtFilterDefine</code></td>\n<td>定义外部过滤器</td>\n</tr>\n<tr>\n<td>`Header [condition] add</td>\n<td>append</td>\n</tr>\n<tr>\n<td><code>Header set Content-Type \"text/plain\" \"expr=-z %{CONTENT_TYPE}\"</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>RewriteCond TestString CondPattern [flags]</code></td>\n<td>定义重写发生的条件</td>\n</tr>\n<tr>\n<td><code>RewriteRule Pattern Substitution [flags]</code></td>\n<td>定义重写引擎的规则</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"缓存指南\"><a href=\"#缓存指南\" class=\"headerlink\" title=\"缓存指南\"></a>缓存指南</h3><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">Sample httpd.conf\n#\n# Sample Cache Configuration\n#\nLoadModule cache_module modules/mod_cache.so\n&amp;ltIfModule mod_cache.c&gt;\n    LoadModule cache_disk_module modules/mod_cache_disk.so\n    &amp;ltIfModule mod_cache_disk.c&gt;\n        CacheRoot \"c:/cacheroot\"\n        CacheEnable disk  \"/\"\n        CacheDirLevels 5\n        CacheDirLength 3\n    &amp;lt/IfModule&gt;\n\n    # When acting as a proxy, don't cache the list of security updates\n    CacheDisable \"http://security.update.server/update-list/\"\n&amp;lt/IfModule&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>CacheRoot</code></td>\n<td>存放缓存文件的根目录</td>\n</tr>\n<tr>\n<td><code>CacheDirLength</code></td>\n<td>子目录名称中的字符数</td>\n</tr>\n<tr>\n<td><code>CacheDirLevels</code></td>\n<td>缓存中子目录的级别数</td>\n</tr>\n<tr>\n<td><code>CacheMaxFileSize</code></td>\n<td>要放置在缓存中的文档的最大大小（以字节为单位）</td>\n</tr>\n<tr>\n<td><code>CacheReadSize</code></td>\n<td>在向下游发送数据之前要读取和缓存的文档的最小大小（以字节为单位）</td>\n</tr>\n<tr>\n<td><code>CacheReadTime</code></td>\n<td>在向下游发送数据之前读取时应经过的最短时间（以毫秒为单位）</td>\n</tr>\n<tr>\n<td><code>CacheEnable cache_type [url-string]</code></td>\n<td>使用指定的存储管理器启用指定 URL 的缓存</td>\n</tr>\n<tr>\n<td><code>CacheSocache type[:args]</code></td>\n<td>要使用的共享对象缓存实现</td>\n</tr>\n<tr>\n<td><code>CacheDisable</code></td>\n<td>禁用指定 URL 的缓存</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"内容协商\"><a href=\"#内容协商\" class=\"headerlink\" title=\"内容协商\"></a>内容协商</h3><h4 id=\"使用类型映射文件\"><a href=\"#使用类型映射文件\" class=\"headerlink\" title=\"使用类型映射文件\"></a>使用类型映射文件</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">AddHandler type-map .var<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>类型映射文件应与其描述的资源具有相同的名称，后跟扩展名<code>.var</code>.在下面显示的示例中，资源名为<code>foo</code>，因此类型映射文件名为<code>foo.var</code></p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">URI: foo\n\nURI: foo.en.html\nContent-type: text/html\nContent-language: en\n\nURI: foo.fr.de.html\nContent-type: text/html;charset=iso-8859-2\nContent-language: fr, de<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">URI: foo\n\nURI: foo.jpeg\nContent-type: image/jpeg; qs=0.8\n\nURI: foo.gif\nContent-type: image/gif; qs=0.5\n\nURI: foo.txt\nContent-type: text/plain; qs=0.01<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">URI: document.html\n\nContent-language: en\nContent-type: text/html\nURI: document.html.en\n\nContent-language: fr\nContent-type: text/html\nURI: document.html.fr\n\nContent-language: de\nContent-type: text/html\nURI: document.html.de<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>这三段代码都是<code>type-map</code></p>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>URI: document.html</code></td>\n<td>资源名</td>\n</tr>\n<tr>\n<td><code>Content-type</code></td>\n<td>资源类型</td>\n</tr>\n<tr>\n<td><code>Content-language</code></td>\n<td>资源语言</td>\n</tr>\n<tr>\n<td><code>qs</code></td>\n<td>权重</td>\n</tr>\n<tr>\n<td><code>AddHandler type-map .var</code></td>\n<td>与名为<code>type-map</code>的处理程序关联</td>\n</tr>\n<tr>\n<td><code>.var</code></td>\n<td>相当<code>*</code>的匹配值</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"Multiviews\"><a href=\"#Multiviews\" class=\"headerlink\" title=\"Multiviews\"></a>Multiviews</h4><p>如果服务器收到<code>/some/dir/foo</code>的请求，如果<code>/some/dir</code>启用了MultiViews，并且<code>/some/dir/foo</code>不存在，那么服务器会读取寻找的目录名为<code>foo.*</code>的文件</p>\n<h3 id=\"从-URL-映射到文件系统\"><a href=\"#从-URL-映射到文件系统\" class=\"headerlink\" title=\"从 URL 映射到文件系统\"></a>从 URL 映射到文件系统</h3><p>Apache HTTP Server 使用请求的 URL 来确定提供文件的文件系统位置</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">ProxyPass         \"/mirror/foo/\" \"http://backend.example.com/\"\nProxyPassReverse  \"/mirror/foo/\" \"http://backend.example.com/\"\nProxyPassReverseCookieDomain  \"backend.example.com\"  \"public.example.com\"\nProxyPassReverseCookiePath  \"/\"  \"/mirror/foo/\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>`Alias [URL-path] file-path</td>\n<td>directory-path`</td>\n</tr>\n<tr>\n<td><code>Alias \"/docs\" \"/var/web\"</code></td>\n<td>网址 <code>http://www.example.com/docs/dir/file.html</code> 将从<code>/var/web/dir/file.html</code>提供</td>\n</tr>\n<tr>\n<td>`AliasMatch regex file-path</td>\n<td>directory-path`</td>\n</tr>\n<tr>\n<td><code>AliasMatch \"^/icons(/$)(.*)\" \"/usr/local/apache/icons$1$2\"</code></td>\n<td></td>\n</tr>\n<tr>\n<td>`CheckSpelling on</td>\n<td>off`</td>\n</tr>\n<tr>\n<td><code>DirectoryIndex disabled local-url [local-url] ...</code></td>\n<td>客户端请求目录时要查找的资源列表</td>\n</tr>\n<tr>\n<td><code>DocumentRoot </code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>ErrorDocument 404 /errors/bad_urls.php</code></td>\n<td>发生错误时服务器将返回给客户端的内容</td>\n</tr>\n<tr>\n<td><code>Options</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>ProxyPass \"/mirror/foo/\" \"http://backend.example.com/\"</code></td>\n<td>将远程服务器映射到本地服务器 URL 空间</td>\n</tr>\n<tr>\n<td><code>ProxyPassReverse [path] url [interpolate]</code></td>\n<td>调整从反向代理服务器发送的 HTTP 响应标头中的 URL</td>\n</tr>\n<tr>\n<td><code>ProxyPassReverseCookieDomain internal-domain public-domain [interpolate]</code></td>\n<td>从反向代理服务器调整 Set-Cookie 标头中的域字符串</td>\n</tr>\n<tr>\n<td><code>ProxyPassReverseCookiePath internal-path public-path [interpolate]</code></td>\n<td>调整来自反向代理服务器的 Set-Cookie 标头中的 Path 字符串</td>\n</tr>\n<tr>\n<td><code>Redirect [status] [URL-path] URL</code></td>\n<td>发送外部重定向请求客户端获取不同的 URL</td>\n</tr>\n<tr>\n<td><code>Redirect 303 \"/three\" \"http://example.com/other\"</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>RedirectMatch [status] regex URL</code></td>\n<td>根据当前 URL 的正则表达式匹配发送外部重定向</td>\n</tr>\n<tr>\n<td><code>RewriteCond TestString CondPattern [flags]</code></td>\n<td>定义重写发生的条件</td>\n</tr>\n<tr>\n<td><code>RewriteRule Pattern Substitution [flags]</code></td>\n<td>定义重写引擎的规则</td>\n</tr>\n<tr>\n<td>`ScriptAlias [URL-path] file-path</td>\n<td>directory-path`</td>\n</tr>\n<tr>\n<td>`ScriptAliasMatch regex file-path</td>\n<td>directory-path`</td>\n</tr>\n<tr>\n<td><code>UserDir directory-filename [directory-filename] ...</code></td>\n<td>用户特定目录的位置</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"全局配置\"><a href=\"#全局配置\" class=\"headerlink\" title=\"全局配置\"></a>全局配置</h3><table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>`ServerName [scheme://]domain-name</td>\n<td>ip-address[:port]`</td>\n</tr>\n<tr>\n<td>`ServerAdmin email-address</td>\n<td>URL`</td>\n</tr>\n<tr>\n<td>`ServerSignature On</td>\n<td>Off</td>\n</tr>\n<tr>\n<td>`ServerTokens Major</td>\n<td>Minor</td>\n</tr>\n<tr>\n<td>`UseCanonicalName On</td>\n<td>Off</td>\n</tr>\n<tr>\n<td>`UseCanonicalPhysicalPort On</td>\n<td>Off`</td>\n</tr>\n<tr>\n<td><code>CoreDumpDirectory directory</code></td>\n<td>Apache HTTP Server 在转储核心之前尝试切换的目录</td>\n</tr>\n<tr>\n<td><code>DocumentRoot directory-path</code></td>\n<td>构成 Web 上可见的主文档树的目录</td>\n</tr>\n<tr>\n<td>`ErrorLog file-path</td>\n<td>syslog[:[facility]`</td>\n</tr>\n<tr>\n<td>`Mutex mechanism [default</td>\n<td>mutex-name] … [OmitPID]`</td>\n</tr>\n<tr>\n<td><code>PidFile filename</code></td>\n<td>服务器记录守护进程进程ID的文件</td>\n</tr>\n<tr>\n<td><code>ScoreBoardFile file-path</code></td>\n<td>用于存储子进程的协调数据的文件的位置</td>\n</tr>\n<tr>\n<td><code>ServerRoot directory-path</code></td>\n<td>服务器安装的基本目录</td>\n</tr>\n<tr>\n<td><code>LimitRequestBody bytes</code></td>\n<td>限制客户端发送的 HTTP 请求正文的总大小</td>\n</tr>\n<tr>\n<td><code>LimitRequestFields number</code></td>\n<td>限制将从客户端接受的 HTTP 请求头字段的数量</td>\n</tr>\n<tr>\n<td><code>LimitRequestFieldSize bytes</code></td>\n<td>限制客户端允许的 HTTP 请求头的大小</td>\n</tr>\n<tr>\n<td><code>LimitRequestLine bytes</code></td>\n<td>限制将从客户端接受的 HTTP 请求行的大小</td>\n</tr>\n<tr>\n<td>`RLimitCPU seconds</td>\n<td>max [seconds</td>\n</tr>\n<tr>\n<td>`RLimitMEM bytes</td>\n<td>max [bytes</td>\n</tr>\n<tr>\n<td>`RLimitNPROC number</td>\n<td>max [number</td>\n</tr>\n<tr>\n<td><code>ThreadStackSize size</code></td>\n<td>处理客户端连接的线程使用的堆栈大小（以字节为单位）</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"SSL-TLS-加密\"><a href=\"#SSL-TLS-加密\" class=\"headerlink\" title=\"SSL/TLS 加密\"></a>SSL/TLS 加密</h3><p>an example</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">LoadModule ssl_module modules/mod_ssl.so\n\nListen 443\n&amp;ltVirtualHost *:443&gt;\n    ServerName www.example.com\n    SSLEngine on\n    SSLCertificateFile \"/path/to/www.example.com.cert\"\n    SSLCertificateKeyFile \"/path/to/www.example.com.key\"\n&amp;lt/VirtualHost&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性值</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>SSLEngine on</code></td>\n<td>SSL 引擎操作开关</td>\n</tr>\n<tr>\n<td>`SSLCertificateFile file-path</td>\n<td>certid`</td>\n</tr>\n<tr>\n<td>`SSLCertificateKeyFile file-path</td>\n<td>keyid`</td>\n</tr>\n<tr>\n<td><code>SSLCipherSuite [protocol] cipher-spec</code></td>\n<td>密码套件可用于 SSL 握手中的协商</td>\n</tr>\n<tr>\n<td><code>SSLCipherSuite RC4-SHA:AES128-SHA:HIGH:!aNULL:!MD5</code></td>\n<td></td>\n</tr>\n<tr>\n<td>`SSLHonorCipherOrder on</td>\n<td>off`</td>\n</tr>\n<tr>\n<td><code>SSLUseStapling off</code></td>\n<td>在 TLS 握手中启用 OCSP 响应的装订</td>\n</tr>\n<tr>\n<td><code>SSLStaplingCache \"shmcb:logs/ssl_stapling(32768)\"</code></td>\n<td>配置 OCSP 装订缓存</td>\n</tr>\n<tr>\n<td><code>SSLVerifyClient level</code></td>\n<td>客户端证书验证类型</td>\n</tr>\n<tr>\n<td><code>SSLVerifyDepth number</code></td>\n<td>客户端证书验证中 CA 证书的最大深度</td>\n</tr>\n<tr>\n<td><code>SSLCACertificateFile file-path</code></td>\n<td>用于客户端身份验证的串联 PEM 编码 CA 证书文件</td>\n</tr>\n<tr>\n<td>`SSLOptions [+</td>\n<td>-]option …`</td>\n</tr>\n<tr>\n<td><code>SSLRequire expression</code></td>\n<td>仅当任意复杂的布尔表达式为真时才允许访问</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"URL重写\"><a href=\"#URL重写\" class=\"headerlink\" title=\"URL重写\"></a>URL重写</h3><table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>RewriteBase URL-path</code></td>\n<td>设置每个目录重写的基本 URL</td>\n</tr>\n<tr>\n<td><code>RewriteCond TestString CondPattern [flags]</code></td>\n<td>定义重写发生的条件</td>\n</tr>\n<tr>\n<td><code>RewriteRule Pattern Substitution [flags]</code></td>\n<td>定义重写引擎的规则</td>\n</tr>\n<tr>\n<td>RewriteEngine on|off</td>\n<td>启用或禁用运行时重写引擎</td>\n</tr>\n<tr>\n<td>RewriteMap <em>MapName</em> <em>MapType</em>:MapSource [MapTypeOptions]</td>\n<td>定义键查找的映射函数</td>\n</tr>\n<tr>\n<td>RewriteOptions Options</td>\n<td>为重写引擎设置一些特殊选项</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"认证和授权\"><a href=\"#认证和授权\" class=\"headerlink\" title=\"认证和授权\"></a>认证和授权</h3><table>\n<thead>\n<tr>\n<th>属性值</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>AllowOverride AuthConfig</code></td>\n<td>.htaccess 文件中允许的指令类型</td>\n</tr>\n<tr>\n<td>`AuthType None</td>\n<td>Basic</td>\n</tr>\n<tr>\n<td><code>AuthBasicProvider provider-name [provider-name] ...</code></td>\n<td>设置此位置的身份验证提供程序</td>\n</tr>\n<tr>\n<td><code>AuthDigestProvider provider-name [provider-name] ...</code></td>\n<td>设置此位置的身份验证提供程序</td>\n</tr>\n<tr>\n<td><code>Require [not] entity-name [entity-name] ...</code></td>\n<td>测试经过身份验证的用户是否由授权提供者授权</td>\n</tr>\n<tr>\n<td><code>AuthName auth-domain</code></td>\n<td>用于 HTTP 身份验证的授权领域</td>\n</tr>\n<tr>\n<td><code>AuthUserFile file-path</code></td>\n<td>设置包含用于身份验证的用户和密码列表的文本文件的名称</td>\n</tr>\n<tr>\n<td><code>AuthDBMUserFile file-path</code></td>\n<td>设置包含用于身份验证的用户和密码列表的数据库文件的名称</td>\n</tr>\n<tr>\n<td><code>AuthGroupFile file-path</code></td>\n<td>设置包含授权用户组列表的文本文件的名称</td>\n</tr>\n<tr>\n<td>`AuthLDAPURL url [NONE</td>\n<td>SSL</td>\n</tr>\n<tr>\n<td><code>AuthGroupFile file-path</code></td>\n<td>设置包含授权用户组列表的文本文件的名称</td>\n</tr>\n<tr>\n<td><code>Require valid-user</code></td>\n<td>所有有效用户都可以访问该资源</td>\n</tr>\n<tr>\n<td><code>Require user userid [userid] ...</code></td>\n<td>只有指定用户才能访问资源</td>\n</tr>\n<tr>\n<td><code>Require group group-name [group-name] ...</code></td>\n<td>只有命名组中的用户才能访问资源</td>\n</tr>\n<tr>\n<td><code>&amp;ltRequireAll&gt; ... &amp;lt/RequireAll&gt;</code></td>\n<td>附上一组授权指令，其中没有一个必须失败，并且至少一个必须成功才能使封闭指令成功</td>\n</tr>\n<tr>\n<td><code>&amp;ltRequireAny&gt; ... &amp;lt/RequireAny&gt;</code></td>\n<td>附上一组授权指令，其中一个必须成功才能使封闭指令成功</td>\n</tr>\n<tr>\n<td><code>&amp;ltRequireNone&gt; ... &amp;lt/RequireNone&gt;</code></td>\n<td>包含一组授权指令，其中没有一个必须成功才能使封闭指令不失败</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"如何工作\"><a href=\"#如何工作\" class=\"headerlink\" title=\"如何工作\"></a>如何工作</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">htpasswd <span class=\"token parameter variable\">-c</span> /usr/local/apache/passwd/passwords rbowen\n<span class=\"token comment\">#创建文件</span>\n\nGroupName: rbowen dpitts sungo rshersey\n<span class=\"token comment\">#创建一个将组名与该组中的用户列表关联的组文件</span>\n\nhtpasswd /usr/local/apache/passwd/passwords dpitts\n<span class=\"token comment\">#将用户添加到您已存在的密码文件</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"简单示例\"><a href=\"#简单示例\" class=\"headerlink\" title=\"简单示例\"></a>简单示例</h4><p>能放在<code>.htaccess</code>中或者<code>Directory</code>中</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">AuthType Basic\nAuthName \"Restricted Files\"\n# (Following line optional)\nAuthBasicProvider file\nAuthUserFile \"/usr/local/apache/passwd/passwords\"\nRequire user rbowen<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"让不止一个人进来\"><a href=\"#让不止一个人进来\" class=\"headerlink\" title=\"让不止一个人进来\"></a>让不止一个人进来</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">AuthType Basic\nAuthName \"By Invitation Only\"\n# Optional line:\nAuthBasicProvider file\nAuthUserFile \"/usr/local/apache/passwd/passwords\"\nAuthGroupFile \"/usr/local/apache/passwd/groups\"\nRequire group GroupName<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"备用密码存储\"><a href=\"#备用密码存储\" class=\"headerlink\" title=\"备用密码存储\"></a>备用密码存储</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltDirectory \"/www/docs/private\"&gt;\n    AuthName \"Private\"\n    AuthType Basic\n    AuthBasicProvider dbm\n    AuthDBMUserFile \"/www/passwords/passwd.dbm\"\n    Require valid-user\n&amp;lt/Directory&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"使用多个提供商\"><a href=\"#使用多个提供商\" class=\"headerlink\" title=\"使用多个提供商\"></a>使用多个提供商</h4><p>使用文件组授权和 LDAP 组授权</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltDirectory \"/www/docs/private\"&gt;\n    AuthName \"Private\"\n    AuthType Basic\n    AuthBasicProvider file\n    AuthUserFile \"/usr/local/apache/passwd/passwords\"\n    AuthLDAPURL ldap://ldaphost/o=yourorg\n    AuthGroupFile \"/usr/local/apache/passwd/groups\"\n    Require group GroupName\n    Require ldap-group cn=mygroup,o=yourorg\n&amp;lt/Directory&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"CGI与动态内容\"><a href=\"#CGI与动态内容\" class=\"headerlink\" title=\"CGI与动态内容\"></a>CGI与动态内容</h3><table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>AddHandler cgi-script .cgi</code></td>\n<td>将文件扩展名映射到指定的处理程序（指定拓展名.cgi为CGI文件）</td>\n</tr>\n<tr>\n<td><code>Options ExecCGI</code></td>\n<td></td>\n</tr>\n<tr>\n<td>`ScriptAlias [URL-path] file-path</td>\n<td>directory-path`</td>\n</tr>\n<tr>\n<td><code>LoadModule cgi_module modules/mod_cgi.so</code></td>\n<td>配置 Apache 以允许 CGI 执行</td>\n</tr>\n<tr>\n<td>`SetHandler handler-name</td>\n<td>none</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<p>要允许CGI程序执行用户目录中结束的任何文件。<code>.cgi</code></p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltDirectory \"/home/*/public_html\"&gt;\n    Options +ExecCGI\n    AddHandler cgi-script .cgi\n&amp;lt/Directory&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>如果您希望指定用户目录的子目录，其中所有内容都将被视为 CGI 程序。cgi-bin`</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltDirectory \"/home/*/public_html/cgi-bin\"&gt;\n    Options ExecCGI\n    SetHandler cgi-script\n&amp;lt/Directory&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"编写CGI\"><a href=\"#编写CGI\" class=\"headerlink\" title=\"编写CGI\"></a>编写CGI</h4><p>保存到名为<code>first.pl</code>的文件中，并将其放在<code>cgi-bin</code>目录中</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">#!/usr/bin/perl\nprint \"Content-type: text/html\\n\\n\";\nprint \"Hello, World.\";<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>浏览器输入URL地址</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">http://www.example.com/cgi-bin/first.pl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"反向代理\"><a href=\"#反向代理\" class=\"headerlink\" title=\"反向代理\"></a>反向代理</h3><h4 id=\"简单的反向代理\"><a href=\"#简单的反向代理\" class=\"headerlink\" title=\"简单的反向代理\"></a>简单的反向代理</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">ProxyPass \"/images\"  \"http://www.example.com/\"\nProxyPassReverse \"/images\"  \"http://www.example.com/\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>任何以<code>/images</code>路径开头的请求都被代理到指定的后端，否则它将在本地处理</p>\n<h4 id=\"集群和均衡器\"><a href=\"#集群和均衡器\" class=\"headerlink\" title=\"集群和均衡器\"></a>集群和均衡器</h4><p>负载均衡和故障转移</p>\n<pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltProxy balancer://myset&gt;\n    BalancerMember http://www2.example.com:8080\n    BalancerMember http://www3.example.com:8080\n    ProxySet lbmethod=bytraffic\n&amp;lt/Proxy&gt;\n\nProxyPass \"/images/\"  \"balancer://myset/\"\nProxyPassReverse \"/images/\"  \"balancer://myset/\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"均衡器和均衡器成员配置\"><a href=\"#均衡器和均衡器成员配置\" class=\"headerlink\" title=\"均衡器和均衡器成员配置\"></a>均衡器和均衡器成员配置</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltProxy balancer://myset&gt;\n    BalancerMember http://www2.example.com:8080\n    BalancerMember http://www3.example.com:8080 loadfactor=3 timeout=1\n    ProxySet lbmethod=bytraffic\n&amp;lt/Proxy&gt;\n\nProxyPass \"/images\"  \"balancer://myset/\"\nProxyPassReverse \"/images\"  \"balancer://myset/\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"故障转移\"><a href=\"#故障转移\" class=\"headerlink\" title=\"故障转移\"></a>故障转移</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltProxy balancer://myset&gt;\n    BalancerMember http://www2.example.com:8080\n    BalancerMember http://www3.example.com:8080 loadfactor=3 timeout=1\n    BalancerMember http://spare1.example.com:8080 status=+R\n    BalancerMember http://spare2.example.com:8080 status=+R\n    BalancerMember http://hstandby.example.com:8080 status=+H\n    BalancerMember http://bkup1.example.com:8080 lbset=1\n    BalancerMember http://bkup2.example.com:8080 lbset=1\n    ProxySet lbmethod=byrequests\n&amp;lt/Proxy&gt;\n\nProxyPass \"/images/\"  \"balancer://myset/\"\nProxyPassReverse \"/images/\"  \"balancer://myset/\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"均衡器启用\"><a href=\"#均衡器启用\" class=\"headerlink\" title=\"均衡器启用\"></a>均衡器启用</h4><pre class=\"line-numbers language-config\" data-language=\"config\"><code class=\"language-config\">&amp;ltLocation \"/balancer-manager\"&gt;\n    SetHandler balancer-manager\n    Require host localhost\n&amp;lt/Location&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<table>\n<thead>\n<tr>\n<th>属性值</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>`ProxyPass [path] !</td>\n<td>url [key=value [key=value …]] [nocanon] [interpolate] [noquery]`</td>\n</tr>\n<tr>\n<td><code>BalancerMember [balancerurl] url [key=value [key=value ...]]</code></td>\n<td>向负载均衡组添加成员</td>\n</tr>\n<tr>\n<td><code>ProxyPassReverse [path] url [interpolate]</code></td>\n<td>调整从反向代理服务器发送的 HTTP 响应标头中的 URL</td>\n</tr>\n<tr>\n<td><code>BalancerMember [balancerurl] url [key=value [key=value ...]]</code></td>\n<td>向负载均衡组添加成员</td>\n</tr>\n<tr>\n<td><code>ProxySet url key=value [key=value ...]</code></td>\n<td>设置各种代理平衡器或成员参数</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"htaccess文件\"><a href=\"#htaccess文件\" class=\"headerlink\" title=\".htaccess文件\"></a>.htaccess文件</h3><p>和<code>httpd.conf</code>的语法一样，作用于当前目录，一般用来设置单个功能</p>\n<h3 id=\"处理器\"><a href=\"#处理器\" class=\"headerlink\" title=\"处理器\"></a>处理器</h3><table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>Action action-type cgi-script [virtual]</code></td>\n<td>为特定处理程序或内容类型激活 CGI 脚本</td>\n</tr>\n<tr>\n<td><code>AddHandler handler-name extension [extension] ...</code></td>\n<td>将文件扩展名映射到指定的处理程序</td>\n</tr>\n<tr>\n<td><code>RemoveHandler extension [extension] ...</code></td>\n<td>删除一组文件扩展名的任何处理程序关联</td>\n</tr>\n<tr>\n<td><code>SetHandler handler-name</code></td>\n<td>none</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"过滤器\"><a href=\"#过滤器\" class=\"headerlink\" title=\"过滤器\"></a>过滤器</h3><table>\n<thead>\n<tr>\n<th>属性值</th>\n<th>意义</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>FilterChain [+=-@!]filter-name ...</code></td>\n<td>配置过滤器链</td>\n</tr>\n<tr>\n<td><code>FilterDeclare filter-name [type]</code></td>\n<td>声明一个智能过滤器</td>\n</tr>\n<tr>\n<td><code>FilterProtocol filter-name [provider-name] proto-flags</code></td>\n<td>声明一个智能过滤器</td>\n</tr>\n<tr>\n<td><code>FilterProvider filter-name provider-name expression</code></td>\n<td>注册内容过滤器</td>\n</tr>\n<tr>\n<td><code>AddInputFilter filter[;filter...] extension [extension] ...</code></td>\n<td>将文件扩展名映射到将处理客户端请求的过滤器</td>\n</tr>\n<tr>\n<td><code>AddOutputFilter filter[;filter...] extension [extension] ...</code></td>\n<td>将文件扩展名映射到将处理来自服务器的响应的过滤器</td>\n</tr>\n<tr>\n<td><code>RemoveInputFilter extension [extension] ...</code></td>\n<td>删除一组文件扩展名的任何输入过滤器关联</td>\n</tr>\n<tr>\n<td><code>RemoveOutputFilter extension [extension] ...</code></td>\n<td>删除一组文件扩展名的任何输出过滤器关联</td>\n</tr>\n<tr>\n<td><code>ReflectorHeader inputheader [outputheader]</code></td>\n<td>将输入标题反映到输出标题</td>\n</tr>\n<tr>\n<td><code>ExtFilterDefine filtername parameters</code></td>\n<td>定义外部过滤器</td>\n</tr>\n<tr>\n<td><code>ExtFilterOptions option [option] ...</code></td>\n<td>配置 <code>mod_ext_filter </code>选项</td>\n</tr>\n<tr>\n<td><code>SetInputFilter filter[;filter...]</code></td>\n<td>设置将处理客户端请求和 POST 输入的过滤器</td>\n</tr>\n<tr>\n<td><code>SetOutputFilter filter[;filter...]</code></td>\n<td>设置将处理来自服务器的响应的过滤器</td>\n</tr>\n<tr>\n<td>…</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h2><table>\n<thead>\n<tr>\n<th>HTTP变量</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>HTTP_ACCEPT</code></td>\n</tr>\n<tr>\n<td><code>HTTP_COOKIE</code></td>\n</tr>\n<tr>\n<td><code>HTTP_FORWARDED</code></td>\n</tr>\n<tr>\n<td><code>HTTP_HOST</code></td>\n</tr>\n<tr>\n<td><code>HTTP_PROXY_CONNECTION</code></td>\n</tr>\n<tr>\n<td><code>HTTP_REFERER</code></td>\n</tr>\n<tr>\n<td><code>HTTP_USER_AGENT</code></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>名字</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>REQUEST_METHOD</code></td>\n<td>传入请求的 HTTP 方法（例如<code>GET</code>)</td>\n</tr>\n<tr>\n<td><code>REQUEST_SCHEME</code></td>\n<td>该计划是请求URI的一部分</td>\n</tr>\n<tr>\n<td><code>REQUEST_URI</code></td>\n<td>请求URI的路径部分</td>\n</tr>\n<tr>\n<td><code>DOCUMENT_URI</code></td>\n<td>和<code>REQUEST_URI</code>一样</td>\n</tr>\n<tr>\n<td><code>REQUEST_FILENAME</code></td>\n<td>如果当时服务器已经确定了该路径，与请求匹配的文件或脚本的完整本地文件系统路径。否则，例如在虚拟主机上下文中使用时，与 <code>REQUEST_FILENAME REQUEST_URI </code>相同的值</td>\n</tr>\n<tr>\n<td><code>SCRIPT_FILENAME</code></td>\n<td>和<code>REQUEST_FILENAME</code>一样</td>\n</tr>\n<tr>\n<td><code>LAST_MODIFIED</code></td>\n<td>如果此时服务器已经确定该格式中文件上次修改的日期和时间，则参照该日期和时间进行引用。<code>20101231235959</code> <code>LAST_MODIFIED</code></td>\n</tr>\n<tr>\n<td><code>SCRIPT_USER</code></td>\n<td>脚本所有者的用户名。</td>\n</tr>\n<tr>\n<td><code>SCRIPT_GROUP</code></td>\n<td>脚本组的组名。</td>\n</tr>\n<tr>\n<td><code>PATH_INFO</code></td>\n<td>尾随路径名称信息，请参阅<code>AcceptPathInfo</code></td>\n</tr>\n<tr>\n<td><code>QUERY_STRING</code></td>\n<td>当前请求的查询字符串</td>\n</tr>\n<tr>\n<td><code>IS_SUBREQ</code></td>\n<td>如果当前请求是次要请求<code>true</code>，否则<code>false</code></td>\n</tr>\n<tr>\n<td><code>THE_REQUEST</code></td>\n<td>完整的请求行（例如”<code>GET /index.html HTTP/1.1</code>“)</td>\n</tr>\n<tr>\n<td><code>REMOTE_ADDR</code></td>\n<td>远程主机的 IP 地址</td>\n</tr>\n<tr>\n<td><code>REMOTE_PORT</code></td>\n<td>远程主机的端口（2.4.26 及以后）</td>\n</tr>\n<tr>\n<td><code>REMOTE_HOST</code></td>\n<td>远程主机的主机名称</td>\n</tr>\n<tr>\n<td><code>REMOTE_USER</code></td>\n<td>已验证用户的名称（在<code>&amp;ltIF&gt;</code>不可用）</td>\n</tr>\n<tr>\n<td><code>REMOTE_IDENT</code></td>\n<td><code>mod_ident</code> 设置的用户名</td>\n</tr>\n<tr>\n<td><code>SERVER_NAME</code></td>\n<td>当前的虚拟<code>ServerName</code></td>\n</tr>\n<tr>\n<td><code>SERVER_PORT</code></td>\n<td>当前vhost的服务器端口，请参阅<code>ServerName</code></td>\n</tr>\n<tr>\n<td><code>SERVER_ADMIN</code></td>\n<td>当前的虚拟<code>ServerAdmin</code></td>\n</tr>\n<tr>\n<td><code>SERVER_PROTOCOL</code></td>\n<td>请求所使用的协议</td>\n</tr>\n<tr>\n<td><code>DOCUMENT_ROOT</code></td>\n<td>当前的虚拟<code>DocumentRoot</code></td>\n</tr>\n<tr>\n<td><code>AUTH_TYPE</code></td>\n<td>配置（例如<code>AuthType basic</code>)</td>\n</tr>\n<tr>\n<td><code>CONTENT_TYPE</code></td>\n<td>响应的内容类型（在 <code>&amp;ltIf&gt;</code> 间不可用）</td>\n</tr>\n<tr>\n<td><code>HANDLER</code></td>\n<td>创建响应的<a href=\"http://httpd.apache.org/docs/2.4/handler.html\">处理程序</a>的名称</td>\n</tr>\n<tr>\n<td><code>HTTP2</code></td>\n<td>如果请求使用http/2<code>on</code>，否则<code>off</code></td>\n</tr>\n<tr>\n<td><code>HTTPS</code></td>\n<td>如果请求使用https<code>on</code>，否则<code>off</code></td>\n</tr>\n<tr>\n<td><code>IPV6</code></td>\n<td>如果连接使用IPv6<code>on</code>，否则<code>off</code></td>\n</tr>\n<tr>\n<td><code>REQUEST_STATUS</code></td>\n<td>请求的 HTTP 错误状态（在<code>&amp;ltIf&gt;</code>间不可用）)</td>\n</tr>\n<tr>\n<td><code>REQUEST_LOG_ID</code></td>\n<td>请求的错误日志ID（参见<code>ErrorLogFormat</code>)</td>\n</tr>\n<tr>\n<td><code>CONN_LOG_ID</code></td>\n<td>连接的错误日志ID（参见<code>ErrorLogFormat</code>)</td>\n</tr>\n<tr>\n<td><code>CONN_REMOTE_ADDR</code></td>\n<td>连接的同侪 IP 地址（参见模块）<code>mod_remoteip</code></td>\n</tr>\n<tr>\n<td><code>CONTEXT_PREFIX</code></td>\n<td></td>\n</tr>\n<tr>\n<td><code>CONTEXT_DOCUMENT_ROOT</code></td>\n<td></td>\n</tr>\n</tbody></table>\n<table>\n<thead>\n<tr>\n<th>名字</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>TIME_YEAR</code></td>\n<td>本年度（例如<code>2010</code>)</td>\n</tr>\n<tr>\n<td><code>TIME_MON</code></td>\n<td>当月（，…，<code>0112</code>)</td>\n</tr>\n<tr>\n<td><code>TIME_DAY</code></td>\n<td>本月的当前日期（，…）<code>01</code></td>\n</tr>\n<tr>\n<td><code>TIME_HOUR</code></td>\n<td>当前时间的小时部分（，…，<code>0023</code>)</td>\n</tr>\n<tr>\n<td><code>TIME_MIN</code></td>\n<td>当前时间的分钟部分</td>\n</tr>\n<tr>\n<td><code>TIME_SEC</code></td>\n<td>当前时间的秒钟部分</td>\n</tr>\n<tr>\n<td><code>TIME_WDAY</code></td>\n<td>一周的一天（从周日开始）<code>0</code></td>\n</tr>\n<tr>\n<td><code>TIME</code></td>\n<td>格式中的日期和时间<code>20101231235959</code></td>\n</tr>\n<tr>\n<td><code>SERVER_SOFTWARE</code></td>\n<td>服务器版本字符串</td>\n</tr>\n<tr>\n<td><code>API_VERSION</code></td>\n<td>API 版本的日期（模块魔法数字）</td>\n</tr>\n</tbody></table>\n<h4 id=\"二进制变量\"><a href=\"#二进制变量\" class=\"headerlink\" title=\"二进制变量\"></a>二进制变量</h4><table>\n<thead>\n<tr>\n<th align=\"left\">名字</th>\n<th align=\"left\">其他形式</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>==</code></td>\n<td align=\"left\"><code>=</code></td>\n<td align=\"left\">字符串均等</td>\n</tr>\n<tr>\n<td align=\"left\"><code>!=</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串不平等</td>\n</tr>\n<tr>\n<td align=\"left\"><code>&amp;lt</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串少于</td>\n</tr>\n<tr>\n<td align=\"left\"><code>&amp;lt=</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串小于或等于</td>\n</tr>\n<tr>\n<td align=\"left\"><code>&gt;</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串大于</td>\n</tr>\n<tr>\n<td align=\"left\"><code>&gt;=</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串大于或等于</td>\n</tr>\n<tr>\n<td align=\"left\"><code>=~</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串与常规表达方式匹配</td>\n</tr>\n<tr>\n<td align=\"left\"><code>!~</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">字符串与常规表达不匹配</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-eq</code></td>\n<td align=\"left\"><code>eq</code></td>\n<td align=\"left\">整数平等</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-ne</code></td>\n<td align=\"left\"><code>ne</code></td>\n<td align=\"left\">整数不平等</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-lt</code></td>\n<td align=\"left\"><code>lt</code></td>\n<td align=\"left\">整数小于</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-le</code></td>\n<td align=\"left\"><code>le</code></td>\n<td align=\"left\">整数小于或相等</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-gt</code></td>\n<td align=\"left\"><code>gt</code></td>\n<td align=\"left\">整数大于</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-ge</code></td>\n<td align=\"left\"><code>ge</code></td>\n<td align=\"left\">整数大于或相等</td>\n</tr>\n</tbody></table>\n<h4 id=\"统一变量\"><a href=\"#统一变量\" class=\"headerlink\" title=\"统一变量\"></a>统一变量</h4><table>\n<thead>\n<tr>\n<th align=\"left\">名字</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>-d</code></td>\n<td align=\"left\">参数被视为文件名。如果文件存在并且是目录，则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-e</code></td>\n<td align=\"left\">参数被视为文件名。如果存在文件（或目录和特殊文件），则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-f</code></td>\n<td align=\"left\">参数被视为文件名。如果文件存在并且是常规文件，则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-s</code></td>\n<td align=\"left\">参数被视为文件名。如果文件存在且不是空的，则正确</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-L</code></td>\n<td align=\"left\">参数被视为文件名。如果文件存在并且是符号链接，则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-h</code></td>\n<td align=\"left\">参数被视为文件名。真实的，如果文件存在，是符号链接（与<code>-L</code>相似)</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-F</code></td>\n<td align=\"left\">如果字符串是一个有效的文件，则可以通过该路径的所有服务器当前配置的访问控制进行访问。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-U</code></td>\n<td align=\"left\">如果字符串是一个有效的URL，则可以通过该路径的所有服务器当前配置的访问控制进行访问。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-A</code></td>\n<td align=\"left\">别名<code>-U</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>-n</code></td>\n<td align=\"left\">如果字符串不是空的，则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-z</code></td>\n<td align=\"left\">如果字符串是空的，则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-T</code></td>\n<td align=\"left\">如果字符串为空,””,””,”” 或 “”（不区分大小写），则为 False，否则为真</td>\n</tr>\n<tr>\n<td align=\"left\"><code>-R</code></td>\n<td align=\"left\">与<code>%{REMOTE_ADDR} -ipmatch ...</code>相同，但效率更高</td>\n</tr>\n</tbody></table>\n<h4 id=\"功能变量\"><a href=\"#功能变量\" class=\"headerlink\" title=\"功能变量\"></a>功能变量</h4><table>\n<thead>\n<tr>\n<th align=\"left\">名字</th>\n<th align=\"left\">描述</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>req</code>,<code>http</code></td>\n<td align=\"left\">获取 HTTP 请求标题；标头名称可以添加到 Vary 标头</td>\n</tr>\n<tr>\n<td align=\"left\"><code>req_novary</code></td>\n<td align=\"left\">与 相同，但不会将标头名称添加到 Vary 标头中</td>\n</tr>\n<tr>\n<td align=\"left\"><code>resp</code></td>\n<td align=\"left\">获取 HTTP 响应头（大多数响应标题在<code>&amp;ltIf&gt;</code>间尚未设置）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>reqenv</code></td>\n<td align=\"left\">查找请求环境变量（作为快捷方式，也可用于访问变量）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>osenv</code></td>\n<td align=\"left\">查找操作系统环境变量</td>\n</tr>\n<tr>\n<td align=\"left\"><code>note</code></td>\n<td align=\"left\">查找请求说明</td>\n</tr>\n<tr>\n<td align=\"left\"><code>env</code></td>\n<td align=\"left\">返回第一个匹配</td>\n</tr>\n<tr>\n<td align=\"left\"><code>tolower</code></td>\n<td align=\"left\">将字符串转换为小写</td>\n</tr>\n<tr>\n<td align=\"left\"><code>toupper</code></td>\n<td align=\"left\">将字符串转换为大写</td>\n</tr>\n<tr>\n<td align=\"left\"><code>escape</code></td>\n<td align=\"left\">在 %hex 编码中转义特殊字符</td>\n</tr>\n<tr>\n<td align=\"left\"><code>unescape</code></td>\n<td align=\"left\">Unescape %hex 编码的字符串，单独留下编码的斜杠；如果找到 %00，则返回空字符串</td>\n</tr>\n<tr>\n<td align=\"left\"><code>base64</code></td>\n<td align=\"left\">使用 base64 编码对字符串进行编码</td>\n</tr>\n<tr>\n<td align=\"left\"><code>unbase64</code></td>\n<td align=\"left\">解码base64编码的字符串，如果找到0x00则返回截断的字符串</td>\n</tr>\n<tr>\n<td align=\"left\"><code>md5</code></td>\n<td align=\"left\">使用 MD5 对字符串进行散列，然后使用十六进制编码对散列进行编码</td>\n</tr>\n<tr>\n<td align=\"left\"><code>sha1</code></td>\n<td align=\"left\">使用 SHA1 对字符串进行散列，然后使用十六进制编码对散列进行编码</td>\n</tr>\n<tr>\n<td align=\"left\"><code>file</code></td>\n<td align=\"left\">从文件中读取内容（包括行尾，如果存在）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>filemod</code></td>\n<td align=\"left\">返回文件的最后修改时间（如果文件不存在或不是常规文件，则返回 0）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>filesize</code></td>\n<td align=\"left\">返回文件的大小（如果文件不存在或不是常规文件，则返回 0）</td>\n</tr>\n</tbody></table>\n<h2 id=\"模块\"><a href=\"#模块\" class=\"headerlink\" title=\"模块\"></a>模块</h2><p><a href=\"http://httpd.apache.org/docs/2.4/mod/\">模块索引 - Apache HTTP 服务器 版本 2.4</a></p>\n<h4 id=\"核心与多处理模块-MPM\"><a href=\"#核心与多处理模块-MPM\" class=\"headerlink\" title=\"核心与多处理模块(MPM)\"></a>核心与多处理模块(MPM)</h4><p><a href=\"http://httpd.apache.org/docs/2.4/mod/core.html\">core</a></p>\n<p>始终可用的核心 Apache HTTP Server 功能</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mpm_common.html\">mpm_common</a></p>\n<p>由多个多处理模块 (MPM) 实现的一组指令</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/event.html\">event</a></p>\n<p>MPM 的一种变体，其目标是仅为与活动处理工作者的连接消耗线程</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mpm_netware.html\">mpm_netware</a></p>\n<p>实现专为 Novell NetWare 优化的线程 Web 服务器的多处理模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mpmt_os2.html\">mpmt_os2</a></p>\n<p>用于 OS/2 的混合多进程、多线程 MPM</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/prefork.html\">prefork</a></p>\n<p>实现一个非线程的、预分叉的 Web 服务器</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mpm_winnt.html\">mpm_winnt</a></p>\n<p>为 Windows NT 优化的多处理模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/worker.html\">worker</a></p>\n<p>实现混合多线程多进程 Web 服务器的多处理模块</p>\n<h4 id=\"其他模块\"><a href=\"#其他模块\" class=\"headerlink\" title=\"其他模块\"></a>其他模块</h4><p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_access_compat.html\">mod_access_compat</a></p>\n<p>基于主机（名称或 IP 地址）的组授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_actions.html\">mod_actions</a></p>\n<p>根据媒体类型或请求方法执行 CGI 脚本</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_alias.html\">mod_alias</a></p>\n<p>提供在文档树中映射主机文件系统的不同部分和 URL 重定向</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_allowmethods.html\">mod_allowmethods</a></p>\n<p>轻松限制可以在服务器上使用的 HTTP 方法</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_asis.html\">mod_asis</a></p>\n<p>发送包含自己的 HTTP 标头的文件</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_auth_basic.html\">mod_auth_basic</a></p>\n<p>基本 HTTP 身份验证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_auth_digest.html\">mod_auth_digest</a></p>\n<p>使用 MD5 摘要身份验证的用户身份验证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_auth_form.html\">mod_auth_form</a></p>\n<p>表单认证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authn_anon.html\">mod_authn_anon</a></p>\n<p>允许“匿名”用户访问经过身份验证的区域</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authn_core.html\">mod_authn_core</a></p>\n<p>核心身份验证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authn_dbd.html\">mod_authn_dbd</a></p>\n<p>使用 SQL 数据库进行用户身份验证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authn_dbm.html\">mod_authn_dbm</a></p>\n<p>使用 DBM 文件进行用户身份验证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authn_file.html\">mod_authn_file</a></p>\n<p>使用文本文件进行用户身份验证</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authn_socache.html\">mod_authn_socache</a></p>\n<p>管理身份验证凭据缓存以减轻后端的负载</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authnz_fcgi.html\">mod_authnz_fcgi</a></p>\n<p>允许 FastCGI 授权器应用程序处理 Apache httpd 身份验证和授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authnz_ldap.html\">mod_authnz_ldap</a></p>\n<p>允许使用 LDAP 目录来存储用于 HTTP 基本身份验证的数据库</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_core.html\">mod_authz_core</a></p>\n<p>核心授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_dbd.html\">mod_authz_dbd</a></p>\n<p>使用 SQL 进行组授权和登录</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_dbm.html\">mod_authz_dbm</a></p>\n<p>使用 DBM 文件的组授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_groupfile.html\">mod_authz_groupfile</a></p>\n<p>使用纯文本文件的组授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_host.html\">mod_authz_host</a></p>\n<p>基于主机（名称或 IP 地址）的组授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_owner.html\">mod_authz_owner</a></p>\n<p>基于文件所有权的授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_authz_user.html\">mod_authz_user</a></p>\n<p>用户授权</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_autoindex.html\">mod_autoindex</a></p>\n<p>自动生成目录索引，类似于 Unix 命令或 Win32 shell commandlsdir</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_brotli.html\">mod_brotli</a></p>\n<p>在将内容交付给客户端之前通过 Brotli 压缩内容</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_buffer.html\">mod_buffer</a></p>\n<p>支持请求缓冲</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_cache.html\">mod_cache</a></p>\n<p>符合 RFC 2616 的 HTTP 缓存过滤器</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_cache_disk.html\">mod_cache_disk</a></p>\n<p>用于 HTTP 缓存过滤器的基于磁盘的存储模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_cache_socache.html\">mod_cache_socache</a></p>\n<p>基于共享对象缓存 (socache) 的存储模块，用于 HTTP 缓存过滤器</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_cern_meta.html\">mod_cern_meta</a></p>\n<p>CERN httpd 元文件语义</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_cgi.html\">mod_cgi</a></p>\n<p>CGI脚本的执行</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_cgid.html\">mod_cgid</a></p>\n<p>使用外部 CGI 守护程序执行 CGI 脚本</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_charset_lite.html\">mod_charset_lite</a></p>\n<p>指定字符集转换或重新编码</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_data.html\">mod_data</a></p>\n<p>将响应正文转换为 RFC2397 数据 URL</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dav.html\">mod_dav</a></p>\n<p>分布式创作和版本控制<a href=\"http://www.webdav.org/\">WebDAV</a> 功能</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dav_fs.html\">mod_dav_fs</a></p>\n<p><code>mod_dav</code> 的文件系统提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dav_lock.html\">mod_dav_lock</a></p>\n<p><code>mod_dav</code> 的通用锁定模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dbd.html\">mod_dbd</a></p>\n<p>管理 SQL 数据库连接</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_deflate.html\">mod_deflate</a></p>\n<p>在将内容交付给客户端之前对其进行压缩</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dialup.html\">mod_dialup</a></p>\n<p>以各种旧调制解调器标准定义的带宽速率限制发送静态内容</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dir.html\">mod_dir</a></p>\n<p>提供”跟踪斜线”重定向和服务目录索引文件</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_dumpio.html\">mod_dumpio</a></p>\n<p>根据需要将所有 I/O 转储到错误日志</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_echo.html\">mod_echo</a></p>\n<p>一个简单的回显服务器来说明协议模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_env.html\">mod_env</a></p>\n<p>修改传递给 CGI 脚本和 SSI 页面的环境</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_example_hooks.html\">mod_example_hooks</a></p>\n<p>说明 Apache 模块 API</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_expires.html\">mod_expires</a></p>\n<p>根据用户指定的标准生成和 HTTP 标头<code>ExpiresCache-Control</code></p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_ext_filter.html\">mod_ext_filter</a></p>\n<p>在传递给客户端之前通过外部程序传递响应正文</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_file_cache.html\">mod_file_cache</a></p>\n<p>在内存中缓存静态文件列表</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_filter.html\">mod_filter</a></p>\n<p>上下文敏感的智能过滤器配置模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_headers.html\">mod_headers</a></p>\n<p>HTTP 请求和响应标题的自定义</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_heartbeat.html\">mod_heartbeat</a></p>\n<p>将带有服务器状态的消息发送到前端代理</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_heartmonitor.html\">mod_heartmonitor</a></p>\n<p>mod_heartbeat源服务器的集中监视器</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_http2.html\">mod_http2</a></p>\n<p>支持 HTTP/2 运输层</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_ident.html\">mod_ident</a></p>\n<p>RFC 1413 标识查找</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_imagemap.html\">mod_imagemap</a></p>\n<p>服务器侧图像映像处理</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_include.html\">mod_include</a></p>\n<p>服务器解析 html 文档（服务器侧包含）</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_info.html\">mod_info</a></p>\n<p>提供服务器配置的全面概述</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_isapi.html\">mod_isapi</a></p>\n<p>Apache for Windows 中的 ISAPI 扩展</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_bybusyness.html\">mod_lbmethod_bybusyness</a></p>\n<p>待定请求计数负载平衡器调度器算法<code>mod_proxy_balancer</code></p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_byrequests.html\">mod_lbmethod_byrequests</a></p>\n<p>请求计算负载平衡器调度器算法<code>mod_proxy_balancer</code></p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_bytraffic.html\">mod_lbmethod_bytraffic</a></p>\n<p>加权流量计数负载平衡器调度器算法<code>mod_proxy_balancer</code></p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_heartbeat.html\">mod_lbmethod_heartbeat</a></p>\n<p>心跳流量计数负载平衡器调度器算法<code>mod_proxy_balancer</code></p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_ldap.html\">mod_ldap</a></p>\n<p>供其他 LDAP 模块使用的 LDAP 连接池和结果缓存服务</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_log_config.html\">mod_log_config</a></p>\n<p>记录向服务器提出的请求</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_log_debug.html\">mod_log_debug</a></p>\n<p>额外的可配置调试日志记录</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_log_forensic.html\">mod_log_forensic</a></p>\n<p>对服务器发出的请求进行取证记录</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_logio.html\">mod_logio</a></p>\n<p>记录每个请求的输入和输出字节</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_lua.html\">mod_lua</a></p>\n<p>将 Lua 挂钩提供到 httpd 请求处理的各个部分</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_macro.html\">mod_macro</a></p>\n<p>在 apache httpd 运行时配置文件中提供宏</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_md.html\">mod_md</a></p>\n<p>跨虚拟主机管理域，通过 ACME 协议提供证书</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_mime.html\">mod_mime</a></p>\n<p>将请求的文件名的扩展名与文件的行为（处理程序和过滤器）和内容（mime 类型、语言、字符集和编码）相关联 </p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_mime_magic.html\">mod_mime_magic</a></p>\n<p>通过查看文件内容的几个字节来确定文件的 MIME 类型</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html\">mod_negotiation</a></p>\n<p>提供<a href=\"http://httpd.apache.org/docs/2.4/content-negotiation.html\">内容协商</a></p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_nw_ssl.html\">mod_nw_ssl</a></p>\n<p>为 NetWare 启用 SSL 加密</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_privileges.html\">mod_privileges</a></p>\n<p>支持 Solaris 特权和在不同用户 ID 下运行虚拟主机</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy.html\">mod_proxy</a></p>\n<p>多协议代理/网关服务器</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_ajp.html\">mod_proxy_ajp</a></p>\n<p>mod_proxy 的 AJP 支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_balancer.html\">mod_proxy_balancer</a></p>\n<p><code>mod_proxy</code>负载平衡的扩展</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_connect.html\">mod_proxy_connect</a></p>\n<p>用于请求处理的 mod_proxy 扩展CONNECT</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_express.html\">mod_proxy_express</a></p>\n<p>mod_proxy 的动态大规模反向代理扩展</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_fcgi.html\">mod_proxy_fcgi</a></p>\n<p>用于 mod_proxy 的 FastCGI 支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_fdpass.html\">mod_proxy_fdpass</a></p>\n<p>用于 mod_proxy 的 fdpass 外部进程支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_ftp.html\">mod_proxy_ftp</a></p>\n<p>mod_proxy 的 FTP 支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_hcheck.html\">mod_proxy_hcheck</a></p>\n<p>对 mod_proxy 的 Balancer 成员（工作人员）进行动态健康检查</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_html.html\">mod_proxy_html</a></p>\n<p>重写 HTML 链接以确保它们可以从代理上下文中的客户端网络寻址</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_http.html\">mod_proxy_http</a></p>\n<p>mod_proxy 的 HTTP 支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_http2.html\">mod_proxy_http2</a></p>\n<p>mod_proxy 的 HTTP/2 支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_scgi.html\">mod_proxy_scgi</a></p>\n<p>用于 mod_proxy 的 SCGI 网关模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_uwsgi.html\">mod_proxy_uwsgi</a></p>\n<p>用于 mod_proxy 的 UWSGI 网关模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_proxy_wstunnel.html\">mod_proxy_wstunnel</a></p>\n<p>用于 mod_proxy 的 Websockets 支持模块</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_ratelimit.html\">mod_ratelimit</a></p>\n<p>客户端带宽速率限制</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_reflector.html\">mod_reflector</a></p>\n<p>通过输出过滤器堆栈将请求正文反映为响应</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_remoteip.html\">mod_remoteip</a></p>\n<p>将连接的原始客户端 IP 地址替换为代理或负载均衡器通过请求标头提供的用户代理 IP 地址列表</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_reqtimeout.html\">mod_reqtimeout</a></p>\n<p>设置接收请求的超时和最小数据速率</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_request.html\">mod_request</a></p>\n<p>用于处理和提供可用 HTTP 请求正文的过滤器</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html\">mod_rewrite</a></p>\n<p>提供基于规则的重写引擎来即时重写请求的 URL</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_sed.html\">mod_sed</a></p>\n<p>使用语法过滤输入（请求）和输出（响应）内容</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_session.html\">mod_session</a></p>\n<p>会话支持</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_session_cookie.html\">mod_session_cookie</a></p>\n<p>基于 Cookie 的会话支持</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_session_crypto.html\">mod_session_crypto</a></p>\n<p>会话加密支持</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_session_dbd.html\">mod_session_dbd</a></p>\n<p>基于 DBD/SQL 的会话支持</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_setenvif.html\">mod_setenvif</a></p>\n<p>允许根据请求的特征设置环境变量</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_slotmem_plain.html\">mod_slotmem_plain</a></p>\n<p>基于插槽的共享内存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_slotmem_shm.html\">mod_slotmem_shm</a></p>\n<p>基于插槽的共享内存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_so.html\">mod_so</a></p>\n<p>在启动或重新启动时将可执行代码和模块加载到服务器中</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_socache_dbm.html\">mod_socache_dbm</a></p>\n<p>基于 DBM 的共享对象缓存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_socache_dc.html\">mod_socache_dc</a></p>\n<p>基于 Distcache 的共享对象缓存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_socache_memcache.html\">mod_socache_memcache</a></p>\n<p>基于 Memcache 的共享对象缓存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_socache_redis.html\">mod_socache_redis</a></p>\n<p>基于 Redis 的共享对象缓存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_socache_shmcb.html\">mod_socache_shmcb</a></p>\n<p>基于 shmcb 的共享对象缓存提供程序</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_speling.html\">mod_speling</a></p>\n<p>尝试通过忽略大小写或尝试更正各种小拼写错误来更正错误的 URL</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_ssl.html\">mod_ssl</a></p>\n<p>使用安全套接字层 (SSL) 和传输层安全 (TLS) 协议的强密码术</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_status.html\">mod_status</a></p>\n<p>提供有关服务器活动和性能的信息</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_substitute.html\">mod_substitute</a></p>\n<p>对响应体执行搜索和替换操作</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_suexec.html\">mod_suexec</a></p>\n<p>允许 CGI 脚本作为指定的用户和组运行</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_systemd.html\">mod_systemd</a></p>\n<p>为系统集成提供更好的支持</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_unique_id.html\">mod_unique_id</a></p>\n<p>为每个请求提供一个具有唯一标识符的环境变量</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_unixd.html\">mod_unixd</a></p>\n<p>Unix 系列平台的基本（必需）安全性</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_userdir.html\">mod_userdir</a></p>\n<p>特定于用户的目录</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_usertrack.html\">mod_usertrack</a></p>\n<p>站点上用户活动的点击流日志记录</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_version.html\">mod_version</a></p>\n<p>版本相关配置</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_vhost_alias.html\">mod_vhost_alias</a></p>\n<p>提供动态配置的海量虚拟主机</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_watchdog.html\">mod_watchdog</a></p>\n<p>为其他模块提供基础设施以定期运行任务</p>\n<p><a href=\"http://httpd.apache.org/docs/2.4/mod/mod_xml2enc.html\">mod_xml2enc</a></p>\n<p>增强了对基于 libxml2 的过滤器模块的字符集/国际化支持</p>\n<p>[^更多请参考]: <a href=\"http://httpd.apache.org/docs/2.4/zh-cn/\">Apache HTTP 服务器 2.4 文档 - Apache HTTP 服务器 版本 2.4</a></p>\n",
            "tags": [
                "server"
            ]
        }
    ]
}