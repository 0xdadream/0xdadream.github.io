{
    "version": "https://jsonfeed.org/version/1",
    "title": "逐梦 • All posts by \"linux\" category",
    "description": "Welcome to my blog",
    "home_page_url": "https://0xdadream.github.io",
    "items": [
        {
            "id": "https://0xdadream.github.io/2024/11/24/dong-tai-lian-jie-ku/",
            "url": "https://0xdadream.github.io/2024/11/24/dong-tai-lian-jie-ku/",
            "title": "动态链接库",
            "date_published": "2024-11-24T15:25:00.000Z",
            "content_html": "<h1 id=\"动态链接库\"><a href=\"#动态链接库\" class=\"headerlink\" title=\"动态链接库\"></a>动态链接库</h1><hr>\n<h3 id=\"一、-etc-ld-so-conf-d-的作用\"><a href=\"#一、-etc-ld-so-conf-d-的作用\" class=\"headerlink\" title=\"一、/etc/ld.so.conf.d 的作用\"></a><strong>一、<code>/etc/ld.so.conf.d</code> 的作用</strong></h3><ul>\n<li><strong>动态库路径管理</strong>：系统会读取该目录下的 <code>.conf</code> 文件，这些文件指定了动态链接库的额外搜索路径。</li>\n<li><strong>配置动态库缓存</strong>：在运行程序时，动态链接器会从这些路径中查找所需的库。</li>\n</ul>\n<p><strong>默认加载的路径</strong>（视系统配置而定）：</p>\n<ol>\n<li><code>/lib</code></li>\n<li><code>/usr/lib</code></li>\n<li><code>/usr/local/lib</code></li>\n</ol>\n<p>通过 <code>/etc/ld.so.conf.d</code>，可以扩展默认路径。</p>\n<hr>\n<h3 id=\"二、动态库的加载顺序\"><a href=\"#二、动态库的加载顺序\" class=\"headerlink\" title=\"二、动态库的加载顺序\"></a><strong>二、动态库的加载顺序</strong></h3><p>动态链接器按照以下顺序查找动态库：</p>\n<ol>\n<li><strong>环境变量</strong>：<code>LD_LIBRARY_PATH</code>。</li>\n<li><strong>缓存文件</strong>：<code>/etc/ld.so.cache</code>。</li>\n<li><strong>默认路径</strong>：如 <code>/lib</code> 和 <code>/usr/lib</code>。</li>\n</ol>\n<p><strong>注意</strong>：为了提高效率，系统不会直接读取所有路径，而是从 <code>/etc/ld.so.cache</code> 中加载已经缓存的路径信息。</p>\n<hr>\n<h3 id=\"三、-etc-ld-so-conf-d-的文件结构\"><a href=\"#三、-etc-ld-so-conf-d-的文件结构\" class=\"headerlink\" title=\"三、/etc/ld.so.conf.d 的文件结构\"></a><strong>三、<code>/etc/ld.so.conf.d</code> 的文件结构</strong></h3><p>该目录包含多个 <code>.conf</code> 文件，每个文件可以指定一组路径。例如：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\"># 查看 /etc/ld.so.conf.d 内容</span>\n<span class=\"token function\">ls</span> /etc/ld.so.conf.d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>输出示例：</p>\n<pre class=\"line-numbers language-lua\" data-language=\"lua\"><code class=\"language-lua\">glibc<span class=\"token punctuation\">.</span>conf\nx86_64<span class=\"token operator\">-</span>linux<span class=\"token operator\">-</span>gnu<span class=\"token punctuation\">.</span>conf\n<span class=\"token keyword\">local</span><span class=\"token punctuation\">.</span>conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>文件示例</strong>：</p>\n<ul>\n<li><p>/etc/ld.so.conf.d/local.conf：</p>\n<pre class=\"line-numbers language-vbnet\" data-language=\"vbnet\"><code class=\"language-vbnet\"><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span><span class=\"token keyword\">lib</span>\n<span class=\"token operator\">/</span>opt<span class=\"token operator\">/</span>custom<span class=\"token operator\">/</span><span class=\"token keyword\">lib</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n<p>这些路径会被动态链接器添加到库搜索路径中。</p>\n<hr>\n<h3 id=\"四、如何配置动态库路径\"><a href=\"#四、如何配置动态库路径\" class=\"headerlink\" title=\"四、如何配置动态库路径\"></a><strong>四、如何配置动态库路径</strong></h3><h4 id=\"1-添加自定义路径\"><a href=\"#1-添加自定义路径\" class=\"headerlink\" title=\"1. 添加自定义路径\"></a><strong>1. 添加自定义路径</strong></h4><p>假设有一个自定义动态库路径 <code>/home/user/mylibs</code>，以下是配置步骤：</p>\n<ol>\n<li><p><strong>创建配置文件</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/ld.so.conf.d/mylibs.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>添加如下内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/home/user/mylibs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>更新动态库缓存</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> ldconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>验证是否生效</strong>： 查看是否包含新路径：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ldconfig <span class=\"token parameter variable\">-p</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> mylibs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n<hr>\n<h4 id=\"2-临时配置路径\"><a href=\"#2-临时配置路径\" class=\"headerlink\" title=\"2. 临时配置路径\"></a><strong>2. 临时配置路径</strong></h4><p>如果只是临时测试动态库路径，可以使用 <code>LD_LIBRARY_PATH</code> 环境变量：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">LD_LIBRARY_PATH</span><span class=\"token operator\">=</span>/home/user/mylibs:<span class=\"token variable\">$LD_LIBRARY_PATH</span>\n./myprogram<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>注意</strong>：这种方法仅对当前终端会话有效。</p>\n<hr>\n<h3 id=\"五、ldconfig-的作用\"><a href=\"#五、ldconfig-的作用\" class=\"headerlink\" title=\"五、ldconfig 的作用\"></a><strong>五、<code>ldconfig</code> 的作用</strong></h3><p><code>ldconfig</code> 是管理动态库缓存的工具，其作用包括：</p>\n<ol>\n<li><strong>扫描路径</strong>：根据 <code>/etc/ld.so.conf</code> 和 <code>/etc/ld.so.conf.d/</code> 下的配置文件，扫描动态库路径。</li>\n<li><strong>更新缓存</strong>：生成 <code>/etc/ld.so.cache</code> 文件，加速库的加载。</li>\n</ol>\n<h4 id=\"常用命令\"><a href=\"#常用命令\" class=\"headerlink\" title=\"常用命令\"></a><strong>常用命令</strong></h4><ol>\n<li><p>更新缓存：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> ldconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>指定路径更新缓存：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> ldconfig /home/user/mylibs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>查看当前缓存的库：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ldconfig <span class=\"token parameter variable\">-p</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n<hr>\n<h3 id=\"六、动态库配置实例\"><a href=\"#六、动态库配置实例\" class=\"headerlink\" title=\"六、动态库配置实例\"></a><strong>六、动态库配置实例</strong></h3><h4 id=\"1-动态库开发\"><a href=\"#1-动态库开发\" class=\"headerlink\" title=\"1. 动态库开发\"></a><strong>1. 动态库开发</strong></h4><p>创建一个简单动态库：</p>\n<pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token comment\">// hello.c</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h&gt;</span></span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, from dynamic library!\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>编译成动态库：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">gcc -fPIC -shared -o libhello.so hello.c<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将动态库移动到 <code>/opt/mylibs</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /opt/mylibs\n<span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> libhello.so /opt/mylibs/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-配置加载路径\"><a href=\"#2-配置加载路径\" class=\"headerlink\" title=\"2. 配置加载路径\"></a><strong>2. 配置加载路径</strong></h4><p>创建 <code>/etc/ld.so.conf.d/mylibs.conf</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/ld.so.conf.d/mylibs.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/opt/mylibs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>更新缓存：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> ldconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-使用动态库\"><a href=\"#3-使用动态库\" class=\"headerlink\" title=\"3. 使用动态库\"></a><strong>3. 使用动态库</strong></h4><p>编写一个测试程序：</p>\n<pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token comment\">// main.c</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>编译并运行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">gcc <span class=\"token parameter variable\">-o</span> main main.c <span class=\"token parameter variable\">-lhello</span>\n./main<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>输出：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Hello, from dynamic library<span class=\"token operator\">!</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"七、排错方法\"><a href=\"#七、排错方法\" class=\"headerlink\" title=\"七、排错方法\"></a><strong>七、排错方法</strong></h3><ol>\n<li><p><strong>检查动态库是否存在</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ldconfig <span class=\"token parameter variable\">-p</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> libhello<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>验证动态库路径是否正确</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">ldd ./main<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>动态库无法加载时</strong>：</p>\n<ul>\n<li>检查是否添加了正确的路径到 <code>/etc/ld.so.conf.d</code>。</li>\n<li>检查是否运行了 <code>ldconfig</code>。</li>\n</ul>\n</li>\n</ol>\n<hr>\n",
            "tags": [
                "命令"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2024/11/24/linux-wen-jian-cao-zuo-ming-ling/",
            "url": "https://0xdadream.github.io/2024/11/24/linux-wen-jian-cao-zuo-ming-ling/",
            "title": "linux文件操作命令",
            "date_published": "2024-11-24T01:25:00.000Z",
            "content_html": "<h1 id=\"linux文件操作命令\"><a href=\"#linux文件操作命令\" class=\"headerlink\" title=\"linux文件操作命令\"></a>linux文件操作命令</h1><p>以下是 Linux 系统中与文件操作相关的命令，附带常用参数的详细解释。</p>\n<hr>\n<h2 id=\"1-查看文件和目录\"><a href=\"#1-查看文件和目录\" class=\"headerlink\" title=\"1. 查看文件和目录\"></a><strong>1. 查看文件和目录</strong></h2><h3 id=\"列出目录内容-ls\"><a href=\"#列出目录内容-ls\" class=\"headerlink\" title=\"列出目录内容 (ls)\"></a><strong>列出目录内容 (<code>ls</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>路径<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-l</code>：以详细列表形式显示，包括权限、所有者、文件大小、修改时间等。</li>\n<li><code>-a</code>：显示所有文件，包括以 <code>.</code> 开头的隐藏文件。</li>\n<li><code>-h</code>：配合 <code>-l</code>，以人类可读的文件大小显示（如 <code>1K</code>, <code>1M</code>）。</li>\n<li><code>-r</code>：逆序排列。</li>\n<li><code>-t</code>：按时间排序。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-lah</span> /home/user<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"查看当前路径-pwd\"><a href=\"#查看当前路径-pwd\" class=\"headerlink\" title=\"查看当前路径 (pwd)\"></a><strong>查看当前路径 (<code>pwd</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">pwd</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>输出当前工作目录的完整路径。</li>\n</ul>\n<hr>\n<h2 id=\"2-创建文件和目录\"><a href=\"#2-创建文件和目录\" class=\"headerlink\" title=\"2. 创建文件和目录\"></a><strong>2. 创建文件和目录</strong></h2><h3 id=\"创建文件-touch\"><a href=\"#创建文件-touch\" class=\"headerlink\" title=\"创建文件 (touch)\"></a><strong>创建文件 (<code>touch</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">touch</span> filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>功能：创建一个空文件或更新已有文件的时间戳。</li>\n</ul>\n<h3 id=\"创建目录-mkdir\"><a href=\"#创建目录-mkdir\" class=\"headerlink\" title=\"创建目录 (mkdir)\"></a><strong>创建目录 (<code>mkdir</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 目录名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-p</code>：递归创建目录。如果父目录不存在，会自动创建。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> /home/user/project/logs<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"3-查看文件内容\"><a href=\"#3-查看文件内容\" class=\"headerlink\" title=\"3. 查看文件内容\"></a><strong>3. 查看文件内容</strong></h2><h3 id=\"显示文件内容-cat\"><a href=\"#显示文件内容-cat\" class=\"headerlink\" title=\"显示文件内容 (cat)\"></a><strong>显示文件内容 (<code>cat</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 文件名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-n</code>：显示行号。</li>\n<li><code>-A</code>：显示所有字符，包括不可见字符。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token parameter variable\">-n</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"分页查看-less-和-more\"><a href=\"#分页查看-less-和-more\" class=\"headerlink\" title=\"分页查看 (less 和 more)\"></a><strong>分页查看 (<code>less</code> 和 <code>more</code>)</strong></h3><ul>\n<li><p>less：分页查看，支持向前滚动。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">less</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>more：逐页查看，按空格翻页。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">more</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"4-编辑文件\"><a href=\"#4-编辑文件\" class=\"headerlink\" title=\"4. 编辑文件\"></a><strong>4. 编辑文件</strong></h2><h3 id=\"简单编辑器-nano\"><a href=\"#简单编辑器-nano\" class=\"headerlink\" title=\"简单编辑器 (nano)\"></a><strong>简单编辑器 (<code>nano</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">nano</span> filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>使用快捷键（如 <code>Ctrl+O</code> 保存，<code>Ctrl+X</code> 退出）。</li>\n</ul>\n<h3 id=\"高级编辑器-vim\"><a href=\"#高级编辑器-vim\" class=\"headerlink\" title=\"高级编辑器 (vim)\"></a><strong>高级编辑器 (<code>vim</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>基本模式：<ul>\n<li>按 <code>i</code> 进入插入模式。</li>\n<li>编辑完成后按 <code>Esc</code>，输入 <code>:wq</code> 保存并退出。</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"5-复制、移动和重命名文件\"><a href=\"#5-复制、移动和重命名文件\" class=\"headerlink\" title=\"5. 复制、移动和重命名文件\"></a><strong>5. 复制、移动和重命名文件</strong></h2><h3 id=\"复制文件和目录-cp\"><a href=\"#复制文件和目录-cp\" class=\"headerlink\" title=\"复制文件和目录 (cp)\"></a><strong>复制文件和目录 (<code>cp</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 源文件 目标文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-r</code>：递归复制目录。</li>\n<li><code>-p</code>：保留文件属性（权限、时间戳等）。</li>\n<li><code>-i</code>：覆盖前提示确认。</li>\n<li><code>-v</code>：显示详细过程。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> <span class=\"token parameter variable\">-rp</span> source_dir/ target_dir/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"移动和重命名-mv\"><a href=\"#移动和重命名-mv\" class=\"headerlink\" title=\"移动和重命名 (mv)\"></a><strong>移动和重命名 (<code>mv</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mv</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 源文件 目标文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-i</code>：覆盖前提示确认。</li>\n<li><code>-v</code>：显示详细过程。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mv</span> file1.txt file2.txt  <span class=\"token comment\"># 重命名</span>\n<span class=\"token function\">mv</span> file.txt /path/to/dir/  <span class=\"token comment\"># 移动文件</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"6-删除文件和目录\"><a href=\"#6-删除文件和目录\" class=\"headerlink\" title=\"6. 删除文件和目录\"></a><strong>6. 删除文件和目录</strong></h2><h3 id=\"删除文件和目录-rm\"><a href=\"#删除文件和目录-rm\" class=\"headerlink\" title=\"删除文件和目录 (rm)\"></a><strong>删除文件和目录 (<code>rm</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 文件/目录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-r</code>：递归删除目录及其内容。</li>\n<li><code>-f</code>：强制删除，无需确认。</li>\n<li><code>-i</code>：删除前提示确认。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /tmp/test<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"7-搜索文件和内容\"><a href=\"#7-搜索文件和内容\" class=\"headerlink\" title=\"7. 搜索文件和内容\"></a><strong>7. 搜索文件和内容</strong></h2><h3 id=\"查找文件-find\"><a href=\"#查找文件-find\" class=\"headerlink\" title=\"查找文件 (find)\"></a><strong>查找文件 (<code>find</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> <span class=\"token punctuation\">[</span>路径<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>条件<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>操作<span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用条件：</p>\n<ul>\n<li><code>-name</code>：按文件名查找（支持通配符）。</li>\n<li><code>-type</code>：按类型查找，如 <code>f</code>（文件），<code>d</code>（目录）。</li>\n<li><code>-size</code>：按文件大小查找，如 <code>+1M</code>（大于1MB）。</li>\n<li><code>-mtime</code>：按修改时间查找，如 <code>-7</code>（7天内修改的文件）。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> /home <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"*.txt\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"搜索文件内容-grep\"><a href=\"#搜索文件内容-grep\" class=\"headerlink\" title=\"搜索文件内容 (grep)\"></a><strong>搜索文件内容 (<code>grep</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> <span class=\"token string\">\"关键字\"</span> 文件名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-i</code>：忽略大小写。</li>\n<li><code>-r</code>：递归搜索目录。</li>\n<li><code>-n</code>：显示行号。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token parameter variable\">-rn</span> <span class=\"token string\">\"error\"</span> /var/log/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"8-修改文件权限\"><a href=\"#8-修改文件权限\" class=\"headerlink\" title=\"8. 修改文件权限\"></a><strong>8. 修改文件权限</strong></h2><h3 id=\"修改权限-chmod\"><a href=\"#修改权限-chmod\" class=\"headerlink\" title=\"修改权限 (chmod)\"></a><strong>修改权限 (<code>chmod</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> <span class=\"token punctuation\">[</span>模式<span class=\"token punctuation\">]</span> 文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>权限格式：</p>\n<ul>\n<li><code>u</code>：用户，<code>g</code>：组，<code>o</code>：其他，<code>a</code>：全部。</li>\n<li><code>+</code>：添加权限，<code>-</code>：删除权限，<code>=</code>：设置权限。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> u+x script.sh    <span class=\"token comment\"># 给用户添加执行权限</span>\n<span class=\"token function\">chmod</span> <span class=\"token number\">755</span> file.txt     <span class=\"token comment\"># 设置读写执行权限</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"修改所有者-chown\"><a href=\"#修改所有者-chown\" class=\"headerlink\" title=\"修改所有者 (chown)\"></a><strong>修改所有者 (<code>chown</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chown</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 用户:组 文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chown</span> user:group file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"9-压缩和解压文件\"><a href=\"#9-压缩和解压文件\" class=\"headerlink\" title=\"9. 压缩和解压文件\"></a><strong>9. 压缩和解压文件</strong></h2><h3 id=\"压缩文件\"><a href=\"#压缩文件\" class=\"headerlink\" title=\"压缩文件\"></a><strong>压缩文件</strong></h3><ul>\n<li><p>tar：创建归档文件。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-czvf</span> archive.tar.gz 文件/目录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>zip：压缩为 ZIP 格式。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">zip</span> <span class=\"token parameter variable\">-r</span> archive.zip 文件/目录<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"解压文件\"><a href=\"#解压文件\" class=\"headerlink\" title=\"解压文件\"></a><strong>解压文件</strong></h3><ul>\n<li><p>tar：解压 .tar.gz文件。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xzvf</span> archive.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>unzip：解压 ZIP 文件。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">unzip</span> archive.zip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"10-其他常用操作\"><a href=\"#10-其他常用操作\" class=\"headerlink\" title=\"10. 其他常用操作\"></a><strong>10. 其他常用操作</strong></h2><h3 id=\"统计文件行、词、字符数-wc\"><a href=\"#统计文件行、词、字符数-wc\" class=\"headerlink\" title=\"统计文件行、词、字符数 (wc)\"></a><strong>统计文件行、词、字符数 (<code>wc</code>)</strong></h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wc</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>常用选项：</p>\n<ul>\n<li><code>-l</code>：统计行数。</li>\n<li><code>-w</code>：统计单词数。</li>\n<li><code>-c</code>：统计字节数。</li>\n</ul>\n</li>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wc</span> <span class=\"token parameter variable\">-l</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"监视文件内容-tail-和-head\"><a href=\"#监视文件内容-tail-和-head\" class=\"headerlink\" title=\"监视文件内容 (tail 和 head)\"></a><strong>监视文件内容 (<code>tail</code> 和 <code>head</code>)</strong></h3><ul>\n<li><p>显示文件头部：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">head</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">10</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>动态监视文件末尾：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tail</span> <span class=\"token parameter variable\">-f</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<p>在 Linux 中，<strong>管道符 (<code>|</code>)</strong> 是一种强大的工具，用于将一个命令的输出传递给另一个命令作为输入。以下是管道符的详细介绍和常见使用场景。</p>\n<hr>\n<h2 id=\"管道符语法\"><a href=\"#管道符语法\" class=\"headerlink\" title=\"管道符语法\"></a><strong>管道符语法</strong></h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">command1 <span class=\"token operator\">|</span> command2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>command1</code>：第一个命令，生成输出。</li>\n<li><code>|</code>：管道符，将第一个命令的输出传递给第二个命令。</li>\n<li><code>command2</code>：第二个命令，将接收的输入进行处理。</li>\n</ul>\n<hr>\n<h2 id=\"常见场景和示例\"><a href=\"#常见场景和示例\" class=\"headerlink\" title=\"常见场景和示例\"></a><strong>常见场景和示例</strong></h2><h3 id=\"1-结合-grep-搜索内容\"><a href=\"#1-结合-grep-搜索内容\" class=\"headerlink\" title=\"1. 结合 grep 搜索内容\"></a><strong>1. 结合 <code>grep</code> 搜索内容</strong></h3><ul>\n<li><p>查找某目录中包含特定关键词的文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">\n<span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"filename\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p>示例：列出当前目录下包含 “log” 的文件名：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"log\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"2-结合-sort-排序\"><a href=\"#2-结合-sort-排序\" class=\"headerlink\" title=\"2. 结合 sort 排序\"></a><strong>2. 结合 <code>sort</code> 排序</strong></h3><ul>\n<li><p>按文件大小排序（结合 ls -l）：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token parameter variable\">-k</span> <span class=\"token number\">5</span> <span class=\"token parameter variable\">-n</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>-k 5</code>：按第 5 列（文件大小）排序。</li>\n<li><code>-n</code>：按数值排序。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-结合-wc-统计\"><a href=\"#3-结合-wc-统计\" class=\"headerlink\" title=\"3. 结合 wc 统计\"></a><strong>3. 结合 <code>wc</code> 统计</strong></h3><ul>\n<li><p>统计当前目录下的文件数量：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> <span class=\"token parameter variable\">-l</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>统计文件中的行数、单词数和字符数：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> file.txt <span class=\"token operator\">|</span> <span class=\"token function\">wc</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"4-结合-head-和-tail-查看内容\"><a href=\"#4-结合-head-和-tail-查看内容\" class=\"headerlink\" title=\"4. 结合 head 和 tail 查看内容\"></a><strong>4. 结合 <code>head</code> 和 <code>tail</code> 查看内容</strong></h3><ul>\n<li><p>查看文件的前 10 行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> file.txt <span class=\"token operator\">|</span> <span class=\"token function\">head</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">10</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>查看文件的最后 10 行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> file.txt <span class=\"token operator\">|</span> <span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">10</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"5-结合-cut-提取字段\"><a href=\"#5-结合-cut-提取字段\" class=\"headerlink\" title=\"5. 结合 cut 提取字段\"></a><strong>5. 结合 <code>cut</code> 提取字段</strong></h3><ul>\n<li><p>从 ls -l中提取文件权限：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">' '</span> <span class=\"token parameter variable\">-f</span> <span class=\"token number\">1</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>-d ' '</code>：以空格为分隔符。</li>\n<li><code>-f 1</code>：提取第 1 列。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"6-结合-awk-进行格式化\"><a href=\"#6-结合-awk-进行格式化\" class=\"headerlink\" title=\"6. 结合 awk 进行格式化\"></a><strong>6. 结合 <code>awk</code> 进行格式化</strong></h3><ul>\n<li><p>提取文件名和大小：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> <span class=\"token function\">awk</span> <span class=\"token string\">'{print $5, $9}'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><code>$5</code>：表示文件大小。</li>\n<li><code>$9</code>：表示文件名。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"7-结合-uniq-去重\"><a href=\"#7-结合-uniq-去重\" class=\"headerlink\" title=\"7. 结合 uniq 去重\"></a><strong>7. 结合 <code>uniq</code> 去重</strong></h3><ul>\n<li><p>统计文件中的唯一单词（结合 sort 和 uniq）：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> file.txt <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token operator\">|</span> <span class=\"token function\">uniq</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"8-结合-tee-保存和显示\"><a href=\"#8-结合-tee-保存和显示\" class=\"headerlink\" title=\"8. 结合 tee 保存和显示\"></a><strong>8. 结合 <code>tee</code> 保存和显示</strong></h3><ul>\n<li><p>将命令输出保存到文件，同时在终端显示：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"9-结合-xargs-执行批量命令\"><a href=\"#9-结合-xargs-执行批量命令\" class=\"headerlink\" title=\"9. 结合 xargs 执行批量命令\"></a><strong>9. 结合 <code>xargs</code> 执行批量命令</strong></h3><ul>\n<li><p>删除包含特定关键词的文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"temp\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">rm</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>将文本文件中的内容逐行作为命令行参数：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> files.txt <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token parameter variable\">-I</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token function\">mv</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> /backup/<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"10-动态监控日志文件\"><a href=\"#10-动态监控日志文件\" class=\"headerlink\" title=\"10. 动态监控日志文件\"></a><strong>10. 动态监控日志文件</strong></h3><ul>\n<li><p>监控日志文件中包含错误的行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tail</span> <span class=\"token parameter variable\">-f</span> /var/log/syslog <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"error\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"管道符结合其他符号\"><a href=\"#管道符结合其他符号\" class=\"headerlink\" title=\"管道符结合其他符号\"></a><strong>管道符结合其他符号</strong></h2><h3 id=\"与重定向符号一起使用\"><a href=\"#与重定向符号一起使用\" class=\"headerlink\" title=\"与重定向符号一起使用\"></a><strong>与重定向符号一起使用</strong></h3><p>将管道符的输出保存到文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"txt\"</span> <span class=\"token operator\">&gt;</span> result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"多重管道\"><a href=\"#多重管道\" class=\"headerlink\" title=\"多重管道\"></a><strong>多重管道</strong></h3><p>将多个命令串联：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> file.txt <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"keyword\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token operator\">|</span> <span class=\"token function\">uniq</span> <span class=\"token parameter variable\">-c</span> <span class=\"token operator\">|</span> <span class=\"token function\">sort</span> <span class=\"token parameter variable\">-nr</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>功能：<ol>\n<li>搜索文件中的 <code>keyword</code>。</li>\n<li>排序结果。</li>\n<li>去重并统计出现次数。</li>\n<li>按出现次数逆序排序。</li>\n</ol>\n</li>\n</ul>\n<hr>\n<p>在 Linux 中，<strong>重定向</strong> 是将命令的输出或输入重定向到文件或其他设备的操作。它通常用于保存输出、将错误输出单独处理或读取文件作为输入。</p>\n<hr>\n<h2 id=\"1-输出重定向\"><a href=\"#1-输出重定向\" class=\"headerlink\" title=\"1. 输出重定向\"></a><strong>1. 输出重定向</strong></h2><h3 id=\"标准输出\"><a href=\"#标准输出\" class=\"headerlink\" title=\"标准输出 (>)\"></a><strong>标准输出 (<code>&gt;</code>)</strong></h3><ul>\n<li>将命令的标准输出（正常输出）重定向到文件。</li>\n<li>如果文件已存在，会<strong>覆盖</strong>原文件内容。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&gt;</span> <span class=\"token function\">file</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">&gt;</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将 ls 命令的输出保存到 output.txt文件中。</p>\n</li>\n</ul>\n<h3 id=\"追加输出\"><a href=\"#追加输出\" class=\"headerlink\" title=\"追加输出 (>>)\"></a><strong>追加输出 (<code>&gt;&gt;</code>)</strong></h3><ul>\n<li>将命令的标准输出<strong>追加</strong>到文件末尾，而不是覆盖。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&gt;&gt;</span> <span class=\"token function\">file</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"New line\"</span> <span class=\"token operator\">&gt;&gt;</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将字符串 “New line” 添加到 output.txt 的末尾。</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"2-错误重定向\"><a href=\"#2-错误重定向\" class=\"headerlink\" title=\"2. 错误重定向\"></a><strong>2. 错误重定向</strong></h2><h3 id=\"标准错误输出-2\"><a href=\"#标准错误输出-2\" class=\"headerlink\" title=\"标准错误输出 (2>)\"></a><strong>标准错误输出 (<code>2&gt;</code>)</strong></h3><ul>\n<li>将命令的错误输出（标准错误）重定向到文件。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> error.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> nonexistent_file <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> error.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将错误消息保存到 error.txt。</p>\n</li>\n</ul>\n<h3 id=\"追加错误输出-2\"><a href=\"#追加错误输出-2\" class=\"headerlink\" title=\"追加错误输出 (2>>)\"></a><strong>追加错误输出 (<code>2&gt;&gt;</code>)</strong></h3><ul>\n<li>将错误输出<strong>追加</strong>到文件末尾。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;&gt;</span> error.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"3-合并标准输出和错误输出\"><a href=\"#3-合并标准输出和错误输出\" class=\"headerlink\" title=\"3. 合并标准输出和错误输出\"></a><strong>3. 合并标准输出和错误输出</strong></h2><h3 id=\"将标准输出和标准错误合并到同一文件\"><a href=\"#将标准输出和标准错误合并到同一文件\" class=\"headerlink\" title=\"将标准输出和标准错误合并到同一文件\"></a><strong>将标准输出和标准错误合并到同一文件</strong></h3><ul>\n<li>使用 <code>&amp;&gt;</code> 将正常输出和错误输出都保存到一个文件。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&amp;&gt;</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> existing_file nonexistent_file <span class=\"token operator\">&amp;&gt;</span> all_output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"追加合并输出\"><a href=\"#追加合并输出\" class=\"headerlink\" title=\"追加合并输出\"></a><strong>追加合并输出</strong></h3><ul>\n<li>使用 <code>&amp;&gt;&gt;</code> 将正常输出和错误输出都追加到一个文件。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&amp;&gt;&gt;</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"4-输入重定向\"><a href=\"#4-输入重定向\" class=\"headerlink\" title=\"4. 输入重定向\"></a><strong>4. 输入重定向</strong></h2><h3 id=\"将文件作为命令的输入\"><a href=\"#将文件作为命令的输入\" class=\"headerlink\" title=\"将文件作为命令的输入 (<)\"></a><strong>将文件作为命令的输入 (<code>&lt;</code>)</strong></h3><ul>\n<li>使用 <code>&lt;</code> 将文件内容作为命令的输入。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&lt;</span> <span class=\"token function\">file</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token operator\">&lt;</span> input.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>统计 input.txt 的行数。</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"5-同时处理输出和错误\"><a href=\"#5-同时处理输出和错误\" class=\"headerlink\" title=\"5. 同时处理输出和错误\"></a><strong>5. 同时处理输出和错误</strong></h2><h3 id=\"将标准输出和错误分别保存到不同文件\"><a href=\"#将标准输出和错误分别保存到不同文件\" class=\"headerlink\" title=\"将标准输出和错误分别保存到不同文件\"></a><strong>将标准输出和错误分别保存到不同文件</strong></h3><ul>\n<li>使用 <code>&gt; file</code> 和 <code>2&gt; error_file</code>：</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&gt;</span> output.txt <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> error.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> existing_file nonexistent_file <span class=\"token operator\">&gt;</span> stdout.txt <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> stderr.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"6-特殊重定向\"><a href=\"#6-特殊重定向\" class=\"headerlink\" title=\"6. 特殊重定向\"></a><strong>6. 特殊重定向</strong></h2><h3 id=\"丢弃输出到-dev-null\"><a href=\"#丢弃输出到-dev-null\" class=\"headerlink\" title=\"丢弃输出到 /dev/null\"></a><strong>丢弃输出到 <code>/dev/null</code></strong></h3><ul>\n<li><p><code>/dev/null</code> 是一个特殊设备文件，重定向到它的内容会被丢弃。</p>\n</li>\n<li><p>丢弃标准输出：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&gt;</span> /dev/null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>丢弃标准错误：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> /dev/null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>同时丢弃标准输出和错误：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&amp;&gt;</span> /dev/null<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"7-使用-tee-同时输出到文件和终端\"><a href=\"#7-使用-tee-同时输出到文件和终端\" class=\"headerlink\" title=\"7. 使用 tee 同时输出到文件和终端\"></a><strong>7. 使用 <code>tee</code> 同时输出到文件和终端</strong></h2><ul>\n<li><code>tee</code> 命令可以将输入同时保存到文件和终端。</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> <span class=\"token function\">file</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将 <code>ls</code> 的输出显示在终端的同时保存到 <code>output.txt</code>。</p>\n</li>\n<li><p>追加模式：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">-a</span> <span class=\"token function\">file</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<hr>\n<h2 id=\"8-重定向符号总结\"><a href=\"#8-重定向符号总结\" class=\"headerlink\" title=\"8. 重定向符号总结\"></a><strong>8. 重定向符号总结</strong></h2><table>\n<thead>\n<tr>\n<th>符号</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>&gt;</code></td>\n<td>将标准输出重定向到文件，覆盖文件内容</td>\n</tr>\n<tr>\n<td><code>&gt;&gt;</code></td>\n<td>将标准输出追加到文件末尾</td>\n</tr>\n<tr>\n<td><code>2&gt;</code></td>\n<td>将错误输出重定向到文件，覆盖文件内容</td>\n</tr>\n<tr>\n<td><code>2&gt;&gt;</code></td>\n<td>将错误输出追加到文件末尾</td>\n</tr>\n<tr>\n<td><code>&amp;&gt;</code></td>\n<td>将标准输出和错误输出重定向到同一文件</td>\n</tr>\n<tr>\n<td><code>&amp;&gt;&gt;</code></td>\n<td>将标准输出和错误输出追加到同一文件</td>\n</tr>\n<tr>\n<td><code>&lt;</code></td>\n<td>将文件内容作为命令的标准输入</td>\n</tr>\n<tr>\n<td><code>/dev/null</code></td>\n<td>丢弃所有输出</td>\n</tr>\n<tr>\n<td>`</td>\n<td>tee`</td>\n</tr>\n</tbody></table>\n<hr>\n<h3 id=\"示例：组合重定向\"><a href=\"#示例：组合重定向\" class=\"headerlink\" title=\"示例：组合重定向\"></a><strong>示例：组合重定向</strong></h3><ol>\n<li><p>同时保存输出和错误到不同文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> existing_file nonexistent_file <span class=\"token operator\">&gt;</span> stdout.txt <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> stderr.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>同时显示输出在终端，并保存到文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">tee</span> output.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>统计某文件夹的文件数量，但丢弃错误：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> /path/to/dir <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>&gt;</span> /dev/null <span class=\"token operator\">|</span> <span class=\"token function\">wc</span> <span class=\"token parameter variable\">-l</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n",
            "tags": [
                "命令"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2024/11/23/bian-yi-shi-yong/",
            "url": "https://0xdadream.github.io/2024/11/23/bian-yi-shi-yong/",
            "title": "编译教程",
            "date_published": "2024-11-23T01:25:00.000Z",
            "content_html": "<h1 id=\"编译教程\"><a href=\"#编译教程\" class=\"headerlink\" title=\"编译教程\"></a>编译教程</h1><p>下面是一个<strong>完整的从源码编译安装软件的教程</strong>，涵盖了从环境准备到配置、编译、安装的所有可能会用到的步骤和细节，适用于各种类型的软件包。</p>\n<hr>\n<h2 id=\"一、环境准备\"><a href=\"#一、环境准备\" class=\"headerlink\" title=\"一、环境准备\"></a>一、环境准备</h2><p>在开始编译源码之前，确保系统满足以下条件：</p>\n<h3 id=\"1-安装必要工具\"><a href=\"#1-安装必要工具\" class=\"headerlink\" title=\"1. 安装必要工具\"></a>1. <strong>安装必要工具</strong></h3><p>在 Linux 环境下，通常需要以下工具：</p>\n<ul>\n<li><strong>编译器</strong>: <code>gcc</code> 或 <code>clang</code></li>\n<li><strong>构建工具</strong>: <code>make</code></li>\n<li><strong>其他依赖</strong>: <code>autoconf</code>, <code>automake</code>, <code>libtool</code></li>\n</ul>\n<p>对于基于 Debian 的系统（如 Ubuntu）：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> build-essential autoconf automake libtool pkg-config<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>对于基于 RHEL 的系统（如 CentOS）：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum groupinstall <span class=\"token string\">\"Development Tools\"</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> autoconf automake libtool pkgconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-下载源码\"><a href=\"#2-下载源码\" class=\"headerlink\" title=\"2. 下载源码\"></a>2. <strong>下载源码</strong></h3><p>源码通常以 <code>.tar.gz</code> 或 <code>.tar.bz2</code> 的形式提供：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://example.com/software-1.0.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xzvf</span> software-1.0.tar.gz\n<span class=\"token builtin class-name\">cd</span> software-1.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"二、运行-configure\"><a href=\"#二、运行-configure\" class=\"headerlink\" title=\"二、运行 ./configure\"></a>二、运行 <code>./configure</code></h2><p><code>./configure</code> 是自动生成的配置脚本，用于检查系统环境，生成适合当前系统的编译配置。以下是配置过程的所有选项说明。</p>\n<h3 id=\"1-路径相关选项\"><a href=\"#1-路径相关选项\" class=\"headerlink\" title=\"1. 路径相关选项\"></a>1. <strong>路径相关选项</strong></h3><table>\n<thead>\n<tr>\n<th>选项</th>\n<th>功能</th>\n<th>默认值</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--prefix=DIR</code></td>\n<td>软件安装的根目录</td>\n<td><code>/usr/local</code></td>\n<td><code>--prefix=/opt/myapp</code></td>\n</tr>\n<tr>\n<td><code>--exec-prefix=DIR</code></td>\n<td>架构相关文件的安装路径</td>\n<td><code>$prefix</code></td>\n<td><code>--exec-prefix=/usr</code></td>\n</tr>\n<tr>\n<td><code>--bindir=DIR</code></td>\n<td>可执行文件安装路径</td>\n<td><code>$exec_prefix/bin</code></td>\n<td><code>--bindir=/usr/bin</code></td>\n</tr>\n<tr>\n<td><code>--libdir=DIR</code></td>\n<td>库文件安装路径</td>\n<td><code>$exec_prefix/lib</code></td>\n<td><code>--libdir=/opt/myapp/lib</code></td>\n</tr>\n<tr>\n<td><code>--includedir=DIR</code></td>\n<td>头文件安装路径</td>\n<td><code>$prefix/include</code></td>\n<td><code>--includedir=/opt/include</code></td>\n</tr>\n</tbody></table>\n<p><strong>示例</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/opt/myapp <span class=\"token parameter variable\">--bindir</span><span class=\"token operator\">=</span>/opt/myapp/bin <span class=\"token parameter variable\">--libdir</span><span class=\"token operator\">=</span>/opt/myapp/lib<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"prefix-的用途\"><a href=\"#prefix-的用途\" class=\"headerlink\" title=\"prefix 的用途\"></a><code>prefix</code> 的用途</h4><p><code>prefix</code> 是通过 <code>./configure --prefix=DIR</code> 选项指定的路径。其主要作用是告诉构建系统，安装的文件应该放在哪个目录下。</p>\n<p><code>$prefix</code> 的默认值通常是：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">/usr/local<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>如果你运行以下命令：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/opt/myapp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>那么，安装路径会变成以下结构：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">/opt/myapp/bin       # 可执行文件\n/opt/myapp/lib       # 库文件\n/opt/myapp/include   # 头文件\n/opt/myapp/share     # 共享资源（如文档、手册）<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h4 id=\"如何修改-prefix\"><a href=\"#如何修改-prefix\" class=\"headerlink\" title=\"如何修改 $prefix\"></a>如何修改 <code>$prefix</code></h4><p>在配置阶段指定通过 <code>./configure</code> 的 <code>--prefix</code> 参数直接指定：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/custom/path<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>如果不指定，系统会默认安装到 <code>/usr/local</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure\n<span class=\"token function\">make</span>\n<span class=\"token function\">make</span> <span class=\"token function\">install</span>\n<span class=\"token comment\"># 文件安装到 /usr/local/...</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h4 id=\"prefix-的实际应用\"><a href=\"#prefix-的实际应用\" class=\"headerlink\" title=\"$prefix 的实际应用\"></a><code>$prefix</code> 的实际应用</h4><p>假设我们正在安装一个名为 <code>myapp</code> 的软件：</p>\n<p>示例 1: 默认安装到 <code>/usr/local</code></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure\n<span class=\"token function\">make</span>\n<span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>安装完成后，文件路径如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">/usr/local/bin/myapp        # 可执行文件\n/usr/local/lib/libmyapp.so  # 动态库\n/usr/local/include/myapp.h  # 头文件\n/usr/local/share/myapp      # 共享数据<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>示例 2: 自定义安装路径</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/opt/myapp\n<span class=\"token function\">make</span>\n<span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>安装完成后，文件路径如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">/opt/myapp/bin/myapp        # 可执行文件\n/opt/myapp/lib/libmyapp.so  # 动态库\n/opt/myapp/include/myapp.h  # 头文件\n/opt/myapp/share/myapp      # 共享数据<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h4 id=\"为什么-prefix-很重要\"><a href=\"#为什么-prefix-很重要\" class=\"headerlink\" title=\"为什么 $prefix 很重要\"></a>为什么 <code>$prefix</code> 很重要</h4><h5 id=\"1-避免覆盖系统文件\"><a href=\"#1-避免覆盖系统文件\" class=\"headerlink\" title=\"1. 避免覆盖系统文件\"></a>1. 避免覆盖系统文件</h5><p>默认路径 <code>/usr/local</code> 不会影响系统自带的软件，安全且独立。</p>\n<h5 id=\"2-方便不同版本共存\"><a href=\"#2-方便不同版本共存\" class=\"headerlink\" title=\"2. 方便不同版本共存\"></a>2. 方便不同版本共存</h5><p>通过为不同版本指定不同的 <code>--prefix</code>，可以在同一台机器上运行多版本的软件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/opt/myapp-1.0\n./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/opt/myapp-2.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"3-灵活管理软件\"><a href=\"#3-灵活管理软件\" class=\"headerlink\" title=\"3. 灵活管理软件\"></a>3. 灵活管理软件</h5><p>如果安装路径是自定义的，例如 <code>/opt/myapp</code>，删除整个软件只需移除该目录：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> /opt/myapp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h4 id=\"如何查看-prefix-的值\"><a href=\"#如何查看-prefix-的值\" class=\"headerlink\" title=\"如何查看 $prefix 的值\"></a>如何查看 <code>$prefix</code> 的值</h4><p>配置完成后，<code>$prefix</code> 的值通常会被记录在 <code>Makefile</code> 中，你可以通过以下方法查看：</p>\n<h5 id=\"1-直接查看-Makefile\"><a href=\"#1-直接查看-Makefile\" class=\"headerlink\" title=\"1. 直接查看 Makefile\"></a>1. 直接查看 <code>Makefile</code></h5><p>打开 <code>Makefile</code>，找到 <code>prefix</code> 的定义：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">\"^prefix\"</span> Makefile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h5 id=\"2-使用-config-log\"><a href=\"#2-使用-config-log\" class=\"headerlink\" title=\"2. 使用 config.log\"></a>2. 使用 <code>config.log</code></h5><p>查看配置过程生成的日志文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">grep</span> <span class=\"token string\">\"prefix\"</span> config.log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"2-功能启用-禁用选项\"><a href=\"#2-功能启用-禁用选项\" class=\"headerlink\" title=\"2. 功能启用/禁用选项\"></a>2. <strong>功能启用/禁用选项</strong></h3><table>\n<thead>\n<tr>\n<th>选项</th>\n<th>功能</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--enable-FEATURE</code></td>\n<td>启用某个功能</td>\n<td><code>--enable-ssl</code></td>\n</tr>\n<tr>\n<td><code>--disable-FEATURE</code></td>\n<td>禁用某个功能</td>\n<td><code>--disable-debug</code></td>\n</tr>\n<tr>\n<td><code>--with-FEATURE</code></td>\n<td>启用功能，并指定路径或配置</td>\n<td><code>--with-ssl=/opt/openssl</code></td>\n</tr>\n<tr>\n<td><code>--without-FEATURE</code></td>\n<td>禁用功能</td>\n<td><code>--without-zlib</code></td>\n</tr>\n</tbody></table>\n<p><strong>示例</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure --enable-optimizations --disable-debug --with-ssl<span class=\"token operator\">=</span>/opt/openssl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"3-编译器相关选项\"><a href=\"#3-编译器相关选项\" class=\"headerlink\" title=\"3. 编译器相关选项\"></a>3. <strong>编译器相关选项</strong></h3><table>\n<thead>\n<tr>\n<th>选项</th>\n<th>功能</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>CC=COMPILER</code></td>\n<td>指定 C 编译器</td>\n<td><code>CC=gcc</code></td>\n</tr>\n<tr>\n<td><code>CXX=COMPILER</code></td>\n<td>指定 C++ 编译器</td>\n<td><code>CXX=g++</code></td>\n</tr>\n<tr>\n<td><code>CFLAGS=FLAGS</code></td>\n<td>为 C 编译器设置标志</td>\n<td><code>CFLAGS=\"-O2 -Wall\"</code></td>\n</tr>\n<tr>\n<td><code>CXXFLAGS=FLAGS</code></td>\n<td>为 C++ 编译器设置标志</td>\n<td><code>CXXFLAGS=\"-O2 -Wall\"</code></td>\n</tr>\n<tr>\n<td><code>LDFLAGS=FLAGS</code></td>\n<td>设置链接器标志</td>\n<td><code>LDFLAGS=\"-L/usr/lib\"</code></td>\n</tr>\n<tr>\n<td><code>CPPFLAGS=FLAGS</code></td>\n<td>设置预处理器标志（头文件路径等）</td>\n<td><code>CPPFLAGS=\"-I/usr/include\"</code></td>\n</tr>\n</tbody></table>\n<p><strong>示例</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token assign-left variable\">CC</span><span class=\"token operator\">=</span>gcc <span class=\"token assign-left variable\">CFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-O2 -Wall\"</span> <span class=\"token assign-left variable\">LDFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-L/usr/local/lib\"</span> <span class=\"token assign-left variable\">CPPFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-I/usr/local/include\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"4-调试与日志选项\"><a href=\"#4-调试与日志选项\" class=\"headerlink\" title=\"4. 调试与日志选项\"></a>4. <strong>调试与日志选项</strong></h3><table>\n<thead>\n<tr>\n<th>选项</th>\n<th>功能</th>\n<th>示例</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>--enable-debug</code></td>\n<td>启用调试模式</td>\n<td><code>--enable-debug</code></td>\n</tr>\n<tr>\n<td><code>--disable-debug</code></td>\n<td>禁用调试模式</td>\n<td><code>--disable-debug</code></td>\n</tr>\n<tr>\n<td><code>--quiet</code> 或 <code>--silent</code></td>\n<td>减少输出</td>\n<td><code>--quiet</code></td>\n</tr>\n<tr>\n<td><code>--verbose</code></td>\n<td>显示详细输出</td>\n<td><code>--verbose</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"5-查看所有参数\"><a href=\"#5-查看所有参数\" class=\"headerlink\" title=\"5.查看所有参数\"></a>5.查看所有参数</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">-h</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>例如得到<code>./configure --python=路径</code>，可以指定安装到指定python版本库中</p>\n<hr>\n<h2 id=\"三、编译源码\"><a href=\"#三、编译源码\" class=\"headerlink\" title=\"三、编译源码\"></a>三、编译源码</h2><p>运行 <code>make</code> 命令开始编译：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p><strong>加速编译</strong><br>利用多核 CPU：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> -j<span class=\"token variable\"><span class=\"token variable\">$(</span>nproc<span class=\"token variable\">)</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>常见问题</strong><br>如果出现依赖问题，请根据报错信息安装缺失的库。</p>\n</li>\n</ul>\n<hr>\n<h2 id=\"四、测试编译结果\"><a href=\"#四、测试编译结果\" class=\"headerlink\" title=\"四、测试编译结果\"></a>四、测试编译结果</h2><p>在安装前，可以运行测试（如果源码支持）：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token builtin class-name\">test</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>或：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> check<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"五、安装编译结果\"><a href=\"#五、安装编译结果\" class=\"headerlink\" title=\"五、安装编译结果\"></a>五、安装编译结果</h2><p>运行 <code>make install</code> 安装编译完成的文件到目标路径：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>安装完成后，检查安装路径下是否有生成的文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> /opt/myapp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"六、卸载（可选）\"><a href=\"#六、卸载（可选）\" class=\"headerlink\" title=\"六、卸载（可选）\"></a>六、卸载（可选）</h2><p>如果需要卸载，使用 <code>make uninstall</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> uninstall<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"七、完整操作示例\"><a href=\"#七、完整操作示例\" class=\"headerlink\" title=\"七、完整操作示例\"></a>七、完整操作示例</h2><p>以下是完整的从下载到安装的操作流程示例：</p>\n<ol>\n<li><p><strong>下载源码</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://example.com/software-1.0.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xzvf</span> software-1.0.tar.gz\n<span class=\"token builtin class-name\">cd</span> software-1.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>运行配置脚本</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/opt/myapp --enable-optimizations --with-ssl<span class=\"token operator\">=</span>/opt/openssl <span class=\"token assign-left variable\">CFLAGS</span><span class=\"token operator\">=</span><span class=\"token string\">\"-O2 -Wall\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>编译源码</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> -j<span class=\"token variable\"><span class=\"token variable\">$(</span>nproc<span class=\"token variable\">)</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>运行测试</strong>（可选）:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token builtin class-name\">test</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>安装程序</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>验证安装</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">/opt/myapp/bin/software <span class=\"token parameter variable\">--version</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n<hr>\n<h2 id=\"八、常见问题及解决方案\"><a href=\"#八、常见问题及解决方案\" class=\"headerlink\" title=\"八、常见问题及解决方案\"></a>八、常见问题及解决方案</h2><h3 id=\"1-缺少依赖库\"><a href=\"#1-缺少依赖库\" class=\"headerlink\" title=\"1. 缺少依赖库\"></a>1. 缺少依赖库</h3><p><strong>错误信息</strong>: <code>configure: error: Missing library xyz</code><br><strong>解决方法</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> libxyz-dev  <span class=\"token comment\"># Debian/Ubuntu</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> xyz-devel   <span class=\"token comment\"># CentOS/RHEL</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-权限不足\"><a href=\"#2-权限不足\" class=\"headerlink\" title=\"2. 权限不足\"></a>2. 权限不足</h3><p><strong>错误信息</strong>: <code>Permission denied</code><br><strong>解决方法</strong>:<br>在需要权限的命令前加 <code>sudo</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"3-环境变量问题\"><a href=\"#3-环境变量问题\" class=\"headerlink\" title=\"3. 环境变量问题\"></a>3. 环境变量问题</h3><p><strong>问题描述</strong>: 安装后无法找到可执行文件。<br><strong>解决方法</strong>: 将安装路径添加到 <code>PATH</code> 中：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span>/opt/myapp/bin:<span class=\"token environment constant\">$PATH</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<p>以下是 <code>autoconf</code> 和 <code>automake</code> 的完整使用教程，包括它们的基本概念、工作原理和实际使用步骤。</p>\n<hr>\n<h2 id=\"一、autoconf-和-automake-的简介\"><a href=\"#一、autoconf-和-automake-的简介\" class=\"headerlink\" title=\"一、autoconf 和 automake 的简介\"></a>一、<code>autoconf</code> 和 <code>automake</code> 的简介</h2><h3 id=\"1-什么是-autoconf\"><a href=\"#1-什么是-autoconf\" class=\"headerlink\" title=\"1. 什么是 autoconf\"></a>1. 什么是 <code>autoconf</code></h3><p><code>autoconf</code> 是一种自动生成 <code>configure</code> 脚本的工具，主要用来检测构建系统的环境是否满足软件的依赖需求，并生成相应的配置文件（如 <code>Makefile</code>）。</p>\n<p><strong>功能</strong>:</p>\n<ul>\n<li>提供跨平台兼容性。</li>\n<li>检查依赖工具和库的存在。</li>\n<li>自动生成编译脚本。</li>\n</ul>\n<hr>\n<h3 id=\"2-什么是-automake\"><a href=\"#2-什么是-automake\" class=\"headerlink\" title=\"2. 什么是 automake\"></a>2. 什么是 <code>automake</code></h3><p><code>automake</code> 是一种自动生成 <code>Makefile.in</code> 文件的工具，它依赖于更高层次的构建规则定义文件 <code>Makefile.am</code>。</p>\n<p><strong>功能</strong>:</p>\n<ul>\n<li>简化 <code>Makefile</code> 编写。</li>\n<li>与 <code>autoconf</code> 配合，生成完整的构建系统。</li>\n<li>提供模块化和扩展支持。</li>\n</ul>\n<hr>\n<h2 id=\"二、工作原理\"><a href=\"#二、工作原理\" class=\"headerlink\" title=\"二、工作原理\"></a>二、工作原理</h2><ul>\n<li><code>autoconf</code> 从 <code>configure.ac</code> 或 <code>configure.in</code> 文件生成 <code>configure</code> 脚本。</li>\n<li><code>automake</code> 从 <code>Makefile.am</code> 文件生成 <code>Makefile.in</code> 文件，最终结合 <code>autoconf</code> 的输出生成 <code>Makefile</code>。</li>\n</ul>\n<p><strong>工具链流程</strong>:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">configure.ac --&gt; autoconf --&gt; configure\nMakefile.am  --&gt; automake --&gt; Makefile.in\nconfigure + Makefile.in --&gt; ./configure --&gt; Makefile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"三、安装和准备环境\"><a href=\"#三、安装和准备环境\" class=\"headerlink\" title=\"三、安装和准备环境\"></a>三、安装和准备环境</h2><h3 id=\"1-安装工具\"><a href=\"#1-安装工具\" class=\"headerlink\" title=\"1. 安装工具\"></a>1. 安装工具</h3><p>在 Linux 环境中安装 <code>autoconf</code> 和 <code>automake</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> autoconf automake  <span class=\"token comment\"># Debian/Ubuntu</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> autoconf automake     <span class=\"token comment\"># CentOS</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"2-项目准备\"><a href=\"#2-项目准备\" class=\"headerlink\" title=\"2. 项目准备\"></a>2. 项目准备</h3><p>创建一个简单的 C 项目目录：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> myproject\n<span class=\"token builtin class-name\">cd</span> myproject\n<span class=\"token function\">mkdir</span> src\n<span class=\"token function\">touch</span> configure.ac Makefile.am src/Makefile.am<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"四、autoconf-和-automake-使用流程\"><a href=\"#四、autoconf-和-automake-使用流程\" class=\"headerlink\" title=\"四、autoconf 和 automake 使用流程\"></a>四、<code>autoconf</code> 和 <code>automake</code> 使用流程</h2><h3 id=\"1-创建-configure-ac-文件\"><a href=\"#1-创建-configure-ac-文件\" class=\"headerlink\" title=\"1. 创建 configure.ac 文件\"></a><strong>1. 创建 <code>configure.ac</code> 文件</strong></h3><p><code>configure.ac</code> 是 <code>autoconf</code> 的核心文件，定义了项目名称、版本、依赖工具等。</p>\n<p>以下是一个简单示例：</p>\n<pre class=\"line-numbers language-m4\" data-language=\"m4\"><code class=\"language-m4\">AC_INIT([myproject], [1.0], [user@example.com])  # 项目名称、版本和维护者\nAM_INIT_AUTOMAKE                                  # 初始化 automake\nAC_PROG_CC                                       # 检测 C 编译器\nAC_CONFIG_FILES([Makefile src/Makefile])         # 配置 Makefile 文件\nAC_OUTPUT                                        # 输出配置文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"2-创建-Makefile-am-文件\"><a href=\"#2-创建-Makefile-am-文件\" class=\"headerlink\" title=\"2. 创建 Makefile.am 文件\"></a><strong>2. 创建 <code>Makefile.am</code> 文件</strong></h3><h4 id=\"顶层目录的-Makefile-am\"><a href=\"#顶层目录的-Makefile-am\" class=\"headerlink\" title=\"顶层目录的 Makefile.am\"></a>顶层目录的 <code>Makefile.am</code></h4><pre class=\"line-numbers language-makefile\" data-language=\"makefile\"><code class=\"language-makefile\">SUBDIRS <span class=\"token operator\">=</span> src<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"src-Makefile-am\"><a href=\"#src-Makefile-am\" class=\"headerlink\" title=\"src/Makefile.am\"></a><code>src/Makefile.am</code></h4><pre class=\"line-numbers language-makefile\" data-language=\"makefile\"><code class=\"language-makefile\">bin_PROGRAMS <span class=\"token operator\">=</span> myapp\nmyapp_SOURCES <span class=\"token operator\">=</span> main.c utils.c utils.h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"3-生成构建脚本和文件\"><a href=\"#3-生成构建脚本和文件\" class=\"headerlink\" title=\"3. 生成构建脚本和文件\"></a><strong>3. 生成构建脚本和文件</strong></h3><ol>\n<li><p><strong>生成 <code>aclocal.m4</code></strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">aclocal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>生成 <code>configure</code> 脚本</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">autoconf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>生成 <code>Makefile.in</code> 文件</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">automake --add-missing<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>生成 <code>Makefile</code> 文件</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n<hr>\n<h3 id=\"4-编译和安装\"><a href=\"#4-编译和安装\" class=\"headerlink\" title=\"4. 编译和安装\"></a><strong>4. 编译和安装</strong></h3><ol>\n<li><p><strong>编译</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>安装</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>运行程序</strong><br>如果你的程序是一个可执行文件，例如 <code>myapp</code>，可以直接运行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./src/myapp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ol>\n<hr>\n<h2 id=\"五、完整示例\"><a href=\"#五、完整示例\" class=\"headerlink\" title=\"五、完整示例\"></a>五、完整示例</h2><p>假设你有以下项目结构：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">myproject/\n├── configure.ac\n├── Makefile.am\n├── src/\n│   ├── Makefile.am\n│   ├── main.c\n│   ├── utils.c\n│   └── utils.h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>以下是各个文件的内容：</p>\n<h3 id=\"1-configure-ac\"><a href=\"#1-configure-ac\" class=\"headerlink\" title=\"1. configure.ac\"></a>1. <code>configure.ac</code></h3><pre class=\"line-numbers language-m4\" data-language=\"m4\"><code class=\"language-m4\">AC_INIT([myproject], [1.0], [user@example.com])\nAM_INIT_AUTOMAKE\nAC_PROG_CC\nAC_CONFIG_FILES([Makefile src/Makefile])\nAC_OUTPUT<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-顶层-Makefile-am\"><a href=\"#2-顶层-Makefile-am\" class=\"headerlink\" title=\"2. 顶层 Makefile.am\"></a>2. 顶层 <code>Makefile.am</code></h3><pre class=\"line-numbers language-makefile\" data-language=\"makefile\"><code class=\"language-makefile\">SUBDIRS <span class=\"token operator\">=</span> src<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"3-src-Makefile-am\"><a href=\"#3-src-Makefile-am\" class=\"headerlink\" title=\"3. src/Makefile.am\"></a>3. <code>src/Makefile.am</code></h3><pre class=\"line-numbers language-makefile\" data-language=\"makefile\"><code class=\"language-makefile\">bin_PROGRAMS <span class=\"token operator\">=</span> myapp\nmyapp_SOURCES <span class=\"token operator\">=</span> main.c utils.c utils.h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"4-src-main-c\"><a href=\"#4-src-main-c\" class=\"headerlink\" title=\"4. src/main.c\"></a>4. <code>src/main.c</code></h3><pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"utils.h\"</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">&lt;stdio.h&gt;</span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Sum: %d\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-src-utils-c\"><a href=\"#5-src-utils-c\" class=\"headerlink\" title=\"5. src/utils.c\"></a>5. <code>src/utils.c</code></h3><pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">include</span> <span class=\"token string\">\"utils.h\"</span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> a<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"6-src-utils-h\"><a href=\"#6-src-utils-h\" class=\"headerlink\" title=\"6. src/utils.h\"></a>6. <code>src/utils.h</code></h3><pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">ifndef</span> <span class=\"token expression\">UTILS_H</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">UTILS_H</span></span>\n\n<span class=\"token keyword\">int</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> a<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">endif</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"构建和运行\"><a href=\"#构建和运行\" class=\"headerlink\" title=\"构建和运行\"></a>构建和运行</h3><h4 id=\"1-生成文件\"><a href=\"#1-生成文件\" class=\"headerlink\" title=\"1. 生成文件\"></a>1. 生成文件</h4><p>运行以下命令生成必要的构建文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">aclocal\nautoconf\nautomake --add-missing\n./configure<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-编译\"><a href=\"#2-编译\" class=\"headerlink\" title=\"2. 编译\"></a>2. 编译</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"3-安装\"><a href=\"#3-安装\" class=\"headerlink\" title=\"3. 安装\"></a>3. 安装</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"4-运行程序\"><a href=\"#4-运行程序\" class=\"headerlink\" title=\"4. 运行程序\"></a>4. 运行程序</h4><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./src/myapp<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"六、常见问题及解决方法\"><a href=\"#六、常见问题及解决方法\" class=\"headerlink\" title=\"六、常见问题及解决方法\"></a>六、常见问题及解决方法</h2><ol>\n<li><strong><code>aclocal: command not found</code></strong><br><strong>原因</strong>: 未安装 <code>automake</code>。<br><strong>解决</strong>: 安装 <code>automake</code>。</li>\n<li><strong><code>configure.ac: no proper invocation of AM_INIT_AUTOMAKE</code></strong><br><strong>原因</strong>: <code>configure.ac</code> 中缺少 <code>AM_INIT_AUTOMAKE</code>。<br><strong>解决</strong>: 添加 <code>AM_INIT_AUTOMAKE</code>。</li>\n<li><strong><code>Makefile.am: required file 'INSTALL' not found</code></strong><br><strong>原因</strong>: 缺少默认的 <code>INSTALL</code> 文件。<br><strong>解决</strong>: 使用 <code>automake --add-missing</code> 自动生成。</li>\n</ol>\n<hr>\n<h2 id=\"一、autoscan\"><a href=\"#一、autoscan\" class=\"headerlink\" title=\"一、autoscan\"></a>一、<code>autoscan</code></h2><h3 id=\"1-什么是-autoscan\"><a href=\"#1-什么是-autoscan\" class=\"headerlink\" title=\"1. 什么是 autoscan\"></a>1. 什么是 <code>autoscan</code></h3><p><code>autoscan</code> 是 <code>autoconf</code> 的一个辅助工具，用于自动生成初始的 <code>configure.ac</code> 文件（或者早期的 <code>configure.in</code> 文件）。它会扫描项目目录中的文件，推测需要哪些检查，并生成一个名为 <code>configure.scan</code> 的模板文件供开发者参考。</p>\n<hr>\n<h3 id=\"2-autoscan-的功能\"><a href=\"#2-autoscan-的功能\" class=\"headerlink\" title=\"2. autoscan 的功能\"></a>2. <code>autoscan</code> 的功能</h3><ul>\n<li>自动检测源码中的依赖，例如头文件、库文件。</li>\n<li>提供一个初步的 <code>configure.ac</code> 文件模板。</li>\n<li>简化了手动编写配置文件的过程。</li>\n</ul>\n<hr>\n<h3 id=\"3-使用方法\"><a href=\"#3-使用方法\" class=\"headerlink\" title=\"3. 使用方法\"></a>3. 使用方法</h3><h4 id=\"1-初始化项目\"><a href=\"#1-初始化项目\" class=\"headerlink\" title=\"(1) 初始化项目\"></a>(1) 初始化项目</h4><p>确保项目目录结构已经创建，并包含至少一个源文件（如 <code>main.c</code>）。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> myproject\n<span class=\"token builtin class-name\">cd</span> myproject\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'#include &lt;stdio.h&gt;'</span> <span class=\"token operator\">&gt;</span> main.c\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'int main() { return 0; }'</span> <span class=\"token operator\">&gt;&gt;</span> main.c<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-运行-autoscan\"><a href=\"#2-运行-autoscan\" class=\"headerlink\" title=\"(2) 运行 autoscan\"></a>(2) 运行 <code>autoscan</code></h4><p>在项目目录中运行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">autoscan<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>运行完成后，生成一个 <code>configure.scan</code> 文件。</p>\n<h4 id=\"3-修改-configure-scan\"><a href=\"#3-修改-configure-scan\" class=\"headerlink\" title=\"(3) 修改 configure.scan\"></a>(3) 修改 <code>configure.scan</code></h4><p>将 <code>configure.scan</code> 重命名为 <code>configure.ac</code>，并根据实际需求修改内容。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mv</span> configure.scan configure.ac<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>示例生成的 <code>configure.scan</code> 文件可能包含以下内容：</p>\n<pre class=\"line-numbers language-m4\" data-language=\"m4\"><code class=\"language-m4\">AC_INIT([UNKNOWN], [1.0], [bug-report@example.com])\nAC_CONFIG_SRCDIR([main.c])\nAC_CONFIG_HEADERS([config.h])\nAC_PROG_CC\nAC_OUTPUT<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>修改后，可添加更多具体的检查内容，例如库依赖、路径配置等。</p>\n<h4 id=\"4-继续构建\"><a href=\"#4-继续构建\" class=\"headerlink\" title=\"(4) 继续构建\"></a>(4) 继续构建</h4><p>生成 <code>configure</code> 脚本：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">autoconf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"4-autoscan-的注意事项\"><a href=\"#4-autoscan-的注意事项\" class=\"headerlink\" title=\"4. autoscan 的注意事项\"></a>4. <code>autoscan</code> 的注意事项</h3><ul>\n<li>它只能作为生成初始配置的工具，输出的 <code>configure.scan</code> 文件需要手动完善。</li>\n<li>如果项目目录中没有 <code>.c</code> 文件或标准构建文件，<code>autoscan</code> 可能无法推断正确的配置。</li>\n</ul>\n<hr>\n<h2 id=\"二、aclocal\"><a href=\"#二、aclocal\" class=\"headerlink\" title=\"二、aclocal\"></a>二、<code>aclocal</code></h2><h3 id=\"1-什么是-aclocal\"><a href=\"#1-什么是-aclocal\" class=\"headerlink\" title=\"1. 什么是 aclocal\"></a>1. 什么是 <code>aclocal</code></h3><p><code>aclocal</code> 是 <code>automake</code> 的辅助工具，专门用于生成 <code>aclocal.m4</code> 文件。<code>aclocal.m4</code> 是一个包含各种宏定义的文件，用于支持 <code>autoconf</code> 和 <code>automake</code> 的功能。</p>\n<p><code>aclocal</code> 会扫描项目目录中的 <code>configure.ac</code> 文件，以及系统中可用的宏定义，生成一个与项目兼容的宏文件。</p>\n<hr>\n<h3 id=\"2-aclocal-的功能\"><a href=\"#2-aclocal-的功能\" class=\"headerlink\" title=\"2. aclocal 的功能\"></a>2. <code>aclocal</code> 的功能</h3><ul>\n<li>根据 <code>configure.ac</code> 的内容，生成或更新 <code>aclocal.m4</code> 文件。</li>\n<li>提供对额外宏库的支持，例如 GNU 库的宏。</li>\n<li>管理自定义宏，以便 <code>autoconf</code> 和 <code>automake</code> 可以正确工作。</li>\n</ul>\n<hr>\n<h3 id=\"3-使用方法-1\"><a href=\"#3-使用方法-1\" class=\"headerlink\" title=\"3. 使用方法\"></a>3. 使用方法</h3><h4 id=\"1-编写-configure-ac\"><a href=\"#1-编写-configure-ac\" class=\"headerlink\" title=\"(1) 编写 configure.ac\"></a>(1) 编写 <code>configure.ac</code></h4><p>假设我们有以下简单的 <code>configure.ac</code> 文件：</p>\n<pre class=\"line-numbers language-m4\" data-language=\"m4\"><code class=\"language-m4\">AC_INIT([myproject], [1.0], [bug-report@example.com])\nAM_INIT_AUTOMAKE\nAC_PROG_CC\nAC_OUTPUT<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"2-运行-aclocal\"><a href=\"#2-运行-aclocal\" class=\"headerlink\" title=\"(2) 运行 aclocal\"></a>(2) 运行 <code>aclocal</code></h4><p>运行以下命令生成或更新 <code>aclocal.m4</code> 文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">aclocal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>生成的 <code>aclocal.m4</code> 文件可能包含标准宏，例如对编译器检查、头文件检查等的支持。</p>\n<h4 id=\"3-后续步骤\"><a href=\"#3-后续步骤\" class=\"headerlink\" title=\"(3) 后续步骤\"></a>(3) 后续步骤</h4><p>生成 <code>configure</code> 文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">autoconf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h3 id=\"4-自定义宏支持\"><a href=\"#4-自定义宏支持\" class=\"headerlink\" title=\"4. 自定义宏支持\"></a>4. 自定义宏支持</h3><p>如果你需要自定义宏，可以创建一个名为 <code>m4/</code> 的目录，并将宏文件放入其中。例如：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> m4\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'AC_DEFUN([MY_MACRO], [echo \"This is my custom macro\"])'</span> <span class=\"token operator\">&gt;</span> m4/my_macro.m4<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>然后在 <code>configure.ac</code> 中引用：</p>\n<pre class=\"line-numbers language-m4\" data-language=\"m4\"><code class=\"language-m4\">AC_INIT([myproject], [1.0], [bug-report@example.com])\nAC_CONFIG_MACRO_DIR([m4])  # 指定宏目录\nAM_INIT_AUTOMAKE\nMY_MACRO\nAC_OUTPUT<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>运行以下命令，<code>aclocal</code> 会自动包含自定义宏：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">aclocal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<hr>\n<h2 id=\"三、完整实践示例\"><a href=\"#三、完整实践示例\" class=\"headerlink\" title=\"三、完整实践示例\"></a>三、完整实践示例</h2><p>假设我们有一个简单的项目：<br>目录结构如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">myproject/\n├── configure.ac\n├── Makefile.am\n├── src/\n│   ├── main.c\n│   ├── utils.c\n│   └── utils.h<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>以下是构建流程：</p>\n<ol>\n<li><strong>生成初始文件</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">autoscan\n<span class=\"token function\">mv</span> configure.scan configure.ac<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ol>\n<li><strong>完善 <code>configure.ac</code></strong></li>\n</ol>\n<pre class=\"line-numbers language-m4\" data-language=\"m4\"><code class=\"language-m4\">AC_INIT([myproject], [1.0], [bug-report@example.com])\nAC_CONFIG_SRCDIR([src/main.c])\nAC_CONFIG_MACRO_DIR([m4])\nAM_INIT_AUTOMAKE\nAC_PROG_CC\nAC_OUTPUT<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ol>\n<li><strong>生成宏文件</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">aclocal<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ol>\n<li><strong>生成 <code>configure</code> 脚本</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">autoconf\nautomake --add-missing<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ol>\n<li><strong>运行 <code>configure</code> 和编译</strong></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure\n<span class=\"token function\">make</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<hr>\n",
            "tags": [
                "命令"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2024/11/20/linux-bian-yi-charm-ku/",
            "url": "https://0xdadream.github.io/2024/11/20/linux-bian-yi-charm-ku/",
            "title": "linux编译charm库",
            "date_published": "2024-11-20T01:25:00.000Z",
            "content_html": "<h1 id=\"linux编译charm库\"><a href=\"#linux编译charm库\" class=\"headerlink\" title=\"linux编译charm库\"></a>linux编译charm库</h1><p>在 Windows 的 Linux 子系统 (WSL) 中使用 Ubuntu 编译安装 Charm 库的步骤如下：</p>\n<hr>\n<h3 id=\"基于-WSL-的-Charm-库安装教程\"><a href=\"#基于-WSL-的-Charm-库安装教程\" class=\"headerlink\" title=\"基于 WSL 的 Charm 库安装教程\"></a><strong>基于 WSL 的 Charm 库安装教程</strong></h3><h4 id=\"1-更新系统并安装依赖\"><a href=\"#1-更新系统并安装依赖\" class=\"headerlink\" title=\"1. 更新系统并安装依赖\"></a><strong>1. 更新系统并安装依赖</strong></h4><p>应用商店下载linux后执行<code>wsl --update</code></p>\n<p>在 WSL Ubuntu 中，运行以下命令安装必要的编译工具和库：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> upgrade <span class=\"token parameter variable\">-y</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> build-essential python3 python3-dev python3-pip python3-setuptools <span class=\"token punctuation\">\\</span>\n                     libgmp-dev libssl-dev swig libpbc-dev <span class=\"token function\">git</span> <span class=\"token function\">wget</span> gcc <span class=\"token function\">make</span> m4 flex bison<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>这里的库可以一个一个单独安装，没有就去找源码安装，下面报安装错也能再安装，这里ubuntu版本最好不要太高，openssl我的是3.0.2没问题，gmp最高，openssl，python一般会自带，python我的是python3.10</p>\n<hr>\n<h4 id=\"2-安装-PBC-库\"><a href=\"#2-安装-PBC-库\" class=\"headerlink\" title=\"2. 安装 PBC 库\"></a><strong>2. 安装 PBC 库</strong></h4><p>PBC 是 Charm 的核心依赖之一，需要手动编译安装。</p>\n<ol>\n<li><p><strong>下载源码：</strong></p>\n<p><a href=\"https://crypto.stanford.edu/pbc/download.html\">PBC Library - Pairing-Based Cryptography - Downloads</a>下载第一个</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://crypto.stanford.edu/pbc/files/pbc-0.5.14.tar.gz\n<span class=\"token function\">tar</span> <span class=\"token parameter variable\">-zxvf</span> pbc-0.5.14.tar.gz<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>编译和安装：</strong></p>\n<p>进入解压的目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure\n<span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"/usr/local/lib\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">-a</span> /etc/ld.so.conf.d/libpbc.conf\n<span class=\"token function\">sudo</span> ldconfig<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<hr>\n<h4 id=\"3-下载并安装-Charm-库\"><a href=\"#3-下载并安装-Charm-库\" class=\"headerlink\" title=\"3. 下载并安装 Charm 库\"></a><strong>3. 下载并安装 Charm 库</strong></h4><ol>\n<li><p><strong>下载源码：</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/JHUISI/charm.git\n<span class=\"token builtin class-name\">cd</span> charm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>配置安装路径：</strong></p>\n<p>执行 <code>configure.sh</code> 脚本，指定 GMP 和 PBC 的安装路径：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>编译和安装：</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">make</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">make</span> <span class=\"token function\">install</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>import charm</code>判断安装是否成功</p>\n</li>\n</ol>\n<hr>\n<p>报错就看报错信息，可以参考官方<a href=\"https://jhuisi.github.io/charm/install_source.html\">Platform Install Manual — Charm-Crypto 0.50 documentation</a></p>\n",
            "tags": [
                "bug",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2024/08/10/ruan-lian-jie-he-ying-lian-jie/",
            "url": "https://0xdadream.github.io/2024/08/10/ruan-lian-jie-he-ying-lian-jie/",
            "title": "软链接和硬链接",
            "date_published": "2024-08-10T02:25:00.000Z",
            "content_html": "<h1 id=\"软链接和硬链接\"><a href=\"#软链接和硬链接\" class=\"headerlink\" title=\"软链接和硬链接\"></a>软链接和硬链接</h1><p>在Linux和Unix系统中，<strong>软链接</strong>（符号链接，symbolic link，简称<code>symlink</code>）和<strong>硬链接</strong>（hard link）是两种用于指向文件或目录的方式。它们有不同的用途和行为。</p>\n<h2 id=\"1-软链接（Symbolic-Link）\"><a href=\"#1-软链接（Symbolic-Link）\" class=\"headerlink\" title=\"1. 软链接（Symbolic Link）\"></a>1. 软链接（Symbolic Link）</h2><p>软链接类似于Windows中的快捷方式，它是一个指向另一个文件或目录的指针。创建软链接后，这个链接文件本身并不包含目标文件的数据，而是包含目标文件的路径。</p>\n<h4 id=\"特性：\"><a href=\"#特性：\" class=\"headerlink\" title=\"特性：\"></a>特性：</h4><ul>\n<li><strong>指向目标文件的路径</strong>：软链接文件仅存储目标文件的路径，而不是文件内容。</li>\n<li><strong>跨文件系统</strong>：软链接可以指向不同文件系统中的文件或目录。</li>\n<li><strong>链断裂问题</strong>：如果目标文件被删除或移动，软链接将失效，成为“断链”。</li>\n<li><strong>文件大小</strong>：软链接的大小是指向目标文件路径的长度。</li>\n</ul>\n<h4 id=\"创建软链接\"><a href=\"#创建软链接\" class=\"headerlink\" title=\"创建软链接\"></a>创建软链接</h4><p>要创建一个软链接，你可以使用<code>ln -s</code>命令。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /path/to/target /path/to/symlink<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /home/user/original_file.txt /home/user/shortcut_to_file.txt <span class=\"token comment\"># 也可以是目录</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这将创建一个名为<code>shortcut_to_file.txt</code>的软链接，指向<code>/home/user/original_file.txt</code>。</p>\n<h4 id=\"查看软链接\"><a href=\"#查看软链接\" class=\"headerlink\" title=\"查看软链接\"></a>查看软链接</h4><p>使用<code>ls -l</code>命令可以查看软链接的详细信息。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> /path/to/symlink<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span> /home/user/shortcut_to_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>输出示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">lrwxrwxrwx <span class=\"token number\">1</span> user user <span class=\"token number\">21</span> Aug <span class=\"token number\">12</span> <span class=\"token number\">12</span>:00 /home/user/shortcut_to_file.txt -<span class=\"token operator\">&gt;</span> /home/user/original_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><code>l</code>表示这是一个软链接，箭头<code>-&gt;</code>后面是目标路径。</p>\n<h4 id=\"删除软链接\"><a href=\"#删除软链接\" class=\"headerlink\" title=\"删除软链接\"></a>删除软链接</h4><p>使用<code>rm</code>命令删除软链接。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> /path/to/symlink<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> /home/user/shortcut_to_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这将删除软链接，但不会影响目标文件。</p>\n<h2 id=\"2-硬链接（Hard-Link）\"><a href=\"#2-硬链接（Hard-Link）\" class=\"headerlink\" title=\"2. 硬链接（Hard Link）\"></a>2. 硬链接（Hard Link）</h2><p>硬链接是文件系统中的一个目录条目，它指向文件的实际数据块。与软链接不同，硬链接不是指向路径，而是指向数据块。因此，硬链接和原始文件共享相同的数据块。</p>\n<h4 id=\"特性：-1\"><a href=\"#特性：-1\" class=\"headerlink\" title=\"特性：\"></a>特性：</h4><ul>\n<li><strong>指向数据块</strong>：硬链接指向文件的实际数据块，而不是路径。</li>\n<li><strong>共享文件数据</strong>：硬链接和原始文件共享相同的数据块，因此它们内容完全相同，且修改一个文件内容会同时更新硬链接的内容。</li>\n<li><strong>不可跨文件系统</strong>：硬链接必须在同一文件系统内。</li>\n<li><strong>删除影响</strong>：删除一个硬链接不会影响文件的实际数据，只有当所有指向数据块的硬链接都删除后，文件的数据才会被删除。</li>\n</ul>\n<h4 id=\"创建硬链接\"><a href=\"#创建硬链接\" class=\"headerlink\" title=\"创建硬链接\"></a>创建硬链接</h4><p>要创建一个硬链接，你可以使用<code>ln</code>命令（不带<code>-s</code>选项）。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ln</span> /path/to/target /path/to/hardlink<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ln</span> /home/user/original_file.txt /home/user/hardlink_to_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这将创建一个名为<code>hardlink_to_file.txt</code>的硬链接，指向<code>/home/user/original_file.txt</code>的数据块。</p>\n<h4 id=\"查看硬链接\"><a href=\"#查看硬链接\" class=\"headerlink\" title=\"查看硬链接\"></a>查看硬链接</h4><p>使用<code>ls -li</code>命令可以查看文件的inode号，硬链接共享相同的inode号。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-li</span> /path/to/target /path/to/hardlink<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token parameter variable\">-li</span> /home/user/original_file.txt /home/user/hardlink_to_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>输出示例：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token number\">1234567</span> -rw-r--r-- <span class=\"token number\">2</span> user user <span class=\"token number\">1024</span> Aug <span class=\"token number\">12</span> <span class=\"token number\">12</span>:00 /home/user/original_file.txt\n<span class=\"token number\">1234567</span> -rw-r--r-- <span class=\"token number\">2</span> user user <span class=\"token number\">1024</span> Aug <span class=\"token number\">12</span> <span class=\"token number\">12</span>:00 /home/user/hardlink_to_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>两个文件共享相同的inode号（<code>1234567</code>），说明它们是硬链接。</p>\n<h4 id=\"删除硬链接\"><a href=\"#删除硬链接\" class=\"headerlink\" title=\"删除硬链接\"></a>删除硬链接</h4><p>使用<code>rm</code>命令删除硬链接。删除硬链接不会删除文件数据，只有当所有硬链接都被删除后，文件数据才会被删除。</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> /path/to/hardlink<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> /home/user/hardlink_to_file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这将删除硬链接，但<code>/home/user/original_file.txt</code>仍然存在，文件数据依然可用。</p>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ul>\n<li><strong>软链接</strong>：适合用作快捷方式和指向目录。使用软链接时，请确保目标文件存在，或会造成“断链”。</li>\n<li><strong>硬链接</strong>：适用于同一文件系统内共享文件数据，不能链接到目录（通常情况下）。硬链接不可跨文件系统。</li>\n</ul>\n<h2 id=\"进阶操作\"><a href=\"#进阶操作\" class=\"headerlink\" title=\"进阶操作\"></a>进阶操作</h2><ul>\n<li><p><strong>查看所有链接</strong>：使用<code>find</code>命令查找所有指向某个目标的软链接或硬链接。</p>\n<p><strong>示例</strong>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">find</span> /path/to/directory <span class=\"token parameter variable\">-type</span> l <span class=\"token parameter variable\">-name</span> <span class=\"token string\">\"link_name\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这个命令会查找所有名为<code>link_name</code>的软链接。</p>\n</li>\n</ul>\n",
            "tags": [
                "命令"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2024/08/03/shell/",
            "url": "https://0xdadream.github.io/2024/08/03/shell/",
            "title": "shell",
            "date_published": "2024-08-03T01:25:00.000Z",
            "content_html": "<h1 id=\"shell\"><a href=\"#shell\" class=\"headerlink\" title=\"shell\"></a>shell</h1><p>Shell 是一种用于与操作系统进行交互的命令行界面。常见的 Shell 有 Bash（Bourne Again Shell）、Zsh、Ksh、以及 Windows 上的 PowerShell。Shell 不仅可以用于执行单个命令，还可以编写脚本来自动化任务。以下是一些基本的 Shell 命令和脚本编写的示例。</p>\n<h2 id=\"基本-Shell-命令\"><a href=\"#基本-Shell-命令\" class=\"headerlink\" title=\"基本 Shell 命令\"></a>基本 Shell 命令</h2><h3 id=\"文件和目录操作\"><a href=\"#文件和目录操作\" class=\"headerlink\" title=\"文件和目录操作\"></a>文件和目录操作</h3><ul>\n<li><p><strong>ls</strong>：列出目录内容</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span>\n<span class=\"token function\">ls</span> <span class=\"token parameter variable\">-l</span>  <span class=\"token comment\"># 显示详细信息</span>\n<span class=\"token function\">ls</span> <span class=\"token parameter variable\">-a</span>  <span class=\"token comment\"># 显示所有文件，包括隐藏文件</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>cd</strong>：更改目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> /path/to/directory\n<span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>  <span class=\"token comment\"># 返回上一级目录</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>pwd</strong>：显示当前工作目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">pwd</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>mkdir</strong>：创建目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> new_directory<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>rm</strong>：删除文件或目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> filename\n<span class=\"token function\">rm</span> <span class=\"token parameter variable\">-r</span> directory  <span class=\"token comment\"># 删除目录及其内容</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>cp</strong>：复制文件或目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cp</span> source_file destination\n<span class=\"token function\">cp</span> <span class=\"token parameter variable\">-r</span> source_directory destination  <span class=\"token comment\"># 复制目录及其内容</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>mv</strong>：移动或重命名文件或目录</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">mv</span> old_name new_name\n<span class=\"token function\">mv</span> <span class=\"token function\">file</span> /path/to/destination<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"文件查看和编辑\"><a href=\"#文件查看和编辑\" class=\"headerlink\" title=\"文件查看和编辑\"></a>文件查看和编辑</h3><ul>\n<li><p><strong>cat</strong>：查看文件内容</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>less</strong>：分页查看文件内容</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">less</span> filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>head</strong>：查看文件开头部分</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">head</span> filename\n<span class=\"token function\">head</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">10</span> filename  <span class=\"token comment\"># 查看前 10 行</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>tail</strong>：查看文件末尾部分</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">tail</span> filename\n<span class=\"token function\">tail</span> <span class=\"token parameter variable\">-n</span> <span class=\"token number\">10</span> filename  <span class=\"token comment\"># 查看后 10 行</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>nano</strong>、<strong>vi</strong>、<strong>vim</strong>：文本编辑器</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">nano</span> filename\n<span class=\"token function\">vi</span> filename\n<span class=\"token function\">vim</span> filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"系统信息和管理\"><a href=\"#系统信息和管理\" class=\"headerlink\" title=\"系统信息和管理\"></a>系统信息和管理</h3><ul>\n<li><p><strong>echo</strong>：打印消息</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, World!\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>whoami</strong>：显示当前用户</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">whoami</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>top</strong>：实时显示系统性能信息</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">top</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>ps</strong>：显示当前进程</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ps</span>\n<span class=\"token function\">ps</span> aux  <span class=\"token comment\"># 显示所有进程</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>kill</strong>：终止进程</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">kill</span> PID\n<span class=\"token function\">kill</span> <span class=\"token parameter variable\">-9</span> PID  <span class=\"token comment\"># 强制终止进程</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>chmod</strong>：更改文件权限</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> <span class=\"token number\">755</span> filename\n<span class=\"token function\">chmod</span> +x filename  <span class=\"token comment\"># 使文件可执行</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>chown</strong>：更改文件所有者</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chown</span> user:group filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"网络相关\"><a href=\"#网络相关\" class=\"headerlink\" title=\"网络相关\"></a>网络相关</h3><ul>\n<li><p><strong>ping</strong>：测试网络连通性</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ping</span> example.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>curl</strong>：发送网络请求</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://example.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>wget</strong>：下载文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> http://example.com/file<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"管道和重定向\"><a href=\"#管道和重定向\" class=\"headerlink\" title=\"管道和重定向\"></a>管道和重定向</h3><ul>\n<li><p>**|**：管道，将一个命令的输出作为另一个命令的输入</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> <span class=\"token string\">\"pattern\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>**&gt;**：重定向输出到文件（覆盖）</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, World!\"</span> <span class=\"token operator\">&gt;</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>**&gt;&gt;**：重定向输出到文件（追加）</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, World!\"</span> <span class=\"token operator\">&gt;&gt;</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>**&lt;**：重定向输入</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">command</span> <span class=\"token operator\">&lt;</span> inputfile<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"变量\"><a href=\"#变量\" class=\"headerlink\" title=\"变量\"></a>变量</h3><ul>\n<li><p>设置变量</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">MY_VAR</span><span class=\"token operator\">=</span><span class=\"token string\">\"Hello, World!\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p>使用变量</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$MY_VAR</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h2 id=\"Shell-脚本\"><a href=\"#Shell-脚本\" class=\"headerlink\" title=\"Shell 脚本\"></a>Shell 脚本</h2><p>Shell 脚本是一组 Shell 命令的集合，通常用于自动化任务。以下是一个简单的 Shell 脚本示例：</p>\n<h3 id=\"创建脚本文件\"><a href=\"#创建脚本文件\" class=\"headerlink\" title=\"创建脚本文件\"></a>创建脚本文件</h3><p>使用你喜欢的文本编辑器创建一个脚本文件，例如 <code>myscript.sh</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">nano</span> myscript.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"编写脚本\"><a href=\"#编写脚本\" class=\"headerlink\" title=\"编写脚本\"></a>编写脚本</h3><p>在脚本文件中编写以下内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># 打印消息</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"This is a simple shell script.\"</span>\n\n<span class=\"token comment\"># 设置变量</span>\n<span class=\"token assign-left variable\">NAME</span><span class=\"token operator\">=</span><span class=\"token string\">\"Alice\"</span>\n\n<span class=\"token comment\"># 使用变量</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Hello, <span class=\"token variable\">$NAME</span>!\"</span>\n\n<span class=\"token comment\"># 条件语句</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$NAME</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"Alice\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Welcome, Alice!\"</span>\n<span class=\"token keyword\">else</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"You are not Alice.\"</span>\n<span class=\"token keyword\">fi</span>\n\n<span class=\"token comment\"># 循环</span>\n<span class=\"token keyword\">for</span> <span class=\"token for-or-select variable\">i</span> <span class=\"token keyword\">in</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">..</span><span class=\"token number\">5</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Number: <span class=\"token variable\">$i</span>\"</span>\n<span class=\"token keyword\">done</span>\n\n<span class=\"token comment\"># 函数</span>\n<span class=\"token function-name function\">my_function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"This is a function.\"</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># 调用函数</span>\nmy_function<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"运行脚本\"><a href=\"#运行脚本\" class=\"headerlink\" title=\"运行脚本\"></a>运行脚本</h3><p>首先使脚本可执行：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> +x myscript.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>然后运行脚本：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./myscript.sh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>",
            "tags": [
                "命令"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2024/07/20/linux-mei-hua-ming-ling-xing/",
            "url": "https://0xdadream.github.io/2024/07/20/linux-mei-hua-ming-ling-xing/",
            "title": "linux美化命令行",
            "date_published": "2024-07-19T22:25:00.000Z",
            "content_html": "<h1 id=\"linux美化命令行\"><a href=\"#linux美化命令行\" class=\"headerlink\" title=\"linux美化命令行\"></a>linux美化命令行</h1><h2 id=\"centos8\"><a href=\"#centos8\" class=\"headerlink\" title=\"centos8\"></a>centos8</h2><h3 id=\"安装和配置-Zsh\"><a href=\"#安装和配置-Zsh\" class=\"headerlink\" title=\"安装和配置 Zsh\"></a>安装和配置 Zsh</h3><p>首先，安装 Zsh：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">zsh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将默认 shell 更改为 Zsh：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">chsh <span class=\"token parameter variable\">-s</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> <span class=\"token function\">zsh</span><span class=\"token variable\">)</span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>重新登录以使更改生效，或者使用以下命令启动 Zsh：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">zsh</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"安装和配置-Oh-My-Zsh\"><a href=\"#安装和配置-Oh-My-Zsh\" class=\"headerlink\" title=\"安装和配置 Oh My Zsh\"></a>安装和配置 Oh My Zsh</h3><p>下载并安装 Oh My Zsh：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sh</span> <span class=\"token parameter variable\">-c</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=\"token variable\">)</span></span>\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"安装并启用-Powerline\"><a href=\"#安装并启用-Powerline\" class=\"headerlink\" title=\"安装并启用 Powerline\"></a>安装并启用 Powerline</h3><p>安装 Powerline 及其字体支持：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> epel-release\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> powerline powerline-fonts<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>编辑 <code>~/.zshrc</code> 文件以启用 Powerline：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>在文件末尾添加以下内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> /usr/share/powerline/zsh/powerline.zsh <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n    <span class=\"token builtin class-name\">source</span> /usr/share/powerline/zsh/powerline.zsh\n<span class=\"token keyword\">fi</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>保存并退出，然后重新加载 <code>~/.zshrc</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"安装并配置插件\"><a href=\"#安装并配置插件\" class=\"headerlink\" title=\"安装并配置插件\"></a>安装并配置插件</h3><h4 id=\"安装-zsh-syntax-highlighting-插件\"><a href=\"#安装-zsh-syntax-highlighting-插件\" class=\"headerlink\" title=\"安装 zsh-syntax-highlighting 插件\"></a>安装 zsh-syntax-highlighting 插件</h4><p>该插件提供命令语法高亮：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"安装-zsh-autosuggestions-插件\"><a href=\"#安装-zsh-autosuggestions-插件\" class=\"headerlink\" title=\"安装 zsh-autosuggestions 插件\"></a>安装 zsh-autosuggestions 插件</h4><p>该插件提供命令自动建议：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"安装-fzf-插件\"><a href=\"#安装-fzf-插件\" class=\"headerlink\" title=\"安装 fzf 插件\"></a>安装 fzf 插件</h4><p>该插件提供模糊搜索功能：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone <span class=\"token parameter variable\">--depth</span> <span class=\"token number\">1</span> https://github.com/junegunn/fzf.git ~/.fzf\n~/.fzf/install<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>Ctrl+R开启搜索</p>\n<h4 id=\"安装-zsh-history-substring-search-插件\"><a href=\"#安装-zsh-history-substring-search-插件\" class=\"headerlink\" title=\"安装 zsh-history-substring-search 插件\"></a>安装 zsh-history-substring-search 插件</h4><p>该插件提供历史记录子字符串搜索：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/zsh-users/zsh-history-substring-search ~/.oh-my-zsh/custom/plugins/zsh-history-substring-search<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>上箭头键（↑）</strong>：在历史记录中查找当前输入的子字符串的上一条记录</p>\n<p><strong>下箭头键（↓）</strong>：在历史记录中查找当前输入的子字符串的下一条记录</p>\n<h3 id=\"安装-z-插件\"><a href=\"#安装-z-插件\" class=\"headerlink\" title=\"安装 z 插件\"></a>安装 <code>z</code> 插件</h3><p>克隆 <code>z</code> 插件仓库，用于目录跳转的非常方便的工具：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/rupa/z.git /var/local/z<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这里不能放在<code>~</code>目录，有报错，没有目录自己创建</p>\n<p><code>z &lt;部分目录名&gt;</code>：跳转到包含指定部分目录名的路径中访问频率最高的目录</p>\n<p><code>z -l &lt;部分目录名&gt;</code>：列出包含指定部分目录名的所有目录，并按访问频率排序</p>\n<p><code>z -c &lt;部分目录名&gt;</code>：列出包含指定部分目录名的所有目录，并按访问时间排序</p>\n<h4 id=\"配置插件\"><a href=\"#配置插件\" class=\"headerlink\" title=\"配置插件\"></a>配置插件</h4><p>编辑 <code>~/.zshrc</code> 文件，添加并启用插件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>找到 <code>plugins</code> 这一行，并将其修改为如下内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">plugins</span><span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">git</span>\n    zsh-syntax-highlighting\n    zsh-autosuggestions\n    zsh-history-substring-search\n    z\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>在文件末尾添加以下内容以启用 <code>zsh-history-substring-search</code> 和 <code>fzf</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\n<span class=\"token builtin class-name\">source</span> ~/.oh-my-zsh/custom/plugins/zsh-history-substring-search/zsh-history-substring-search.zsh\n<span class=\"token builtin class-name\">source</span> ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n\n<span class=\"token comment\"># z 插件配置</span>\n<span class=\"token builtin class-name\">source</span> /var/local/z/z.sh\n\n<span class=\"token comment\"># zsh-history-substring-search configuration</span>\nbindkey <span class=\"token string\">'^[[A'</span> history-substring-search-up\nbindkey <span class=\"token string\">'^[[B'</span> history-substring-search-down\n\n<span class=\"token comment\"># fzf configuration</span>\n<span class=\"token punctuation\">[</span> <span class=\"token parameter variable\">-f</span> ~/.fzf.zsh <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">source</span> ~/.fzf.zsh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>保存并退出，然后重新加载 <code>~/.zshrc</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"安装并配置-Powerlevel10k-主题\"><a href=\"#安装并配置-Powerlevel10k-主题\" class=\"headerlink\" title=\"安装并配置 Powerlevel10k 主题\"></a>安装并配置 Powerlevel10k 主题</h3><p>Powerlevel10k 是一个高性能的 Zsh 主题，提供了丰富的美化选项：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone <span class=\"token parameter variable\">--depth</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> https://github.com/romkatv/powerlevel10k.git <span class=\"token variable\">${ZSH_CUSTOM<span class=\"token operator\">:-</span>~<span class=\"token operator\">/</span>.oh-my-zsh<span class=\"token operator\">/</span>custom}</span>/themes/powerlevel10k<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>编辑 <code>~/.zshrc</code> 文件，设置 Powerlevel10k 主题：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>将 <code>ZSH_THEME</code> 行修改为：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">ZSH_THEME</span><span class=\"token operator\">=</span><span class=\"token string\">\"powerlevel10k/powerlevel10k\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>保存并退出，然后重新加载 <code>~/.zshrc</code>：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>第一次启动时，Powerlevel10k 会引导你完成配置，选择你喜欢的配置选项即可</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">p10k configure <span class=\"token comment\"># 重新配置主题</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"Zsh-别名\"><a href=\"#Zsh-别名\" class=\"headerlink\" title=\"Zsh 别名\"></a>Zsh 别名</h4><p><strong>编辑 <code>~/.zshrc</code> 文件</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>添加常用别名</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">ll</span><span class=\"token operator\">=</span><span class=\"token string\">'ls -la'</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">gs</span><span class=\"token operator\">=</span><span class=\"token string\">'git status'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>保存并应用更改</strong>:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">source</span> ~/.zshrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"一键脚本\"><a href=\"#一键脚本\" class=\"headerlink\" title=\"一键脚本\"></a>一键脚本</h3><p>创建文件zsh-setup.sh</p>\n<p><code>vim zsh-setup.sh</code>，将下面代码粘贴进来</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\"># 更新系统并安装 Zsh</span>\n<span class=\"token function\">sudo</span> yum update <span class=\"token parameter variable\">-y</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> <span class=\"token function\">zsh</span>\n\n<span class=\"token comment\"># 将默认 shell 更改为 Zsh</span>\nchsh <span class=\"token parameter variable\">-s</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">which</span> <span class=\"token function\">zsh</span><span class=\"token variable\">)</span></span>\n\n<span class=\"token comment\"># 安装 Oh My Zsh</span>\n<span class=\"token function\">sh</span> <span class=\"token parameter variable\">-c</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=\"token variable\">)</span></span>\"</span>\n\n<span class=\"token comment\"># 安装 Powerline 和字体支持</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> epel-release\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> powerline powerline-fonts\n\n<span class=\"token comment\"># 配置 Powerline</span>\n<span class=\"token function\">cat</span> <span class=\"token operator\">&gt;&gt;</span> ~/.zshrc <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'EOF'\nif [ -f /usr/share/powerline/zsh/powerline.zsh ]; then\n    source /usr/share/powerline/zsh/powerline.zsh\nfi\nEOF</span>\n\n<span class=\"token comment\"># 安装 zsh-syntax-highlighting 插件</span>\n<span class=\"token function\">git</span> clone https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting\n\n<span class=\"token comment\"># 安装 zsh-autosuggestions 插件</span>\n<span class=\"token function\">git</span> clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions\n\n<span class=\"token comment\"># 安装 fzf 插件</span>\n<span class=\"token function\">git</span> clone <span class=\"token parameter variable\">--depth</span> <span class=\"token number\">1</span> https://github.com/junegunn/fzf.git ~/.fzf\n~/.fzf/install <span class=\"token parameter variable\">--all</span>\n\n<span class=\"token comment\"># 安装 zsh-history-substring-search 插件</span>\n<span class=\"token function\">git</span> clone https://github.com/zsh-users/zsh-history-substring-search ~/.oh-my-zsh/custom/plugins/zsh-history-substring-search\n\n<span class=\"token comment\"># 安装 z 插件</span>\n<span class=\"token function\">git</span> clone https://github.com/rupa/z.git /var/local/z\n\n<span class=\"token comment\"># 配置插件</span>\n<span class=\"token function\">cat</span> <span class=\"token operator\">&gt;&gt;</span> ~/.zshrc <span class=\"token operator\">&lt;&lt;</span> <span class=\"token string\">'EOF'\nplugins=(\n    git\n    zsh-syntax-highlighting\n    zsh-autosuggestions\n    zsh-history-substring-search\n    z\n)\n\nsource ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh\nsource ~/.oh-my-zsh/custom/plugins/zsh-history-substring-search/zsh-history-substring-search.zsh\nsource ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh\n\n# z 插件配置\nsource /var/local/z/z.sh\n\n# zsh-history-substring-search configuration\nbindkey '^[[A' history-substring-search-up\nbindkey '^[[B' history-substring-search-down\n\n# fzf configuration\n[ -f ~/.fzf.zsh ] &amp;&amp; source ~/.fzf.zsh\nEOF</span>\n\n<span class=\"token comment\"># 安装 Powerlevel10k 主题</span>\n<span class=\"token function\">git</span> clone <span class=\"token parameter variable\">--depth</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> https://github.com/romkatv/powerlevel10k.git <span class=\"token variable\">${ZSH_CUSTOM<span class=\"token operator\">:-</span>~<span class=\"token operator\">/</span>.oh-my-zsh<span class=\"token operator\">/</span>custom}</span>/themes/powerlevel10k\n\n<span class=\"token comment\"># 配置 Powerlevel10k 主题</span>\n<span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token string\">'s/ZSH_THEME=\".*\"/ZSH_THEME=\"powerlevel10k\\/powerlevel10k\"/'</span> ~/.zshrc\n\n<span class=\"token comment\"># 重新加载 Zsh 配置</span>\n<span class=\"token builtin class-name\">source</span> ~/.zshrc\n\n<span class=\"token comment\"># 提示用户重新登录以使更改生效</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"Please log out and log back in to apply the changes.\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><code>chmod +x zsh-setup.sh</code>赋予执行权限</p>\n<p><code>./zsh-setup.sh</code>执行两次脚本，再执行<code>source ~/.zshrc</code></p>\n<h3 id=\"恢复为bash\"><a href=\"#恢复为bash\" class=\"headerlink\" title=\"恢复为bash\"></a>恢复为bash</h3><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token environment constant\">$SHELL</span>  <span class=\"token comment\">#查看当前命令行</span>\n<span class=\"token function\">which</span> <span class=\"token function\">bash</span>  <span class=\"token comment\"># 查看bash所在目录</span>\nchsh <span class=\"token parameter variable\">-s</span> /bin/bash  <span class=\"token comment\"># 后面目录为你上述命令执行结果，切换命令行</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h2><p>和centos基本一致，将yum换成apt安装命令即可</p>\n<p>一键脚本也是将yum换成apt</p>\n",
            "tags": [
                "tip"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2023/03/08/linux-dao-shou-shi-xu-yao-an-zhuang/",
            "url": "https://0xdadream.github.io/2023/03/08/linux-dao-shou-shi-xu-yao-an-zhuang/",
            "title": "linux到手时需要安装",
            "date_published": "2023-03-07T20:11:00.000Z",
            "content_html": "<h1 id=\"linux到手时需要安装\"><a href=\"#linux到手时需要安装\" class=\"headerlink\" title=\"linux到手时需要安装\"></a>linux到手时需要安装</h1><h2 id=\"安装的依赖\"><a href=\"#安装的依赖\" class=\"headerlink\" title=\"安装的依赖\"></a>安装的依赖</h2><pre class=\"line-numbers language-none\"><code class=\"language-none\">sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python-openssl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/24/linux-zhong-echo-xie-ru-wen-jian/",
            "url": "https://0xdadream.github.io/2022/05/24/linux-zhong-echo-xie-ru-wen-jian/",
            "title": "linux中echo写入文件",
            "date_published": "2022-05-23T20:11:00.000Z",
            "content_html": "<h1 id=\"linux中echo写入文件\"><a href=\"#linux中echo写入文件\" class=\"headerlink\" title=\"linux中echo写入文件\"></a>linux中echo写入文件</h1><h2 id=\"覆盖文件内容\"><a href=\"#覆盖文件内容\" class=\"headerlink\" title=\"覆盖文件内容\"></a>覆盖文件内容</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"test\"</span> <span class=\"token operator\">&gt;</span> test.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"追加文件内容\"><a href=\"#追加文件内容\" class=\"headerlink\" title=\"追加文件内容\"></a>追加文件内容</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"test\"</span> <span class=\"token operator\">&gt;&gt;</span> test.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>后面会自动加/n</p>\n",
            "tags": [
                "linux",
                "命令"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/17/archlinux-she-zhi-zhong-wen/",
            "url": "https://0xdadream.github.io/2022/05/17/archlinux-she-zhi-zhong-wen/",
            "title": "archlinux设置中文",
            "date_published": "2022-05-16T20:11:00.000Z",
            "content_html": "<h1 id=\"archlinux设置中文\"><a href=\"#archlinux设置中文\" class=\"headerlink\" title=\"archlinux设置中文\"></a>archlinux设置中文</h1><p>执行<code>vim /etc/locale.gen</code>将下面字符前的#去掉</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">zh_CN.GB18030 GB18030\nzh_CN.UTF-8 UTF-8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><code>locale -a</code>查看当前可用locale</p>\n<p><code>vim /etc/locale.conf</code>添加<code>LANG=zh_CN.UTF-8</code>，这不是必须的，会导致乱码</p>\n<p>这样做会好些</p>\n<p>添加</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANG</span></span><span class=\"token operator\">=</span>zh_CN.UTF-8\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANGUAGE</span></span><span class=\"token operator\">=</span>zh_CN:en_US<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>到下面3个文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">.bashrc：每次使用终端时会应用此处的设置\n.xinitrc：每次使用 startx 或 SLiM 来启动 X 窗口系统时会应用此处的设置\n.xprofile：每次使用 GDM 等显示管理器时会应用此处的设置<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>安装字体</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">pacman <span class=\"token parameter variable\">-S</span> wqy-zenhei<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>最后添加如下到上述三个文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANG</span></span><span class=\"token operator\">=</span>zh_CN.UTF8\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">LANGUAGE</span></span><span class=\"token operator\">=</span>zh_CN:en_US\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">XMODIFIERS</span></span><span class=\"token operator\">=</span>@im<span class=\"token operator\">=</span>WQY\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GTK_IM_MODULE</span><span class=\"token operator\">=</span><span class=\"token string\">\"wqy\"</span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">QT_IM_MODULE</span><span class=\"token operator\">=</span><span class=\"token string\">\"wqy\"</span>\nwqy <span class=\"token parameter variable\">-d</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/17/linux-she-zhi-root-mi-ma/",
            "url": "https://0xdadream.github.io/2022/05/17/linux-she-zhi-root-mi-ma/",
            "title": "linux设置root密码",
            "date_published": "2022-05-16T20:11:00.000Z",
            "content_html": "<h1 id=\"linux设置root密码\"><a href=\"#linux设置root密码\" class=\"headerlink\" title=\"linux设置root密码\"></a>linux设置root密码</h1><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token parameter variable\">-i</span>\n<span class=\"token function\">passwd</span>\n<span class=\"token comment\">#输入你的密码</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/17/linux-kai-qi-ssh/",
            "url": "https://0xdadream.github.io/2022/05/17/linux-kai-qi-ssh/",
            "title": "linux开启ssh",
            "date_published": "2022-05-16T19:11:00.000Z",
            "content_html": "<h1 id=\"linux开启ssh\"><a href=\"#linux开启ssh\" class=\"headerlink\" title=\"linux开启ssh\"></a>linux开启ssh</h1><h2 id=\"kali\"><a href=\"#kali\" class=\"headerlink\" title=\"kali\"></a>kali</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">vim</span> /etc/ssh/sshd_config\n\n<span class=\"token comment\">#修改</span>\n<span class=\"token comment\">#PermitRootLogin prohibit-password   改为 PermitRootLogin yes</span>\n<span class=\"token comment\">#PasswordAuthentication yes  改为   PasswordAuthentication yes</span>\n\n<span class=\"token comment\">#Esc-&gt;:-&gt;wq保存</span>\n\n<span class=\"token comment\">#启动</span>\n/etc/init.d/ssh start \nor\n<span class=\"token function\">sudo</span> <span class=\"token function\">service</span> <span class=\"token function\">ssh</span> start\n\n<span class=\"token comment\">#开机启动</span>\nupdate-rc.d <span class=\"token function\">ssh</span> <span class=\"token builtin class-name\">enable</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"ubuntu\"><a href=\"#ubuntu\" class=\"headerlink\" title=\"ubuntu\"></a>ubuntu</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> openssh-server\n\n<span class=\"token comment\">#启动</span>\n/etc/init.d/ssh start<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/17/ubuntu22.04lts-bu-neng-yun-xing-appimage/",
            "url": "https://0xdadream.github.io/2022/05/17/ubuntu22.04lts-bu-neng-yun-xing-appimage/",
            "title": "ubuntu22.04LTS不能运行Appimage",
            "date_published": "2022-05-16T18:11:00.000Z",
            "content_html": "<h1 id=\"ubuntu22-04LTS不能运行Appimage\"><a href=\"#ubuntu22-04LTS不能运行Appimage\" class=\"headerlink\" title=\"ubuntu22.04LTS不能运行Appimage\"></a>ubuntu22.04LTS不能运行Appimage</h1><h2 id=\"先换个源\"><a href=\"#先换个源\" class=\"headerlink\" title=\"先换个源\"></a>先换个源</h2><p>执行<code>vim /etc/apt/sources.list</code></p>\n<p>将下面内容任选一个加入</p>\n<p>阿里</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiverse\ndeb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse\ndeb-src http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>中科大</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">\ndeb https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiverse\ndeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse\ndeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>网易</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">deb http://mirrors.163.com/ubuntu/ jammy main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ jammy-security main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ jammy-proposed main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ jammy-backports main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ jammy main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ jammy-security main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ jammy-updates main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ jammy-proposed main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ jammy-backports main restricted universe multiverse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"先切换到root，也可以直接像下面使用sudo\"><a href=\"#先切换到root，也可以直接像下面使用sudo\" class=\"headerlink\" title=\"先切换到root，也可以直接像下面使用sudo\"></a>先切换到root，也可以直接像下面使用sudo</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token parameter variable\">-i</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"安装libfuse库\"><a href=\"#安装libfuse库\" class=\"headerlink\" title=\"安装libfuse库\"></a>安装libfuse库</h2><pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> libfuse2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/12/ubuntu-xu-ni-ji-jin-ru-initramfs-mo-shi/",
            "url": "https://0xdadream.github.io/2022/05/12/ubuntu-xu-ni-ji-jin-ru-initramfs-mo-shi/",
            "title": "ubuntu虚拟机进入initramfs模式",
            "date_published": "2022-05-11T18:11:00.000Z",
            "content_html": "<h1 id=\"ubuntu虚拟机进入initramfs模式\"><a href=\"#ubuntu虚拟机进入initramfs模式\" class=\"headerlink\" title=\"ubuntu虚拟机进入initramfs模式\"></a>ubuntu虚拟机进入initramfs模式</h1><p>可能是某个分区的出现了问题</p>\n<p>查看你的命令行，查看是否有如<code>/dev/sda5分区</code>信息</p>\n<p>如果有，执行</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">fsck</span> <span class=\"token parameter variable\">-y</span> /dev/sda5<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>然后重启，其他分区也相同</p>\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2022/05/06/neither-flex-nor-lex-was-found/",
            "url": "https://0xdadream.github.io/2022/05/06/neither-flex-nor-lex-was-found/",
            "title": "Neither flex nor lex was found",
            "date_published": "2022-05-05T18:11:00.000Z",
            "content_html": "<h1 id=\"Neither-flex-nor-lex-was-found\"><a href=\"#Neither-flex-nor-lex-was-found\" class=\"headerlink\" title=\"Neither flex nor lex was found\"></a>Neither flex nor lex was found</h1><p>编译<code>./configure</code>libpcap时报错Neither flex nor lex was found</p>\n<p>安装flex，bison就能解决</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> flex\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> bison<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>报错：<code>libpcap.so.1: cannot open shared object file: No such file or directory</code></p>\n<p>执行，添加一个链接</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> <span class=\"token parameter variable\">-s</span> /usr/local/lib/libpcap.so.1 /usr/lib/libpcap.so.1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/09/08/linux-ming-ling/",
            "url": "https://0xdadream.github.io/2021/09/08/linux-ming-ling/",
            "title": "linux命令",
            "date_published": "2021-09-07T18:11:00.000Z",
            "content_html": "<h1 id=\"linux命令\"><a href=\"#linux命令\" class=\"headerlink\" title=\"linux命令\"></a>linux命令</h1><h2 id=\"netstat-查看Linux中网络系统状态信息\"><a href=\"#netstat-查看Linux中网络系统状态信息\" class=\"headerlink\" title=\"netstat-查看Linux中网络系统状态信息\"></a>netstat-查看Linux中网络系统状态信息</h2><p>选项</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">-a或--all：显示所有连线中的Socket；\n-A<span class=\"token operator\">&lt;</span>网络类型<span class=\"token operator\">&gt;</span>或--<span class=\"token operator\">&lt;</span>网络类型<span class=\"token operator\">&gt;</span>：列出该网络类型连线中的相关地址；\n-c或--continuous：持续列出网络状态；\n-C或--cache：显示路由器配置的快取信息；\n-e或--extend：显示网络其他相关信息；\n-F或--fib：显示FIB；\n-g或--groups：显示多重广播功能群组组员名单；\n-h或--help：在线帮助；\n-i或--interfaces：显示网络界面信息表单；\n-l或--listening：显示监控中的服务器的Socket；\n-M或--masquerade：显示伪装的网络连线；\n-n或--numeric：直接使用ip地址，而不通过域名服务器；\n-N或--netlink或--symbolic：显示网络硬件外围设备的符号连接名称；\n-o或--timers：显示计时器；\n-p或--programs：显示正在使用Socket的程序识别码和程序名称；\n-r或--route：显示Routing Table；\n-s或--statistice：显示网络工作信息统计表；\n-t或--tcp：显示TCP传输协议的连线状况；\n-u或--udp：显示UDP传输协议的连线状况；\n-v或--verbose：显示指令执行过程；\n-V或--version：显示版本信息；\n-w或--raw：显示RAW传输协议的连线状况；\n-x或--unix：此参数的效果和指定<span class=\"token string\">\"-A unix\"</span>参数相同；\n--ip或--inet：此参数的效果和指定<span class=\"token string\">\"-A inet\"</span>参数相同。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"chmod\"><a href=\"#chmod\" class=\"headerlink\" title=\"chmod\"></a>chmod</h2><p><code>chmod</code> 命令在 Unix 和类 Unix 操作系统中用于更改文件和目录的权限。</p>\n<h3 id=\"基本用法\"><a href=\"#基本用法\" class=\"headerlink\" title=\"基本用法\"></a>基本用法</h3><p><code>chmod</code> 命令的一般语法是：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> <span class=\"token punctuation\">[</span>选项<span class=\"token punctuation\">]</span> 模式 文件<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><strong>模式</strong>：指定要设置的权限。</li>\n<li><strong>文件</strong>：指定要更改权限的文件或目录。</li>\n</ul>\n<h3 id=\"权限表示\"><a href=\"#权限表示\" class=\"headerlink\" title=\"权限表示\"></a>权限表示</h3><p>权限可以用符号或数字来表示。</p>\n<h3 id=\"符号表示\"><a href=\"#符号表示\" class=\"headerlink\" title=\"符号表示\"></a>符号表示</h3><p>权限由三组三个字符表示：</p>\n<ul>\n<li>第一组字符是文件所有者（用户）的权限。</li>\n<li>第二组字符是文件所有者所属组的权限。</li>\n<li>第三组字符是其他用户的权限。</li>\n</ul>\n<p>每组可以有以下字符：</p>\n<ul>\n<li><code>r</code>（读）</li>\n<li><code>w</code>（写）</li>\n<li><code>x</code>（执行）</li>\n</ul>\n<p>例如：</p>\n<ul>\n<li><code>rwxr-xr--</code> 表示文件所有者有读、写、执行权限；组有读、执行权限；其他用户只有读权限。</li>\n</ul>\n<h3 id=\"数字表示\"><a href=\"#数字表示\" class=\"headerlink\" title=\"数字表示\"></a>数字表示</h3><p>权限也可以用八进制（base-8）数字表示：</p>\n<ul>\n<li>读由 <code>4</code> 表示。</li>\n<li>写由 <code>2</code> 表示。</li>\n<li>执行由 <code>1</code> 表示。</li>\n</ul>\n<p>权限的总和表示最终权限：</p>\n<ul>\n<li><code>7</code>（读 + 写 + 执行）</li>\n<li><code>6</code>（读 + 写）</li>\n<li><code>5</code>（读 + 执行）</li>\n<li><code>4</code>（只有读）</li>\n<li><code>0</code>（没有权限）</li>\n</ul>\n<p>例如：</p>\n<ul>\n<li><code>755</code> 表示文件所有者有 <code>7</code>（读、写、执行），组有 <code>5</code>（读、执行），其他用户有 <code>5</code>（读、执行）。</li>\n</ul>\n<h3 id=\"示例\"><a href=\"#示例\" class=\"headerlink\" title=\"示例\"></a>示例</h3><ol>\n<li><p><strong>符号表示更改权限：</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> u+x file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>给 <code>file.txt</code> 的所有者添加执行权限。</p>\n</li>\n<li><p><strong>数字表示更改权限：</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> <span class=\"token number\">644</span> file.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>设置 <code>file.txt</code> 的所有者有读和写权限，组和其他用户只有读权限。</p>\n</li>\n<li><p><strong>递归更改权限：</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">chmod</span> <span class=\"token parameter variable\">-R</span> <span class=\"token number\">755</span> /path/to/directory<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>设置 <code>/path/to/directory</code> 内所有文件和目录的权限。</p>\n</li>\n</ol>\n<h3 id=\"选项\"><a href=\"#选项\" class=\"headerlink\" title=\"选项\"></a>选项</h3><ul>\n<li><code>-R</code>：递归更改文件和目录的权限。</li>\n<li><code>-v</code>：详细模式。对每个处理的文件输出诊断信息。</li>\n<li><code>-c</code>：类似详细模式，但仅在更改时报告。</li>\n</ul>\n<h2 id=\"curl\"><a href=\"#curl\" class=\"headerlink\" title=\"curl\"></a>curl</h2><p><code>curl</code> 是一个非常强大的命令行工具，用于从命令行传输数据。它支持多种协议，如 HTTP, HTTPS, FTP, 和 SMTP。你可以用它来发送 GET 请求、POST 请求、下载文件，甚至与 API 交互。以下是 <code>curl</code> 的一些基本用法示例。</p>\n<h3 id=\"1-基本用法\"><a href=\"#1-基本用法\" class=\"headerlink\" title=\"1. 基本用法\"></a>1. 基本用法</h3><p>最简单的 <code>curl</code> 用法就是发送一个 GET 请求并输出响应内容：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> http://example.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这会在终端中显示 <code>http://example.com</code> 的网页内容。</p>\n<h3 id=\"2-保存响应到文件\"><a href=\"#2-保存响应到文件\" class=\"headerlink\" title=\"2. 保存响应到文件\"></a>2. 保存响应到文件</h3><p>使用 <code>-o</code> 选项可以将响应保存到文件中：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-o</span> example.html http://example.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这会将 <code>example.com</code> 的内容保存到 <code>example.html</code> 文件中。</p>\n<h3 id=\"3-发送-POST-请求\"><a href=\"#3-发送-POST-请求\" class=\"headerlink\" title=\"3. 发送 POST 请求\"></a>3. 发送 POST 请求</h3><p>你可以使用 <code>-d</code> 选项发送 POST 请求。以下是一个发送表单数据的例子：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">\"name=John&amp;age=30\"</span> <span class=\"token parameter variable\">-X</span> POST http://example.com/post<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><code>-X</code> 选项用于指定请求方法。在这里，我们明确指定为 POST 请求。</p>\n<h3 id=\"4-使用自定义请求头\"><a href=\"#4-使用自定义请求头\" class=\"headerlink\" title=\"4. 使用自定义请求头\"></a>4. 使用自定义请求头</h3><p>你可以使用 <code>-H</code> 选项添加自定义请求头：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-H</span> <span class=\"token string\">\"Authorization: Bearer your_token_here\"</span> http://example.com/secure<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这在访问需要认证的 API 时非常有用。</p>\n<h3 id=\"5-下载文件\"><a href=\"#5-下载文件\" class=\"headerlink\" title=\"5. 下载文件\"></a>5. 下载文件</h3><p>使用 <code>-O</code> 选项可以直接下载文件，并保留文件的原始名称：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-O</span> http://example.com/file.zip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这会将 <code>file.zip</code> 下载到当前目录。</p>\n<h3 id=\"6-处理重定向\"><a href=\"#6-处理重定向\" class=\"headerlink\" title=\"6. 处理重定向\"></a>6. 处理重定向</h3><p>默认情况下，<code>curl</code> 不会跟随重定向。你可以使用 <code>-L</code> 选项让它跟随重定向：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> http://short.url<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这会跟随重定向到最终的 URL 并获取内容。</p>\n<h3 id=\"7-显示详细信息\"><a href=\"#7-显示详细信息\" class=\"headerlink\" title=\"7. 显示详细信息\"></a>7. 显示详细信息</h3><p>如果你想查看请求和响应的详细信息，可以使用 <code>-v</code> 选项：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-v</span> http://example.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这会显示所有请求头、响应头以及其它调试信息。</p>\n<h3 id=\"8-使用代理\"><a href=\"#8-使用代理\" class=\"headerlink\" title=\"8. 使用代理\"></a>8. 使用代理</h3><p>如果你需要通过代理访问网络资源，可以使用 <code>-x</code> 选项：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-x</span> http://proxy.example.com:8080 http://example.com<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"9-上传文件\"><a href=\"#9-上传文件\" class=\"headerlink\" title=\"9. 上传文件\"></a>9. 上传文件</h3><p>你可以使用 <code>-F</code> 选项上传文件：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-F</span> <span class=\"token string\">\"file=@/path/to/file\"</span> http://example.com/upload<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>这会将指定的文件上传到服务器。</p>\n<h3 id=\"10-指定请求方法\"><a href=\"#10-指定请求方法\" class=\"headerlink\" title=\"10. 指定请求方法\"></a>10. 指定请求方法</h3><p>尽管 <code>curl</code> 默认发送的是 GET 请求，你也可以使用 <code>-X</code> 选项指定其他方法，如 PUT, DELETE 等：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-X</span> DELETE http://example.com/resource/123<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"进阶用法\"><a href=\"#进阶用法\" class=\"headerlink\" title=\"进阶用法\"></a>进阶用法</h3><p><code>curl</code> 还支持更多复杂的用法，如通过 <code>--data-binary</code> 发送原始二进制数据、使用 <code>--header</code> 添加多个请求头、通过 <code>-u</code> 进行 HTTP 基本认证等。</p>\n<p>如果你想查看 <code>curl</code> 的所有功能和选项，可以通过以下命令查看手册：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">man</span> <span class=\"token function\">curl</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>或者查看帮助文档：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">--help</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n",
            "tags": [
                "linux",
                "学习"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/09/08/linux-xi-tong-mu-lu-gong-neng/",
            "url": "https://0xdadream.github.io/2021/09/08/linux-xi-tong-mu-lu-gong-neng/",
            "title": "linux系统目录功能",
            "date_published": "2021-09-07T18:11:00.000Z",
            "content_html": "<h1 id=\"linux系统目录功能\"><a href=\"#linux系统目录功能\" class=\"headerlink\" title=\"linux系统目录功能\"></a>linux系统目录功能</h1><p><img src=\"https://www.runoob.com/wp-content/uploads/2014/06/d0c50-linux2bfile2bsystem2bhierarchy.jpg\" alt=\"img\"></p>\n<table>\n<thead>\n<tr>\n<th>目录名称</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>/</td>\n<td>主目录</td>\n</tr>\n<tr>\n<td>/bin</td>\n<td>存放二进制文件（可执行文件）（普通用户系统命令）</td>\n</tr>\n<tr>\n<td>/sbin</td>\n<td>存放管理员使用的系统命令</td>\n</tr>\n<tr>\n<td>/boot</td>\n<td>存放启动系统的的一些核心文件</td>\n</tr>\n<tr>\n<td>/dev</td>\n<td>linux的外部设备，以文件方式访问</td>\n</tr>\n<tr>\n<td>/etc</td>\n<td>存放所有的系统管理所需要的配置文件和子目录（全局配置文件）</td>\n</tr>\n<tr>\n<td>/home</td>\n<td>用户主目录，以用户名命名</td>\n</tr>\n<tr>\n<td>/lib</td>\n<td>存放着32位系统最基本的动态连接共享库</td>\n</tr>\n<tr>\n<td>/lib64</td>\n<td>存放着64位系统最基本的动态连接共享库</td>\n</tr>\n<tr>\n<td>/lost+found</td>\n<td>系统非法关机后会存放一些文件</td>\n</tr>\n<tr>\n<td>/root</td>\n<td>超级用户的家目录</td>\n</tr>\n<tr>\n<td>/run</td>\n<td>临时文件系统，存储系统启动以来的信息</td>\n</tr>\n<tr>\n<td>/media</td>\n<td>类windows的其他设备，例如U盘、光驱等</td>\n</tr>\n<tr>\n<td>/mnt</td>\n<td>系统提供该目录是为了让用户临时挂载别的文件系统，例如外部硬盘</td>\n</tr>\n<tr>\n<td>/opt</td>\n<td>给主机额外安装软件所摆放的目录（第三方软件）</td>\n</tr>\n<tr>\n<td>/proc</td>\n<td>存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息，这个目录的内容不在硬盘上而是在内存里</td>\n</tr>\n<tr>\n<td>/srv</td>\n<td>存放一些服务启动之后需要提取的数据</td>\n</tr>\n<tr>\n<td>/sys</td>\n<td>用于输出当前系统硬件设备相关信息虚拟文件系统</td>\n</tr>\n<tr>\n<td>/tmp</td>\n<td>存放一些临时文件的，可以随便操作</td>\n</tr>\n<tr>\n<td>/selinux</td>\n<td>类似于 windows 的防火墙</td>\n</tr>\n<tr>\n<td>/usr</td>\n<td>用于存储系统软件资源，类似于 windows 下的 program files 目录</td>\n</tr>\n<tr>\n<td>/usr/bin</td>\n<td>系统用户使用的应用程序，与系统启动无关</td>\n</tr>\n<tr>\n<td>/usr/sbin</td>\n<td>超级用户使用的应用程序，与系统启动无关</td>\n</tr>\n<tr>\n<td>/usr/src</td>\n<td>内核源代码默认的放置目录</td>\n</tr>\n<tr>\n<td>/usr/lib</td>\n<td>库文件</td>\n</tr>\n<tr>\n<td>/usr/local/</td>\n<td>手工安装的软件保存位置</td>\n</tr>\n<tr>\n<td>/usr/share/</td>\n<td>应用程序的资源文件保存位置</td>\n</tr>\n<tr>\n<td>/usr/include</td>\n<td>C/C++ 等编程语言头文件的放置目录</td>\n</tr>\n<tr>\n<td>/var</td>\n<td>经常被修改的目录放在这个目录，例如日志，动态的</td>\n</tr>\n<tr>\n<td>/var/lib</td>\n<td>程序运行中需要调用或改变的数据保存位置</td>\n</tr>\n<tr>\n<td>/var/log/</td>\n<td>登陆文件放置的目录</td>\n</tr>\n<tr>\n<td>/var/run/</td>\n<td>一些服务和程序运行后，PID（进程 ID）保存位置</td>\n</tr>\n<tr>\n<td>/etc/sysconfig/network-scripts/ifcfg-eth0</td>\n<td>配置网址及GW，使得网卡生效</td>\n</tr>\n<tr>\n<td>/etc/sysconfig/network</td>\n<td>修改机器名及网卡启动，网关等配置</td>\n</tr>\n<tr>\n<td>/etc/resolv.conf</td>\n<td>设置本机的客户端DNS</td>\n</tr>\n<tr>\n<td>/etc/hosts</td>\n<td>设定用户IP与名字的对应表</td>\n</tr>\n<tr>\n<td>/etc/fstab</td>\n<td>记录开机要mount的文件记录</td>\n</tr>\n<tr>\n<td>/etc/inittab</td>\n<td>定启动时init进程把系统设置成怎样的runlevel，以及加载相关的启动文件</td>\n</tr>\n<tr>\n<td>/etc/exports</td>\n<td>设定NFS网络文件系统的配置文件</td>\n</tr>\n<tr>\n<td>/etc/init.d</td>\n<td>存放系统或者服务器以systemV模式启动的脚本</td>\n</tr>\n<tr>\n<td>/etc/xinit.d</td>\n<td>如果服务器是通过xinetd模式运行的，他的脚本要放在这个目录下</td>\n</tr>\n<tr>\n<td>/etc/profile</td>\n<td>系统全局环境变量配置路径</td>\n</tr>\n<tr>\n<td>/etc/profile.d</td>\n<td>加载登录程序的一个目录命令或文件独立存在</td>\n</tr>\n<tr>\n<td>/etc/issue</td>\n<td>记录用户登录前的显示信息</td>\n</tr>\n<tr>\n<td>/etc/motd</td>\n<td>登录提醒</td>\n</tr>\n<tr>\n<td>/etc/redhat-release</td>\n<td>版本号和名称信息</td>\n</tr>\n<tr>\n<td>/etc/group</td>\n<td>设定用户的组名与相关信息</td>\n</tr>\n<tr>\n<td>/etc/passwd</td>\n<td>账号信息</td>\n</tr>\n<tr>\n<td>/etc/shadow</td>\n<td>密码信息</td>\n</tr>\n<tr>\n<td>/etc/sudoers</td>\n<td>可以用sudo命令配置的文件</td>\n</tr>\n<tr>\n<td>/etc/securetty</td>\n<td>设定哪些终端可以让root登录</td>\n</tr>\n<tr>\n<td>/etc/rsyslof.conf</td>\n<td>日志设置文件，在6.4 chkconfig –list rsyslog</td>\n</tr>\n<tr>\n<td>/usr/local</td>\n<td>用来存放用户自编译安装软件目录，通过源码包安装的软件，未指定安装路径</td>\n</tr>\n<tr>\n<td>/var/log/message</td>\n<td>系统默认日志文件，/var/log各种日志存放地</td>\n</tr>\n<tr>\n<td>/var/log/secure</td>\n<td>记录登录系统存取信息的文件，系统日志的安全信息</td>\n</tr>\n<tr>\n<td>/var/log/wtmp</td>\n<td>记录登录者的信息文件</td>\n</tr>\n<tr>\n<td>/var/spool/cron/root</td>\n<td>定时任务crontab默认目录，按用户名命名的文件</td>\n</tr>\n<tr>\n<td>/var/spool/mail</td>\n<td>系统用户邮件存放目录</td>\n</tr>\n<tr>\n<td>/var/spool/clientmqueuesendmail</td>\n<td>邮件临时存放目录</td>\n</tr>\n<tr>\n<td>/etc/login.defs</td>\n<td>所有用户登录时的缺省配置</td>\n</tr>\n<tr>\n<td>/etc/modprobe.conf</td>\n<td>内核模块额外参数设定量被尽，无法写入文件</td>\n</tr>\n<tr>\n<td>/proc</td>\n<td>虚拟目录是内存的映射</td>\n</tr>\n<tr>\n<td>/etc/sysctl.conf</td>\n<td>放在其下面永久生效</td>\n</tr>\n<tr>\n<td>/proc/cpuinfo</td>\n<td>关于处理器的信息</td>\n</tr>\n<tr>\n<td>/proc/meminfo</td>\n<td>系统内存信息</td>\n</tr>\n<tr>\n<td>/proc/interrupts</td>\n<td>正在使用的中断，和曾经有过多少个中断</td>\n</tr>\n<tr>\n<td>/proc/loadavg</td>\n<td>系统负载信息</td>\n</tr>\n<tr>\n<td>/etc/DIR_COLORS</td>\n<td>设定颜色</td>\n</tr>\n<tr>\n<td>/etc/host.conf</td>\n<td>文件说明用户的系统如何查询节点</td>\n</tr>\n<tr>\n<td>/etc/hosts.allow</td>\n<td>通过它可以允许某个ip或者ip段的客户访问linux的某项服务</td>\n</tr>\n<tr>\n<td>/etc/hosts.deny</td>\n<td>通过它可以拒绝某个ip或者ip段的客户访问linux的某项服务</td>\n</tr>\n</tbody></table>\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/13/jie-jue-kali-zi-ti-tai-xiao/",
            "url": "https://0xdadream.github.io/2021/08/13/jie-jue-kali-zi-ti-tai-xiao/",
            "title": "解决kali字体太小",
            "date_published": "2021-08-13T01:11:00.000Z",
            "content_html": "<h1 id=\"解决kali字体太小\"><a href=\"#解决kali字体太小\" class=\"headerlink\" title=\"解决kali字体太小\"></a>解决kali字体太小</h1><p>桌面右键-&gt;应用程序-&gt;设置-&gt;外观-&gt;设置-&gt; 窗口缩放x2</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GDK_SCALE</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token operator\">&gt;&gt;</span> ~/.xsessionrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>强制光标变大</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">XCURSOR_SIZE</span><span class=\"token operator\">=</span><span class=\"token number\">48</span> <span class=\"token operator\">&gt;&gt;</span> ~/.xsessionrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>桌面右键-&gt;应用程序-&gt;设置-&gt;外观-&gt;字体-&gt;DPI=180   调字体大小</p>\n<p>以上如果不成功</p>\n<p>左上角搜索<code>Kali HiDPI Mode</code>点击一下即可切换缩放</p>\n<p>多尝试，结合不同的点调试</p>\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/02/linux-an-zhuang-ruan-jian-bao/",
            "url": "https://0xdadream.github.io/2021/08/02/linux-an-zhuang-ruan-jian-bao/",
            "title": "Linux安装软件包",
            "date_published": "2021-08-02T14:11:00.000Z",
            "content_html": "<h1 id=\"Linux安装软件包\"><a href=\"#Linux安装软件包\" class=\"headerlink\" title=\"Linux安装软件包\"></a>Linux安装软件包</h1><p>安装都是在root权限下执行的</p>\n<h2 id=\"源码安装\"><a href=\"#源码安装\" class=\"headerlink\" title=\"源码安装\"></a>源码安装</h2><p>先从开源镜像站下载源码，例如：<a href=\"http://mirrors.163.com/\">欢迎访问网易开源镜像站 (163.com)</a></p>\n<p>有两种源码包</p>\n<p>二进制包，一般会有版本号、操作系统之类的，名字比较长，里面的程序是已经编译果的，直接解压就可运行程序</p>\n<ol>\n<li>cd 到下载的包的目录</li>\n<li>添加权限<code>chmod a+x xxx.bin</code></li>\n<li>执行<code>./xxx.bin</code></li>\n</ol>\n<p>源码包（<code>apr-1.7.0.tar.gz</code>），需要编译才能运行</p>\n<p>先安装C编辑器</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> gcc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>C++编辑器</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> gcc-c++<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ol>\n<li><p>cd 到存放源码压缩包的目录</p>\n</li>\n<li><p>解压缩</p>\n<p><code>tar -zxvf xxx.tar.gz </code></p>\n<p><code>tar -jxvf xxx.tar.bz</code></p>\n</li>\n<li><p>cd 进入解压后的目录</p>\n</li>\n<li><p>配置环境<code>./configure</code></p>\n</li>\n<li><p>对源代码进行编译<code>make</code></p>\n</li>\n<li><p>安装生成的二进制文件<code>make install</code></p>\n</li>\n<li><p>清理临时文件<code>make clean</code></p>\n</li>\n</ol>\n<p>卸载<code>make uninstall</code></p>\n<p><code>./configure</code>后面可以跟一些选项</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span>/xxx\n<span class=\"token comment\">#设置安装目录,/xxx就是安装目录</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>默认配置文件<code>/usr/local</code></p>\n</li>\n<li><p>执行文件<code>/usr/local/bin</code></p>\n</li>\n<li><p>资源文件<code>/usr/local/share</code></p>\n</li>\n</ul>\n<h2 id=\"RPM包安装\"><a href=\"#RPM包安装\" class=\"headerlink\" title=\"RPM包安装\"></a>RPM包安装</h2><p>RPM “RedHat Package Manager”，是RedHat公司研发的程序包管理器。rpm包是打包好了的，安装即使用</p>\n<ol>\n<li>下载软件包xxx.rpm</li>\n<li>cd 到软件包目录</li>\n<li>安装软件<code>rpm -ivh xx.rpm </code></li>\n</ol>\n<p>添加<code>--force</code>选项强制安装</p>\n<p><code>xxx.src.rpm</code>源码安装需要编译</p>\n<ol>\n<li><code>rpm -ivh xxx.src.rpm</code></li>\n<li><code>cd /usr/src/redhat/SPECS</code></li>\n<li><code>rpmbuild -bp xxx.specs</code></li>\n<li><code>cd /usr/src/redhat/BUILD/xxx/</code></li>\n<li><code>./configure</code></li>\n<li><code>make</code></li>\n<li><code>make install</code></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-e</span> xxx.rpm <span class=\"token comment\">#卸载rpm包</span>\n<span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-ql</span> xxx <span class=\"token comment\">#获取安装的位置</span>\n<span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qi</span> xxx <span class=\"token comment\">#查询包详细</span>\n<span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-qa</span> <span class=\"token comment\">#列出安装过的包</span>\n<span class=\"token function\">rpm</span> <span class=\"token parameter variable\">-list</span> <span class=\"token comment\">#获得文件列表</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><p>默认安装路径</p>\n<ul>\n<li><p>配置文件<code>/etc</code></p>\n</li>\n<li><p>可执行文件<code>/usr/bin</code></p>\n</li>\n<li><p>动态库<code>/usr/lib</code></p>\n</li>\n<li><p>帮助文档<code>/usr/share/doc</code></p>\n</li>\n<li><p>man page文件<code>/usr/share/man</code></p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"yum安装\"><a href=\"#yum安装\" class=\"headerlink\" title=\"yum安装\"></a>yum安装</h2><p>yum命令是在Fedora和RedHat以及SUSE中基于rpm的软件包管理器，它可以使系统管理人员交互和自动化地更细与管理RPM软件包，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装</p>\n<p>仓库的配置文件<code>/etc/yum.repos.d</code>目录下</p>\n<p><code>xxx</code>表示软件名或程序组名</p>\n<p><strong>安装</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> <span class=\"token comment\">#全部安装</span>\nyum <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> xxx <span class=\"token comment\">#不询问安装</span>\nyum <span class=\"token function\">install</span> xxx <span class=\"token comment\">#安装指定的软件</span>\nyum groupinsall xxx <span class=\"token comment\">#安装程序组</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>更新和升级</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum update <span class=\"token comment\">#全部更新</span>\nyum update xxx <span class=\"token comment\">#更新指定程序包xxx</span>\nyum check-update <span class=\"token comment\">#检查可更新的程序</span>\nyum upgrade xxx <span class=\"token comment\">#升级指定程序包xxx</span>\nyum groupupdate xxx <span class=\"token comment\">#升级程序组xxx</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>查找和显示</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum info xxxx <span class=\"token comment\">#显示安装包信息xxx</span>\nyum list <span class=\"token comment\">#显示所有已经安装和可以安装的程序包</span>\nyum list xxx <span class=\"token comment\">#显示指定程序包安装情况xxx</span>\nyum groupinfo xxx <span class=\"token comment\">#显示程序组xxx信息</span>\nyum search string xxx <span class=\"token comment\">#根据关键字string查找安装包</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>删除程序</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum remove <span class=\"token operator\">|</span> erase xxx <span class=\"token comment\">#删除程序包xxx</span>\nyum groupremove xxx <span class=\"token comment\">#删除程序组xxx</span>\nyum deplist xxx <span class=\"token comment\">#查看程序xxx依赖情况</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>清除缓存</strong></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">yum clean packages <span class=\"token comment\">#清除缓存目录下的软件包</span>\nyum clean headers <span class=\"token comment\">#清除缓存目录下的 headers</span>\nyum clean oldheaders <span class=\"token comment\">#清除缓存目录下旧的 headers</span>\nyum clean, yum clean all <span class=\"token punctuation\">(</span><span class=\"token operator\">=</span> yum clean packages<span class=\"token punctuation\">;</span> yum clean oldheaders<span class=\"token punctuation\">)</span> <span class=\"token comment\">#清除缓存目录下的软件包及旧的headers</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>默认安装路径</p>\n<ul>\n<li><p>配置文件<code>/etc</code></p>\n</li>\n<li><p>可执行文件<code>/usr/bin</code></p>\n</li>\n<li><p>动态库<code>/usr/lib</code></p>\n</li>\n<li><p>帮助文档<code>/usr/share/doc</code></p>\n</li>\n<li><p>man page文件<code>/usr/share/man</code></p>\n</li>\n</ul>\n<h2 id=\"deb包安装\"><a href=\"#deb包安装\" class=\"headerlink\" title=\"deb包安装\"></a>deb包安装</h2><p>deb是Debian软件包格式，文件扩展名为.deb，处理这些包的经典程序是dpkg，经常是通过apt来运作</p>\n<ol>\n<li>cd 到安装包xxx.deb的目录</li>\n<li>执行安装<code>dpkg -i xxx.deb</code></li>\n</ol>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">dpkg <span class=\"token parameter variable\">-r</span> xxxSoftName <span class=\"token comment\">#卸载</span>\ndpkg <span class=\"token parameter variable\">-l</span> <span class=\"token string\">'*xxx*'</span> <span class=\"token comment\">#查询</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"apt安装\"><a href=\"#apt安装\" class=\"headerlink\" title=\"apt安装\"></a>apt安装</h2><p>apt-get 是 Debian，Ubuntu 发行版的包管理工具，适用于deb包管理式的操作系统</p>\n<p>安装<code>apt-get install xxx</code> <strong>xxx</strong>一般是软件名加版本号</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">apt-cache</span> search xxx <span class=\"token comment\">#搜寻软件xxx的名称,找到完整名称执行安装</span>\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> xxx <span class=\"token comment\">#安装</span>\n<span class=\"token function\">apt-get</span> remove xxx <span class=\"token comment\">#卸载</span>\n<span class=\"token function\">apt-get</span> <span class=\"token parameter variable\">--purge</span> remove xxx <span class=\"token comment\">#连配置文件一起卸载</span>\n<span class=\"token function\">apt-get</span> autoremove xxx <span class=\"token comment\">#删除包及其依赖的软件包</span>\ndpkg --force-all <span class=\"token parameter variable\">--purge</span> xxx <span class=\"token comment\">#强制卸载</span>\n<span class=\"token function\">apt-get</span> clean <span class=\"token comment\">#清理备份</span>\n<span class=\"token function\">apt-cache</span> pkgnames <span class=\"token comment\">#打印软件包列表中所有软件包的名称</span>\n<span class=\"token function\">apt-get</span> update <span class=\"token comment\">#从软件源镜像服务器上下载/更新用于更新本地软件源的软件包</span>\n<span class=\"token function\">apt-get</span> upgrade <span class=\"token comment\">#升级软件包到最新版本</span>\n<span class=\"token function\">apt-get</span> <span class=\"token parameter variable\">-f</span> <span class=\"token function\">install</span> <span class=\"token comment\">#修复软件依赖包的关系</span>\n<span class=\"token function\">apt-get</span> dist-upgrade <span class=\"token comment\">#升级系统</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>安装路径</p>\n<ul>\n<li>源文件<code>/etc/apt/sources.list</code></li>\n<li>保存从源下载的软件列表<code>/var/lib/apt/lists</code></li>\n<li>下载的软件存放<code>/var/cache/apt/archives</code></li>\n<li>安装后软件默认位置<code>/usr/share</code></li>\n<li>可执行文件 <code>/usr/bin</code></li>\n<li>配置文件<code>/etc</code></li>\n<li>lib文件<code>/usr/lib</code></li>\n</ul>\n<h2 id=\"wget安装\"><a href=\"#wget安装\" class=\"headerlink\" title=\"wget安装\"></a>wget安装</h2><p>如果没有安装wget，<code>yum -y install wget</code></p>\n<p>wget从指定的URL下载文件</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> url <span class=\"token comment\">#直接下载url的资源到当前文件夹</span>\n<span class=\"token function\">wget</span> <span class=\"token parameter variable\">-O</span> name url <span class=\"token comment\">#保存为指定文件名</span>\n<span class=\"token function\">wget</span> <span class=\"token parameter variable\">-c</span> url <span class=\"token comment\">#断点续传</span>\n<span class=\"token function\">wget</span> <span class=\"token parameter variable\">-b</span> url <span class=\"token comment\">#后台下载</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>对于下载的文件包执行源码安装</p>\n",
            "tags": [
                "tip",
                "linux"
            ]
        },
        {
            "id": "https://0xdadream.github.io/2021/08/02/guo-nei-jing-xiang-yuan/",
            "url": "https://0xdadream.github.io/2021/08/02/guo-nei-jing-xiang-yuan/",
            "title": "国内镜像源",
            "date_published": "2021-08-02T01:11:00.000Z",
            "content_html": "<h1 id=\"国内镜像源\"><a href=\"#国内镜像源\" class=\"headerlink\" title=\"国内镜像源\"></a>国内镜像源</h1><ul>\n<li><a href=\"http://mirrors.163.com/\">欢迎访问网易开源镜像站 (163.com)</a></li>\n<li><a href=\"https://developer.aliyun.com/mirror/\">阿里巴巴开源镜像站-OPSX镜像站-阿里云开发者社区 (aliyun.com)</a></li>\n<li><a href=\"https://mirrors.huaweicloud.com/home\">华为开源镜像站_软件开发服务_华为云 (huaweicloud.com)</a></li>\n<li><a href=\"https://mirrors.cloud.tencent.com/\">腾讯软件源 (tencent.com)</a></li>\n<li><a href=\"https://mirrors.tuna.tsinghua.edu.cn/\">清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></li>\n<li><a href=\"http://mirrors.ustc.edu.cn/\">USTC Open Source Software Mirror</a></li>\n<li><a href=\"http://mirror.bit.edu.cn/web/\">北京理工大学 开源软件镜像服务 (bit.edu.cn)</a></li>\n<li><a href=\"https://mirror.bjtu.edu.cn/\">首页 - 北京交通大学自由与开源软件镜像站 (bjtu.edu.cn)</a></li>\n<li><a href=\"http://mirror.azure.cn/\">Mirror site (azure.cn)</a></li>\n</ul>\n",
            "tags": [
                "tip",
                "linux"
            ]
        }
    ]
}